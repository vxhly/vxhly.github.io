<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vxhly.github.io/views/vuejs/learning-vue3.html"><meta property="og:site_name" content="Coding and Fixing"><meta property="og:title" content="vue3.x å­¦ä¹ ç¬”è®°"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-06-11T12:24:01.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="æ˜Ÿç«ç‡åŸ@vxhly"><meta property="article:tag" content="Node.js"><meta property="article:tag" content="Vue.js"><meta property="article:published_time" content="2020-09-02T11:50:11.000Z"><meta property="article:modified_time" content="2022-06-11T12:24:01.000Z"><link rel="canonical" href="https://vxhly.github.io/views/vuejs/learning-vue3.html"><link rel="shortcut icon" href="/favicon.ico"><link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/icons/mstile-150x150.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>vue3.x å­¦ä¹ ç¬”è®° | Coding and Fixing</title><meta name="description" content="æºäºç”Ÿæ´»è€Œé«˜äºç”Ÿæ´».">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.ef68a4a1.css">
    <link rel="modulepreload" href="/assets/app.f29ec3fb.js"><link rel="modulepreload" href="/assets/learning-vue3.html.28ff3996.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/learning-vue3.html.b3e5aee9.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/favicon.ico" alt="Coding and Fixing"><!----><span class="site-name hide-in-pad">Coding and Fixing</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å…³äºæœ¬ç«™"><span class="title"><span class="icon iconfont icon-info" style=""></span>å…³äºæœ¬ç«™</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/about/site.html" class="nav-link" aria-label="ç«™ç‚¹ä»‹ç»"><!---->ç«™ç‚¹ä»‹ç»<!----></a></li></ul></button></div></div></nav><!----></div><div class="navbar-right"><!----><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->vue3.x å­¦ä¹ ç¬”è®°</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down" localizeddate="2020å¹´9æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="author-item">æ˜Ÿç«ç‡åŸ@vxhly</span></span><span property="author" content="æ˜Ÿç«ç‡åŸ@vxhly"></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2020å¹´9æœˆ2æ—¥</span><meta property="datePublished" content="2020-09-02T11:50:11.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" localizeddate="2020å¹´9æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category5 clickable" role="navigation">vuejs</li><meta property="articleSection" content="vuejs"></ul></span><span aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down" localizeddate="2020å¹´9æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag4 clickable" role="navigation">Node.js</li><li class="tag tag1 clickable" role="navigation">Vue.js</li></ul><meta property="keywords" content="Node.js,Vue.js"></span><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" localizeddate="2020å¹´9æœˆ2æ—¥" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 15 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT15M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#çœ‹æ–‡æ¡£å¾ˆé‡è¦" class="router-link-active router-link-exact-active toc-link level2">çœ‹æ–‡æ¡£å¾ˆé‡è¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å›é¡¾-option-api" class="router-link-active router-link-exact-active toc-link level2">å›é¡¾ Option Api</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#option-api-çš„ç¼ºé™·" class="router-link-active router-link-exact-active toc-link level3">Option Api çš„ç¼ºé™·</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#composition-api" class="router-link-active router-link-exact-active toc-link level3">Composition Api</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vue3-x-çš„çœŸé¦™è­¦å‘Š" class="router-link-active router-link-exact-active toc-link level2">vue3.x çš„çœŸé¦™è­¦å‘Š</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vue2-x-vs-vue3-x" class="router-link-active router-link-exact-active toc-link level3">Vue2.x VS Vue3.x</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#ç”Ÿå‘½å‘¨æœŸå¯¹ç…§" class="router-link-active router-link-exact-active toc-link level2">ç”Ÿå‘½å‘¨æœŸå¯¹ç…§</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vue2-x-ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active toc-link level3">Vue2.x ç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vue3-x-ç”Ÿå‘½å‘¨æœŸ" class="router-link-active router-link-exact-active toc-link level3">Vue3.x ç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vue3-x-å¼ƒç”¨çš„è¯­æ³•æˆ–è€…-api" class="router-link-active router-link-exact-active toc-link level2">vue3.x å¼ƒç”¨çš„è¯­æ³•æˆ–è€… API</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å…¨å±€é…ç½®" class="router-link-active router-link-exact-active toc-link level3">å…¨å±€é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å…¨å±€-api" class="router-link-active router-link-exact-active toc-link level3">å…¨å±€ API</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#é€‰é¡¹-æ•°æ®" class="router-link-active router-link-exact-active toc-link level3">é€‰é¡¹ / æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#é€‰é¡¹-èµ„æº" class="router-link-active router-link-exact-active toc-link level3">é€‰é¡¹ / èµ„æº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å®ä¾‹æ–¹æ³•-äº‹ä»¶" class="router-link-active router-link-exact-active toc-link level3">å®ä¾‹æ–¹æ³• / äº‹ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å®ä¾‹-property" class="router-link-active router-link-exact-active toc-link level3">å®ä¾‹ property</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#æŒ‡ä»¤" class="router-link-active router-link-exact-active toc-link level3">æŒ‡ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å†…ç½®ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level3">å†…ç½®ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#ç‰¹æ®Š-attribute" class="router-link-active router-link-exact-active toc-link level3">ç‰¹æ®Š attribute</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#äº‹ä»¶ä¿®é¥°ç¬¦" class="router-link-active router-link-exact-active toc-link level3">äº‹ä»¶ä¿®é¥°ç¬¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å†…è”æ¨¡æ¿" class="router-link-active router-link-exact-active toc-link level3">å†…è”æ¨¡æ¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#æ ·å¼-scoped" class="router-link-active router-link-exact-active toc-link level3">æ ·å¼ scoped</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vue3-x-æ–°å¢çš„è¯­æ³•æˆ–è€…-api" class="router-link-active router-link-exact-active toc-link level2">vue3.x æ–°å¢çš„è¯­æ³•æˆ–è€… API</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#composition-api-1" class="router-link-active router-link-exact-active toc-link level3">Composition API</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#teleport" class="router-link-active router-link-exact-active toc-link level3">teleport</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#æŒ‰éœ€å¼•å…¥" class="router-link-active router-link-exact-active toc-link level3">æŒ‰éœ€å¼•å…¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#ç‰‡æ®µ" class="router-link-active router-link-exact-active toc-link level3">ç‰‡æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#æŒ‡ä»¤çš„é’©å­å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">æŒ‡ä»¤çš„é’©å­å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#æŒ‡ä»¤åŠ¨æ€å‚æ•°" class="router-link-active router-link-exact-active toc-link level3">æŒ‡ä»¤åŠ¨æ€å‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å¼‚æ­¥ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level3">å¼‚æ­¥ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#v-model" class="router-link-active router-link-exact-active toc-link level3">v-model</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#v-is" class="router-link-active router-link-exact-active toc-link level3">v-is</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vuex4-x-çš„ä¿®æ”¹" class="router-link-active router-link-exact-active toc-link level2">vuex4.x çš„ä¿®æ”¹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å¯¼å…¥æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">å¯¼å…¥æ–¹å¼</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#vue-router4-x-çš„ä¿®æ”¹" class="router-link-active router-link-exact-active toc-link level2">vue-router4.x çš„ä¿®æ”¹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#å¯¼å…¥æ–¹å¼-1" class="router-link-active router-link-exact-active toc-link level3">å¯¼å…¥æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#router-link" class="router-link-active router-link-exact-active toc-link level3">router-link</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#meta-åˆå¹¶" class="router-link-active router-link-exact-active toc-link level3">meta åˆå¹¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#è·¯ç”±åŒ¹é…æ‰€æœ‰" class="router-link-active router-link-exact-active toc-link level3">è·¯ç”±åŒ¹é…æ‰€æœ‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#æ–°å¢æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level3">æ–°å¢æ–¹æ³•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#ä¸€å¦‚æ—¢å¾€çš„å¼€å¯-vue3-x" class="router-link-active router-link-exact-active toc-link level2">ä¸€å¦‚æ—¢å¾€çš„å¼€å¯ vue3.x</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/views/vuejs/learning-vue3.html#ä¸€ä¸ªç®€å•çš„ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level3">ä¸€ä¸ªç®€å•çš„ç»„ä»¶</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><div class="custom-container tip"><p class="custom-container-title">å‰è¨€</p><p>vue3.x å·²ç»æ­£å¼å‘å¸ƒäº†, ç”±æ­¤åˆæœ‰ä¸€ä¸ªå¤§å‘éœ€è¦æˆ‘ä»¬å‰ç«¯å·¥ç¨‹å¸ˆæ¥å¡«, æœ¬ç¯‡å°†è®°å½•æˆ‘åœ¨å­¦ä¹  vue3.x æ—¶æ‰€é‡åˆ°çš„å‘, ä¹Ÿè®°å½•äº† vue3.x çš„å…·ä½“æ›´æ–°å†…å®¹ä»¥åŠä¸ vue2.x çš„å¯¹æ¯”ã€‚</p></div><h2 id="çœ‹æ–‡æ¡£å¾ˆé‡è¦" tabindex="-1"><a class="header-anchor" href="#çœ‹æ–‡æ¡£å¾ˆé‡è¦" aria-hidden="true">#</a> çœ‹æ–‡æ¡£å¾ˆé‡è¦</h2><p>å­¦ä¹  vue 3.x çš„ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯ä¸Šæ–‡æ¡£ï¼š<a href="https://vue3js.cn/docs" target="_blank" rel="noopener noreferrer">vue3 å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>å…¨æ–°ç‰ˆæœ¬å· 3.2.31</p></div><h2 id="å›é¡¾-option-api" tabindex="-1"><a class="header-anchor" href="#å›é¡¾-option-api" aria-hidden="true">#</a> å›é¡¾ Option Api</h2><p>ä¼—æ‰€å‘¨çŸ¥, Vue3.0 å¸¦æ¥äº†ä¸€ä¸ªå…¨æ–°çš„ç‰¹æ€§â€”â€”Composition APIã€‚å­—é¢æ„æ€å°±æ˜¯â€œç»„åˆ APIâ€, å®ƒæ˜¯ä¸ºäº†å®ç°åŸºäºå‡½æ•°çš„é€»è¾‘å¤ç”¨æœºåˆ¶è€Œäº§ç”Ÿçš„ã€‚</p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>åœ¨äº†è§£ Composition Api ä¹‹å‰, é¦–å…ˆå›é¡¾ä¸‹æˆ‘ä»¬ä½¿ç”¨ Option Api é‡åˆ°çš„é—®é¢˜, æˆ‘ä»¬åœ¨ Vue2 ä¸­å¸¸å¸¸ä¼šéœ€è¦åœ¨ç‰¹å®šçš„åŒºåŸŸï¼ˆdata, methods, watch, computed...ï¼‰ç¼–å†™è´Ÿè´£ç›¸åŒåŠŸèƒ½çš„ä»£ç ã€‚</p></div><p><img src="/assets/learning-vue3-1.gif" alt="learning-vue3"></p><h3 id="option-api-çš„ç¼ºé™·" tabindex="-1"><a class="header-anchor" href="#option-api-çš„ç¼ºé™·" aria-hidden="true">#</a> Option Api çš„ç¼ºé™·</h3><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>éšç€ä¸šåŠ¡å¤æ‚åº¦è¶Šæ¥è¶Šé«˜, ä»£ç é‡ä¼šä¸æ–­çš„åŠ å¤§ï¼›ç”±äºç›¸å…³ä¸šåŠ¡çš„ä»£ç éœ€è¦éµå¾ª option çš„é…ç½®å†™åˆ°ç‰¹å®šçš„åŒºåŸŸ, å¯¼è‡´åç»­ç»´æŠ¤éå¸¸çš„å¤æ‚, ä»£ç å¯å¤ç”¨æ€§ä¹Ÿä¸é«˜ã€‚</p></div><p><img src="/assets/learning-vue3-2.gif" alt="learning-vue3"></p><h3 id="composition-api" tabindex="-1"><a class="header-anchor" href="#composition-api" aria-hidden="true">#</a> Composition Api</h3><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>æ˜¾ç„¶æˆ‘ä»¬å¯ä»¥æ›´åŠ ä¼˜é›…çš„ç»„ç»‡æˆ‘ä»¬çš„ä»£ç , å‡½æ•°ã€‚è®©ç›¸å…³åŠŸèƒ½çš„ä»£ç æ›´åŠ æœ‰åºçš„ç»„ç»‡åœ¨ä¸€èµ·</p></div><p><img src="/assets/learning-vue3-3.gif" alt="learning-vue3"> <img src="/assets/learning-vue3-4.gif" alt="learning-vue3"></p><h2 id="vue3-x-çš„çœŸé¦™è­¦å‘Š" tabindex="-1"><a class="header-anchor" href="#vue3-x-çš„çœŸé¦™è­¦å‘Š" aria-hidden="true">#</a> vue3.x çš„çœŸé¦™è­¦å‘Š</h2><div class="custom-container tip"><p class="custom-container-title">é‡ç‚¹</p><p>Higlights:</p><ul><li>Performance ã€é«˜æ€§èƒ½ã€‘</li><li>Tree-shaking support ã€æ›´å°çš„ä½“ç§¯ã€‘</li><li>Composition API ã€åˆæˆ APIã€‘</li><li>Fragment, Teleport, Suspense ã€ç‰‡æ®µ, ä¼ é€, æ‚¬å¿µã€‘</li><li>Better TypeScript support ã€æ›´å¥½çš„ ts æ”¯æŒã€‘</li><li>Custom Renderer API ã€è‡ªå®šä¹‰æ¸²æŸ“ APIã€‘</li></ul></div><div class="custom-container tip"><p class="custom-container-title">åˆæˆ API</p><p>Composition API</p><ul><li>Usable alongside existing Options API ã€å¯ä¸ç°æœ‰é€‰é¡¹ API ä¸€èµ·ä½¿ç”¨ã€‘</li><li>Flexible logic composition and reuse ã€æŸ”æ€§é€»è¾‘ç»„åˆä¸é‡ç”¨ã€‘</li><li>Reactivity module can be used as a standalone library ã€ååº”æ€§æ¨¡å—å¯ç”¨ä½œç‹¬ç«‹åº“ã€‘</li></ul></div><div class="custom-container tip"><p class="custom-container-title">æ›´å¥½çš„ ts æ”¯æŒ</p><p>Better TypeScript support</p><ul><li>Codebase written inTS w/ auto-generated type definitions ã€CodeBase ç¼–å†™çš„ INT w/è‡ªåŠ¨ç”Ÿæˆçš„ç±»å‹å®šä¹‰ã€‘</li><li>API is the same in JS and TS ã€API åœ¨ JS å’Œ TS ä¸­æ˜¯ç›¸åŒçš„ã€‘ <ul><li>In fact, code will also be largely the same ã€å®é™…ä¸Š, ä»£ç åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯ç›¸åŒçš„ã€‘</li></ul></li><li>TSX support ã€TSX æ”¯æŒã€‘</li><li>Class component is still supported ã€ç±»ç»„ä»¶ä»ç„¶å—æ”¯æŒã€‘ <ul><li>(vue-class-component@next is currently in alpha) ã€(vue-class-Component@next å½“å‰åœ¨ alpha ä¸­)ã€‘</li></ul></li></ul></div><div class="custom-container tip"><p class="custom-container-title">é«˜æ€§èƒ½</p><p>Performance:</p><ul><li>Rewritten virtual dom implementation ã€é‡å†™è™šæ‹ŸåŸŸå®ç°ã€‘</li><li>Compiler-informed fast paths ã€ç¼–è¯‘å™¨é€šçŸ¥çš„å¿«é€Ÿè·¯å¾„ã€‘</li><li>More efficient component initialization ã€æ›´æœ‰æ•ˆçš„ç»„ä»¶åˆå§‹åŒ–ã€‘</li><li>1.3~2x better update performance ã€1.3~2 å€æ›´å¥½çš„æ›´æ–°æ€§èƒ½ã€‘</li><li>2~3x faster ã€SSR 2~3 å€å¿« SSRã€‘</li></ul></div><div class="custom-container tip"><p class="custom-container-title">ç”¨äºå¤„ç†å¤§è§„æ¨¡ç”¨ä¾‹çš„æ–° API</p><ul><li>reactive</li><li>ref</li><li>computed</li><li>readonly</li><li>watchEffect</li><li>watch</li><li>unref</li><li>toRef</li><li>toRefs</li><li>isRef</li><li>isProxy</li><li>isReactive</li><li>isReadonly</li><li>customRef</li><li>markRaw</li><li>shallowReactive</li><li>shallowReadonly</li><li>shallowRef</li><li>toRaw</li></ul></div><h3 id="vue2-x-vs-vue3-x" tabindex="-1"><a class="header-anchor" href="#vue2-x-vs-vue3-x" aria-hidden="true">#</a> Vue2.x VS Vue3.x</h3><table><thead><tr><th>Vue 2.x</th><th>VS</th><th>Vue 3.x</th></tr></thead><tbody><tr><td>defineproperty</td><td>å“åº”å¼</td><td>Proxy</td></tr><tr><td>Options API</td><td>å¼€å‘æ–¹å¼</td><td>Composition API</td></tr><tr><td>å…¨éƒ¨ç¼–è¯‘</td><td>æ–‡ä»¶ä½“ç§¯</td><td>æŒ‰éœ€ç¼–è¯‘ä½“ç§¯æ›´å°</td></tr><tr><td>åªæ”¯æŒå•ä¸ªæ ¹èŠ‚ç‚¹</td><td>æ ¹èŠ‚ç‚¹</td><td>å•ä¸ª/å¤šä¸ªæ ¹èŠ‚ç‚¹</td></tr><tr><td>JavaScript+Flow</td><td>åº•å±‚æºç </td><td>TypeScript</td></tr><tr><td>-</td><td>update æ¸²æŸ“é€Ÿåº¦æå‡</td><td>1.3 ~ 1.6x</td></tr><tr><td>-</td><td>ssr æ¸²æŸ“é€Ÿåº¦æå‡</td><td>2x</td></tr><tr><td>IE8+</td><td>IE å…¼å®¹</td><td>é¢„è®¡æ˜¯ IE11+</td></tr><tr><td>2 ç§</td><td>ä½¿ç”¨æ–¹å¼</td><td>3 ç§</td></tr></tbody></table><h2 id="ç”Ÿå‘½å‘¨æœŸå¯¹ç…§" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸå¯¹ç…§" aria-hidden="true">#</a> ç”Ÿå‘½å‘¨æœŸå¯¹ç…§</h2><div class="custom-container tip"><p class="custom-container-title">ä»¥ä¸‹å†…å®¹å‚è€ƒ</p><ol><li><a href="https://cn.vuejs.org/v2/api/#%E9%80%89%E9%A1%B9-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90" target="_blank" rel="noopener noreferrer">Vue2.x é€‰é¡¹/ç”Ÿå‘½å‘¨æœŸé’©å­<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://vue-composition-api-rfc.netlify.app/zh/api.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0" target="_blank" rel="noopener noreferrer">Vue3.x ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ol></div><h3 id="vue2-x-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#vue2-x-ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Vue2.x ç”Ÿå‘½å‘¨æœŸ</h3><ul><li><code>beforeCreate</code> , åœ¨å®ä¾‹åˆå§‹åŒ–ä¹‹å, æ•°æ®è§‚æµ‹ (data observer) å’Œ event/watcher äº‹ä»¶é…ç½®ä¹‹å‰è¢«è°ƒç”¨ã€‚</li><li><code>created</code> , åœ¨å®ä¾‹åˆ›å»ºå®Œæˆåè¢«ç«‹å³è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥, å®ä¾‹å·²å®Œæˆä»¥ä¸‹çš„é…ç½®ï¼šæ•°æ®è§‚æµ‹ (data observer), å±æ€§å’Œæ–¹æ³•çš„è¿ç®—, watch/event äº‹ä»¶å›è°ƒã€‚ç„¶è€Œ, æŒ‚è½½é˜¶æ®µè¿˜æ²¡å¼€å§‹, $el å±æ€§ç›®å‰å°šä¸å¯ç”¨ã€‚</li><li><code>beforeMount</code> , åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ã€‚</li><li><code>mounted</code> , å®ä¾‹è¢«æŒ‚è½½åè°ƒç”¨, è¿™æ—¶ <code>el</code> è¢«æ–°åˆ›å»ºçš„ <code>vm.$el</code> æ›¿æ¢äº†ã€‚ å¦‚æœæ ¹å®ä¾‹æŒ‚è½½åˆ°äº†ä¸€ä¸ªæ–‡æ¡£å†…çš„å…ƒç´ ä¸Š, å½“ mounted è¢«è°ƒç”¨æ—¶ <code>vm.$el</code> ä¹Ÿåœ¨æ–‡æ¡£å†…ã€‚</li><li><code>beforeUpdate</code> , æ•°æ®æ›´æ–°æ—¶è°ƒç”¨, å‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ã€‚è¿™é‡Œé€‚åˆåœ¨æ›´æ–°ä¹‹å‰è®¿é—®ç°æœ‰çš„ DOM, æ¯”å¦‚æ‰‹åŠ¨ç§»é™¤å·²æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ã€‚</li><li><code>updated</code> , ç”±äºæ•°æ®æ›´æ”¹å¯¼è‡´çš„è™šæ‹Ÿ DOM é‡æ–°æ¸²æŸ“å’Œæ‰“è¡¥ä¸, åœ¨è¿™ä¹‹åä¼šè°ƒç”¨è¯¥é’©å­ã€‚</li><li><code>activated</code> , è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶æ¿€æ´»æ—¶è°ƒç”¨ã€‚</li><li><code>deactivated</code> , è¢« keep-alive ç¼“å­˜çš„ç»„ä»¶åœç”¨æ—¶è°ƒç”¨ã€‚</li><li><code>beforeDestroy</code> , å®ä¾‹é”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸€æ­¥, å®ä¾‹ä»ç„¶å®Œå…¨å¯ç”¨ã€‚</li><li><code>destroyed</code> , å®ä¾‹é”€æ¯åè°ƒç”¨ã€‚è¯¥é’©å­è¢«è°ƒç”¨å, å¯¹åº” Vue å®ä¾‹çš„æ‰€æœ‰æŒ‡ä»¤éƒ½è¢«è§£ç»‘, æ‰€æœ‰çš„äº‹ä»¶ç›‘å¬å™¨è¢«ç§»é™¤, æ‰€æœ‰çš„å­å®ä¾‹ä¹Ÿéƒ½è¢«é”€æ¯ã€‚</li><li><code>errorCaptured</code> , å½“æ•è·ä¸€ä¸ªæ¥è‡ªå­å­™ç»„ä»¶çš„é”™è¯¯æ—¶è¢«è°ƒç”¨ã€‚</li></ul><h4 id="ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œé¡ºåº" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œé¡ºåº" aria-hidden="true">#</a> ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œé¡ºåº</h4><p><code>beforeCreate</code> =&gt; <code>created</code> =&gt; <code>beforeMount</code> =&gt; <code>mounted</code> =&gt; <code>beforeUpdate</code> =&gt; <code>updated</code> =&gt; <code>beforeDestroy</code> =&gt; <code>destroyed</code></p><h3 id="vue3-x-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#vue3-x-ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> Vue3.x ç”Ÿå‘½å‘¨æœŸ</h3><p>è¢«æ›¿æ¢çš„</p><ul><li>beforeCreate -&gt; setup()</li><li>created -&gt; setup()</li></ul><p>é‡å‘½å</p><ul><li>beforeMount -&gt; onBeforeMount</li><li>mounted -&gt; onMounted</li><li>beforeUpdate -&gt; onBeforeUpdate</li><li>updated -&gt; onUpdated</li><li>beforeDestroy -&gt; onBeforeUnmount</li><li>destroyed -&gt; onUnmounted</li><li>errorCaptured -&gt; onErrorCaptured</li></ul><p>æ–°å¢</p><ul><li>onRenderTracked</li><li>onRenderTriggered</li></ul><p>Vue3.x ä¸­å»ºè®®ä½¿ç”¨ <code>setup()</code> ä»£æ›¿ <code>beforeCreate</code> ã€ <code>created</code> é’©å­å‡½æ•°, è™½ç„¶ Vue3.x å…¼å®¹ Vue2.x çš„å¤§éƒ¨åˆ†è¯­æ³•, ä½†æ˜¯åœ¨ Vue3.x ä¸­æ…ç”¨ä»¥ä¸‹é’©å­å‡½æ•°, ä»¥ä¸‹çš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°è¢«æ”¹åå, åœ¨ Vue3.x ä¸­å°†ä¸ä¼šå†æœ‰ <code>beforeDestroy</code> å’Œ <code>destroyed</code></p><ul><li>beforeDestroy -&gt; onBeforeUnmount</li><li>destroyed -&gt; onUnmounted</li></ul><h4 id="ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œé¡ºåº-1" tabindex="-1"><a class="header-anchor" href="#ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œé¡ºåº-1" aria-hidden="true">#</a> ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œé¡ºåº</h4><p><code>setup</code> =&gt; <code>onBeforeMount</code> =&gt; <code>onRenderTracked</code> =&gt; <code>onMounted</code> =&gt; <code>onRenderTriggered</code> =&gt; <code>onBeforeUpdate</code> =&gt; <code>onRenderTracked</code> =&gt; <code>OnUpdated</code> =&gt; <code>onBeforeUnmount</code> =&gt; <code>onUnmounted</code></p><h2 id="vue3-x-å¼ƒç”¨çš„è¯­æ³•æˆ–è€…-api" tabindex="-1"><a class="header-anchor" href="#vue3-x-å¼ƒç”¨çš„è¯­æ³•æˆ–è€…-api" aria-hidden="true">#</a> vue3.x å¼ƒç”¨çš„è¯­æ³•æˆ–è€… API</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><ul><li>ä¸‹æ–¹å†…å®¹å¯åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°å¯¹ç…§ï¼š<a href="https://vue3js.cn/docs/guide/migration/introduction.html#overview" target="_blank" rel="noopener noreferrer">è¿ç§»è‡³ Vue 3<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>å½“ç„¶ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å¯¹ç…§ï¼š<a href="https://juejin.im/post/6844904165378883591" target="_blank" rel="noopener noreferrer">vue 3.x å¦‚ä½•æœ‰æƒŠæ— é™©åœ°å¿«é€Ÿå…¥é—¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>æ›´å¤šçš„å˜æ›´ææ¡ˆå‚è€ƒï¼š<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs" target="_blank" rel="noopener noreferrer">Vue RFC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><h3 id="å…¨å±€é…ç½®" tabindex="-1"><a class="header-anchor" href="#å…¨å±€é…ç½®" aria-hidden="true">#</a> å…¨å±€é…ç½®</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>Vue.config.silent</code> ã€ <code>Vue.config.productionTip</code> ã€ <code>Vue.config.keyCodes</code></p></div><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ <code>Vue.config.ignoredElements</code> è¢«ä¿®æ”¹æˆ <code>app.config.isCustomElement</code> vue2.x ä¸­çš„å†™æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>ignoredElements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;my-el&quot;</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^ion-</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>vue3.x ä¸­çš„å†™æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span><span class="token function-variable function">isCustomElement</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> tag<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;ion-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­ä¸å†æ”¯æŒ prototype çš„æ–¹å¼ç»™ Vue ç»‘å®šé™æ€æ–¹æ³•, å¯ä»¥å‚è€ƒä»¥ä¸‹çš„æ–¹æ³•è¿›è¡Œæ”¹è¿›ä¸ä¿®æ­£</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Before</span>
<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$http</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// After</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span><span class="token function-variable function">$http</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å…¨å±€-api" tabindex="-1"><a class="header-anchor" href="#å…¨å±€-api" aria-hidden="true">#</a> å…¨å±€ API</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>Vue.extend</code> ã€ <code>Vue.set</code> ã€ <code>Vue.delete</code></p></div><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ <code>Vue.set</code> ã€ <code>Vue.delete</code> è¿™ä¸¤ä¸ª API åœ¨æ­£å¼ç‰ˆçš„ vue3.x ä¸­æ˜¯å·²ç»åˆ é™¤äº†, ä½†æ˜¯åœ¨ vue3.x çš„å…¼å®¹ç‰ˆæœ¬ä¸­è¿˜æ˜¯è¢«ä¿ç•™äº†</p><p>å¯¹æ¯” 2.x API</p><ul><li><code>Vue.nextTick</code></li><li><code>Vue.observable</code></li><li><code>Vue.version</code></li><li><code>Vue.compile</code> (only in full builds)</li><li><code>Vue.set</code> (only in compat builds)</li><li><code>Vue.delete</code> (only in compat builds)</li></ul><h3 id="é€‰é¡¹-æ•°æ®" tabindex="-1"><a class="header-anchor" href="#é€‰é¡¹-æ•°æ®" aria-hidden="true">#</a> é€‰é¡¹ / æ•°æ®</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>data-object</code> çš„å†™æ³•</p></div><p>åœ¨ vue3.x ä¸­æ‰€æœ‰çš„ä¸œè¥¿éƒ½ä»¥å‡½æ•°å¼å£°æ˜æ–¹å¼, å½“ç„¶åŒ…å« data çš„å£°æ˜æ–¹å¼ä¹Ÿå¼ƒç”¨äº†å¯¹è±¡å¼å£°æ˜æ–¹å¼</p><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç›´æ¥åˆ›å»ºä¸€ä¸ªå®ä¾‹</span>
<span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> data<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­çš„å†™æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;#app&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é€‰é¡¹-èµ„æº" tabindex="-1"><a class="header-anchor" href="#é€‰é¡¹-èµ„æº" aria-hidden="true">#</a> é€‰é¡¹ / èµ„æº</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>filters</code></p></div><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ hello | toUpperCase }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">hello</span><span class="token operator">:</span> <span class="token string">&quot;hello word&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">filters</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­å·²ç»å°† <code>filters</code> è¿™ä¸€ä¸ª API è¿›è¡Œåˆ é™¤äº†, æ‰€ä»¥åœ¨ vue3.x ä¸­æ›´åŠ æ¨èä½¿ç”¨ method æˆ–è€… computed</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ helloUp }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">hello</span><span class="token operator">:</span> <span class="token string">&quot;hello word&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">helloUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hello<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®ä¾‹æ–¹æ³•-äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#å®ä¾‹æ–¹æ³•-äº‹ä»¶" aria-hidden="true">#</a> å®ä¾‹æ–¹æ³• / äº‹ä»¶</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>$on</code> ã€ <code>$once</code> ã€ <code>$off</code></p></div><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// eventHub.js</span>

<span class="token keyword">const</span> eventHub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> eventHub<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// ChildComponent.vue</span>
<span class="token keyword">import</span> eventHub <span class="token keyword">from</span> <span class="token string">&quot;./eventHub&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// adding eventHub listener</span>
    eventHub<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&quot;custom-event&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Custom event triggered!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// removing eventHub listener</span>
    eventHub<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">&quot;custom-event&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­å·²ç»å°† <code>$on</code> ã€ <code>$off</code> ã€ <code>$once</code> æ–¹æ³•è¿›è¡Œå®Œå…¨åˆ é™¤ã€‚åœ¨ vue3.x ä¸­æ›´åŠ æ¨èä½¿ç”¨ <code>$emit</code> æˆ–è€…ä½¿ç”¨ vuexã€‚</p><p>åœ¨ vue3.x é‡Œä¹Ÿå¯ä»¥è¿™æ ·å†™</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- å­ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æŒ‰é’®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;childClick&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;childClick&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      props<span class="token punctuation">,</span>
      handleClick<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Hello</span> <span class="token attr-name">@childClick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>parentClick<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">&quot;./Hello.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    Hello<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">parentClick</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯é‡‡ç”¨ç¬¬ä¸‰æ–¹åº“ <a href="https://github.com/developit/mitt" target="_blank" rel="noopener noreferrer">mitt<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ¥å®ç°ç»„ä»¶é€šä¿¡</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> mitt <span class="token keyword">from</span> <span class="token string">&quot;mitt&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> emitter <span class="token operator">=</span> <span class="token function">mitt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// listen to an event</span>
emitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// fire an event</span>
emitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®ä¾‹-property" tabindex="-1"><a class="header-anchor" href="#å®ä¾‹-property" aria-hidden="true">#</a> å®ä¾‹ property</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>$scopedSlots</code></p></div><p>vue3.x ä¸­ç»Ÿä¸€äº†å¸¸è§„æ’æ§½å’Œä½œç”¨åŸŸæ’æ§½, <code>this.$slots</code> å°†æ’æ§½å…¬å¼€ä¸ºåŠŸèƒ½, <code>this.$scopedSlots</code> å·²ç»è¢«åˆ é™¤äº†, åœ¨ vue3.x ä¸­åªéœ€å°† <code>this.$scopedSlots</code> æ›¿æ¢æˆ <code>this.$slots</code> å³å¯</p><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>$listeners</code></p></div><p>vue3.x ä¸­ <code>$attrs</code> çš„åŒ…å«çˆ¶èŒƒå›´å±æ€§ç»‘å®šå’Œæœªè¯†åˆ«ï¼ˆæå–ï¼‰ä¸ºç»„ä»¶ prop æˆ–è‡ªå®šä¹‰äº‹ä»¶çš„äº‹ä»¶ã€‚éœ€è¦å°† <code>$listeners</code> æ”¹æˆ <code>$attrs</code></p><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>$children</code> ã€ <code>$isServer</code></p></div><h3 id="æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#æŒ‡ä»¤" aria-hidden="true">#</a> æŒ‡ä»¤</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>v-bind.sync</code></p></div><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- å­ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>visible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$_handlerCLick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;custom-model&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">$_handlerCLick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:visible&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-model</span> <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>custom-model</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue 3.x ä¸­åªéœ€å°† v-bind.sync çš„è¯­æ³•æ›¿æ¢æˆ v-model å³å¯</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-model</span> <span class="token attr-name"><span class="token namespace">v-model:</span>visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>custom-model</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>v-on.keyup</code> ä¸­çš„çš„ <code>keyCodes</code> å½¢å¼ä½œä¸ºçš„ä¿®é¥°ç¬¦</p></div><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- keyCode version --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.13</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- alias version --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­å†™æ³•ï¼ˆç”±äº <a href="https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode" target="_blank" rel="noopener noreferrer"><code>KeyboardEvent.keyCode</code> å·²å¼ƒç”¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, å› æ­¤ Vue 3 ä¹Ÿä¸å†ç»§ç»­æ”¯æŒæ­¤åŠŸèƒ½ã€‚å› æ­¤, ç°åœ¨å»ºè®®å°† kebab-case åç§°ç”¨äºè¦ç”¨ä½œä¿®é¥°ç¬¦çš„ä»»ä½•é”®ã€‚ï¼‰</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- Vue 3 Key Modifier on v-on --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name"><span class="token namespace">v-on:</span>keyup.delete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>confirmDelete<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å†…ç½®ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å†…ç½®ç»„ä»¶" aria-hidden="true">#</a> å†…ç½®ç»„ä»¶</h3><div class="custom-container danger"><p class="custom-container-title">å†…ç½®ç»„ä»¶</p><p>å½“ <code>&lt;transition&gt;</code> ä½œä¸ºç»„ä»¶çš„æ ¹å…ƒç´ æ—¶, å¤–éƒ¨åˆ‡æ¢ä¸ä¼šè§¦å‘è¿‡æ¸¡æ•ˆæœ, ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªèƒ½åœ¨ <code>&lt;transition&gt;</code> å†…ä½¿ç”¨åˆ‡æ¢ã€‚</p></div><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- modal component --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- usage --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modal</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showModal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modal</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­çš„å†™æ³•</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- modal component --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>modal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- usage --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modal</span> <span class="token attr-name">:show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showModal<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modal</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container danger"><p class="custom-container-title">é‡å‘½å</p><p>é‡å‘½åè¿‡æ»¤ç±» <code>v-enter</code> é‡å‘½åæˆ <code>v-enter-from</code> , <code>v-leave</code> é‡å‘½åæˆ <code>v-enter-from</code> ã€‚</p></div><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.v-enter-from,
.v-leave-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.v-leave-from,
.v-enter-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç‰¹æ®Š-attribute" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ®Š-attribute" aria-hidden="true">#</a> ç‰¹æ®Š attribute</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>slot</code> ã€ <code>slot-scope</code> ã€ <code>scope</code></p></div><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span> <span class="token attr-name">slot-scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ text }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component-a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­çš„å†™æ³•</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>header</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ text }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å†™ ---&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#header</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ text }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- æ— ä½œç”¨åŸŸæ—¶ --&gt;</span>&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#header</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component-a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="äº‹ä»¶ä¿®é¥°ç¬¦" tabindex="-1"><a class="header-anchor" href="#äº‹ä»¶ä¿®é¥°ç¬¦" aria-hidden="true">#</a> äº‹ä»¶ä¿®é¥°ç¬¦</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>.native</code></p></div><p><code>.native</code> è¿™ä¸ªä¿®é¥°ç¬¦åŸæœ¬æ˜¯ vue1.x ç‰ˆæœ¬çš„, åœ¨ vue2.x ä¸­ä»ç„¶ä¿ç•™äº†è¿™ä¸ªä¿®é¥°ç¬¦, ä½†æ˜¯åœ¨ vue3.x ä¸­è¿™ä¸ªä¿®é¥°ç¬¦å·²ç»è¢«å®Œå…¨ç§»é™¤äº†</p><h3 id="å†…è”æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#å†…è”æ¨¡æ¿" aria-hidden="true">#</a> å†…è”æ¨¡æ¿</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p>å†…è”æ¨¡æ¿ <code>inline-template</code> ã€‚å‚è€ƒåœ°å€ï¼š<a href="https://cn.vuejs.org/v2/guide/components-edge-cases.html#%E5%86%85%E8%81%94%E6%A8%A1%E6%9D%BF" target="_blank" rel="noopener noreferrer">å†…è”æ¨¡æ¿<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><p>åœ¨ Vue2.x ä¸­, åœ¨çˆ¶ç»„ä»¶å¼•å…¥å­ç»„ä»¶æ—¶, ä¼šç”¨åˆ° inline-template æ¥ä½¿å­ç»„ä»¶çš„å†…å®¹ä¹Ÿå¾—åˆ°å±•ç¤º, åœ¨ Vue3 ä¸­, è¿™ä¸ªåŠŸèƒ½å°†è¢«ç§»é™¤, ç›®å‰ inline-template ä½¿ç”¨çš„å¹¶ä¸å¤šã€‚</p><h3 id="æ ·å¼-scoped" tabindex="-1"><a class="header-anchor" href="#æ ·å¼-scoped" aria-hidden="true">#</a> æ ·å¼ scoped</h3><div class="custom-container danger"><p class="custom-container-title">åˆ é™¤äº†</p><p><code>&gt;&gt;&gt;</code> å’Œ <code>/deep/</code> çš„æ”¯æŒ</p></div><p>vue2.x ä¸­çš„å†™æ³•</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* æ·±åº¦é€‰æ‹©å™¨ */</span>
<span class="token comment">/*æ–¹å¼ä¸€ï¼š*/</span>
<span class="token selector">&gt;&gt;&gt; .foo</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">/*æ–¹å¼äºŒï¼š*/</span>
<span class="token selector">/deep/ .foo</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">/*æ–¹å¼ä¸‰*/</span>
<span class="token selector">::v-deep .foo</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x ä¸­çš„å†™æ³•</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* æ·±åº¦é€‰æ‹©å™¨ */</span>
<span class="token selector">::v-deep(.foo)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">/* slot content èµ·ä½œç”¨ */</span>
<span class="token selector">::v-slotted(.foo)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">/* å…¨å±€ */</span>
<span class="token selector">::v-global(.foo)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vue3-x-æ–°å¢çš„è¯­æ³•æˆ–è€…-api" tabindex="-1"><a class="header-anchor" href="#vue3-x-æ–°å¢çš„è¯­æ³•æˆ–è€…-api" aria-hidden="true">#</a> vue3.x æ–°å¢çš„è¯­æ³•æˆ–è€… API</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><ul><li>ä¸‹æ–¹å†…å®¹å¯åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æ‰¾åˆ°å¯¹ç…§ï¼š<a href="https://vue3js.cn/docs/guide/migration/introduction.html#overview" target="_blank" rel="noopener noreferrer">è¿ç§»è‡³ Vue 3<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>å½“ç„¶ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°å¯¹ç…§ï¼š<a href="https://juejin.im/post/6844904165378883591" target="_blank" rel="noopener noreferrer">vue 3.x å¦‚ä½•æœ‰æƒŠæ— é™©åœ°å¿«é€Ÿå…¥é—¨<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>æ›´å¤šçš„å˜æ›´ææ¡ˆå‚è€ƒï¼š<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs" target="_blank" rel="noopener noreferrer">Vue RFC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><h3 id="composition-api-1" tabindex="-1"><a class="header-anchor" href="#composition-api-1" aria-hidden="true">#</a> Composition API</h3><div class="custom-container tip"><p class="custom-container-title">æ–‡æ¡£</p><p><a href="https://composition-api.vuejs.org/zh/api.html" target="_blank" rel="noopener noreferrer">Vue ç»„åˆå¼ API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> åœ¨ vue3.x ä¸­ä¸åœ¨æå€¡ mixins äº†, Composition API çš„å¼•å…¥æ˜¯å¯ä»¥æ›¿æ¢ mixinsï¼š<a href="https://juejin.im/post/6844904136065056781" target="_blank" rel="noopener noreferrer">Vue3 Composition API å¦‚ä½•æ›¿æ¢ Vue Mixins<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h3 id="teleport" tabindex="-1"><a class="header-anchor" href="#teleport" aria-hidden="true">#</a> teleport</h3><div class="custom-container tip"><p class="custom-container-title">æ–‡æ¡£</p><p><a href="https://vue3js.cn/docs/api/built-in-components.html#teleport" target="_blank" rel="noopener noreferrer">teleport<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></div><h3 id="æŒ‰éœ€å¼•å…¥" tabindex="-1"><a class="header-anchor" href="#æŒ‰éœ€å¼•å…¥" aria-hidden="true">#</a> æŒ‰éœ€å¼•å…¥</h3><p>åœ¨ vue3.x ä¸­ä¸ä¼šæŠŠæ‰€æœ‰çš„ api éƒ½æ‰“åŒ…è¿›æ¥, åªä¼š æ‰“åŒ…ä½ ç”¨åˆ°çš„ api</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// vue 2.x</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// vue 3.x</span>
<span class="token keyword">import</span> Vue<span class="token punctuation">,</span> <span class="token punctuation">{</span> nextTick<span class="token punctuation">,</span> observable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>nextTick<span class="token punctuation">;</span> <span class="token comment">// undefined</span>

<span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">observable</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç‰‡æ®µ" tabindex="-1"><a class="header-anchor" href="#ç‰‡æ®µ" aria-hidden="true">#</a> ç‰‡æ®µ</h3><div class="custom-container tip"><p class="custom-container-title">Overview</p><p>åœ¨ Vue3 ä¸­, ç»„ä»¶ç°åœ¨æ­£å¼æ”¯æŒå¤šæ ¹èŠ‚ç‚¹ç»„ä»¶, å³ç‰‡æ®µï¼</p></div><p>åœ¨ <code>2.x</code> ä¸­, ä¸æ”¯æŒå¤šæ ¹ç»„ä»¶, å¹¶ä¸”åœ¨ç”¨æˆ·æ„å¤–åˆ›å»ºç»„ä»¶æ—¶ä¼šå‘å‡ºè­¦å‘Šã€‚ç»“æœ, è®¸å¤šç»„ä»¶è¢«åŒ…è£…åœ¨ä¸€ä¸ª <code>&lt;div&gt;</code> ä¸­, ä»¥è§£å†³æ­¤é”™è¯¯ã€‚</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- Layout.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ 3.x ä¸­, ç»„ä»¶ç°åœ¨å¯ä»¥å…·æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼ä½†æ˜¯, è¿™ç¡®å®éœ€è¦å¼€å‘äººå‘˜æ˜ç¡®å®šä¹‰å±æ€§åº”åœ¨ä½•å¤„åˆ†å‘ã€‚</p><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- Layout.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æŒ‡ä»¤çš„é’©å­å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æŒ‡ä»¤çš„é’©å­å‡½æ•°" aria-hidden="true">#</a> æŒ‡ä»¤çš„é’©å­å‡½æ•°</h3><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>vue 3.x å°†é‡æ–°å‘½åæŒ‡ä»¤ä¸­çš„ API, åªä¸ºäº†æ›´å¥½çš„ä¸ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¿æŒä¸€è‡´</p></div><p>vue2.x çš„è‡ªå®šä¹‰æŒ‡ä»¤é’©å­å‡½æ•°</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;my-directive&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">bind</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> oldVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">update</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">componentUpdated</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">unbind</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x çš„è‡ªå®šä¹‰æŒ‡ä»¤é’©å­å‡½æ•°</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;highlight&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding<span class="token punctuation">,</span> vnode<span class="token punctuation">,</span> prevVnode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">beforeUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// new</span>
  <span class="token function">unmounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æŒ‡ä»¤åŠ¨æ€å‚æ•°" tabindex="-1"><a class="header-anchor" href="#æŒ‡ä»¤åŠ¨æ€å‚æ•°" aria-hidden="true">#</a> æŒ‡ä»¤åŠ¨æ€å‚æ•°</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- éç®€å†™æ–¹å¼ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-bind:</span>[key]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">v-on:</span>[event]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foo</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>[name]</span><span class="token punctuation">&gt;</span></span> Hello <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foo</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ç®€å†™æ–¹å¼ --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">:[key]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@[event]</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handler<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foo</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#[name]</span><span class="token punctuation">&gt;</span></span> Hello <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foo</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¼‚æ­¥ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥ç»„ä»¶" aria-hidden="true">#</a> å¼‚æ­¥ç»„ä»¶</h3><p>vue2.x çš„å†™æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// å±€éƒ¨æ³¨å†Œ</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>rest<span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./components/a.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å…¨å±€æ³¨å†Œ</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;async-comp&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">imort</span><span class="token punctuation">(</span><span class="token string">&quot;./components/a.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">loading</span><span class="token operator">:</span> loadingComp<span class="token punctuation">,</span> <span class="token comment">//å¼‚æ­¥ç»„ä»¶åŠ è½½æ—¶ä½¿ç”¨çš„ç»„ä»¶</span>
  <span class="token literal-property property">error</span><span class="token operator">:</span> errorComp<span class="token punctuation">,</span> <span class="token comment">//åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶</span>
  <span class="token literal-property property">delay</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token comment">//å±•ç¤ºåŠ è½½æ—¶ç»„ä»¶çš„å»¶æ—¶æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯ 200 (æ¯«ç§’)</span>
  <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token comment">//å¦‚æœæä¾›äº†è¶…æ—¶æ—¶é—´ä¸”ç»„ä»¶åŠ è½½ä¹Ÿè¶…æ—¶äº†, åˆ™ä½¿ç”¨åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ç»„ä»¶ã€‚é»˜è®¤å€¼æ˜¯ï¼š `Infinity`</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue3.x çš„å†™æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineAsyncComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> AsyncComp <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;./Foo.vue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="v-model" tabindex="-1"><a class="header-anchor" href="#v-model" aria-hidden="true">#</a> v-model</h3><div class="custom-container tip"><p class="custom-container-title">Overview</p><p>åœ¨å˜åŒ–æ–¹é¢, æ¦‚æ‹¬åœ°è¯´ï¼š</p><ul><li><p>BREAKINGï¼šå½“ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶æ—¶, <code>v-model</code> çš„ prop å’Œäº‹ä»¶åç§°å‘ç”Ÿäº†æ”¹å˜ï¼š</p><ul><li>prop: <code>value</code> =&gt; <code>modelValue</code> ;</li><li>event: <code>input</code> =&gt; <code>update:modelValue</code> ;</li></ul></li><li><p>BREAKINGï¼š <code>v-bind</code> çš„ <code>.sync</code> ä¿®é¥°ç¬¦å’Œç»„ä»¶çš„ <code>model</code> é€‰é¡¹å·²ç»è¢«åˆ é™¤äº†, è¢«æ›¿æ¢çš„æ˜¯ <code>v-model</code> çš„ç»‘å®šå€¼;</p></li><li><p>NEWï¼šç°åœ¨åœ¨åŒä¸€ä¸ªç»„ä»¶ä¸Šå¯ä»¥è¿›è¡Œå¤šä¸ª <code>v-model</code> çš„ç»‘å®š;</p></li><li><p>NEWï¼šæ·»åŠ åˆ›å»ºè‡ªå®šä¹‰ <code>v-model</code> çš„ä¿®é¥°å™¨åŠŸèƒ½;</p></li></ul></div><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>custom-model</span>
    <span class="token attr-name"><span class="token namespace">v-model:</span>visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">v-model:</span>inputName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inputName<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>custom-model</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">inputName</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="v-is" tabindex="-1"><a class="header-anchor" href="#v-is" aria-hidden="true">#</a> v-is</h3><div class="custom-container tip"><p class="custom-container-title">Overview</p><p>ä¸ vue2.x ä¸­çš„ <code>&lt;component /&gt;</code> ç»„ä»¶ä¸­çš„ <code>:is</code> å±æ€§æ˜¯ä¸€è‡´çš„æ•ˆæœ</p></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name">v-is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>blog-post-row<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vuex4-x-çš„ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#vuex4-x-çš„ä¿®æ”¹" aria-hidden="true">#</a> vuex4.x çš„ä¿®æ”¹</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>æ—¢ç„¶æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨äº† vue3.x, é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿé¡ºä¾¿çœ‹çœ‹ vuex ä¸­çš„æœ€æ–°ç‰ˆæœ¬æœ‰å“ªäº›å˜åŒ–å§</p></div><div class="custom-container tip"><p class="custom-container-title">å‚è€ƒæ¥æº</p><ul><li><a href="https://github.com/vuejs/vuex/tree/4.0" target="_blank" rel="noopener noreferrer">vuex README<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>æ›´å¤šçš„å˜æ›´ææ¡ˆå‚è€ƒï¼š<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs" target="_blank" rel="noopener noreferrer">Vue RFC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><h3 id="å¯¼å…¥æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å¯¼å…¥æ–¹å¼" aria-hidden="true">#</a> å¯¼å…¥æ–¹å¼</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ—§ç‰ˆ</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ–°ç‰ˆ</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vuex&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vue-router4-x-çš„ä¿®æ”¹" tabindex="-1"><a class="header-anchor" href="#vue-router4-x-çš„ä¿®æ”¹" aria-hidden="true">#</a> vue-router4.x çš„ä¿®æ”¹</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>æ—¢ç„¶æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨äº† vue3.x, é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿé¡ºä¾¿çœ‹çœ‹ vue-router ä¸­çš„æœ€æ–°ç‰ˆæœ¬æœ‰å“ªäº›å˜åŒ–å§</p></div><div class="custom-container tip"><p class="custom-container-title">å‚è€ƒæ¥æº</p><ul><li><a href="https://github.com/vuejs/vue-router-next" target="_blank" rel="noopener noreferrer">vue-router README<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>æ›´å¤šçš„å˜æ›´ææ¡ˆå‚è€ƒï¼š<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs" target="_blank" rel="noopener noreferrer">Vue RFC<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><h3 id="å¯¼å…¥æ–¹å¼-1" tabindex="-1"><a class="header-anchor" href="#å¯¼å…¥æ–¹å¼-1" aria-hidden="true">#</a> å¯¼å…¥æ–¹å¼</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ—§ç‰ˆ</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;hash&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ–°ç‰ˆ</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createWebHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createWebHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="router-link" tabindex="-1"><a class="header-anchor" href="#router-link" aria-hidden="true">#</a> router-link</h3><p><code>router-link</code> æ·»åŠ  <code>scoped-slot</code> API å’Œ custom å±æ€§, å¹¶ç§»é™¤äº† tag å±æ€§å’Œ event å±æ€§ã€‚æ·»åŠ  <code>scoped-slot</code> æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä»¥å‰åªèƒ½é€šè¿‡ active-class æ¥æ”¹å˜å…ƒç´ æ ·å¼çš„, ç°åœ¨æœ‰äº† <code>scoped-slot</code> ä¹‹å, æˆ‘ä»¬å°±æ›´åŠ çµæ´»äº†, å¯ä»¥æ ¹æ® scoped-slot å›ä¼ çš„çŠ¶æ€è‡ªå®šä¹‰, ä¸ç®¡æ˜¯æ ·å¼è¿˜æ˜¯ç±»ã€‚</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span> <span class="token attr-name">custom</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ href, navigate, isActive }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ <span class="token punctuation">&#39;</span>active<span class="token punctuation">&#39;</span>: isActive }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>href<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>navigate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span><span class="token punctuation">&gt;</span></span>home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xs-hidden<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤åˆ¶ä»£ç ä¹Ÿå°±æ˜¯è¯´, æ–°ç‰ˆæœ¬çš„ Router å°±æ›´åŠ çš„çº¯ç²¹, åªæä¾›ç»™æˆ‘ä»¬ä¸€äº›å‚æ•°, è®©æˆ‘ä»¬è‡ªå·±åˆ©ç”¨è¿™äº›å‚æ•°æ¥å®ç°ä¸åŒçš„åœºæ™¯ã€‚</p><h3 id="meta-åˆå¹¶" tabindex="-1"><a class="header-anchor" href="#meta-åˆå¹¶" aria-hidden="true">#</a> meta åˆå¹¶</h3><p>ç»™å®šä¸€ä¸ªåµŒå¥—è·¯ç”±</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/parent&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">requiresAuth</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">isChild</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;child&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">isChild</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¼èˆªåˆ° <code>/parent/child</code> åº”è¯¥ç”Ÿæˆå…·æœ‰ä»¥ä¸‹ <code>meta</code> å±æ€§çš„è·¯ç”±ï¼š</p><h3 id="è·¯ç”±åŒ¹é…æ‰€æœ‰" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±åŒ¹é…æ‰€æœ‰" aria-hidden="true">#</a> è·¯ç”±åŒ¹é…æ‰€æœ‰</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ—§ç‰ˆ</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// æ–°ç‰ˆ</span>
<span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/:catchAll(.*)&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ–°å¢æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ–°å¢æ–¹æ³•" aria-hidden="true">#</a> æ–°å¢æ–¹æ³•</h3><ol><li><code>router.addRoute(route: RouteRecord)</code> åŠ¨æ€æ·»åŠ è·¯ç”±</li><li><code>router.removeRoute(name: string | symbol)</code> åŠ¨æ€åˆ é™¤è·¯ç”±</li><li><code>router.hasRoute(name: string | symbol): boolean</code> åˆ¤æ–­è·¯ç”±æ˜¯å¦å­˜åœ¨</li><li><code>router.getRoutes(): RouteRecord[]</code> è·å–è·¯ç”±åˆ—è¡¨</li></ol><h2 id="ä¸€å¦‚æ—¢å¾€çš„å¼€å¯-vue3-x" tabindex="-1"><a class="header-anchor" href="#ä¸€å¦‚æ—¢å¾€çš„å¼€å¯-vue3-x" aria-hidden="true">#</a> ä¸€å¦‚æ—¢å¾€çš„å¼€å¯ vue3.x</h2><p>æˆ‘ä»¬ä½¿ç”¨å®˜æ–¹æ¨èçš„ <a href="https://github.com/vitejs/vite" target="_blank" rel="noopener noreferrer">Vite<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è„šæ‰‹æ¶</p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>å…³äº Vite Vite æ˜¯ä¸€ä¸ª Web å¼€å‘æ„å»ºå·¥å…·, ç”±äºå…¶æœ¬æœº ES æ¨¡å—å¯¼å…¥æ–¹æ³•, å› æ­¤å¯ä»¥å¿«é€Ÿæä¾›ä»£ç æœåŠ¡ã€‚</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">npm</span> init vite-app <span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span>
$ <span class="token builtin class-name">cd</span> <span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span>
$ <span class="token function">npm</span> <span class="token function">install</span>
$ <span class="token function">npm</span> run dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸€ä¸ªç®€å•çš„ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªç®€å•çš„ç»„ä»¶" aria-hidden="true">#</a> ä¸€ä¸ªç®€å•çš„ç»„ä»¶</h3><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>ä»¥ä¸‹æä¾›ä¸€ä¸ªç®€å•çš„ç»„ä»¶ä¾›å¤§å®¶å­¦ä¹  vue3.x</p></div><p><code>bem.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * bem helper
 * b() // &#39;button&#39;
 * b(&#39;text&#39;) // &#39;button__text&#39;
 * b(<span class="token punctuation">{</span> disabled <span class="token punctuation">}</span>) // &#39;button button--disabled&#39;
 * b(&#39;text&#39;, <span class="token punctuation">{</span> disabled <span class="token punctuation">}</span>) // &#39;button__text button__text--disabled&#39;
 * b([&#39;disabled&#39;, &#39;primary&#39;]) // &#39;button button--disabled button--primary&#39;
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token constant">ELEMENT</span> <span class="token operator">=</span> <span class="token string">&quot;__&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token constant">MODS</span> <span class="token operator">=</span> <span class="token string">&quot;--&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">join</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> el<span class="token punctuation">,</span> symbol</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>el <span class="token operator">?</span> name <span class="token operator">+</span> symbol <span class="token operator">+</span> el <span class="token operator">:</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">prefix</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> mods</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> mods <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">join</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> mods<span class="token punctuation">,</span> <span class="token constant">MODS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>mods<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> mods<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">prefix</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> ret <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>mods <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      ret<span class="token punctuation">[</span>name <span class="token operator">+</span> <span class="token constant">MODS</span> <span class="token operator">+</span> key<span class="token punctuation">]</span> <span class="token operator">=</span> mods<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> mods</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> ctx<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>el <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> el <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mods <span class="token operator">=</span> el<span class="token punctuation">;</span>
      el <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    el <span class="token operator">=</span> <span class="token function">join</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> el<span class="token punctuation">,</span> <span class="token constant">ELEMENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> mods <span class="token operator">?</span> <span class="token punctuation">[</span>el<span class="token punctuation">,</span> <span class="token function">prefix</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> mods<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">:</span> el<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    b<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>button.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> bem <span class="token keyword">from</span> <span class="token string">&quot;@/utils/bem&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> button <span class="token operator">=</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;button&quot;</span><span class="token punctuation">,</span>

  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">,</span>
      <span class="token function">validator</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token punctuation">[</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;info&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;danger&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;primary&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">!==</span>
          <span class="token operator">-</span><span class="token number">1</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">disabled</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> slots<span class="token punctuation">,</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> b <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">bem</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ³¨æ„è¿™é‡Œçš„ props æ˜¯ä¸€ä¸ª Proxy å¯¹è±¡, æˆ‘ä»¬éœ€è¦å°†å…¶è½¬æ¢æˆæ™®é€šå¯¹è±¡æ‰èƒ½å¯¹å…¶è¿›è¡Œä½¿ç”¨</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> type<span class="token punctuation">,</span> disabled <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> $type <span class="token punctuation">}</span> <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> $disabled <span class="token punctuation">}</span> <span class="token operator">=</span> disabled<span class="token punctuation">;</span>

    <span class="token comment">// æˆ‘ä»¬ä½¿ç”¨ JSX è¯­æ³•å»å†™æˆ‘ä»¬çš„ç»„ä»¶</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">[</span>$type<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span> disabled<span class="token operator">=</span><span class="token punctuation">{</span>$disabled<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>slots<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span> <span class="token punctuation">{</span>slots<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> button<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vxhly/vxhly.github.io/edit/main/docs/views/vuejs/learning-vue3.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/6/11 20:24:01</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: pengchengou@gmail.com">vxhly</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"></div><div class="copyright">MIT Licensed | Copyright Â© 2022 vxhly</div></footer><!--]--></div><!--]--><!----><!----><!----><div class="__DE__-moefy-canvas"><canvas id="__DE__-moefy-canvas"></canvas></div><!--]--></div>
    <script type="module" src="/assets/app.f29ec3fb.js" defer></script>
  </body>
</html>
