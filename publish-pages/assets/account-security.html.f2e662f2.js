import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";import{o as d,c as o,e as n}from"./app.f29ec3fb.js";var t="/assets/redhat-reinforce-1.png",c="/assets/redhat-reinforce-3.png",i="/assets/redhat-reinforce-4.png",r="/assets/redhat-reinforce-6.png",l="/assets/redhat-reinforce-7.png",e="/assets/redhat-reinforce-8.png",a="/assets/redhat-reinforce-9.png",p="/assets/redhat-reinforce-5.png",u="/assets/redhat-reinforce-10.png",h="/assets/redhat-reinforce-11.png";const g={},m=n(`<div class="custom-container tip"><p class="custom-container-title">\u524D\u8A00</p><p>\u672C\u7CFB\u5217\u7B14\u8BB0\u53C8\u662F Liunx \u5B66\u4E60\u7CFB\u5217\u6559\u7A0B\u7684\u4E00\u5927\u6B65, \u672C\u7CFB\u5217\u5B66\u4E60\u7B14\u8BB0\u8BB0\u5F55 RedHat \u7CFB\u7EDF\u7684\u5B89\u5168\u52A0\u56FA\u3002 \u672C\u7BC7\u4E3B\u8981\u4ECB\u7ECD\u76F8\u5173\u4E8E\u5E10\u53F7\u5B89\u5168\u7684\u52A0\u56FA\u7B56\u7565, \u52A0\u5F3A\u7CFB\u7EDF\u7684\u9632\u5FA1\u80FD\u529B\u3002</p></div><h2 id="\u5BC6\u7801\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#\u5BC6\u7801\u89C4\u5219" aria-hidden="true">#</a> \u5BC6\u7801\u89C4\u5219</h2><h3 id="\u5BC6\u7801\u957F\u5EA6\u548C\u6709\u6548\u671F" tabindex="-1"><a class="header-anchor" href="#\u5BC6\u7801\u957F\u5EA6\u548C\u6709\u6548\u671F" aria-hidden="true">#</a> \u5BC6\u7801\u957F\u5EA6\u548C\u6709\u6548\u671F</h3><p><strong>/etc/login.defs</strong> \u6587\u4EF6\u662F\u5F53\u521B\u5EFA\u7528\u6237\u65F6\u7684\u4E00\u4E9B\u89C4\u5212, \u6BD4\u5982\u521B\u5EFA\u7528\u6237\u65F6, \u662F\u5426\u9700\u8981\u5BB6\u76EE\u5F55, UID \u548C GID \u7684\u8303\u56F4; \u7528\u6237\u7684\u671F\u9650\u7B49\u7B49, \u8FD9\u4E2A\u6587\u4EF6\u662F\u53EF\u4EE5\u901A\u8FC7 <code>root</code> \u6765\u5B9A\u4E49\u7684</p><p><code>Default Configuration:</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>PASS_MAX_DAYS 99999 # \u4E24\u6B21\u6539\u53D8\u5BC6\u7801\u4E4B\u95F4\u76F8\u8DDD\u7684\u6700\u5927\u5929\u6570, \u5BC6\u7801\u6709\u6548\u6700\u5927\u5929\u6570
PASS_MIN_DAYS 0 # \u4E24\u6B21\u6539\u53D8\u5BC6\u7801\u4E4B\u95F4\u76F8\u8DDD\u7684\u6700\u5C0F\u5929\u6570, \u4E3A\u96F6\u65F6\u4EE3\u8868\u4EFB\u4F55\u65F6\u5019\u90FD\u53EF\u4EE5\u66F4\u6539\u5BC6\u7801
PASS_MIN_LEN 5 # \u5BC6\u7801\u6700\u5C0F\u957F\u5EA6
PASS_WARN_AGE 7 # \u5728\u5BC6\u7801\u8FC7\u671F\u4E4B\u524D\u8B66\u544A\u7684\u5929\u6570
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u4EE5\u4E0A\u53EA\u5BF9\u4E4B\u540E\u65B0\u589E\u7684\u7528\u6237\u6709\u6548, \u5982\u679C\u8981\u4FEE\u6539\u5DF2\u5B58\u5728\u7684\u7528\u6237\u5BC6\u7801\u89C4\u5219, \u9700\u8981\u4F7F\u7528 <code>chage</code> \u547D\u4EE4</p></div><p>\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4, \u53EF\u4EE5\u67E5\u770B\u7528\u6237\u7684\u5BC6\u7801\u89C4\u5219, <code>Command Format:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>chage -l <span class="token punctuation">[</span>userName<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>For Examlpe:</code> <br></p><p><img src="`+t+`" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><h2 id="chage-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#chage-\u547D\u4EE4" aria-hidden="true">#</a> chage \u547D\u4EE4</h2><p>\u8BBE\u7F6E\u6700\u5927\u6700\u5C0F\u4F7F\u7528\u5929\u6570, \u4EE5\u53CA\u8B66\u544A\u5929\u6570, <code>For Examlpe:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>chage -M <span class="token number">90</span> -m <span class="token number">6</span> -W <span class="token number">30</span> <span class="token punctuation">[</span>userName<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u4E0D\u8981\u7528\u8BE5\u547D\u4EE4\u7ED9 root \u7528\u6237\u52A0\u4E0A\u6709\u6548\u671F, \u5982\u679C\u5BC6\u7801\u8FC7\u671F, \u518D\u52A0\u4E0A\u540E\u6587\u8BF4\u7684 <code>/etc/shadow</code> \u6587\u4EF6\u52A0\u9501\u7981\u6B62\u4FEE\u6539, \u4F1A\u5BFC\u81F4 root \u63D0\u793A\u4FEE\u6539\u5BC6\u7801, \u65E0\u6CD5\u6210\u529F\u4FEE\u6539\u5BC6\u7801, \u4ECE\u800C\u65E0\u6CD5\u767B\u9646\u3002</p></div><p><code>chage</code> \u9009\u9879\u89E3\u91CA</p><ul><li><strong>-m</strong> =&gt; \u5BC6\u7801\u53EF\u66F4\u6539\u7684\u6700\u5C0F\u5929\u6570\u3002 \u4E3A\u96F6\u65F6\u4EE3\u8868\u4EFB\u4F55\u65F6\u5019\u90FD\u53EF\u4EE5\u66F4\u6539\u5BC6\u7801\u3002</li><li><strong>-M</strong> =&gt; \u5BC6\u7801\u4FDD\u6301\u6709\u6548\u7684\u6700\u5927\u5929\u6570\u3002</li><li><strong>-w</strong> =&gt; \u7528\u6237\u5BC6\u7801\u5230\u671F\u524D, \u63D0\u524D\u6536\u5230\u8B66\u544A\u4FE1\u606F\u7684\u5929\u6570\u3002</li><li><strong>-E</strong> =&gt; \u5E10\u53F7\u5230\u671F\u7684\u65E5\u671F\u3002 \u8FC7\u4E86\u8FD9\u5929, \u6B64\u5E10\u53F7\u5C06\u4E0D\u53EF\u7528\u3002</li><li><strong>-d</strong> =&gt; \u4E0A\u4E00\u6B21\u66F4\u6539\u7684\u65E5\u671F\u3002</li><li><strong>-i</strong> =&gt; \u505C\u6EDE\u65F6\u671F\u3002 \u5982\u679C\u4E00\u4E2A\u5BC6\u7801\u5DF2\u8FC7\u671F\u8FD9\u4E9B\u5929, \u90A3\u4E48\u6B64\u5E10\u53F7\u5C06\u4E0D\u53EF\u7528\u3002</li><li><strong>-l</strong> =&gt; \u4F8B\u51FA\u5F53\u524D\u7684\u8BBE\u7F6E\u3002 \u7531\u975E\u7279\u6743\u7528\u6237\u6765\u786E\u5B9A\u4ED6\u4EEC\u7684\u5BC6\u7801\u6216\u5E10\u53F7\u4F55\u65F6\u8FC7\u671F\u3002</li></ul><p>\u5982\u679C\u8981\u4FEE\u6539\u5BC6\u7801\u8FC7\u671F\u65F6\u95F4\u4E3A <code>\u201C\u4ECE\u4E0D\u201D</code> , <code>For Examlpe:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>chage -M <span class="token number">99999</span> <span class="token punctuation">[</span>userName<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u7A7A\u5BC6\u7801\u68C0\u67E5" tabindex="-1"><a class="header-anchor" href="#\u7A7A\u5BC6\u7801\u68C0\u67E5" aria-hidden="true">#</a> \u7A7A\u5BC6\u7801\u68C0\u67E5</h2><p><strong>/etc/shadow</strong> \u6587\u4EF6\u4E2D\u7684\u8BB0\u5F55\u884C\u4E0E <strong>/etc/passwd</strong> \u4E2D\u7684\u4E00\u4E00\u5BF9\u5E94, \u662F\u8BB0\u5F55\u7CFB\u7EDF\u4E2D\u7528\u6237\u7684\u5BC6\u7801\u7684, \u6B64\u6587\u4EF6\u53EA\u6709 <code>root</code> \u7528\u6237\u53EF\u4EE5\u5BF9\u5176\u8FDB\u884C\u4FEE\u6539</p><p>\u4F7F\u7528 <code>awk</code> \u547D\u4EE4\u53EF\u4EE5\u68C0\u67E5\u662F\u5426\u5B58\u5728\u7A7A\u5BC6\u7801, <code>For Examlpe:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">awk</span> -F <span class="token string">&#39;:&#39;</span> <span class="token string">&#39;($2==&quot;&quot;){print $1}&#39;</span> /etc/shadow
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u6CA1\u5BC6\u7801\u68C0\u67E5" tabindex="-1"><a class="header-anchor" href="#\u6CA1\u5BC6\u7801\u68C0\u67E5" aria-hidden="true">#</a> \u6CA1\u5BC6\u7801\u68C0\u67E5</h2><p>\u7A7A\u5BC6\u7801\u8DDF\u6CA1\u6709\u5BC6\u7801\u662F\u4FE9\u56DE\u4E8B, \u4F53\u73B0\u4E8E <strong>/etc/shadow</strong> \u4E2D\u7684\u5BC6\u7801\u90A3\u4E00\u5217, \u7A7A\u5BC6\u7801\u662F\u663E\u793A\u7A7A, \u6CA1\u6709\u5BC6\u7801\u662F\u663E\u793A <code>\uFF01 \uFF01</code> \u4F7F\u7528 <code>awk</code> \u547D\u4EE4\u53EF\u4EE5\u68C0\u67E5\u662F\u5426\u5B58\u5728\u7A7A\u5BC6\u7801, <code>For Examlpe:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">awk</span> -F <span class="token string">&#39;:&#39;</span> <span class="token string">&#39;($2==&quot;\uFF01 \uFF01 &quot;){print $1}&#39;</span> /etc/shadow
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="awk-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#awk-\u547D\u4EE4" aria-hidden="true">#</a> awk \u547D\u4EE4</h2><p>\u67E5\u8BE2 UID \u4E3A 0 \u7684\u7528\u6237, <code>For Examlpe:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">awk</span> -F <span class="token string">&#39;:&#39;</span> <span class="token string">&#39;($3==0){print $1}&#39;</span> /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>UID \u4E3A 0 \u7684\u4EFB\u4F55\u7528\u6237\u90FD\u62E5\u6709\u7CFB\u7EDF\u7684\u6700\u9AD8\u7279\u6743, \u4FDD\u8BC1\u53EA\u6709 root \u7528\u6237\u7684 UID \u4E3A 0</p></div><p><code>awk</code> \u9009\u9879\u89E3\u91CA</p><ul><li><strong><code>-F fs</code></strong> =&gt; fs \u6307\u5B9A\u8F93\u5165\u5206\u9694\u7B26, fs \u53EF\u4EE5\u662F\u5B57\u7B26\u4E32\u6216\u6B63\u5219\u8868\u8FBE\u5F0F, \u5982 <code>-F:</code></li><li><strong><code>-v var=value</code></strong> =&gt; \u8D4B\u503C\u4E00\u4E2A\u7528\u6237\u5B9A\u4E49\u53D8\u91CF, \u5C06\u5916\u90E8\u53D8\u91CF\u4F20\u9012\u7ED9 <code>awk</code></li><li><strong><code>-f scripfile</code></strong> =&gt; \u4ECE\u811A\u672C\u6587\u4EF6\u4E2D\u8BFB\u53D6 awk \u547D\u4EE4</li><li><strong><code>-m[fr] val</code></strong> =&gt; \u5BF9 val \u503C\u8BBE\u7F6E\u5185\u5728\u9650\u5236, <code>-mf</code> \u9009\u9879\u9650\u5236\u5206\u914D\u7ED9 val \u7684\u6700\u5927\u5757\u6570\u76EE; <code>-mr</code> \u9009\u9879\u9650\u5236\u8BB0\u5F55\u7684\u6700\u5927\u6570\u76EE\u3002 \u8FD9\u4E24\u4E2A\u529F\u80FD\u662F Bell \u5B9E\u9A8C\u5BA4\u7248 <code>awk</code> \u7684\u6269\u5C55\u529F\u80FD, \u5728\u6807\u51C6 <code>awk</code> \u4E2D\u4E0D\u9002\u7528\u3002</li></ul><h2 id="\u5BC6\u7801\u590D\u6742\u5EA6" tabindex="-1"><a class="header-anchor" href="#\u5BC6\u7801\u590D\u6742\u5EA6" aria-hidden="true">#</a> \u5BC6\u7801\u590D\u6742\u5EA6</h2><p>redhat \u516C\u53F8\u4E13\u95E8\u5F00\u53D1\u4E86 <code>cracklib</code> \u8FD9\u4E2A\u5B89\u88C5\u5305\u6765\u5224\u65AD\u5BC6\u7801\u7684\u590D\u6742\u5EA6\u3002</p><p>\u68C0\u67E5\u662F\u5426\u5B89\u88C5\u4E86 <code>cracklib</code> \u6A21\u5757</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">rpm</span> -qa <span class="token operator">|</span> <span class="token function">grep</span> cracklib
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+c+`" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><p>\u5728 <code>/etc/pam.d/system-auth</code> \u4E2D\u4FEE\u6539</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>password requisite pam_cracklib.so try_first_pass retry = 3 difok = 3 minlen = 8 dcredit = -1 ucredit = -1 lcredit = -1 ocredit = -1
password sufficient pam_unix.so md5 shadow nullok try_first_pass use_authtok remember = 5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+i+`" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><h3 id="\u53C2\u6570\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570\u8BF4\u660E" aria-hidden="true">#</a> \u53C2\u6570\u8BF4\u660E</h3><ul><li><strong><code>retry=N</code></strong> =&gt; \u6539\u53D8\u8F93\u5165\u5BC6\u7801\u7684\u6B21\u6570, \u9ED8\u8BA4\u503C\u662F 1, \u4E00\u822C\u8BBE\u7F6E\u4E3A 3\u3002 \u5C31\u662F\u8BF4, \u5982\u679C\u7528\u6237\u8F93\u5165\u7684\u5BC6\u7801\u5F3A\u5EA6\u4E0D\u591F\u53EF\u4EE5\u91CD\u590D\u8F93\u5165\u7684\u6B21\u6570\u3002</li><li><strong><code>minlen=N</code></strong> =&gt; \u5BC6\u7801\u6700\u5C0F\u957F\u5EA6\uFF08\u9664\u4E86 <code>credit</code> \u4FE1\u7528\u5EA6\u7684\u5B57\u7B26\u957F\u5EA6\u4EE5\u5916\uFF09</li><li><strong><code>dcredit=N</code></strong> =&gt; \u5BC6\u7801\u4E2D\u81F3\u5C11 <code>(N&lt;0)</code> \u6216\u81F3\u591A <code>(N&gt;=0)</code> \u6709\u51E0\u4E2A\u6570\u5B57</li><li><strong><code>ucredit=N</code></strong> =&gt; \u5BC6\u7801\u4E2D\u81F3\u5C11 <code>(N&lt;0)</code> \u6216\u81F3\u591A <code>(N&gt;=0)</code> \u6709\u51E0\u4E2A\u5927\u5199\u5B57\u6BCD</li><li><strong><code>lcredit=N</code></strong> =&gt; \u5BC6\u7801\u4E2D\u81F3\u5C11 <code>(N&lt;0)</code> \u6216\u81F3\u591A <code>(N&gt;=0)</code> \u6709\u51E0\u4E2A\u5C0F\u5199\u5B57\u6BCD</li><li><strong><code>ocredit=N</code></strong> =&gt; \u5BC6\u7801\u4E2D\u81F3\u5C11 <code>(N&lt;0)</code> \u6216\u81F3\u591A <code>(N&gt;=0)</code> \u6709\u51E0\u4E2A\u7279\u6B8A\u5B57\u7B26</li><li><strong><code>difok=M</code></strong> =&gt; \u65B0\u5BC6\u7801\u4E0E\u524D\u4E00\u4E2A\u65E7\u5BC6\u7801\u4E4B\u95F4\u81F3\u5C11\u6709 M \u4E2A\u5B57\u7B26\u4E0D\u76F8\u540C</li></ul><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p><code>dcredit</code> \u3001 <code>ucredit</code> \u3001 <code>lcredit</code> \u3001 <code>ocredit</code> \u4E3A\u4FE1\u7528\u5EA6\u5B57\u7B26, \u5982\u679C <code>N&lt;0</code> , \u8868\u793A\u81F3\u5C11, \u5219\u65B0\u5BC6\u7801\u957F\u5EA6\u6700\u5C0F\u957F\u5EA6\u5C31\u7B49\u4E8E minlen.\u3002 \u800C\u5F53 <code>N&gt;0</code> \u65F6, \u8868\u793A\u81F3\u591A, \u6BD4\u5982 <code>ocredit=1</code> , \u81F3\u591A\u6709\u4E00\u4E2A\u7279\u6B8A\u5B57\u7B26, \u8FD9\u6837\u7684\u8BDD, \u5373\u4F7F\u6CA1\u6709\u7279\u6B8A\u5B57\u7B26\u4E5F\u4F1A\u5141\u8BB8\u8BBE\u7F6E\u65B0\u5BC6\u7801\u3002 \u8FD8\u6709, \u6B64\u65F6\u65B0\u5BC6\u7801\u957F\u5EA6\u4F1A\u5927\u4E8E minlen\u3002 \u7B97\u6CD5\u4EA4\u590D\u6742, \u8FD9\u91CC\u4E0D\u8D58\u8FF0\u3002 \u56E0\u6B64, \u901A\u5E38\u60C5\u51B5\u4E0B\u63A8\u8350\u4F7F\u7528 <code>N&lt;0</code> \u6765\u505A\u5BC6\u7801\u590D\u6742\u5EA6\u9650\u5236\u3002 \u53E6\u5916, \u6B64\u5BC6\u7801\u89C4\u5219\u5BF9 root \u7528\u6237\u65E0\u6548, \u53EA\u9488\u5BF9\u666E\u901A\u7528\u6237\u4FEE\u6539\u81EA\u8EAB\u5BC6\u7801</p></div><h2 id="\u767B\u5F55\u9A8C\u8BC1\u89C4\u5219" tabindex="-1"><a class="header-anchor" href="#\u767B\u5F55\u9A8C\u8BC1\u89C4\u5219" aria-hidden="true">#</a> \u767B\u5F55\u9A8C\u8BC1\u89C4\u5219</h2><h3 id="\u8BB0\u5F55\u666E\u901A\u7528\u6237\u767B\u5F55\u5931\u8D25\u6B21\u6570\u5E76\u9501\u5B9A\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#\u8BB0\u5F55\u666E\u901A\u7528\u6237\u767B\u5F55\u5931\u8D25\u6B21\u6570\u5E76\u9501\u5B9A\u7528\u6237" aria-hidden="true">#</a> \u8BB0\u5F55\u666E\u901A\u7528\u6237\u767B\u5F55\u5931\u8D25\u6B21\u6570\u5E76\u9501\u5B9A\u7528\u6237</h3><p>\u5728 ** <code>/etc/pam.d/system-auth**</code>\u4E2D<code>&quot;#%PAM-1.0&quot;</code>\u4E0B\u9762\u4E00\u884C\u52A0\u5165,<code>For Example:</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>auth required pam_tally2.so deny = 3 unlock_time = 300
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u4E00\u5B9A\u8981\u52A0\u5728 <code>#%PAM-1.0</code> \u4E0B\u9762\u4E00\u884C</p></div><p>\u53C2\u6570\u8BF4\u660E</p><ul><li><strong><code>deny[=n]</code></strong> =&gt; \u7528\u6237\u8FDE\u7EED\u9519\u8BEF\u767B\u9646\u7684\u6700\u5927\u6B21\u6570, \u8D85\u8FC7\u5219\u9501\u5B9A</li><li><strong><code>unlock_time</code></strong> =&gt; \u8BBE\u5B9A\u666E\u901A\u7528\u6237\u9501\u5B9A\u540E, \u591A\u5C11\u65F6\u95F4\u540E\u89E3\u9501, \u5355\u4F4D\u662F\u79D2</li><li><strong><code>even_deny_root</code></strong> =&gt; \u4E5F\u9650\u5236 root \u7528\u6237</li><li><strong><code>root_unlock_time[=n]</code></strong> =&gt; \u8BBE\u5B9A root \u7528\u6237\u9501\u5B9A\u540E, \u591A\u5C11\u65F6\u95F4\u540E\u89E3\u9501, \u5355\u4F4D\u662F\u79D2</li><li><strong><code>quiet</code></strong> =&gt; \u4E0D\u5BF9\u5DF2\u9501\u5B9A\u7684\u7528\u6237\u53D1\u51FA\u63D0\u793A\u4FE1\u606F</li></ul><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u4EE5\u4E0A\u53C2\u6570\u6839\u636E\u5B9E\u9645\u9700\u8981\u53D6\u820D, \u5982\u679C\u4F7F\u7528\u4E86 even_deny_root \u53C2\u6570\u9650\u5236 root \u7528\u6237\u767B\u5F55\u9519\u8BEF\u6B21\u6570, \u800C\u6CA1\u6709\u914D\u7F6E root_unlock_time \u7684\u8BDD, \u4E00\u65E6 root \u7528\u6237\u88AB\u9501, \u89E3\u9501\u5C06\u5F88\u9EBB\u70E6\u3002</p></div><h3 id="\u67E5\u770B\u7528\u6237\u767B\u5F55\u5931\u8D25\u6B21\u6570" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u7528\u6237\u767B\u5F55\u5931\u8D25\u6B21\u6570" aria-hidden="true">#</a> \u67E5\u770B\u7528\u6237\u767B\u5F55\u5931\u8D25\u6B21\u6570</h3><p>\u5F53\u767B\u5F55\u9519\u8BEF\u6B21\u6570\u8FBE\u5230\u6700\u5927\u9650\u5236\u540E, \u7528\u6237\u518D\u6B21\u767B\u5F55\u65F6, \u4F1A\u63D0\u793A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Your account is locked.Maximum amount of failed attempts was reached.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+r+`" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><p>\u901A\u8FC7\u4EE5\u4E0B\u547D\u4EE4\u53EF\u4EE5\u67E5\u770B\u7528\u6237\u767B\u5F55\u5931\u8D25\u6B21\u6570, <code>Command Format:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>pam_tally2 -u <span class="token punctuation">[</span>userName<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>For Example:</code> <br></p><p><img src="`+l+'" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><h3 id="\u89E3\u9501\u5DF2\u7ECF\u9501\u5B9A\u7684\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#\u89E3\u9501\u5DF2\u7ECF\u9501\u5B9A\u7684\u7528\u6237" aria-hidden="true">#</a> \u89E3\u9501\u5DF2\u7ECF\u9501\u5B9A\u7684\u7528\u6237</h3><ul><li>\u81EA\u52A8\u89E3\u9501</li></ul><p>-- \u5982\u679C\u914D\u7F6E\u4E86 <code>unlock_time</code> \u6216 <code>root_unlock_time</code> (\u9488\u5BF9 <code>root</code> \u7528\u6237)\u53C2\u6570, \u5219\u7B49\u5F85\u8D85\u8FC7\u8FD9\u4E2A\u65F6\u957F\u540E, \u5E10\u6237\u4F1A\u81EA\u52A8\u89E3\u9501</p><ul><li>\u624B\u52A8\u89E3\u9501:</li></ul><p>-- \u53EA\u80FD\u4EE5 <code>root</code> \u7528\u6237\u901A\u8FC7\u547D\u4EE4 <code>pam_tally2 -u [userName] -r</code> \u53EF\u4EE5\u624B\u52A8\u89E3\u9501\u56E0\u767B\u5F55\u9519\u8BEF\u6B21\u6570\u8FBE\u5230\u6700\u5927\u9650\u5236\u540E\u81EA\u52A8\u9501\u5B9A\u7684\u7528\u6237, \u540C\u65F6\u767B\u5F55\u9519\u8BEF\u6B21\u6570\u4F1A\u88AB\u91CD\u7F6E\u4E3A 0</p><h2 id="\u767B\u5F55\u8D85\u65F6" tabindex="-1"><a class="header-anchor" href="#\u767B\u5F55\u8D85\u65F6" aria-hidden="true">#</a> \u767B\u5F55\u8D85\u65F6</h2><p>\u5BF9\u4E8E bash \u7528\u6237, \u4FEE\u6539 <code>/etc/profile</code> \u6216 <code>/etc/bashrc</code> , \u6240\u6709\u4F7F\u7528 bash \u7684\u7528\u6237\u90FD\u4F1A\u7EE7\u627F, <code>For Example:</code> <br></p><p><img src="'+e+'" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><p>\u5BF9\u4E8E csh \u7528\u6237, \u4FEE\u6539 <code>/etc/csh.cshrc</code> , \u6240\u6709\u4F7F\u7528 csh \u7684\u7528\u6237\u90FD\u4F1A\u7EE7\u627F, <code>For Example:</code> <br></p><p><img src="'+a+'" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><p>\u5BF9\u4E8E bash \u7528\u6237, \u4FEE\u6539 <code>/etc/profile</code> \u6216 <code>/etc/bashrc</code> , \u6240\u6709\u4F7F\u7528 bash \u7684\u7528\u6237\u90FD\u4F1A\u7EE7\u627F, <code>For Example:</code> <br></p><p><img src="'+e+'" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><p>\u5BF9\u4E8E csh \u7528\u6237, \u4FEE\u6539 <code>/etc/csh.cshrc</code> , \u6240\u6709\u4F7F\u7528 csh \u7684\u7528\u6237\u90FD\u4F1A\u7EE7\u627F, <code>For Example:</code> <br></p><p><img src="'+a+`" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><h2 id="ssh" tabindex="-1"><a class="header-anchor" href="#ssh" aria-hidden="true">#</a> SSH</h2><h3 id="\u7981\u6B62-root-\u7528\u6237\u8FDC\u7A0B-ssh-\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#\u7981\u6B62-root-\u7528\u6237\u8FDC\u7A0B-ssh-\u767B\u5F55" aria-hidden="true">#</a> \u7981\u6B62 root \u7528\u6237\u8FDC\u7A0B ssh \u767B\u5F55</h3><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u7531\u4E8E\u4E4B\u524D\u7684\u7B14\u8BB0\u5DF2\u7ECF\u8BB0\u5F55\u8FC7\u4E86, \u8FD9\u91CC\u5C31\u4E0D\u518D\u91CD\u590D\u4E86</p></div><h3 id="ssh-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A\u7528\u6237\u6216\u7EC4" tabindex="-1"><a class="header-anchor" href="#ssh-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A\u7528\u6237\u6216\u7EC4" aria-hidden="true">#</a> ssh \u7684\u9ED1\u767D\u540D\u5355\uFF08\u6307\u5B9A\u7528\u6237\u6216\u7EC4\uFF09</h3><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u7531\u4E8E\u4E4B\u524D\u7684\u7B14\u8BB0\u5DF2\u7ECF\u8BB0\u5F55\u8FC7\u4E86, \u8FD9\u91CC\u5C31\u4E0D\u518D\u91CD\u590D\u4E86</p></div><h3 id="ssh-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A-ip" tabindex="-1"><a class="header-anchor" href="#ssh-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A-ip" aria-hidden="true">#</a> ssh \u7684\u9ED1\u767D\u540D\u5355\uFF08\u6307\u5B9A IP\uFF09</h3><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u7531\u4E8E\u4E4B\u524D\u7684\u7B14\u8BB0\u5DF2\u7ECF\u8BB0\u5F55\u8FC7\u4E86, \u8FD9\u91CC\u5C31\u4E0D\u518D\u91CD\u590D\u4E86</p></div><h2 id="telnet" tabindex="-1"><a class="header-anchor" href="#telnet" aria-hidden="true">#</a> Telnet</h2><h3 id="\u7981\u6B62-root-\u7528\u6237\u8FDC\u7A0B-telnet-\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#\u7981\u6B62-root-\u7528\u6237\u8FDC\u7A0B-telnet-\u767B\u5F55" aria-hidden="true">#</a> \u7981\u6B62 root \u7528\u6237\u8FDC\u7A0B telnet \u767B\u5F55</h3><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u7CFB\u7EDF\u5B89\u88C5 <code>telnet-server</code> \u670D\u52A1\u540E, \u9ED8\u8BA4\u5C31\u662F\u7981\u6B62 root \u7528\u6237\u76F4\u63A5\u8FDC\u7A0B telnet \u767B\u5F55\u7684\u3002 \u786E\u8BA4\u53EA\u8981\u5B58\u5728 <code>/etc/securetty</code> \u6587\u4EF6, \u5C31\u53EF\u4EE5\u9650\u5236 root \u76F4\u63A5\u8FDC\u7A0B telnet \u767B\u5F55\u3002</p></div><h3 id="telnet-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A\u7528\u6237\u6216\u7EC4" tabindex="-1"><a class="header-anchor" href="#telnet-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A\u7528\u6237\u6216\u7EC4" aria-hidden="true">#</a> telnet \u7684\u9ED1\u767D\u540D\u5355\uFF08\u6307\u5B9A\u7528\u6237\u6216\u7EC4\uFF09</h3><p>\u7CFB\u7EDF\u4E0D\u652F\u6301\u9650\u5236\u666E\u901A\u7528\u6237 telnet \u8FDC\u7A0B\u767B\u5F55</p><h3 id="telnet-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A-ip" tabindex="-1"><a class="header-anchor" href="#telnet-\u7684\u9ED1\u767D\u540D\u5355-\u6307\u5B9A-ip" aria-hidden="true">#</a> telnet \u7684\u9ED1\u767D\u540D\u5355\uFF08\u6307\u5B9A IP\uFF09</h3><p>\u4E0E <code>SSH</code> \u4E2D\u7684\u76F8\u5DEE\u65E0\u51E0, \u540C\u6837\u662F\u5728 <code>/etc/hosts.allow</code> \u91CC\u6DFB\u52A0\u767D\u540D\u5355, \u5728 <code>/etc/hosts.deny</code> \u91CC\u6DFB\u52A0\u9ED1\u540D\u5355, <code>For Example:</code></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>in .telnetd: 192.168 .1 .10 192.168 .1 .11# / etc / hosts.allow in .telnetd: ALL# / etc / hosts.deny
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u7981\u6B62\u666E\u901A\u7528\u6237\u767B\u5F55-shell" tabindex="-1"><a class="header-anchor" href="#\u7981\u6B62\u666E\u901A\u7528\u6237\u767B\u5F55-shell" aria-hidden="true">#</a> \u7981\u6B62\u666E\u901A\u7528\u6237\u767B\u5F55 shell</h2><p>\u4F7F\u7528 <code>usermod</code> \u547D\u4EE4\u4FEE\u6539\u7528\u6237\u7684\u767B\u5F55 <code>shell</code> \u5C31\u597D, <code>Command Format:</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">usermod</span> -s /sbin/nologin <span class="token punctuation">[</span>userName<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u907F\u514D\u666E\u901A\u7528\u6237-su-\u5230-root-\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#\u907F\u514D\u666E\u901A\u7528\u6237-su-\u5230-root-\u7528\u6237" aria-hidden="true">#</a> \u907F\u514D\u666E\u901A\u7528\u6237 su \u5230 root \u7528\u6237</h2><p>\u5728 ** <code>/etc/pam.d/su**</code>\u4E2D<code>&quot;#%PAM-1.0&quot;</code> \u4E0B\u9762\u4E00\u884C\u52A0\u5165</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>auth sufficient pam_rootok.so debug
auth required pam_wheel.so group = wheel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+p+'" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><p>\u5F53\u7136\u53EA\u53BB\u9664\u7EA2\u6846\u4E2D\u7684 <code>#</code> \u4E5F\u662F ok \u7684<br></p><p><img src="'+u+`" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p><p>\u8FD9\u6837\u4EE5\u6765\u53EA\u6709 wheel \u7EC4\u7684\u7528\u6237\u53EF\u4EE5 su \u4F5C\u4E3A root</p><h2 id="\u6307\u5B9A\u53EF\u4EE5-su-\u5230-root-\u7684\u7528\u6237" tabindex="-1"><a class="header-anchor" href="#\u6307\u5B9A\u53EF\u4EE5-su-\u5230-root-\u7684\u7528\u6237" aria-hidden="true">#</a> \u6307\u5B9A\u53EF\u4EE5 su \u5230 root \u7684\u7528\u6237</h2><p>\u6307\u5B9A\u67D0\u4E2A\u7528\u6237\u53EF\u4EE5 su \u5230 root \u7528\u6237, \u9700\u8981\u5C06\u8BE5\u7528\u6237\u52A0\u5165\u5230 wheel \u7EC4\u4E2D</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">usermod</span> -G wheel <span class="token punctuation">[</span>username<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">\u6CE8\u610F</p><p>\u5982\u679C\u7981\u6B62 root \u7528\u6237\u76F4\u63A5\u767B\u5F55, \u4E5F\u4E0D\u5B58\u5728 wheel \u7EC4\u7684\u7528\u6237, \u5C31\u65E0\u6CD5\u8FDB\u5165 root \u7528\u6237\u4E86</p></div><p><img src="`+h+'" alt="RedHat \u7CFB\u7EDF\u5B89\u5168\u52A0\u56FA"></p>',103),v=[m];function b(x,f){return d(),o("div",null,v)}var w=s(g,[["render",b],["__file","account-security.html.vue"]]);export{w as default};
