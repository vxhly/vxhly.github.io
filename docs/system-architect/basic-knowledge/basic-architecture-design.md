---
author: 星火燎原@vxhly
title: 系统架构-章节重点整理-软件架构设计
category: [软考]
tag:
  - 软考
  - 系统架构设计师

date: 2024-04-10 19:25:20
---

::: tip 前言

整理 `软件架构设计` 章节的重点

:::

## 软件架构设计

- 软件架构是降低成本、改进质量、按时和按需交付产品的关键因素, 软件架构设计需要满足系统的`质量属性`, 如性能、安全性和可修改性等。
- 架构描述语言（Architecture Description Language, ADL）是一种为明确说明软件系统的概念架构和对这些概念架构建模提供功能的语言。ADL 主要包括以下组成部分：`组件、组件接口、连接件和架构配置`。
- 软件系统架构不仅指定了软件系统的`组织和拓扑`结构, 而且显示了`系统需求和组件`之间的对应关系, 包括设计决策和基本方法、基本原理
- 架构设计要关注软件组件的`结构属性和交互作用`, 并通过多种`视图`来全面描述特定系统的架构

### 生命周期

- 需求分析阶段
- 设计阶段
- 实现阶段
- 构件组装阶段
- 部署阶段
- 后开发阶段

## 软件架构的重要性

软件架构设计是`降低成本、改进质量、按时和按需交付产品`的关键因素

八大重要性:

- 架构设计能够满足系统的品质
- 架构设计使受益人达成一致的目标
- 架构设计能够支持计划编制过程
- 架构设计对系统开发的指导性
- 架构设计能够有效地管理复杂性
- 架构设计为复用奠定了基础
- 架构设计能够降低维护费用
- 架构设计能够支持冲突分析

### '4+1' 视图

①`逻辑视图`(Logical View)，设计的对象模型(使用面向对象的设计方法时)。
②`过程视图`(Process View)，捕捉设计的并发和同步特征。
③`物理视图`(Physical View)，描述了软件到硬件的映射，反映了分布式特性。
④`开发视图`(Development View)，描述了在开发环境中软件的静态组织结构。
⑤`架构的描述`，即所做的各种决定，可以围绕着这四个视图来组织，然后由一些用例(Use Cases)或场景(Scenarios)来说明，从而形成了第五个视图。

## 基于架构的软件开发方法 ABSD

- ABSD 采用`视角和视图`来描述软件架构，采用`用例和质量属性`场景来描述需求。进一步来说，`用例`描述的是功能需求，`质量属性场景`描述的是质量需求(或侧重于非功能需求)。
- ABSD 是一个`自顶向下，递归细化`的方法，软件系统的体系结构通过该方法得到细化，直到能产生软件`构件和类`。
- ABSD 把整个基于架构的软件过程划分为`架构需求、设计、文档化、复审、实现、演化`等 6 个子过程。

## 特定领域软件体系结构 DSSA

- （1）`垂直域`：定义了一个特定的系统族，包含整个系统族内的多个系统，结果是在该领域中可作为系统的可行解决方案的一个通用软件体系结构。只能应用于一个成熟的、稳定的领域。
- （2）`水平域`：定义了在多个系统和多个系统族中功能区城的共有部分。在子系统级上涵盖多个系统族的特定部分功能。

### DSSA 基本活动

- `领域分析`
  - 目标是获得领域模型，描述领域中系统的共同需求。
- `领域设计`
  - 目标是获得 DSSA（Domain-Specific SoftwareArchitecture）。
- `领域实现`
  - 目标是开发和组织可重用信息

### DSSA 参与人员

- `领域专家`
  - 包括该领域系统的资深用户、从事需求分析、设计、实现及项目管理的软件工程师
- `领域分析人员`
  - 由具备知识工程背景的资深系统分析员担任
- `领域设计人员`
  - 由资深软件设计人员担任
- `领域实现人员`
  - 由资深程序设计人员担任

### DSSA 建立过程的阶段

- `定义领域范围`
  - 重点确定感兴趣领域的范围及过程终止时间
- `定义领域特定的元素`
  - 目标是编制领域词典和术语同义词词典
- `定义领域特定的设计和实现需求约束`
  - 目标是描述解空间中的差异特性
- `定义领域模型和体系结构`
  - 目标是产生一般体系结构模型
- `产生、搜集可重用的产品单元`
  - 目标是为领域特定软件架构增加可重用构件

### 体系结构演化

体系结构演化 6 个步骤

- 需求变化归类
- 制订体系结构演化计划
- 修改
- 增加或删除构件
- 更新构件的相互作用
- 构件组装与测试和技术评审

## 软件架构风格

架构的本质:

- 架构风格反映领域中众多系统说共有的`结构和语义` 特性, 强调对架构设计的`重用`
- 架构风格定义了用于描述系统的术语表和一组指导构建系统的规则。
- 软件架构为软件系统提供了一个`结构、行为和属性`的高级抽象。

架构的作用:

- 软件架构是项目干系人进行交流的手段。
- 软件架构是可传递和可复用的模型，通过研究软件架构可能预测软件的质量。
- 软件架构使推理和控制的更改更加简单，有助于循序渐进的原型设计，可以作为培训的基础。

### 数据流体系结构风格

#### 批处理体系结构风格

概念: 每个处理步骤是一个单独的程序，每一步必须在前一步结束后才能开始，并且数据必须是完整的，以整体的方式传递。它的基本构件是独立的应用程序，连接件是某种类型的媒介。

#### 管道-过滤器体系结构风格

概念: 把系统分解为几个处理步骤，这些步骤之间通过数据流连接，一个步骤的输出是另一个步骤的输入。每个处理步骤由一个过滤器实现，处理步骤之间的数据传输由管道负责。每个处理步骤（过滤器）都有一组输入和输出，过滤器从管道中读取输入的数据流，经过内部处理，然后产生输出数据流并写入管道中。基本构件是过滤器，连接件是数据流传输管道。

| 优点                               | 缺点                                                                                                                         |
| ---------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| 1.简单性;2.支持复用;3.便于系统分析 | 1.不适合用来设计交互式应用系统;2.由于没有通用的数据传输标准，因此每个过滤器都需要解析输入数据和合成数据;3.难以进行错误处理。 |

### 调用/返回体系结构风格

#### 主程序/子程序风格

概念: 主程序/子程序风格一般采用单线程控制，把问题划分为若干处理步骤，构件即为主程序和子程序。子程序通常可合成为模块。过程调用作为交互机制，即充当连接件。调用关系具有层次性，其语义逻辑表现为子程序的正确性取决于它调用的子程序的正确性。

#### 面向对象体系结构风格

概念: 面向对象系统风格建立在数据抽象和面向对象的基础上，数据的表示方法和它们的相应操作封装在一个抽象数据类型或对象中。这种风格的构件是对象。

| 优点                                                                                                     | 缺点                                                   |
| -------------------------------------------------------------------------------------------------------- | ------------------------------------------------------ |
| 1.一个对象对外隐藏了自己的详细信息;2.对象将数据和操作封装在一起;3.继承和封装方法为对象服用提供了技术支持 | 如果一个对象要调用另一个对象，则必须知道它的标识和名称 |

#### 层次型体系结构风格

概念: 层次系统组成一个层次结构，每一层为上层提供服务，并作为下层的客户。这样的系统中构件在层上实现了虚拟机。连接件由通过层间交互协议来定义，拓扑约束包括对相邻层间交互的约束。每一层最多只影响两层，同时只要给相邻层提供相同的接口，允许每层用不同的方法实现，为软件重用提供了强大的支持。

| 优点                                                                                                                              | 缺点                                                                                                                             |
| --------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| 1.设计者可以将系统分解为一个增量的步骤序列从而完成复杂的业务逻辑;2.每一层最多和相邻的上下两层进行交互，只给相邻层提供相同的接口。 | 1.并非所有系统都能够按照层次来进行划分。2.很难找到一种合适和正确的层次划分方法。3.传输数据需要经过多个层次。4.多层结构难以调试。 |

#### 客户端/服务器体系结构风格

概念: 客户端/服务器体系结构风格是基于资源不对等，且为实现共享而提出的。两层 C/S 体系结构有 3 个主要组成部分：数据库服务器、客户应用程序和网络。三层 C/S 结构增加了一个应用服务器。整个应用逻辑驻留在应用服务器上。应用功能分为表示层、功能层和数据层三层。

### 以数据为中心的体系结构风格

#### 仓库体系结构风格

概念: 仓库是存储和维护数据的中心场所。两种不同的构件：中央数据结构说明当前数据的状态以及一组对中央数据进行操作的独立构件，仓库与独立构件间的相互作用在系统中会有大的变化。连接件即为仓库与独立构件之间的交互。

| 优点                                                                                  | 缺点                                                                                                               |
| ------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------ |
| 1.便于多客户共享大量数据,而不必关心数据是何时产生的、由谁提供的及通过何种途径来提供。 | 1.对共享数据结构，不同知识源要达成一致; 2.需要同步机制和加锁机制来保证数据的完整性和一致性，增大了系统设计的复杂度 |

#### 黑板体系结构风格

概念: 黑板系统是一种问题求解模型。它将问题的解空间组织成一个或多个应用相关的分级结构。分级结构的每一层信息由一个唯一的词汇来描述，它代表了问题的部分解。

### 虚拟机体系结构风格

#### 解释器体系结构风格

概念: 一个解释器包括（1）完成解释工作的解释引擎（2）一个包含将被解释的代码的存储区（3）一个记录解释引擎当前工作状态的数据结构（4）一个记录源代码被解释执行进度的数据结构。解释器缺点是执行效率较低。

| 优点         | 缺点                                                                                          |
| ------------ | --------------------------------------------------------------------------------------------- |
| 1.可移植性好 | 1.由于使用了特定了语言和自定义操作规则，因此增加了系统运行的开销;2.解释器系统难以设计和测试。 |

#### 规则系统体系结构风格

概念: 基于规则的系统包括规则集、规则解释器、规则/数据选择器及工作内存。

| 优点                                                      | 缺点                     |
| --------------------------------------------------------- | ------------------------ |
| 1.规则数据可以动态改变，灵活性好;2.定义新的规则，即可扩展 | 1.实时解释规则、性能较差 |

### 独立构件体系结构风格

#### 进程通信体系结构风格

概念: 在进程通信结构体系结构风格中，构件是独立的过程，连接件是消息传递。这种风格的特点是构件通常是命名过程，消息传递的方式可以是点到点、异步或同步方式及远程过程调用等。

#### 事件系统体系结构风格

概念: 基于事件的隐式调用风格的思想是构件不直接调用一个过程，而是触发或广播一个或多个事件。系统中的其他构件中的过程在一个或多个事件中注册，当一个事件被触发，系统自动调用在这个事件中注册的所有过程。

| 优点                                     | 缺点                                                            |
| ---------------------------------------- | --------------------------------------------------------------- |
| 1.事件发布者不需要知道哪些构件会响应事件 | 1.构件放弃了对计算的控制权，完全由系统来决定;2.存在数据传输问题 |

### C2

概念: C2 体系结构风格可以概括为通过连接件绑定在一起按照一组规则运作的并行构件网络。（1）构件和连接件都有顶部和底
部。（2）构件的顶部连接到连接件的底部,构件的底部连接到连接件的顶部,构件之间不允许直接连接。（3）连接件可以连接任意数量的构件和其他连接件。（4）当两个连接件直接相连时，必须一个的底部连接到另一个的顶部。

### 闭环控制架构 - 过程控制

概念: 软件与硬件之间可以粗略地表示为一个反馈循环，这个反馈循环通过接受一定的输入，确定一系列的输出，最终使环境达到一个新的状态。

## 软件架构复用

软件架构复用的类型包括`机会复用`和`系统复用`。

- `机会复用`是指开发过程中，只要发现有可复用的资产，就对其进行复用。
- `系统复用`是指在开发之前，就要进行规划，以决定哪些需要复用。

软件架构复用的三个阶段

- 获取可复用的软件资产。
- 管理可复用资产。
- 使用可复用资产。

## 软件系统质量属性

### 开发期质量属性（6 个）

易理解性、可扩展性、可重用性、可测试性、可维护性、可移植性

### 运行期质量属性（7 个）

性能、安全性、可伸缩性、互操作性、可靠性、可用性、鲁棒性。

## 七大面向架构评估的质量属性

### 性能

- 指系统的响应能力,处理事务所需时间或单位时间内处理事务数量。
- 通常使用`基准测试程序`进行测试
- 常用的设计策略为: `优先级队列`和`资源调度`

### 可靠性

- 指软件在应用错误、意外错误使用情况下维持功能特性的基本能力。
- 通过平均失效时间（MTTF/MTBF）来衡量包括容错（故障时确保正常行为）和健壮性（错误输入时按预定义方式终止）
- 常用的设计策略为: `冗余设计`和`心跳`

### 可用性

- 指系统正常运行的时间比例，表现为两次故障间时长或故障时恢复正常速度
- 常用的设计策略为: `冗余设计`和`心跳`

### 安全性

- 指向合法用户提供服务同时阻止非授权访问或拒绝服务的能力，包括机密性、完整性、不可否认性、可控性等
- 常用的设计策略为: `追踪审计`

### 可修改性

- 指快速、高性价比地变更系统的能力/包括可维护性、可扩展性、结构重组、可移植性
- 常用的设计策略为: `信息隐藏`

### 功能性

- 指系统完成所期望工作的能力，需要系统中多个构件相互协作

### 可变性

- 指架构经扩充或变更成为新架构的能力。新架构需符合预定规则, 在某些方面不同于原架构

### 互操作性

- 软件不是独立存在的,需要与其他系统或环境交互。为了支持互操作性,软件架构必须为外部功能和数据结构提供精心设计的入口。不同编程语言编写的软件系统之间的交互作用体现了互操作性问题。

## 软件质量特性

- `敏感点`: 为了实现某种特定的质量属性，一个或多个构件（和/或构件之间的关系）的特性。
  - 对查询请求处理时间的要求将影响系统的数据传输协议和处理过程的设计
- `权衡点`: 指影响多个质量特性，并对多个质量特性来说都是敏感点的质量特性。
  - 改变业务数据编码方式会对系统的性能和安全性产生影响
- `风险`: 不以标准术语出现。某些做法有一些隐患可能导致一些问题。
  - 对系统某业务逻辑的描述尚未达成共识，这可能导致部分业务功能模块的重复，影响系统的可修改性;
- `非风险`: 某些做法是可行的、可接受的。
  - 业务处理时间小于 30 毫秒，则将请求响应时间设定为 1 秒钟是可以接受的

## 质量属性场景描述

目的:
引入质量属性场景的目的是为了`精确描述软件系统的质量属性`。

概念:
质量属性场景是`对利益相关者与系统交互的简短陈述`，描述了一个`具体的质量属性需求`

6 个组成部分:
刺激源、刺激、环境、制品、响应、响应度量

6 类质量属性:
可用性、可修改性、性能、可测试性、易用性和安全性

## 软件架构评估

### 架构层次

- 顶层方针
- 过程文件
- 规程文件
- 模版类文件

### 基于场景的架构分析方法 SAAM 方法

- SAAM 的主要输入是`问题描述、需求声明和架构描述`。
- SAAM 的评估过程包括`场景开发、架构描述、单场景评估、场景交互评估和总体评估`。

### 架构权衡分析方法 ATAM 方法

- ATAM 包括 4 个主要阶段: `场景和需求收集、架构视图和场景实现、属性模型构造和分析、权衡`。
- ATAM 效用树的结构包括：`树根—质量属性—属性分类—质量属性场景（叶子节点）`。
