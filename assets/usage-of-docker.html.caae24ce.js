import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";import{r as c,o,c as l,a as n,e,d as t,b as s}from"./app.a3d402e1.js";const p={},r=t('<div class="custom-container tip"><p class="custom-container-title">\u524D\u8A00</p><p>Docker \u662F\u4E00\u4E2A\u5F00\u6E90\u7684\u5E94\u7528\u5BB9\u5668\u5F15\u64CE, \u57FA\u4E8E Go \u8BED\u8A00 \u5E76\u9075\u4ECE Apache2.0 \u534F\u8BAE\u5F00\u6E90\u3002 Docker \u53EF\u4EE5\u8BA9\u5F00\u53D1\u8005\u6253\u5305\u4ED6\u4EEC\u7684\u5E94\u7528\u4EE5\u53CA\u4F9D\u8D56\u5305\u5230\u4E00\u4E2A\u8F7B\u91CF\u7EA7\u3001\u53EF\u79FB\u690D\u7684\u5BB9\u5668\u4E2D, \u7136\u540E\u53D1\u5E03\u5230\u4EFB\u4F55\u6D41\u884C\u7684 Linux \u673A\u5668\u4E0A, \u4E5F\u53EF\u4EE5\u5B9E\u73B0\u865A\u62DF\u5316\u3002</p></div><h2 id="\u4E3A\u4EC0\u4E48\u8981\u7528-docker" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u8981\u7528-docker" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u8981\u7528 Docker\uFF1F</h2><p>\u5728\u6CA1\u6709 docker \u4E4B\u524D, \u5982\u679C\u6211\u4EEC\u8981\u5728 windows \u4E0A\u5B89\u88C5 mysql\u3001mongodb \u9700\u8981\u5148\u4E0B\u8F7D\u8FD9\u4E9B\u8F6F\u4EF6, \u7136\u540E\u8FD8\u8981\u4E00\u6B65\u6B65\u70B9\u8BBE\u7F6E, \u5E76\u4E14\u6CE8\u518C\u5230 windows \u670D\u52A1\u3002\u5E76\u4E14\u6839\u672C\u4E0D\u77E5\u9053\u5B89\u88C5\u5230\u4EC0\u4E48\u5730\u65B9\uFF08\u67D0\u4E9B\u7248\u672C mysql \u4E0D\u80FD\u6307\u5B9A\u5B89\u88C5\u4F4D\u7F6E, \u9ED8\u8BA4\u5230 C \u76D8\uFF09\u3002\u540C\u65F6\u4E5F\u4F1A\u5728\u63A7\u5236\u9762\u677F\u5185\u6CE8\u518C\u8BB8\u591A\u76F8\u5173\u7684\u63D2\u4EF6\u3002\u4EE5\u540E\u8981\u5378\u8F7D\u7684\u65F6\u5019\u53EF\u80FD\u8FD8\u4F1A\u6709\u5404\u79CD\u6B8B\u7559\u3002\u4F5C\u4E3A\u4E00\u4E2A\u5F3A\u8FEB\u75C7\u60A3\u8005\u8FD9\u662F\u4E07\u4E07\u4E0D\u80FD\u5FCD\u53D7\u7684\u3002 \u73B0\u5728\u6709\u4E86 docker, \u53EA\u9700\u8981\u4E00\u884C\u4EE3\u7801\u5C31\u80FD\u62C9\u53D6\u6240\u9700\u8F6F\u4EF6\u7684\u955C\u50CF, \u7136\u540E\u914D\u7F6E\u4E00\u4E2A\u5BB9\u5668\u5C31\u542F\u52A8\u4E86\u3002\u9700\u8981\u5F00\u53D1\u7684\u65F6\u5019\u5C31\u6253\u5F00 docker, \u670D\u52A1\u4FBF\u80FD\u591F\u8FD0\u884C\u3002\u5360\u7528\u7684\u7A7A\u95F4\u4E5F\u5C0F, \u6027\u80FD\u548C\u539F\u751F\u5DEE\u5F02\u4E0D\u5927\u3002\u589E\u5220\u67E5\u6539\u90FD\u53EA\u9700\u8981\u4E00\u884C\u4EE3\u7801\u5C31\u80FD\u5B8C\u6210\u3002\u5378\u8F7D\u8D77\u6765\u4E5F\u6BEB\u65E0\u6B8B\u7559\u3002\u66F4\u91CD\u8981\u7684\u662F, \u6211\u53EF\u4EE5\u540C\u65F6\u6709\u4E00\u4E2A\u955C\u50CF\u7684\u51E0\u4E2A\u5BB9\u5668\u3002\u5373\u4F7F\u6211\u641E\u574F\u4E86\u4E00\u4E2A, \u4E5F\u53EF\u4EE5\u7528\u5176\u4ED6\u7684\u5BB9\u5668\u3002\u8FD8\u80FD\u968F\u65F6\u76D1\u6D4B\u8FD9\u4E9B\u5BB9\u5668\u7684\u78C1\u76D8\u5360\u7528\u7B49\u72B6\u6001</p><h2 id="docker-\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#docker-\u6587\u6863" aria-hidden="true">#</a> docker \u6587\u6863</h2>',4),u={class:"custom-container tip"},d=n("p",{class:"custom-container-title"},"\u63D0\u793A",-1),m=s("\u8FD9\u91CC\u53EA\u627E\u5230\u4E86\u82F1\u6587\u7684\u6587\u6863, \u6240\u4EE5\u82F1\u6587\u4E0D\u597D\u7684\u614E\u9605 "),k={href:"https://docs.docker.com",target:"_blank",rel:"noopener noreferrer"},v=s("\u5B98\u65B9 docker \u6587\u6863"),b=s(),h={href:"https://docker_practice.gitee.io/",target:"_blank",rel:"noopener noreferrer"},g=s("\u975E\u5B98\u65B9 docker \u6574\u7406\u6587\u6863"),y=t(`<h2 id="\u5E38\u7528\u7684-docker-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u7684-docker-\u547D\u4EE4" aria-hidden="true">#</a> \u5E38\u7528\u7684 docker \u547D\u4EE4</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> pull <span class="token punctuation">[</span>image_name<span class="token punctuation">]</span>:<span class="token punctuation">[</span>version<span class="token punctuation">]</span>  <span class="token comment"># \u4E0B\u8F7D\u955C\u50CF</span>
<span class="token function">docker</span> run -it <span class="token punctuation">[</span>docker_id<span class="token punctuation">]</span> <span class="token function">bash</span>     <span class="token comment"># \u8FD0\u884C\u4E00\u4E2A\u5BB9\u5668\u5B9E\u4F8B</span>

<span class="token function">docker</span> <span class="token function">ps</span>             <span class="token comment"># \u67E5\u770B\u5F53\u524D\u8FD0\u884C\u7684 docker \u5BB9\u5668\u7684\u8FDB\u7A0B\u4FE1\u606F</span>
<span class="token function">docker-compose</span> <span class="token function">ps</span>     <span class="token comment"># \u67E5\u770B\u5F53\u524D\u7684\u4F7F\u7528 docker-compose up -d \u5F00\u542F\u7684\u5BB9\u5668\u8FDB\u7A0B\u4FE1\u606F</span>
<span class="token function">docker-compose</span> up -d  <span class="token comment"># \u4F7F\u7528\u672C\u5730\u7684 docker-compose.yml \u5F00\u542F\u76F8\u5173\u7684\u5BB9\u5668</span>
<span class="token function">docker-compose</span> down   <span class="token comment"># \u7EC8\u6B62\u5F53\u524D\u7684\u4F7F\u7528 docker-compose up -d \u5F00\u542F\u7684\u5BB9\u5668</span>
<span class="token function">docker</span> images         <span class="token comment"># \u67E5\u770B\u672C\u5730\u7684\u6240\u6709 docker \u955C\u50CF</span>
<span class="token function">docker</span> image <span class="token function">rm</span> <span class="token punctuation">[</span>docker_image_id<span class="token punctuation">]</span>   <span class="token comment"># \u5220\u9664\u672C\u5730\u7684 docker \u955C\u50CF</span>
<span class="token function">docker</span> rmi -f <span class="token punctuation">[</span>docker_image_id<span class="token punctuation">]</span>     <span class="token comment"># \u5220\u9664\u672C\u5730\u7684 docker \u955C\u50CF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5728\u4F60\u7684\u673A\u5B50\u4E0A\u5B89\u88C5\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#\u5728\u4F60\u7684\u673A\u5B50\u4E0A\u5B89\u88C5\u670D\u52A1" aria-hidden="true">#</a> \u5728\u4F60\u7684\u673A\u5B50\u4E0A\u5B89\u88C5\u670D\u52A1</h2><p>\u81F3\u4E8E\u4E00\u4E9B docker \u955C\u50CF\u4E0B\u8F7D\u52A0\u901F\u6216\u8005\u5176\u4ED6\u7684\u77E5\u8BC6\u81EA\u884C\u67E5\u9605\u6587\u6863, \u8FD9\u91CC\u53EA\u6536\u96C6 docker \u5B89\u88C5\u5404\u79CD\u670D\u52A1\u7684\u65B9\u6CD5</p><h3 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu" aria-hidden="true">#</a> Ubuntu</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">docker</span> pull ubuntu
$ <span class="token function">docker</span> run -it ubuntu <span class="token function">bash</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> MySQL</h3><h4 id="\u901A\u8FC7\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7\u955C\u50CF" aria-hidden="true">#</a> \u901A\u8FC7\u955C\u50CF</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u641C\u7D22mysql\u7684\u955C\u50CF\u4FE1\u606F</span>
$ <span class="token function">docker</span> search mysql
<span class="token comment"># \u4ECE\u4ED3\u5E93\u62C9\u53D6mysql,mysql:tag \u540E\u9762\u53EF\u4EE5\u8DDF\u6807\u7B7E\u5F97\u5230\u6307\u5B9A\u7248\u672C,\u4E0D\u52A0\u9ED8\u8BA4\u4E3Alastest</span>
$ <span class="token function">docker</span> pull mysql

$ <span class="token function">docker</span> run --name test-mysql -p <span class="token number">3306</span>:3306 -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span>root -d mysql:5.6
$ <span class="token function">docker</span> run --name test-phpmyadmin -p <span class="token number">8080</span>:80 --link test-mysql:db -d phpmyadmin/phpmyadmin:latest
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u901A\u8FC7-docker-compose-yml" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7-docker-compose-yml" aria-hidden="true">#</a> \u901A\u8FC7 docker-compose.yml</h4><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;2&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">mysql</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">5.6</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>mysql
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;3306:3306&quot;</span>

    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> <span class="token string">&quot;root&quot;</span>
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">&quot;root&quot;</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">&quot;root&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> net<span class="token punctuation">-</span>mysql

  <span class="token key atrule">phpmyadmin</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> phpmyadmin/phpmyadmin<span class="token punctuation">:</span>latest
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>phpmyadmin
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;8080:80&quot;</span>

    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_USER</span><span class="token punctuation">:</span> <span class="token string">&quot;root&quot;</span>
      <span class="token key atrule">MYSQL_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">&quot;root&quot;</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> <span class="token string">&quot;root&quot;</span>
      <span class="token key atrule">PMA_HOST</span><span class="token punctuation">:</span> test<span class="token punctuation">-</span>mysql
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> net<span class="token punctuation">-</span>mysql

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">net-mysql</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>docker-compose.yml \u540C\u7EA7\u76EE\u5F55\u4E0B\u6267\u884C: <code>docker-compose up -d</code> \u4E4B\u540E\u5728\u6D4F\u89C8\u5668\u8BBF\u95EE <code>http://127.0.0.1:7777</code> \u5373\u53EF</p><p>\u5982\u679C\u65E0\u6CD5\u6B63\u5E38\u767B\u5F55\u7684\u8BDD, \u4F7F\u7528 <code>docker exec -it [dockerId] bash</code> \u8FDB\u5165 MySQL \u5BB9\u5668\u5E76\u767B\u9646 MySQL \u6267\u884C\u4EE5\u4E0B\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> grant all privileges on *.*  to <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span><span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> flush privileges<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token comment"># Use root/p@ssw0rd as user/password credentials</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.1&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql
    <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">-</span><span class="token punctuation">-</span>default<span class="token punctuation">-</span>authentication<span class="token punctuation">-</span>plugin=mysql_native_password
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> p@ssw0rd

  <span class="token key atrule">adminer</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> adminer
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 8080<span class="token punctuation">:</span><span class="token number">8080</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="node-vue" tabindex="-1"><a class="header-anchor" href="#node-vue" aria-hidden="true">#</a> Node + Vue</h3><p>\u5728\u9879\u76EE\u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>dockerfile</code></p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> node: latest</span>

<span class="token comment"># \u8BBE\u7F6E\u65F6\u533A</span>
<span class="token instruction"><span class="token keyword">RUN</span> sh - c <span class="token string">&quot;echo &#39;Asia/Shanghai&#39; &gt; /etc/timezone&quot;</span> &amp;&amp; <span class="token operator">\\</span>
    dpkg - reconfigure - f noninteractive tzdata</span>

<span class="token comment"># \u4F7F\u7528\u963F\u91CC\u4E91\u7684Ubuntu\u955C\u50CF</span>
<span class="token instruction"><span class="token keyword">RUN</span> echo <span class="token string">&#39;\\n\\
deb http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse\\n\\
deb http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse\\n\\
deb http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse\\n\\
deb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse\\n\\
deb http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse\\n\\
deb-src http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse\\n\\
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse\\n\\
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse\\n\\
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse\\n\\
deb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse\\n&#39;</span>\\ &gt;</span>
    /etc/apt / sources.list

<span class="token instruction"><span class="token keyword">RUN</span> apt - get update\\ &amp;&amp;</span>
    apt - get install - y\\# node - sass \u7B49\u7F16\u8BD1\u4F9D\u8D56
make gcc g++build - essential python2 .7\\# \u547D\u4EE4\u884C\u5DE5\u5177
curl wget vim git git - flow yarn xsel

<span class="token comment"># \u5207\u6362 node \u7684\u8F6F\u4EF6\u7248\u672C\u6E90 =&gt; \u5207\u6E90\u5DE5\u5177 cgr \u548C nrm</span>
<span class="token comment"># cgr \u662F\u57FA\u4E8Enrm\u7684\u6539\u8FDB\u7248\u672C, \u8FDB\u884C\u4E86\u4E00\u4E9B\u4F18\u5316, \u80FD\u540C\u65F6\u7BA1\u7406 npm\u3001 yarn \u6E90# cgr use taobao n =&gt; \u53EA\u662F\u5207\u6362 npm \u6E90# cgr use taobao y =&gt; \u53EA\u662F\u5207\u6362 yarn \u6E90</span>
<span class="token instruction"><span class="token keyword">RUN</span> true<span class="token operator">\\</span>
    &amp;&amp;</span>
    npm install - g cgr nrm\\ &amp;&amp;
    cgr use taobao\\ &amp;&amp;
    npm i - g serve @vue / cli @vue / cli - service - global\\
commitizen conventional - changelog - cli eslint - plugin - vue\\
npm - check - updates npx

<span class="token comment"># \u521B\u5EFA\u5DE5\u4F5C\u76EE\u5F55</span>
<span class="token instruction"><span class="token keyword">RUN</span> mkdir / workspace</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> / workspace</span>

<span class="token comment"># \u6DFB\u52A0\u6743\u9650, 755 \u6216\u8005 a + x</span>
<span class="token instruction"><span class="token keyword">RUN</span> chmod - R 755 / workspace</span>

<span class="token instruction"><span class="token keyword">VOLUME</span> / workspace</span>

<span class="token instruction"><span class="token keyword">EXPOSE</span> 8080</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 5000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u9879\u76EE\u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>docker-compose.yml</code></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
    <span class="token key atrule">dev</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token key atrule">vueimage</span><span class="token punctuation">:</span> <span class="token number">1.0</span>
<span class="token key atrule">ports</span><span class="token punctuation">:</span>

    <span class="token punctuation">-</span> <span class="token string">&quot;8080:8080&quot;</span> <span class="token comment"># \u6620\u5C04\u7AEF\u53E3, \u5C06\u672C\u673A\u7684 8080 \u7AEF\u53E3\u6620\u5C04\u5230 docker \u7684 8080 \u7AEF\u53E3, npm run serve</span>

<span class="token key atrule">restart</span><span class="token punctuation">:</span> always <span class="token comment"># \u6BCF\u6B21\u5F00\u542F docker \u7684\u65F6\u5019\u91CD\u542F\u670D\u52A1, \u9002\u7528\u4E8E MySQL\u3001 nginx \u7C7B\u4F3C\u4E8E\u8FD9\u79CD\u7684\u670D\u52A1</span>
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>

    <span class="token punctuation">-</span> ./<span class="token punctuation">:</span>/workspace <span class="token comment"># \u5C06\u6267\u884C\u547D\u4EE4\u7684\u76EE\u5F55\u6620\u5C04\u5230 docker \u5BB9\u5668\u7684 /workspace\u76EE\u5F55</span>

<span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># \u547D\u4EE4\u884C\u8F93\u5165\u6620\u5C04, \u4E0D\u8FDB\u884C\u8BBE\u7F6E\u4F1A\u5BFC\u81F4\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165 docker</span>
<span class="token key atrule">tty</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># \u4F7F\u7528TTY\u6A21\u5F0F\uFF08 pseudo - TTY\uFF09\u3002 \u82E5\u8981\u4F7F\u7528bash, \u5219\u5FC5\u987B\u8BBE\u7F6E\u8BE5\u9009\u9879\u3002 \u82E5\u4E0D\u8BBE\u7F6E\u8BE5\u9009\u9879, \u5219\u53EF\u4EE5\u8F93\u5165\u547D\u4EE4, \u4F46\u4E0D\u663E\u793Ashell</span>
<span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> vueimage<span class="token punctuation">:</span><span class="token number">1.0</span>
<span class="token key atrule">ports</span><span class="token punctuation">:</span>

    <span class="token punctuation">-</span> <span class="token string">&quot;5000:5000&quot;</span> <span class="token comment"># \u6620\u5C04\u7AEF\u53E3, \u5C06\u672C\u673A\u7684 5000 \u7AEF\u53E3\u6620\u5C04\u5230 docker \u7684 5000 \u7AEF\u53E3, npm run build &amp;&amp; serve dist\\</span>

<span class="token key atrule">restart</span><span class="token punctuation">:</span> always <span class="token comment"># \u6BCF\u6B21\u5F00\u542F docker \u7684\u65F6\u5019\u91CD\u542F\u670D\u52A1, \u9002\u7528\u4E8E MySQL\u3001 nginx \u7C7B\u4F3C\u4E8E\u8FD9\u79CD\u7684\u670D\u52A1</span>
<span class="token key atrule">volumes</span><span class="token punctuation">:</span>

    <span class="token punctuation">-</span> ./<span class="token punctuation">:</span>/workspace <span class="token comment"># \u5C06\u6267\u884C\u547D\u4EE4\u7684\u76EE\u5F55\u6620\u5C04\u5230 docker \u5BB9\u5668\u7684 /workspace\u76EE\u5F55</span>

<span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># \u547D\u4EE4\u884C\u8F93\u5165\u6620\u5C04, \u4E0D\u8FDB\u884C\u8BBE\u7F6E\u4F1A\u5BFC\u81F4\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165 docker</span>
<span class="token key atrule">tty</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># \u4F7F\u7528TTY\u6A21\u5F0F\uFF08 pseudo - TTY\uFF09\u3002 \u82E5\u8981\u4F7F\u7528bash, \u5219\u5FC5\u987B\u8BBE\u7F6E\u8BE5\u9009\u9879\u3002 \u82E5\u4E0D\u8BBE\u7F6E\u8BE5\u9009\u9879, \u5219\u53EF\u4EE5\u8F93\u5165\u547D\u4EE4, \u4F46\u4E0D\u663E\u793Ashell</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u9879\u76EE\u6587\u4EF6\u5939\u4E0B\u6267\u884C(\u7F16\u8BD1\u4E00\u4E2A\u955C\u50CF\u5BB9\u5668\u51FA\u6765)</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> build -t vueimage:1.0 <span class="token builtin class-name">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7F16\u8BD1\u5B8C\u6210\u4E4B\u540E\u6267\u884C, \u7528\u4EE5\u542F\u52A8\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> up -d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4F7F\u7528 <code>docker ps</code> \u67E5\u770B \u5BB9\u5668\u7684 id, \u4E4B\u540E\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u8FDB\u5165\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it <span class="token punctuation">[</span>docker_id<span class="token punctuation">]</span> <span class="token function">zsh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u786E\u8BA4\u5F53\u524D\u76EE\u5F55\u5DF2\u7ECF\u6302\u8F7D\u4E86\u5F53\u524D\u7684\u9879\u76EE\u76EE\u5F55, \u4F7F\u7528 <code>pwd</code> \u786E\u8BA4\u5F53\u524D\u7684\u76EE\u5F55\u4E3A <code>/workspace</code> , \u6267\u884C\u5B89\u88C5\u4F9D\u8D56\u547D\u4EE4\u5E76\u4E14\u542F\u52A8\u670D\u52A1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">install</span>
<span class="token function">yarn</span> serve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u670D\u52A1\u542F\u52A8\u4E4B\u540E\u5C31\u5728\u6D4F\u89C8\u5668\u4E2D\u8BBF\u95EE <code>http://127.0.0.1:8080</code> \u7ECF\u8FC7\u4E0A\u9762\u7684\u914D\u7F6E, \u6211\u4EEC\u5C31\u53EF\u4EE5\u5728\u4E3B\u673A\u4E0A\u4F7F\u7528\u559C\u6B22\u7684\u7F16\u8F91\u5668\u7F16\u8F91\u4EE3\u7801, \u901A\u8FC7 docker \u6267\u884C\u3002\u4F46\u662F\u4F7F\u7528 <code>yarn serve</code> \u547D\u4EE4\u8FDB\u884C\u5F00\u53D1\u65F6, \u4F1A\u53D1\u73B0\u4E00\u4E2A\u95EE\u9898: \u5728\u7F16\u8F91\u5668\u4E2D\u7F16\u8F91\u6587\u4EF6\u540E, docker \u65E0\u6CD5\u76D1\u542C\u5230\u6587\u4EF6\u7684\u4FEE\u6539, \u4ECE\u800C\u91CD\u65B0\u7F16\u8BD1\u3001\u5237\u65B0\u9875\u9762\uFF1B\u6211\u4EEC\u53EF\u4EE5\u91C7\u7528 webpack \u7684\u8F6E\u8BE2\u529F\u80FD\u89E3\u51B3:</p>`,29),_=s("\u5173\u4E8E webpack \u7684\u8F6E\u8BE2\u529F\u80FD => "),f={href:"https://www.webpackjs.com/configuration/watch/",target:"_blank",rel:"noopener noreferrer"},q=s("webpack"),x=t(`<p><code>vue.config.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">aggregateTimeout</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token comment">// \u5F53\u7B2C\u4E00\u4E2A\u6587\u4EF6\u66F4\u6539,\u4F1A\u5728\u91CD\u65B0\u6784\u5EFA\u524D\u589E\u52A0\u5EF6\u8FDF\u3002\u8FD9\u4E2A\u9009\u9879\u5141\u8BB8 webpack \u5C06\u8FD9\u6BB5\u65F6\u95F4\u5185\u8FDB\u884C\u7684\u4EFB\u4F55\u5176\u4ED6\u66F4\u6539\u90FD\u805A\u5408\u5230\u4E00\u6B21\u91CD\u65B0\u6784\u5EFA\u91CC\u3002\u4EE5\u6BEB\u79D2\u4E3A\u5355\u4F4D:</span>
      <span class="token literal-property property">poll</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// \u901A\u8FC7\u4F20\u9012 true \u5F00\u542F polling,\u6216\u8005\u6307\u5B9A\u6BEB\u79D2\u4E3A\u5355\u4F4D\u8FDB\u884C\u8F6E\u8BE2\u3002</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5230\u6B64\u5DF2\u7ECF\u5168\u90E8\u914D\u7F6E\u5B8C\u6BD5, \u91CD\u65B0 <code>yarn serve</code> \u7136\u540E\u5C31\u53EF\u4EE5\u6109\u5FEB\u7684\u5199\u4EE3\u7801\u4E86</p><h3 id="gitlab" tabindex="-1"><a class="header-anchor" href="#gitlab" aria-hidden="true">#</a> Gitlab</h3><h4 id="\u82F1\u6587\u5B98\u65B9\u539F\u7248" tabindex="-1"><a class="header-anchor" href="#\u82F1\u6587\u5B98\u65B9\u539F\u7248" aria-hidden="true">#</a> \u82F1\u6587\u5B98\u65B9\u539F\u7248</h4><p>\u5728\u9879\u76EE\u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>docker-compose.yml</code></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitlab</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> gitlab
    <span class="token key atrule">image</span><span class="token punctuation">:</span> gitlab/gitlab<span class="token punctuation">-</span>ce
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">&quot;gitlab-en&quot;</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">GITLAB_OMNIBUS_CONFIG</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
        # external_url &#39;http://gitlab.example.com:9090&#39;</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;80:80&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;443:443&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;2224:22&quot;</span>

    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./en/config<span class="token punctuation">:</span>/etc/gitlab
      <span class="token punctuation">-</span> ./en/logs<span class="token punctuation">:</span>/var/log/gitlab
      <span class="token punctuation">-</span> ./en/data<span class="token punctuation">:</span>/var/opt/gitlab
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u4E2D\u6587\u793E\u533A\u7248" tabindex="-1"><a class="header-anchor" href="#\u4E2D\u6587\u793E\u533A\u7248" aria-hidden="true">#</a> \u4E2D\u6587\u793E\u533A\u7248</h4><p>\u5728\u9879\u76EE\u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>docker-compose.yml</code></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">gitlab-ce</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> gitlab<span class="token punctuation">-</span>ce
    <span class="token key atrule">image</span><span class="token punctuation">:</span> twang2218/gitlab<span class="token punctuation">-</span>ce<span class="token punctuation">-</span>zh
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> <span class="token string">&quot;gitlab&quot;</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> <span class="token string">&quot;Asia/Shanghai&quot;</span>
      <span class="token key atrule">GITLAB_OMNIBUS_CONFIG</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
        # pages_external_url = &quot;http://gitlab.demo.io/&quot;
        gitlab_rails[&#39;time_zone&#39;] = &#39;Asia/Shanghai&#39;
        gitlab_pages[&#39;enable&#39;] = true</span>
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;80:80&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;443:443&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;2224:22&quot;</span>

    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ./cn/config<span class="token punctuation">:</span>/etc/gitlab
      <span class="token punctuation">-</span> ./cn/logs<span class="token punctuation">:</span>/var/log/gitlab
      <span class="token punctuation">-</span> ./cn/data<span class="token punctuation">:</span>/var/opt/gitlab
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mongodb" tabindex="-1"><a class="header-anchor" href="#mongodb" aria-hidden="true">#</a> MongoDB</h3><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">mongo</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mongo
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mongo
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> mongo
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;27017:27017&quot;</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai
      <span class="token key atrule">MONGO_INITDB_DATABASE</span><span class="token punctuation">:</span> test
      <span class="token key atrule">MONGO_INITDB_ROOT_USERNAME</span><span class="token punctuation">:</span> root
      <span class="token key atrule">MONGO_INITDB_ROOT_PASSWORD</span><span class="token punctuation">:</span> yourpassword
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /etc/localtime<span class="token punctuation">:</span>/etc/localtime
      <span class="token punctuation">-</span> ./data<span class="token punctuation">:</span>/data/db
    <span class="token key atrule">command</span><span class="token punctuation">:</span> mongod
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u62D3\u5C55" tabindex="-1"><a class="header-anchor" href="#\u62D3\u5C55" aria-hidden="true">#</a> \u62D3\u5C55</h3><h4 id="\u91CD\u7F6E\u666E\u901A\u7528\u6237\u7684\u5BC6\u7801" tabindex="-1"><a class="header-anchor" href="#\u91CD\u7F6E\u666E\u901A\u7528\u6237\u7684\u5BC6\u7801" aria-hidden="true">#</a> \u91CD\u7F6E\u666E\u901A\u7528\u6237\u7684\u5BC6\u7801</h4><p>\u8FDB\u5165\u5BB9\u5668\u4E4B\u540E\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ gitlab-rails console production <span class="token comment"># \u8FDB\u5165gitlab\u7BA1\u7406\u63A7\u5236\u53F0</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> <span class="token assign-left variable">user</span><span class="token operator">=</span>User.where<span class="token punctuation">(</span>name: <span class="token string">&quot;[user_name]&quot;</span><span class="token punctuation">)</span>.first <span class="token comment"># \u5C06 [user_name] \u66FF\u6362\u6210\u7528\u6237\u540D</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> user.password<span class="token operator">=</span><span class="token number">12345678</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> user.password_confirmation<span class="token operator">=</span><span class="token number">12345678</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> user.save<span class="token operator">!</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> quit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u91CD\u8BBE\u7BA1\u7406\u5458\u5BC6\u7801" tabindex="-1"><a class="header-anchor" href="#\u91CD\u8BBE\u7BA1\u7406\u5458\u5BC6\u7801" aria-hidden="true">#</a> \u91CD\u8BBE\u7BA1\u7406\u5458\u5BC6\u7801</h4><p>\u8FDB\u5165\u5BB9\u5668\u4E4B\u540E\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ gitlab-rails console production <span class="token comment"># \u8FDB\u5165gitlab\u7BA1\u7406\u63A7\u5236\u53F0</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> <span class="token assign-left variable">user</span><span class="token operator">=</span>User.where<span class="token punctuation">(</span>id: <span class="token number">1</span><span class="token punctuation">)</span>.first <span class="token comment"># \u5C06 [user_name] \u66FF\u6362\u6210\u7528\u6237\u540D</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> user.password<span class="token operator">=</span><span class="token number">12345678</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> user.password_confirmation<span class="token operator">=</span><span class="token number">12345678</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> user.save<span class="token operator">!</span>
irb<span class="token punctuation">(</span>main<span class="token punctuation">)</span>:001:<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> quit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u79C1\u6709-npm-\u4EE3\u7406\u6CE8\u518C\u8868" tabindex="-1"><a class="header-anchor" href="#\u79C1\u6709-npm-\u4EE3\u7406\u6CE8\u518C\u8868" aria-hidden="true">#</a> \u79C1\u6709 npm \u4EE3\u7406\u6CE8\u518C\u8868</h2><p>\u5728\u9879\u76EE\u6587\u4EF6\u5939\u4E0B\u521B\u5EFA <code>docker-compose.yml</code></p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">npm-private</span><span class="token punctuation">:</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> npm<span class="token punctuation">-</span>private
    <span class="token key atrule">image</span><span class="token punctuation">:</span> verdaccio/verdaccio
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;4873:4873&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u62D3\u5C55-1" tabindex="-1"><a class="header-anchor" href="#\u62D3\u5C55-1" aria-hidden="true">#</a> \u62D3\u5C55</h3><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>windows \u73AF\u5883\u4E0B\u4E0D\u60F3\u4F7F\u7528 docker \u7684\u89E3\u51B3\u65B9\u6848, \u4F7F\u7528 <code>forever</code> + <code>verdaccio</code></p></div><p>\u5B89\u88C5\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i -g forever verdaccio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4FEE\u6539 <code>verdaccio</code> \u7684\u914D\u7F6E\u6587\u4EF6, \u53C2\u8003\u6587\u4EF6\u8DEF\u5F84\u4E3A <code>C:/Users/Administrator/AppData/Roaming/verdaccio/config.yaml</code> \uFF08\u5FC5\u987B\u4FEE\u6539, \u5426\u5219\u53EA\u80FD\u672C\u673A\u8BBF\u95EE\uFF09, \u5728\u8BE5\u6587\u4EF6\u5185\u6DFB\u52A0</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>listen: 0.0.0.0:4873
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u7F16\u5199 <code>bat</code> windows \u811A\u672C</p><p>\u5F00\u59CB\u811A\u672C <code>forever-npm-start.bat</code></p><div class="language-bat ext-bat line-numbers-mode"><pre class="language-bat"><code>@echo off
C:
cd C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\verdaccio\\build\\lib
forever start cli.js
exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u7ED3\u675F\u811A\u672C <code>forever-npm-stop.bat</code></p><div class="language-bat ext-bat line-numbers-mode"><pre class="language-bat"><code>@echo off
C:
cd C:\\Users\\Administrator\\AppData\\Roaming\\npm\\node_modules\\verdaccio\\build\\lib
forever stop cli.js
exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="css-\u9884\u5904\u7406-sass-\u7684\u9ED8\u8BA4\u5B9E\u73B0\u5C06\u8FC1\u79FB\u5230-dart-sass" tabindex="-1"><a class="header-anchor" href="#css-\u9884\u5904\u7406-sass-\u7684\u9ED8\u8BA4\u5B9E\u73B0\u5C06\u8FC1\u79FB\u5230-dart-sass" aria-hidden="true">#</a> CSS \u9884\u5904\u7406 SASS \u7684\u9ED8\u8BA4\u5B9E\u73B0\u5C06\u8FC1\u79FB\u5230 Dart Sass</h3><p>Web \u5F00\u53D1\u4E2D\u6D41\u884C\u7684 CSS \u9884\u5904\u7406 - Sass 14, \u4E8E 2016 \u5E74 11 \u6708 1 \u65E5\u5728\u535A\u5BA2\u6B63\u5F0F\u5BF9\u5916\u516C\u5E03\u4E86 alpha \u7248\u672C\u7684 Dart Sass 32 \u9879\u76EE, \u5373\u4ED6\u4EEC\u4F7F\u7528 Dart \u5BF9 Sass \u8FDB\u884C\u4E86\u91CD\u5199\u3002\u5BF9\u4E8E\u8FD9\u6B21\u8FC1\u79FB/\u91CD\u5199, Sass \u9879\u76EE\u7EC4\u505A\u4E86\u4EE5\u4E0B\u8BF4\u660E:</p>`,35),w=s("\u5173\u4E8E "),S={href:"https://github.com/sass/dart-sass",target:"_blank",rel:"noopener noreferrer"},O=s("github:dart-sass"),R=s(),D={href:"https://sass-lang.com/dart-sass",target:"_blank",rel:"noopener noreferrer"},A=s("dart-sass"),T=t("\u56E0\u4E3A\u4F7F\u7528 <code>node-sass</code> \u65E0\u8BBA\u662F\u5728 Windows \u73AF\u5883\u4E0B\u8FD8\u662F\u5728 docker \u7684 liunx \u73AF\u5883\u4E0B\u90FD\u9700\u8981\u4F9D\u8D56 <code>gcc</code> \u548C <code>python2.7</code> , \u6709\u7684\u65F6\u5019\u4F1A\u51FA\u73B0\u7F16\u8BD1\u9519\u8BEF\uFF08\u6307\u7684\u662F\u5728\u6267\u884C <code>npm install</code> \u5B89\u88C5 <code>node-sass</code> \u7684\u65F6\u5019\u7531\u4E8E\u90E8\u5206\u5E93\u4E0D\u9F50\u5907\u6216\u8005\u662F\u7F16\u8BD1\u539F\u56E0\u5BFC\u81F4 <code>node-sass</code> \u65E0\u6CD5\u6B63\u5E38\u5B89\u88C5\uFF09, \u6240\u4EE5\u4F7F\u7528 <code>dart-sass</code> \u6765\u4EE3\u66FF <code>node-sass</code> \u662F\u4E2A\u4E0D\u9519\u7684\u9009\u62E9, \u81F3\u5C11\u76EE\u524D\u5728\u81EA\u6D4B\u4E2D\u662F\u6CA1\u6709\u51FA\u73B0\u7F16\u8BD1\u95EE\u9898\u7684, \u81F3\u4E8E\u517C\u5BB9\u6027\u95EE\u9898, GitHub \u6587\u6863\u4E2D\u4E5F\u7ED9\u51FA\u627F\u8BFA ",17),L={href:"https://github.com/sass/dart-sass#browser-compatibility",target:"_blank",rel:"noopener noreferrer"},M=s("Browser Compatibility"),N=t(`<h3 id="\u4E3A\u4EC0\u4E48\u91CD\u5199-sass" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u91CD\u5199-sass" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u91CD\u5199 Sass\uFF1F</h3><p>Sass \u7684\u4E3B\u8981\u5B9E\u73B0\u6709 Ruby Sass 7 \u548C LibSass 10\uFF08node-sass \u5E95\u5C42\u4F7F\u7528\u7684\u662F LibSass\uFF09, \u5B83\u4EEC\u90FD\u6709\u5404\u81EA\u7684\u4F18\u7F3A\u70B9\u3002Ruby Sass \u7684\u5B9E\u73B0\u8BED\u8A00\u662F\u9AD8\u7EA7\u8BED\u8A00 Ruby, \u66F4\u5BB9\u6613\u8FED\u4EE3, \u4F46\u5B58\u5728\u8FD0\u884C\u901F\u5EA6\u6162, \u4E0D\u6613\u5B89\u88C5\u7684\u7F3A\u70B9\u3002LibSass \u867D\u7136\u901F\u5EA6\u5FEB, \u4F46\u5B83\u7684\u5F00\u53D1\u8BED\u8A00\u662F C/C++, \u8FED\u4EE3\u901F\u5EA6\u6162, \u65E0\u6CD5\u5FEB\u901F\u5730\u6DFB\u52A0\u5404\u79CD\u529F\u80FD\u3002</p><h3 id="\u4E3A\u4EC0\u4E48\u4F7F\u7528-dart" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u4F7F\u7528-dart" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u4F7F\u7528 Dart\uFF1F</h3><p>Dart \u7684\u8FD0\u884C\u901F\u5EA6\u662F\u771F\u7684\u5FEB, \u5BF9\u4E8E\u5927\u578B\u6837\u5F0F\u6587\u4EF6, Dart Sass \u7684\u5904\u7406\u901F\u5EA6\u662F Ruby Sass \u7684 5~10 \u500D, \u4E14\u53EA\u6BD4 LibSass \u6162 1.5 \u500D\u5DE6\u53F3\u3002\u540C\u65F6, Dart \u662F\u4E00\u95E8\u5177\u5907\u9759\u6001\u7C7B\u578B\u7684\u52A8\u6001\u8BED\u8A00, \u5BF9\u6BD4 C/C++ \u751A\u81F3\u662F Ruby, Dart \u76F8\u5BF9\u66F4\u5BB9\u6613\u4E0A\u624B\u4E14\u4EE3\u7801\u4E5F\u66F4\u6613\u4E8E\u7F16\u5199\u548C\u7EF4\u62A4\u3002\u6B64\u5916, Dart \u5177\u5907\u7F16\u8BD1\u8F93\u51FA\u4E3A JavaScript \u7684\u80FD\u529B, \u4F7F\u5F97 Dart Sass \u53EF\u4EE5\u517C\u5BB9 NodeJS \u5E73\u53F0\u3002</p><h3 id="\u5404\u79CD\u5B9E\u73B0\u7684\u540E\u7EED\u89C4\u5212" tabindex="-1"><a class="header-anchor" href="#\u5404\u79CD\u5B9E\u73B0\u7684\u540E\u7EED\u89C4\u5212" aria-hidden="true">#</a> \u5404\u79CD\u5B9E\u73B0\u7684\u540E\u7EED\u89C4\u5212\uFF1F</h3><p>LibSass \u4F5C\u4E3A\u76EE\u524D\u6027\u80FD\u6700\u597D\u7684 Sass \u5B9E\u73B0, \u540E\u7EED\u5C06\u7EE7\u7EED\u7EF4\u62A4, \u53EA\u662F\u5B83\u4E0D\u518D\u9700\u8981\u80CC\u8D1F\u5FEB\u901F\u6DFB\u52A0\u5404\u79CD\u65B0\u529F\u80FD\u7684\u538B\u529B\u3002Ruby Sass \u76EE\u524D\u4E5F\u4F1A\u540C\u6B65\u7EF4\u62A4, \u4F46\u5728\u65E0\u4EBA\u63A5\u624B\u7684\u60C5\u51B5\u4E0B, \u5B83\u5C06\u9010\u6E10\u8FB9\u7F18\u5316\u3002Sass \u9879\u76EE\u7EC4\u540E\u7EED\u4E3B\u8981\u7CBE\u529B\u5C06\u8F6C\u79FB\u5230 Dart Sass, \u5176\u7A33\u5B9A\u7248\u672C\u9884\u8BA1\u5728 2017 \u5E74\u521D\u653E\u51FA\u3002</p><h3 id="git-commit" tabindex="-1"><a class="header-anchor" href="#git-commit" aria-hidden="true">#</a> git commit</h3><p>\u73B0\u5728\u7531\u4E8E\u6211\u4EEC\u5728 docker \u5185\u90E8\u5B89\u88C5\u9879\u76EE\u4F9D\u8D56, \u4E5F\u5C31\u662F\u8BF4\u6211\u4EEC\u5F53\u524D\u7684\u73AF\u5883\u53D8\u6210\u4E86 liunx, \u76F8\u5173\u7684\u4F9D\u8D56\u5305\u4E5F\u5C31\u662F liunx \u7684\u4F9D\u8D56\u5305, \u6240\u4EE5\u5728 windows \u73AF\u5883\u4E0B\u6267\u884C <code>git commit</code> \u7684\u65F6\u5019\u4F1A\u62A5\u4F9D\u8D56\u627E\u4E0D\u5230, \u90A3\u662F\u56E0\u4E3A\u5B89\u88C5\u4E86 liunx \u7684\u4F9D\u8D56\u5305, \u4E24\u4E2A\u5E73\u53F0\u7684\u5B89\u88C5\u5305\u662F\u4E0D\u4E00\u6837\u7684</p><p>\u90A3\u4E48\u5728 docker \u4E0B\u6267\u884C <code>git commit</code> \u7684\u65F6\u5019\u53C8\u4F1A\u5931\u8D25, \u56E0\u4E3A commit \u7684\u65F6\u5019 git \u9700\u8981\u77E5\u9053\u5F53\u524D\u7684 commit \u4F5C\u8005\u662F\u8C01, \u8FD9\u65F6\u5019\u4E0D\u5FC5\u5168\u5C40\u914D\u7F6E commit \u7684 config \u4FE1\u606F, \u53EA\u9700\u5728\u9879\u76EE\u76EE\u5F55\u4E0B\u6267\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">git</span> config   user.name <span class="token string">&#39;XXX&#39;</span>
<span class="token function">git</span> config   user.email <span class="token string">&#39;XXX&#39;</span>
<span class="token comment"># or</span>
<span class="token function">git</span> config  --local  user.name <span class="token string">&#39;XXX&#39;</span>
<span class="token function">git</span> config  --local user.email <span class="token string">&#39;XXX&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BBE\u7F6E\u5B8C\u7528 <code>git config --list</code> \u8FDB\u884C\u68C0\u9A8C, \u4E4B\u540E\u7684 commit \u64CD\u4F5C\u5C31\u5728 docker \u5BB9\u5668\u4E0B\u6267\u884C\u5C31\u884C\u4E86</p>`,11);function U(C,I){const a=c("ExternalLinkIcon");return o(),l("div",null,[r,n("div",u,[d,n("p",null,[m,n("a",k,[v,e(a)]),b,n("a",h,[g,e(a)])])]),y,n("p",null,[_,n("a",f,[q,e(a)])]),x,n("p",null,[w,n("a",S,[O,e(a)]),R,n("a",D,[A,e(a)])]),n("p",null,[T,n("a",L,[M,e(a)])]),N])}var E=i(p,[["render",U],["__file","usage-of-docker.html.vue"]]);export{E as default};
